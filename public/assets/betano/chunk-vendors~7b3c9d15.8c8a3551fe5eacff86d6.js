/*! For license information please see chunk-vendors~7b3c9d15.8c8a3551fe5eacff86d6.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{298:function(module,__webpack_exports__,__webpack_require__){"use strict";(function(setImmediate,global,process,Buffer){__webpack_require__.d(__webpack_exports__,"a",(function(){return ALL})),__webpack_require__.d(__webpack_exports__,"b",(function(){return H2H_HOME_STATS})),__webpack_require__.d(__webpack_exports__,"c",(function(){return H2H_AWAY_STATS})),__webpack_require__.d(__webpack_exports__,"d",(function(){return DEFAULT_JERSEY_COLORS_HEXA})),__webpack_require__.d(__webpack_exports__,"e",(function(){return EVENT_LEAGUE})),__webpack_require__.d(__webpack_exports__,"f",(function(){return FORM})),__webpack_require__.d(__webpack_exports__,"g",(function(){return H2H_PREVIOUS_MEETINGS})),__webpack_require__.d(__webpack_exports__,"h",(function(){return H2H_FILTER})),__webpack_require__.d(__webpack_exports__,"i",(function(){return InlineSvg})),__webpack_require__.d(__webpack_exports__,"j",(function(){return _sfc_main$2})),__webpack_require__.d(__webpack_exports__,"k",(function(){return STATS_ALL})),__webpack_require__.d(__webpack_exports__,"l",(function(){return _sfc_main$c})),__webpack_require__.d(__webpack_exports__,"m",(function(){return _sfc_main$9})),__webpack_require__.d(__webpack_exports__,"n",(function(){return replaceNullWithDash})),__webpack_require__.d(__webpack_exports__,"o",(function(){return OPPONENTS})),__webpack_require__.d(__webpack_exports__,"p",(function(){return _sfc_main$d})),__webpack_require__.d(__webpack_exports__,"q",(function(){return _sfc_main$4})),__webpack_require__.d(__webpack_exports__,"r",(function(){return createPlugin})),__webpack_require__.d(__webpack_exports__,"s",(function(){return STYLE_VARIANT})),__webpack_require__.d(__webpack_exports__,"t",(function(){return Translate})),__webpack_require__.d(__webpack_exports__,"u",(function(){return _sfc_main})),__webpack_require__.d(__webpack_exports__,"v",(function(){return VQ_QueryConfig})),__webpack_require__.d(__webpack_exports__,"w",(function(){return _sfc_main$b})),__webpack_require__.d(__webpack_exports__,"x",(function(){return _sfc_main$5})),__webpack_require__.d(__webpack_exports__,"y",(function(){return _sfc_main$a})),__webpack_require__.d(__webpack_exports__,"z",(function(){return _export_sfc})),__webpack_require__.d(__webpack_exports__,"A",(function(){return useQuery})),__webpack_require__.d(__webpack_exports__,"B",(function(){return api})),__webpack_require__.d(__webpack_exports__,"C",(function(){return useGetPlayerStatsData})),__webpack_require__.d(__webpack_exports__,"D",(function(){return defineStore})),__webpack_require__.d(__webpack_exports__,"E",(function(){return FILTER_TYPES})),__webpack_require__.d(__webpack_exports__,"F",(function(){return useStandingsData})),__webpack_require__.d(__webpack_exports__,"G",(function(){return useTabs})),__webpack_require__.d(__webpack_exports__,"H",(function(){return useFiltersStore})),__webpack_require__.d(__webpack_exports__,"I",(function(){return STANDINGS})),__webpack_require__.d(__webpack_exports__,"J",(function(){return STATS})),__webpack_require__.d(__webpack_exports__,"K",(function(){return ALL_OPPONENT_STATS})),__webpack_require__.d(__webpack_exports__,"L",(function(){return ALL_OPPONENT_FORM})),__webpack_require__.d(__webpack_exports__,"M",(function(){return OPPONENT_STATS})),__webpack_require__.d(__webpack_exports__,"N",(function(){return OPPONENT_FORM})),__webpack_require__.d(__webpack_exports__,"O",(function(){return STATISTICS_QUERY_KEY})),__webpack_require__.d(__webpack_exports__,"P",(function(){return sortByAscendingOrder})),__webpack_require__.d(__webpack_exports__,"Q",(function(){return HOME})),__webpack_require__.d(__webpack_exports__,"R",(function(){return usetGetDetailedStatsData})),__webpack_require__.d(__webpack_exports__,"S",(function(){return AWAY})),__webpack_require__.d(__webpack_exports__,"T",(function(){return HOME_TEAM})),__webpack_require__.d(__webpack_exports__,"U",(function(){return AWAY_TEAM})),__webpack_require__.d(__webpack_exports__,"V",(function(){return SEASON_STATS})),__webpack_require__.d(__webpack_exports__,"W",(function(){return H2H_TAB}));var vue__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(0),swiper__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(160),On=Object.defineProperty,Nn=Object.defineProperties,Mn=Object.getOwnPropertyDescriptors,Gi=Object.getOwnPropertySymbols,Ln=Object.getPrototypeOf,fn=Object.prototype.hasOwnProperty,dn=Object.prototype.propertyIsEnumerable,Fn=Reflect.get,Vi=Math.pow,Zi=(e,t,r)=>t in e?On(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Vt=(e,t)=>{for(var r in t||(t={}))fn.call(t,r)&&Zi(e,r,t[r]);if(Gi)for(var r of Gi(t))dn.call(t,r)&&Zi(e,r,t[r]);return e},nr=(e,t)=>Nn(e,Mn(t)),Vr=(e,t)=>{var r={};for(var i in e)fn.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&Gi)for(var i of Gi(e))t.indexOf(i)<0&&dn.call(e,i)&&(r[i]=e[i]);return r},pn=(e,t,r)=>(Zi(e,"symbol"!=typeof t?t+"":t,r),r),Qi=(e,t,r)=>{if(!t.has(e))throw TypeError("Cannot "+r)},Dt=(e,t,r)=>(Qi(e,t,"read from private field"),r?r.call(e):t.get(e)),tr=(e,t,r)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,r)},Jt=(e,t,r,i)=>(Qi(e,t,"write to private field"),i?i.call(e,r):t.set(e,r),r),Hi=(e,t,r,i)=>({set _(i){Jt(e,t,i,r)},get _(){return Dt(e,t,i)}}),or=(e,t,r)=>(Qi(e,t,"access private method"),r),mn=(e,t,r)=>Fn(Ln(e),r,t),Yt=(e,t,r)=>new Promise(((i,n)=>{var s=e=>{try{a(r.next(e))}catch(e){n(e)}},o=e=>{try{a(r.throw(e))}catch(e){n(e)}},a=e=>e.done?i(e.value):Promise.resolve(e.value).then(s,o);a((r=r.apply(e,t)).next())}));let pubSubTopicList={};const PubSubEventsTopic=e=>`showComponent-${e}`;let pubSubInstance;const pubSubInit=()=>pubSubInstance||(pubSubInstance={subscribe:(e,t)=>(pubSubTopicList[e]=pubSubTopicList[e]||[],pubSubTopicList[e].push(t),pubSubTopicList[e].length-1),unsubscribe:(e,t)=>{pubSubTopicList[e]&&pubSubTopicList[e].splice(t,1)},publish:(e,t)=>{pubSubTopicList[e]&&pubSubTopicList[e].forEach((e=>e(t)))},unsubscribeAllFrom:e=>{pubSubTopicList[e]=[]}},pubSubInstance);function finallyConstructor(e){var t=this.constructor;return this.then((function(r){return t.resolve(e()).then((function(){return r}))}),(function(r){return t.resolve(e()).then((function(){return t.reject(r)}))}))}function allSettled(e){return new this((function(t,r){if(!e||void 0===e.length)return r(new TypeError(typeof e+" "+e+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var n=i.length;function s(e,r){if(r&&("object"==typeof r||"function"==typeof r)){var o=r.then;if("function"==typeof o)return void o.call(r,(function(t){s(e,t)}),(function(r){i[e]={status:"rejected",reason:r},0==--n&&t(i)}))}i[e]={status:"fulfilled",value:r},0==--n&&t(i)}for(var o=0;o<i.length;o++)s(o,i[o])}))}function AggregateError$1(e,t){this.name="AggregateError",this.errors=e,this.message=t||""}function any(e){var t=this;return new t((function(r,i){if(!e||void 0===e.length)return i(new TypeError("Promise.any accepts an array"));var n=Array.prototype.slice.call(e);if(0===n.length)return i();for(var s=[],o=0;o<n.length;o++)try{t.resolve(n[o]).then(r).catch((function(e){s.push(e),s.length===n.length&&i(new AggregateError$1(s,"All promises were rejected"))}))}catch(e){i(e)}}))}AggregateError$1.prototype=Error.prototype;var setTimeoutFunc=setTimeout;function isArray$4(e){return!(!e||void 0===e.length)}function noop$3(){}function bind$2(e,t){return function(){e.apply(t,arguments)}}function Promise$1(e){if(!(this instanceof Promise$1))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],doResolve(e,this)}function handle(e,t){for(;3===e._state;)e=e._value;0!==e._state?(e._handled=!0,Promise$1._immediateFn((function(){var r=1===e._state?t.onFulfilled:t.onRejected;if(null!==r){var i;try{i=r(e._value)}catch(e){return void reject(t.promise,e)}resolve$1(t.promise,i)}else(1===e._state?resolve$1:reject)(t.promise,e._value)}))):e._deferreds.push(t)}function resolve$1(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var r=t.then;if(t instanceof Promise$1)return e._state=3,e._value=t,void finale(e);if("function"==typeof r)return void doResolve(bind$2(r,t),e)}e._state=1,e._value=t,finale(e)}catch(t){reject(e,t)}}function reject(e,t){e._state=2,e._value=t,finale(e)}function finale(e){2===e._state&&0===e._deferreds.length&&Promise$1._immediateFn((function(){e._handled||Promise$1._unhandledRejectionFn(e._value)}));for(var t=0,r=e._deferreds.length;t<r;t++)handle(e,e._deferreds[t]);e._deferreds=null}function Handler(e,t,r){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=r}function doResolve(e,t){var r=!1;try{e((function(e){r||(r=!0,resolve$1(t,e))}),(function(e){r||(r=!0,reject(t,e))}))}catch(e){if(r)return;r=!0,reject(t,e)}}Promise$1.prototype.catch=function(e){return this.then(null,e)},Promise$1.prototype.then=function(e,t){var r=new this.constructor(noop$3);return handle(this,new Handler(e,t,r)),r},Promise$1.prototype.finally=finallyConstructor,Promise$1.all=function(e){return new Promise$1((function(t,r){if(!isArray$4(e))return r(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(e);if(0===i.length)return t([]);var n=i.length;function s(e,o){try{if(o&&("object"==typeof o||"function"==typeof o)){var a=o.then;if("function"==typeof a)return void a.call(o,(function(t){s(e,t)}),r)}i[e]=o,0==--n&&t(i)}catch(e){r(e)}}for(var o=0;o<i.length;o++)s(o,i[o])}))},Promise$1.any=any,Promise$1.allSettled=allSettled,Promise$1.resolve=function(e){return e&&"object"==typeof e&&e.constructor===Promise$1?e:new Promise$1((function(t){t(e)}))},Promise$1.reject=function(e){return new Promise$1((function(t,r){r(e)}))},Promise$1.race=function(e){return new Promise$1((function(t,r){if(!isArray$4(e))return r(new TypeError("Promise.race accepts an array"));for(var i=0,n=e.length;i<n;i++)Promise$1.resolve(e[i]).then(t,r)}))},Promise$1._immediateFn="function"==typeof setImmediate&&function(e){setImmediate(e)}||function(e){setTimeoutFunc(e,0)},Promise$1._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==global?global:"undefined"!=typeof self?self:{};function getDefaultExportFromCjs(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function getAugmentedNamespace(e){if(e.__esModule)return e;var t=e.default;if("function"==typeof t){var r=function e(){return this instanceof e?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach((function(t){var i=Object.getOwnPropertyDescriptor(e,t);Object.defineProperty(r,t,i.get?i:{enumerable:!0,get:function(){return e[t]}})})),r}var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function shouldUseNative(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},r=0;r<10;r++)t["_"+String.fromCharCode(r)]=r;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach((function(e){i[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var objectAssign=shouldUseNative()?Object.assign:function(e,t){for(var r,i,n=toObject(e),s=1;s<arguments.length;s++){for(var o in r=Object(arguments[s]))hasOwnProperty.call(r,o)&&(n[o]=r[o]);if(getOwnPropertySymbols){i=getOwnPropertySymbols(r);for(var a=0;a<i.length;a++)propIsEnumerable.call(r,i[a])&&(n[i[a]]=r[i[a]])}}return n};const objectAssign$1=getDefaultExportFromCjs(objectAssign);"undefined"==typeof globalThis&&("undefined"!=typeof self?self.globalThis=self:void 0!==global&&(global.globalThis=global)),globalThis.Promise||(globalThis.Promise=Promise$1),Object.assign||(Object.assign=objectAssign$1);var ONE_FRAME_TIME=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!globalThis.performance||!globalThis.performance.now){var startTime_1=Date.now();globalThis.performance||(globalThis.performance={}),globalThis.performance.now=function(){return Date.now()-startTime_1}}for(var lastTime=Date.now(),vendors=["ms","moz","webkit","o"],x$2=0;x$2<vendors.length&&!globalThis.requestAnimationFrame;++x$2){var p$2=vendors[x$2];globalThis.requestAnimationFrame=globalThis[p$2+"RequestAnimationFrame"],globalThis.cancelAnimationFrame=globalThis[p$2+"CancelAnimationFrame"]||globalThis[p$2+"CancelRequestAnimationFrame"]}globalThis.requestAnimationFrame||(globalThis.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),r=ONE_FRAME_TIME+lastTime-t;return r<0&&(r=0),lastTime=t,globalThis.self.setTimeout((function(){lastTime=Date.now(),e(performance.now())}),r)}),globalThis.cancelAnimationFrame||(globalThis.cancelAnimationFrame=function(e){return clearTimeout(e)}),Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:e>0?1:-1}),Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e}),globalThis.ArrayBuffer||(globalThis.ArrayBuffer=Array),globalThis.Float32Array||(globalThis.Float32Array=Array),globalThis.Uint32Array||(globalThis.Uint32Array=Array),globalThis.Uint16Array||(globalThis.Uint16Array=Array),globalThis.Uint8Array||(globalThis.Uint8Array=Array),globalThis.Int32Array||(globalThis.Int32Array=Array);var appleIphone$1=/iPhone/i,appleIpod$1=/iPod/i,appleTablet$1=/iPad/i,appleUniversal$1=/\biOS-universal(?:.+)Mac\b/i,androidPhone$1=/\bAndroid(?:.+)Mobile\b/i,androidTablet$1=/Android/i,amazonPhone$1=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet$1=/Silk/i,windowsPhone$1=/Windows Phone/i,windowsTablet$1=/\bWindows(?:.+)ARM\b/i,otherBlackBerry$1=/BlackBerry/i,otherBlackBerry10$1=/BB10/i,otherOpera$1=/Opera Mini/i,otherChrome$1=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox$1=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13$1=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function createMatch$1(e){return function(t){return t.test(e)}}function isMobile$4(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=createMatch$1(r),s={apple:{phone:n(appleIphone$1)&&!n(windowsPhone$1),ipod:n(appleIpod$1),tablet:!n(appleIphone$1)&&(n(appleTablet$1)||isAppleTabletOnIos13$1(t))&&!n(windowsPhone$1),universal:n(appleUniversal$1),device:(n(appleIphone$1)||n(appleIpod$1)||n(appleTablet$1)||n(appleUniversal$1)||isAppleTabletOnIos13$1(t))&&!n(windowsPhone$1)},amazon:{phone:n(amazonPhone$1),tablet:!n(amazonPhone$1)&&n(amazonTablet$1),device:n(amazonPhone$1)||n(amazonTablet$1)},android:{phone:!n(windowsPhone$1)&&n(amazonPhone$1)||!n(windowsPhone$1)&&n(androidPhone$1),tablet:!n(windowsPhone$1)&&!n(amazonPhone$1)&&!n(androidPhone$1)&&(n(amazonTablet$1)||n(androidTablet$1)),device:!n(windowsPhone$1)&&(n(amazonPhone$1)||n(amazonTablet$1)||n(androidPhone$1)||n(androidTablet$1))||n(/\bokhttp\b/i)},windows:{phone:n(windowsPhone$1),tablet:n(windowsTablet$1),device:n(windowsPhone$1)||n(windowsTablet$1)},other:{blackberry:n(otherBlackBerry$1),blackberry10:n(otherBlackBerry10$1),opera:n(otherOpera$1),firefox:n(otherFirefox$1),chrome:n(otherChrome$1),device:n(otherBlackBerry$1)||n(otherBlackBerry10$1)||n(otherOpera$1)||n(otherFirefox$1)||n(otherChrome$1)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var isMobile$3=isMobile$4(globalThis.navigator),ENV$6,RENDERER_TYPE$6,BUFFER_BITS$6,BLEND_MODES$6,DRAW_MODES$6,FORMATS$6,TARGETS$6,TYPES$6,SAMPLER_TYPES$6,SCALE_MODES$6,WRAP_MODES$6,MIPMAP_MODES$6,ALPHA_MODES$6,CLEAR_MODES$6,GC_MODES$6,PRECISION$6,MASK_TYPES$6,MSAA_QUALITY$6,BUFFER_TYPE$6;function maxRecommendedTextures$2(e){var t,r=!0;(isMobile$3.tablet||isMobile$3.phone)&&(isMobile$3.apple.device&&(t=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(t[1],10)<11&&(r=!1),isMobile$3.android.device&&(t=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(t[1],10)<7&&(r=!1));return r?e:4}function canUploadSameBuffer$2(){return!isMobile$3.apple.device}!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$6||(ENV$6={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$6||(RENDERER_TYPE$6={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$6||(BUFFER_BITS$6={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$6||(BLEND_MODES$6={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$6||(DRAW_MODES$6={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$6||(FORMATS$6={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$6||(TARGETS$6={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$6||(TYPES$6={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$6||(SAMPLER_TYPES$6={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$6||(SCALE_MODES$6={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$6||(WRAP_MODES$6={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$6||(MIPMAP_MODES$6={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ALPHA_MODES$6||(ALPHA_MODES$6={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$6||(CLEAR_MODES$6={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$6||(GC_MODES$6={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$6||(PRECISION$6={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$6||(MASK_TYPES$6={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$6||(MSAA_QUALITY$6={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$6||(BUFFER_TYPE$6={}));var settings$2={MIPMAP_TEXTURES:MIPMAP_MODES$6.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$6.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures$2(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$6.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:WRAP_MODES$6.CLAMP,SCALE_MODE:SCALE_MODES$6.LINEAR,PRECISION_VERTEX:PRECISION$6.HIGH,PRECISION_FRAGMENT:isMobile$3.apple.device?PRECISION$6.HIGH:PRECISION$6.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer$2(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1},eventemitter3$1={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,s||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,n,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var l,h,c=this._events[a],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,n),!0;case 5:return c.fn.call(c.context,t,i,n,s),!0;case 6:return c.fn.call(c.context,t,i,n,s,o),!0}for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];c.fn.apply(c.context,l)}else{var d,p=c.length;for(h=0;h<p;h++)switch(c[h].once&&this.removeListener(e,c[h].fn,void 0,!0),u){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,t);break;case 3:c[h].fn.call(c[h].context,t,i);break;case 4:c[h].fn.call(c[h].context,t,i,n);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];c[h].fn.apply(c[h].context,l)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,i,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn===t&&(!n||a.once)&&(!i||a.context===i)&&o(this,s);else{for(var l=0,h=[],c=a.length;l<c;l++)(a[l].fn!==t||n&&!a[l].once||i&&a[l].context!==i)&&h.push(a[l]);h.length?this._events[s]=1===h.length?h[0]:h:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(eventemitter3$1);var eventemitter3Exports$1=eventemitter3$1.exports;const EventEmitter$2=getDefaultExportFromCjs(eventemitter3Exports$1);var earcut$2={exports:{}};function earcut(e,t,r){r=r||2;var i,n,s,o,a,l,h,c=t&&t.length,u=c?t[0]*r:e.length,d=linkedList(e,0,u,r,!0),p=[];if(!d||d.next===d.prev)return p;if(c&&(d=eliminateHoles(e,t,d,r)),e.length>80*r){i=s=e[0],n=o=e[1];for(var f=r;f<u;f+=r)(a=e[f])<i&&(i=a),(l=e[f+1])<n&&(n=l),a>s&&(s=a),l>o&&(o=l);h=0!==(h=Math.max(s-i,o-n))?32767/h:0}return earcutLinked(d,p,r,i,n,h,0),p}function linkedList(e,t,r,i,n){var s,o;if(n===signedArea(e,t,r,i)>0)for(s=t;s<r;s+=i)o=insertNode(s,e[s],e[s+1],o);else for(s=r-i;s>=t;s-=i)o=insertNode(s,e[s],e[s+1],o);return o&&equals(o,o.next)&&(removeNode(o),o=o.next),o}function filterPoints(e,t){if(!e)return e;t||(t=e);var r,i=e;do{if(r=!1,i.steiner||!equals(i,i.next)&&0!==area(i.prev,i,i.next))i=i.next;else{if(removeNode(i),(i=t=i.prev)===i.next)break;r=!0}}while(r||i!==t);return t}function earcutLinked(e,t,r,i,n,s,o){if(e){!o&&s&&indexCurve(e,i,n,s);for(var a,l,h=e;e.prev!==e.next;)if(a=e.prev,l=e.next,s?isEarHashed(e,i,n,s):isEar(e))t.push(a.i/r|0),t.push(e.i/r|0),t.push(l.i/r|0),removeNode(e),e=l.next,h=l.next;else if((e=l)===h){o?1===o?earcutLinked(e=cureLocalIntersections(filterPoints(e),t,r),t,r,i,n,s,2):2===o&&splitEarcut(e,t,r,i,n,s):earcutLinked(filterPoints(e),t,r,i,n,s,1);break}}}function isEar(e){var t=e.prev,r=e,i=e.next;if(area(t,r,i)>=0)return!1;for(var n=t.x,s=r.x,o=i.x,a=t.y,l=r.y,h=i.y,c=n<s?n<o?n:o:s<o?s:o,u=a<l?a<h?a:h:l<h?l:h,d=n>s?n>o?n:o:s>o?s:o,p=a>l?a>h?a:h:l>h?l:h,f=i.next;f!==t;){if(f.x>=c&&f.x<=d&&f.y>=u&&f.y<=p&&pointInTriangle(n,a,s,l,o,h,f.x,f.y)&&area(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function isEarHashed(e,t,r,i){var n=e.prev,s=e,o=e.next;if(area(n,s,o)>=0)return!1;for(var a=n.x,l=s.x,h=o.x,c=n.y,u=s.y,d=o.y,p=a<l?a<h?a:h:l<h?l:h,f=c<u?c<d?c:d:u<d?u:d,_=a>l?a>h?a:h:l>h?l:h,m=c>u?c>d?c:d:u>d?u:d,g=zOrder(p,f,t,r,i),y=zOrder(_,m,t,r,i),v=e.prevZ,E=e.nextZ;v&&v.z>=g&&E&&E.z<=y;){if(v.x>=p&&v.x<=_&&v.y>=f&&v.y<=m&&v!==n&&v!==o&&pointInTriangle(a,c,l,u,h,d,v.x,v.y)&&area(v.prev,v,v.next)>=0||(v=v.prevZ,E.x>=p&&E.x<=_&&E.y>=f&&E.y<=m&&E!==n&&E!==o&&pointInTriangle(a,c,l,u,h,d,E.x,E.y)&&area(E.prev,E,E.next)>=0))return!1;E=E.nextZ}for(;v&&v.z>=g;){if(v.x>=p&&v.x<=_&&v.y>=f&&v.y<=m&&v!==n&&v!==o&&pointInTriangle(a,c,l,u,h,d,v.x,v.y)&&area(v.prev,v,v.next)>=0)return!1;v=v.prevZ}for(;E&&E.z<=y;){if(E.x>=p&&E.x<=_&&E.y>=f&&E.y<=m&&E!==n&&E!==o&&pointInTriangle(a,c,l,u,h,d,E.x,E.y)&&area(E.prev,E,E.next)>=0)return!1;E=E.nextZ}return!0}function cureLocalIntersections(e,t,r){var i=e;do{var n=i.prev,s=i.next.next;!equals(n,s)&&intersects(n,i,i.next,s)&&locallyInside(n,s)&&locallyInside(s,n)&&(t.push(n.i/r|0),t.push(i.i/r|0),t.push(s.i/r|0),removeNode(i),removeNode(i.next),i=e=s),i=i.next}while(i!==e);return filterPoints(i)}function splitEarcut(e,t,r,i,n,s){var o=e;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&isValidDiagonal(o,a)){var l=splitPolygon(o,a);return o=filterPoints(o,o.next),l=filterPoints(l,l.next),earcutLinked(o,t,r,i,n,s,0),void earcutLinked(l,t,r,i,n,s,0)}a=a.next}o=o.next}while(o!==e)}function eliminateHoles(e,t,r,i){var n,s,o,a=[];for(n=0,s=t.length;n<s;n++)(o=linkedList(e,t[n]*i,n<s-1?t[n+1]*i:e.length,i,!1))===o.next&&(o.steiner=!0),a.push(getLeftmost(o));for(a.sort(compareX),n=0;n<a.length;n++)r=eliminateHole(a[n],r);return r}function compareX(e,t){return e.x-t.x}function eliminateHole(e,t){var r=findHoleBridge(e,t);if(!r)return t;var i=splitPolygon(r,e);return filterPoints(i,i.next),filterPoints(r,r.next)}function findHoleBridge(e,t){var r,i=t,n=e.x,s=e.y,o=-1/0;do{if(s<=i.y&&s>=i.next.y&&i.next.y!==i.y){var a=i.x+(s-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=n&&a>o&&(o=a,r=i.x<i.next.x?i:i.next,a===n))return r}i=i.next}while(i!==t);if(!r)return null;var l,h=r,c=r.x,u=r.y,d=1/0;i=r;do{n>=i.x&&i.x>=c&&n!==i.x&&pointInTriangle(s<u?n:o,s,c,u,s<u?o:n,s,i.x,i.y)&&(l=Math.abs(s-i.y)/(n-i.x),locallyInside(i,e)&&(l<d||l===d&&(i.x>r.x||i.x===r.x&&sectorContainsSector(r,i)))&&(r=i,d=l)),i=i.next}while(i!==h);return r}function sectorContainsSector(e,t){return area(e.prev,e,t.prev)<0&&area(t.next,e,e.next)<0}function indexCurve(e,t,r,i){var n=e;do{0===n.z&&(n.z=zOrder(n.x,n.y,t,r,i)),n.prevZ=n.prev,n.nextZ=n.next,n=n.next}while(n!==e);n.prevZ.nextZ=null,n.prevZ=null,sortLinked(n)}function sortLinked(e){var t,r,i,n,s,o,a,l,h=1;do{for(r=e,e=null,s=null,o=0;r;){for(o++,i=r,a=0,t=0;t<h&&(a++,i=i.nextZ);t++);for(l=h;a>0||l>0&&i;)0!==a&&(0===l||!i||r.z<=i.z)?(n=r,r=r.nextZ,a--):(n=i,i=i.nextZ,l--),s?s.nextZ=n:e=n,n.prevZ=s,s=n;r=i}s.nextZ=null,h*=2}while(o>1);return e}function zOrder(e,t,r,i,n){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-r)*n|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-i)*n|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function getLeftmost(e){var t=e,r=e;do{(t.x<r.x||t.x===r.x&&t.y<r.y)&&(r=t),t=t.next}while(t!==e);return r}function pointInTriangle(e,t,r,i,n,s,o,a){return(n-o)*(t-a)>=(e-o)*(s-a)&&(e-o)*(i-a)>=(r-o)*(t-a)&&(r-o)*(s-a)>=(n-o)*(i-a)}function isValidDiagonal(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!intersectsPolygon(e,t)&&(locallyInside(e,t)&&locallyInside(t,e)&&middleInside(e,t)&&(area(e.prev,e,t.prev)||area(e,t.prev,t))||equals(e,t)&&area(e.prev,e,e.next)>0&&area(t.prev,t,t.next)>0)}function area(e,t,r){return(t.y-e.y)*(r.x-t.x)-(t.x-e.x)*(r.y-t.y)}function equals(e,t){return e.x===t.x&&e.y===t.y}function intersects(e,t,r,i){var n=sign$1(area(e,t,r)),s=sign$1(area(e,t,i)),o=sign$1(area(r,i,e)),a=sign$1(area(r,i,t));return!!(n!==s&&o!==a||0===n&&onSegment(e,r,t)||0===s&&onSegment(e,i,t)||0===o&&onSegment(r,e,i)||0===a&&onSegment(r,t,i))}function onSegment(e,t,r){return t.x<=Math.max(e.x,r.x)&&t.x>=Math.min(e.x,r.x)&&t.y<=Math.max(e.y,r.y)&&t.y>=Math.min(e.y,r.y)}function sign$1(e){return e>0?1:e<0?-1:0}function intersectsPolygon(e,t){var r=e;do{if(r.i!==e.i&&r.next.i!==e.i&&r.i!==t.i&&r.next.i!==t.i&&intersects(r,r.next,e,t))return!0;r=r.next}while(r!==e);return!1}function locallyInside(e,t){return area(e.prev,e,e.next)<0?area(e,t,e.next)>=0&&area(e,e.prev,t)>=0:area(e,t,e.prev)<0||area(e,e.next,t)<0}function middleInside(e,t){var r=e,i=!1,n=(e.x+t.x)/2,s=(e.y+t.y)/2;do{r.y>s!=r.next.y>s&&r.next.y!==r.y&&n<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(i=!i),r=r.next}while(r!==e);return i}function splitPolygon(e,t){var r=new Node(e.i,e.x,e.y),i=new Node(t.i,t.x,t.y),n=e.next,s=t.prev;return e.next=t,t.prev=e,r.next=n,n.prev=r,i.next=r,r.prev=i,s.next=i,i.prev=s,i}function insertNode(e,t,r,i){var n=new Node(e,t,r);return i?(n.next=i.next,n.prev=i,i.next.prev=n,i.next=n):(n.prev=n,n.next=n),n}function removeNode(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,t,r){this.i=e,this.x=t,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(e,t,r,i){for(var n=0,s=t,o=r-i;s<r;s+=i)n+=(e[o]-e[s])*(e[s+1]+e[o+1]),o=s;return n}earcut$2.exports=earcut,earcut$2.exports.default=earcut,earcut.deviation=function(e,t,r,i){var n=t&&t.length,s=n?t[0]*r:e.length,o=Math.abs(signedArea(e,0,s,r));if(n)for(var a=0,l=t.length;a<l;a++){var h=t[a]*r,c=a<l-1?t[a+1]*r:e.length;o-=Math.abs(signedArea(e,h,c,r))}var u=0;for(a=0;a<i.length;a+=3){var d=i[a]*r,p=i[a+1]*r,f=i[a+2]*r;u+=Math.abs((e[d]-e[f])*(e[p+1]-e[d+1])-(e[d]-e[p])*(e[f+1]-e[d+1]))}return 0===o&&0===u?0:Math.abs((u-o)/o)},earcut.flatten=function(e){for(var t=e[0][0].length,r={vertices:[],holes:[],dimensions:t},i=0,n=0;n<e.length;n++){for(var s=0;s<e[n].length;s++)for(var o=0;o<t;o++)r.vertices.push(e[n][s][o]);n>0&&(i+=e[n-1].length,r.holes.push(i))}return r};var earcutExports=earcut$2.exports;const earcut$1=getDefaultExportFromCjs(earcutExports);var punycode$1={exports:{}};punycode$1.exports,function(e,t){!function(r){var i=t&&!t.nodeType&&t,n=e&&!e.nodeType&&e,s="object"==typeof commonjsGlobal&&commonjsGlobal;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a,l=2147483647,h=36,c=26,u=38,d=700,p=/^xn--/,f=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},g=h-1,y=Math.floor,v=String.fromCharCode;function E(e){throw new RangeError(m[e])}function T(e,t){for(var r=e.length,i=[];r--;)i[r]=t(e[r]);return i}function b(e,t){var r=e.split("@"),i="";return r.length>1&&(i=r[0]+"@",e=r[1]),i+T((e=e.replace(_,".")).split("."),t).join(".")}function S(e){for(var t,r,i=[],n=0,s=e.length;n<s;)(t=e.charCodeAt(n++))>=55296&&t<=56319&&n<s?56320==(64512&(r=e.charCodeAt(n++)))?i.push(((1023&t)<<10)+(1023&r)+65536):(i.push(t),n--):i.push(t);return i}function x(e){return T(e,(function(e){var t="";return e>65535&&(t+=v((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+v(e)})).join("")}function A(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h}function P(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function R(e,t,r){var i=0;for(e=r?y(e/d):e>>1,e+=y(e/t);e>g*c>>1;i+=h)e=y(e/g);return y(i+(g+1)*e/(e+u))}function O(e){var t,r,i,n,s,o,a,u,d,p,f=[],_=e.length,m=0,g=128,v=72;for((r=e.lastIndexOf("-"))<0&&(r=0),i=0;i<r;++i)e.charCodeAt(i)>=128&&E("not-basic"),f.push(e.charCodeAt(i));for(n=r>0?r+1:0;n<_;){for(s=m,o=1,a=h;n>=_&&E("invalid-input"),((u=A(e.charCodeAt(n++)))>=h||u>y((l-m)/o))&&E("overflow"),m+=u*o,!(u<(d=a<=v?1:a>=v+c?c:a-v));a+=h)o>y(l/(p=h-d))&&E("overflow"),o*=p;v=R(m-s,t=f.length+1,0==s),y(m/t)>l-g&&E("overflow"),g+=y(m/t),m%=t,f.splice(m++,0,g)}return x(f)}function w(e){var t,r,i,n,s,o,a,u,d,p,f,_,m,g,T,b=[];for(_=(e=S(e)).length,t=128,r=0,s=72,o=0;o<_;++o)(f=e[o])<128&&b.push(v(f));for(i=n=b.length,n&&b.push("-");i<_;){for(a=l,o=0;o<_;++o)(f=e[o])>=t&&f<a&&(a=f);for(a-t>y((l-r)/(m=i+1))&&E("overflow"),r+=(a-t)*m,t=a,o=0;o<_;++o)if((f=e[o])<t&&++r>l&&E("overflow"),f==t){for(u=r,d=h;!(u<(p=d<=s?1:d>=s+c?c:d-s));d+=h)T=u-p,g=h-p,b.push(v(P(p+T%g,0))),u=y(T/g);b.push(v(P(u,0))),s=R(r,m,i==n),r=0,++i}++r,++t}return b.join("")}if(o={version:"1.4.1",ucs2:{decode:S,encode:x},decode:O,encode:w,toASCII:function(e){return b(e,(function(e){return f.test(e)?"xn--"+w(e):e}))},toUnicode:function(e){return b(e,(function(e){return p.test(e)?O(e.slice(4).toLowerCase()):e}))}},i&&n)if(e.exports==i)n.exports=o;else for(a in o)o.hasOwnProperty(a)&&(i[a]=o[a]);else r.punycode=o}(commonjsGlobal)}(punycode$1,punycode$1.exports);var punycodeExports=punycode$1.exports,esErrors=Error,_eval=EvalError,range=RangeError,ref=ReferenceError,syntax=SyntaxError,type=TypeError,uri=URIError,shams=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),r=Object(t);if("string"==typeof t||"[object Symbol]"!==Object.prototype.toString.call(t)||"[object Symbol]"!==Object.prototype.toString.call(r))return!1;for(t in e[t]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var n=Object.getOwnPropertyDescriptor(e,t);if(42!==n.value||!0!==n.enumerable)return!1}return!0},origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return"function"==typeof origSymbol&&"function"==typeof Symbol&&"symbol"==typeof origSymbol("foo")&&"symbol"==typeof Symbol("bar")&&hasSymbolSham()},test={__proto__:null,foo:{}},$Object=Object,hasProto$1=function(){return{__proto__:test}.foo===test.foo&&!(test instanceof $Object)},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",toStr$1=Object.prototype.toString,max$1=Math.max,funcType="[object Function]",concatty=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var n=0;n<t.length;n+=1)r[n+e.length]=t[n];return r},slicy=function(e,t){for(var r=[],i=t||0,n=0;i<e.length;i+=1,n+=1)r[n]=e[i];return r},joiny=function(e,t){for(var r="",i=0;i<e.length;i+=1)r+=e[i],i+1<e.length&&(r+=t);return r},implementation$1=function(e){var t=this;if("function"!=typeof t||toStr$1.apply(t)!==funcType)throw new TypeError(ERROR_MESSAGE+t);for(var r,i=slicy(arguments,1),n=max$1(0,t.length-i.length),s=[],o=0;o<n;o++)s[o]="$"+o;if(r=Function("binder","return function ("+joiny(s,",")+"){ return binder.apply(this,arguments); }")((function(){if(this instanceof r){var n=t.apply(this,concatty(i,arguments));return Object(n)===n?n:this}return t.apply(e,concatty(i,arguments))})),t.prototype){var a=function(){};a.prototype=t.prototype,r.prototype=new a,a.prototype=null}return r},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,call=Function.prototype.call,$hasOwn=Object.prototype.hasOwnProperty,bind$1=functionBind,hasown=bind$1.call(call,$hasOwn),undefined$1,$Error=esErrors,$EvalError=_eval,$RangeError=range,$ReferenceError=ref,$SyntaxError$1=syntax,$TypeError$3=type,$URIError=uri,$Function=Function,getEvalledConstructor=function(e){try{return $Function('"use strict"; return ('+e+").constructor;")()}catch(e){}},$gOPD$1=Object.getOwnPropertyDescriptor;if($gOPD$1)try{$gOPD$1({},"")}catch(e){$gOPD$1=null}var throwTypeError=function(){throw new $TypeError$3},ThrowTypeError=$gOPD$1?function(){try{return throwTypeError}catch(e){try{return $gOPD$1(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),hasProto=hasProto$1(),getProto=Object.getPrototypeOf||(hasProto?function(e){return e.__proto__}:null),needsEval={},TypedArray="undefined"!=typeof Uint8Array&&getProto?getProto(Uint8Array):undefined$1,INTRINSICS={__proto__:null,"%AggregateError%":"undefined"==typeof AggregateError?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols&&getProto?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?undefined$1:Atomics,"%BigInt%":"undefined"==typeof BigInt?undefined$1:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?undefined$1:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":$Error,"%eval%":eval,"%EvalError%":$EvalError,"%Float32Array%":"undefined"==typeof Float32Array?undefined$1:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?undefined$1:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?undefined$1:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?undefined$1:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols&&getProto?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":"object"==typeof JSON?JSON:undefined$1,"%Map%":"undefined"==typeof Map?undefined$1:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols&&getProto?getProto((new Map)[Symbol.iterator]()):undefined$1,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?undefined$1:Promise,"%Proxy%":"undefined"==typeof Proxy?undefined$1:Proxy,"%RangeError%":$RangeError,"%ReferenceError%":$ReferenceError,"%Reflect%":"undefined"==typeof Reflect?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?undefined$1:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols&&getProto?getProto((new Set)[Symbol.iterator]()):undefined$1,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols&&getProto?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError$1,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$3,"%Uint8Array%":"undefined"==typeof Uint8Array?undefined$1:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?undefined$1:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?undefined$1:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?undefined$1:Uint32Array,"%URIError%":$URIError,"%WeakMap%":"undefined"==typeof WeakMap?undefined$1:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?undefined$1:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?undefined$1:WeakSet};if(getProto)try{null.error}catch(e){var errorProto=getProto(getProto(e));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function e(t){var r;if("%AsyncFunction%"===t)r=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===t)r=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===t)r=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===t){var i=e("%AsyncGeneratorFunction%");i&&(r=i.prototype)}else if("%AsyncIteratorPrototype%"===t){var n=e("%AsyncGenerator%");n&&getProto&&(r=getProto(n.prototype))}return INTRINSICS[t]=r,r},LEGACY_ALIASES={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=functionBind,hasOwn$1=hasown,$concat$1=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace$1=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),$exec=bind.call(Function.call,RegExp.prototype.exec),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=function(e){var t=$strSlice(e,0,1),r=$strSlice(e,-1);if("%"===t&&"%"!==r)throw new $SyntaxError$1("invalid intrinsic syntax, expected closing `%`");if("%"===r&&"%"!==t)throw new $SyntaxError$1("invalid intrinsic syntax, expected opening `%`");var i=[];return $replace$1(e,rePropName,(function(e,t,r,n){i[i.length]=r?$replace$1(n,reEscapeChar,"$1"):t||e})),i},getBaseIntrinsic=function(e,t){var r,i=e;if(hasOwn$1(LEGACY_ALIASES,i)&&(i="%"+(r=LEGACY_ALIASES[i])[0]+"%"),hasOwn$1(INTRINSICS,i)){var n=INTRINSICS[i];if(n===needsEval&&(n=doEval(i)),void 0===n&&!t)throw new $TypeError$3("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:r,name:i,value:n}}throw new $SyntaxError$1("intrinsic "+e+" does not exist!")},getIntrinsic=function(e,t){if("string"!=typeof e||0===e.length)throw new $TypeError$3("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof t)throw new $TypeError$3('"allowMissing" argument must be a boolean');if(null===$exec(/^%?[^%]*%?$/,e))throw new $SyntaxError$1("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=stringToPath(e),i=r.length>0?r[0]:"",n=getBaseIntrinsic("%"+i+"%",t),s=n.name,o=n.value,a=!1,l=n.alias;l&&(i=l[0],$spliceApply(r,$concat$1([0,1],l)));for(var h=1,c=!0;h<r.length;h+=1){var u=r[h],d=$strSlice(u,0,1),p=$strSlice(u,-1);if(('"'===d||"'"===d||"`"===d||'"'===p||"'"===p||"`"===p)&&d!==p)throw new $SyntaxError$1("property names with quotes must have matching quotes");if(("constructor"===u||!c)&&(a=!0),hasOwn$1(INTRINSICS,s="%"+(i+="."+u)+"%"))o=INTRINSICS[s];else if(null!=o){if(!(u in o)){if(!t)throw new $TypeError$3("base intrinsic for "+e+" exists, but the property is not available.");return}if($gOPD$1&&h+1>=r.length){var f=$gOPD$1(o,u);o=(c=!!f)&&"get"in f&&!("originalValue"in f.get)?f.get:o[u]}else c=hasOwn$1(o,u),o=o[u];c&&!a&&(INTRINSICS[s]=o)}}return o},callBind$1={exports:{}},esDefineProperty,hasRequiredEsDefineProperty;function requireEsDefineProperty(){if(hasRequiredEsDefineProperty)return esDefineProperty;hasRequiredEsDefineProperty=1;var e=getIntrinsic("%Object.defineProperty%",!0)||!1;if(e)try{e({},"a",{value:1})}catch(t){e=!1}return esDefineProperty=e}var GetIntrinsic$3=getIntrinsic,$gOPD=GetIntrinsic$3("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}var gopd$1=$gOPD,$defineProperty$1=requireEsDefineProperty(),$SyntaxError=syntax,$TypeError$2=type,gopd=gopd$1,defineDataProperty=function(e,t,r){if(!e||"object"!=typeof e&&"function"!=typeof e)throw new $TypeError$2("`obj` must be an object or a function`");if("string"!=typeof t&&"symbol"!=typeof t)throw new $TypeError$2("`property` must be a string or a symbol`");if(arguments.length>3&&"boolean"!=typeof arguments[3]&&null!==arguments[3])throw new $TypeError$2("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&"boolean"!=typeof arguments[4]&&null!==arguments[4])throw new $TypeError$2("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&"boolean"!=typeof arguments[5]&&null!==arguments[5])throw new $TypeError$2("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&"boolean"!=typeof arguments[6])throw new $TypeError$2("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,n=arguments.length>4?arguments[4]:null,s=arguments.length>5?arguments[5]:null,o=arguments.length>6&&arguments[6],a=!!gopd&&gopd(e,t);if($defineProperty$1)$defineProperty$1(e,t,{configurable:null===s&&a?a.configurable:!s,enumerable:null===i&&a?a.enumerable:!i,value:r,writable:null===n&&a?a.writable:!n});else{if(!o&&(i||n||s))throw new $SyntaxError("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");e[t]=r}},$defineProperty=requireEsDefineProperty(),hasPropertyDescriptors=function(){return!!$defineProperty};hasPropertyDescriptors.hasArrayLengthDefineBug=function(){if(!$defineProperty)return null;try{return 1!==$defineProperty([],"length",{value:1}).length}catch(e){return!0}};var hasPropertyDescriptors_1=hasPropertyDescriptors,GetIntrinsic$2=getIntrinsic,define=defineDataProperty,hasDescriptors=hasPropertyDescriptors_1(),gOPD=gopd$1,$TypeError$1=type,$floor$1=GetIntrinsic$2("%Math.floor%"),setFunctionLength=function(e,t){if("function"!=typeof e)throw new $TypeError$1("`fn` is not a function");if("number"!=typeof t||t<0||t>4294967295||$floor$1(t)!==t)throw new $TypeError$1("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,n=!0;if("length"in e&&gOPD){var s=gOPD(e,"length");s&&!s.configurable&&(i=!1),s&&!s.writable&&(n=!1)}return(i||n||!r)&&(hasDescriptors?define(e,"length",t,!0,!0):define(e,"length",t)),e};!function(e){var t=functionBind,r=getIntrinsic,i=setFunctionLength,n=type,s=r("%Function.prototype.apply%"),o=r("%Function.prototype.call%"),a=r("%Reflect.apply%",!0)||t.call(o,s),l=requireEsDefineProperty(),h=r("%Math.max%");e.exports=function(e){if("function"!=typeof e)throw new n("a function is required");var r=a(t,o,arguments);return i(r,1+h(0,e.length-(arguments.length-1)),!0)};var c=function(){return a(t,s,arguments)};l?l(e.exports,"apply",{value:c}):e.exports.apply=c}(callBind$1);var callBindExports=callBind$1.exports,GetIntrinsic$1=getIntrinsic,callBind=callBindExports,$indexOf=callBind(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(e,t){var r=GetIntrinsic$1(e,!!t);return"function"==typeof r&&$indexOf(e,".prototype.")>-1?callBind(r):r};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(__viteBrowserExternal$1);var hasMap="function"==typeof Map&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize$2=hasMap&&mapSizeDescriptor&&"function"==typeof mapSizeDescriptor.get?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet="function"==typeof Set&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&"function"==typeof setSizeDescriptor.get?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap="function"==typeof WeakMap&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet="function"==typeof WeakSet&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef="function"==typeof WeakRef&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString=Object.prototype.toString,functionToString=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf="function"==typeof BigInt?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,hasShammedSymbols="function"==typeof Symbol&&"object"==typeof Symbol.iterator,toStringTag="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=("function"==typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function addNumericSeparator(e,t){if(e===1/0||e===-1/0||e!=e||e&&e>-1e3&&e<1e3||$test.call(/e/,t))return t;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof e){var i=e<0?-$floor(-e):$floor(e);if(i!==e){var n=String(i),s=$slice.call(t,n.length+1);return $replace.call(n,r,"$&_")+"."+$replace.call($replace.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(t,r,"$&_")}var utilInspect=require$$0,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol(inspectCustom)?inspectCustom:null,objectInspect=function e(t,r,i,n){var s=r||{};if(has$3(s,"quoteStyle")&&"single"!==s.quoteStyle&&"double"!==s.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$3(s,"maxStringLength")&&("number"==typeof s.maxStringLength?s.maxStringLength<0&&s.maxStringLength!==1/0:null!==s.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=!has$3(s,"customInspect")||s.customInspect;if("boolean"!=typeof o&&"symbol"!==o)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$3(s,"indent")&&null!==s.indent&&"\t"!==s.indent&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$3(s,"numericSeparator")&&"boolean"!=typeof s.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(void 0===t)return"undefined";if(null===t)return"null";if("boolean"==typeof t)return t?"true":"false";if("string"==typeof t)return inspectString(t,s);if("number"==typeof t){if(0===t)return 1/0/t>0?"0":"-0";var l=String(t);return a?addNumericSeparator(t,l):l}if("bigint"==typeof t){var h=String(t)+"n";return a?addNumericSeparator(t,h):h}var c=void 0===s.depth?5:s.depth;if(void 0===i&&(i=0),i>=c&&c>0&&"object"==typeof t)return isArray$3(t)?"[Array]":"[Object]";var u=getIndent(s,i);if(void 0===n)n=[];else if(indexOf(n,t)>=0)return"[Circular]";function d(t,r,o){if(r&&(n=$arrSlice.call(n)).push(r),o){var a={depth:s.depth};return has$3(s,"quoteStyle")&&(a.quoteStyle=s.quoteStyle),e(t,a,i+1,n)}return e(t,s,i+1,n)}if("function"==typeof t&&!isRegExp$1(t)){var p=nameOf(t),f=arrObjKeys(t,d);return"[Function"+(p?": "+p:" (anonymous)")+"]"+(f.length>0?" { "+$join.call(f,", ")+" }":"")}if(isSymbol(t)){var _=hasShammedSymbols?$replace.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(t);return"object"!=typeof t||hasShammedSymbols?_:markBoxed(_)}if(isElement(t)){for(var m="<"+$toLowerCase.call(String(t.nodeName)),g=t.attributes||[],y=0;y<g.length;y++)m+=" "+g[y].name+"="+wrapQuotes(quote(g[y].value),"double",s);return m+=">",t.childNodes&&t.childNodes.length&&(m+="..."),m+"</"+$toLowerCase.call(String(t.nodeName))+">"}if(isArray$3(t)){if(0===t.length)return"[]";var v=arrObjKeys(t,d);return u&&!singleLineValues(v)?"["+indentedJoin(v,u)+"]":"[ "+$join.call(v,", ")+" ]"}if(isError(t)){var E=arrObjKeys(t,d);return"cause"in Error.prototype||!("cause"in t)||isEnumerable.call(t,"cause")?0===E.length?"["+String(t)+"]":"{ ["+String(t)+"] "+$join.call(E,", ")+" }":"{ ["+String(t)+"] "+$join.call($concat.call("[cause]: "+d(t.cause),E),", ")+" }"}if("object"==typeof t&&o){if(inspectSymbol&&"function"==typeof t[inspectSymbol]&&utilInspect)return utilInspect(t,{depth:c-i});if("symbol"!==o&&"function"==typeof t.inspect)return t.inspect()}if(isMap(t)){var T=[];return mapForEach&&mapForEach.call(t,(function(e,r){T.push(d(r,t,!0)+" => "+d(e,t))})),collectionOf("Map",mapSize$2.call(t),T,u)}if(isSet(t)){var b=[];return setForEach&&setForEach.call(t,(function(e){b.push(d(e,t))})),collectionOf("Set",setSize.call(t),b,u)}if(isWeakMap(t))return weakCollectionOf("WeakMap");if(isWeakSet(t))return weakCollectionOf("WeakSet");if(isWeakRef(t))return weakCollectionOf("WeakRef");if(isNumber(t))return markBoxed(d(Number(t)));if(isBigInt(t))return markBoxed(d(bigIntValueOf.call(t)));if(isBoolean(t))return markBoxed(booleanValueOf.call(t));if(isString(t))return markBoxed(d(String(t)));if("undefined"!=typeof window&&t===window)return"{ [object Window] }";if(t===commonjsGlobal)return"{ [object globalThis] }";if(!isDate(t)&&!isRegExp$1(t)){var S=arrObjKeys(t,d),x=gPO?gPO(t)===Object.prototype:t instanceof Object||t.constructor===Object,A=t instanceof Object?"":"null prototype",P=!x&&toStringTag&&Object(t)===t&&toStringTag in t?$slice.call(toStr(t),8,-1):A?"Object":"",R=(x||"function"!=typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(P||A?"["+$join.call($concat.call([],P||[],A||[]),": ")+"] ":"");return 0===S.length?R+"{}":u?R+"{"+indentedJoin(S,u)+"}":R+"{ "+$join.call(S,", ")+" }"}return String(t)};function wrapQuotes(e,t,r){var i="double"===(r.quoteStyle||t)?'"':"'";return i+e+i}function quote(e){return $replace.call(String(e),/"/g,"&quot;")}function isArray$3(e){return!("[object Array]"!==toStr(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isDate(e){return!("[object Date]"!==toStr(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isRegExp$1(e){return!("[object RegExp]"!==toStr(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isError(e){return!("[object Error]"!==toStr(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isString(e){return!("[object String]"!==toStr(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isNumber(e){return!("[object Number]"!==toStr(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isBoolean(e){return!("[object Boolean]"!==toStr(e)||toStringTag&&"object"==typeof e&&toStringTag in e)}function isSymbol(e){if(hasShammedSymbols)return e&&"object"==typeof e&&e instanceof Symbol;if("symbol"==typeof e)return!0;if(!e||"object"!=typeof e||!symToString)return!1;try{return symToString.call(e),!0}catch(e){}return!1}function isBigInt(e){if(!e||"object"!=typeof e||!bigIntValueOf)return!1;try{return bigIntValueOf.call(e),!0}catch(e){}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(e){return e in this};function has$3(e,t){return hasOwn.call(e,t)}function toStr(e){return objectToString.call(e)}function nameOf(e){if(e.name)return e.name;var t=$match.call(functionToString.call(e),/^function\s*([\w$]+)/);return t?t[1]:null}function indexOf(e,t){if(e.indexOf)return e.indexOf(t);for(var r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1}function isMap(e){if(!mapSize$2||!e||"object"!=typeof e)return!1;try{mapSize$2.call(e);try{setSize.call(e)}catch(e){return!0}return e instanceof Map}catch(e){}return!1}function isWeakMap(e){if(!weakMapHas||!e||"object"!=typeof e)return!1;try{weakMapHas.call(e,weakMapHas);try{weakSetHas.call(e,weakSetHas)}catch(e){return!0}return e instanceof WeakMap}catch(e){}return!1}function isWeakRef(e){if(!weakRefDeref||!e||"object"!=typeof e)return!1;try{return weakRefDeref.call(e),!0}catch(e){}return!1}function isSet(e){if(!setSize||!e||"object"!=typeof e)return!1;try{setSize.call(e);try{mapSize$2.call(e)}catch(e){return!0}return e instanceof Set}catch(e){}return!1}function isWeakSet(e){if(!weakSetHas||!e||"object"!=typeof e)return!1;try{weakSetHas.call(e,weakSetHas);try{weakMapHas.call(e,weakMapHas)}catch(e){return!0}return e instanceof WeakSet}catch(e){}return!1}function isElement(e){return!(!e||"object"!=typeof e)&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)}function inspectString(e,t){if(e.length>t.maxStringLength){var r=e.length-t.maxStringLength,i="... "+r+" more character"+(r>1?"s":"");return inspectString($slice.call(e,0,t.maxStringLength),t)+i}return wrapQuotes($replace.call($replace.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte),"single",t)}function lowbyte(e){var t=e.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return r?"\\"+r:"\\x"+(t<16?"0":"")+$toUpperCase.call(t.toString(16))}function markBoxed(e){return"Object("+e+")"}function weakCollectionOf(e){return e+" { ? }"}function collectionOf(e,t,r,i){return e+" ("+t+") {"+(i?indentedJoin(r,i):$join.call(r,", "))+"}"}function singleLineValues(e){for(var t=0;t<e.length;t++)if(indexOf(e[t],"\n")>=0)return!1;return!0}function getIndent(e,t){var r;if("\t"===e.indent)r="\t";else{if(!("number"==typeof e.indent&&e.indent>0))return null;r=$join.call(Array(e.indent+1)," ")}return{base:r,prev:$join.call(Array(t+1),r)}}function indentedJoin(e,t){if(0===e.length)return"";var r="\n"+t.prev+t.base;return r+$join.call(e,","+r)+"\n"+t.prev}function arrObjKeys(e,t){var r=isArray$3(e),i=[];if(r){i.length=e.length;for(var n=0;n<e.length;n++)i[n]=has$3(e,n)?t(e[n],e):""}var s,o="function"==typeof gOPS?gOPS(e):[];if(hasShammedSymbols){s={};for(var a=0;a<o.length;a++)s["$"+o[a]]=o[a]}for(var l in e)has$3(e,l)&&(r&&String(Number(l))===l&&l<e.length||hasShammedSymbols&&s["$"+l]instanceof Symbol||($test.call(/[^\w$]/,l)?i.push(t(l,e)+": "+t(e[l],e)):i.push(l+": "+t(e[l],e))));if("function"==typeof gOPS)for(var h=0;h<o.length;h++)isEnumerable.call(e,o[h])&&i.push("["+t(o[h])+"]: "+t(e[o[h]],e));return i}var GetIntrinsic=getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=type,$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(e,t){for(var r,i=e;null!==(r=i.next);i=r)if(r.key===t)return i.next=r.next,r.next=e.next,e.next=r,r},listGet=function(e,t){var r=listGetNode(e,t);return r&&r.value},listSet=function(e,t,r){var i=listGetNode(e,t);i?i.value=r:e.next={key:t,next:e.next,value:r}},listHas=function(e,t){return!!listGetNode(e,t)},sideChannel=function(){var e,t,r,i={assert:function(e){if(!i.has(e))throw new $TypeError("Side channel does not contain "+inspect(e))},get:function(i){if($WeakMap&&i&&("object"==typeof i||"function"==typeof i)){if(e)return $weakMapGet(e,i)}else if($Map){if(t)return $mapGet(t,i)}else if(r)return listGet(r,i)},has:function(i){if($WeakMap&&i&&("object"==typeof i||"function"==typeof i)){if(e)return $weakMapHas(e,i)}else if($Map){if(t)return $mapHas(t,i)}else if(r)return listHas(r,i);return!1},set:function(i,n){$WeakMap&&i&&("object"==typeof i||"function"==typeof i)?(e||(e=new $WeakMap),$weakMapSet(e,i,n)):$Map?(t||(t=new $Map),$mapSet(t,i,n)):(r||(r={key:{},next:null}),listSet(r,i,n))}};return i},replace=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$4={default:Format.RFC3986,formatters:{RFC1738:function(e){return replace.call(e,percentTwenties,"+")},RFC3986:function(e){return String(e)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$3=formats$4,has$2=Object.prototype.hasOwnProperty,isArray$2=Array.isArray,hexTable=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),compactQueue=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(isArray$2(r)){for(var i=[],n=0;n<r.length;++n)void 0!==r[n]&&i.push(r[n]);t.obj[t.prop]=i}}},arrayToObject=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)void 0!==e[i]&&(r[i]=e[i]);return r},merge=function e(t,r,i){if(!r)return t;if("object"!=typeof r){if(isArray$2(t))t.push(r);else{if(!t||"object"!=typeof t)return[t,r];(i&&(i.plainObjects||i.allowPrototypes)||!has$2.call(Object.prototype,r))&&(t[r]=!0)}return t}if(!t||"object"!=typeof t)return[t].concat(r);var n=t;return isArray$2(t)&&!isArray$2(r)&&(n=arrayToObject(t,i)),isArray$2(t)&&isArray$2(r)?(r.forEach((function(r,n){if(has$2.call(t,n)){var s=t[n];s&&"object"==typeof s&&r&&"object"==typeof r?t[n]=e(s,r,i):t.push(r)}else t[n]=r})),t):Object.keys(r).reduce((function(t,n){var s=r[n];return has$2.call(t,n)?t[n]=e(t[n],s,i):t[n]=s,t}),n)},assign$2=function(e,t){return Object.keys(t).reduce((function(e,r){return e[r]=t[r],e}),e)},decode=function(e,t,r){var i=e.replace(/\+/g," ");if("iso-8859-1"===r)return i.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(i)}catch(e){return i}},limit=1024,encode=function(e,t,r,i,n){if(0===e.length)return e;var s=e;if("symbol"==typeof e?s=Symbol.prototype.toString.call(e):"string"!=typeof e&&(s=String(e)),"iso-8859-1"===r)return escape(s).replace(/%u[0-9a-f]{4}/gi,(function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"}));for(var o="",a=0;a<s.length;a+=limit){for(var l=s.length>=limit?s.slice(a,a+limit):s,h=[],c=0;c<l.length;++c){var u=l.charCodeAt(c);45===u||46===u||95===u||126===u||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||n===formats$3.RFC1738&&(40===u||41===u)?h[h.length]=l.charAt(c):u<128?h[h.length]=hexTable[u]:u<2048?h[h.length]=hexTable[192|u>>6]+hexTable[128|63&u]:u<55296||u>=57344?h[h.length]=hexTable[224|u>>12]+hexTable[128|u>>6&63]+hexTable[128|63&u]:(c+=1,u=65536+((1023&u)<<10|1023&l.charCodeAt(c)),h[h.length]=hexTable[240|u>>18]+hexTable[128|u>>12&63]+hexTable[128|u>>6&63]+hexTable[128|63&u])}o+=h.join("")}return o},compact=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var n=t[i],s=n.obj[n.prop],o=Object.keys(s),a=0;a<o.length;++a){var l=o[a],h=s[l];"object"==typeof h&&null!==h&&-1===r.indexOf(h)&&(t.push({obj:s,prop:l}),r.push(h))}return compactQueue(t),e},isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isBuffer=function(e){return!(!e||"object"!=typeof e||!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e)))},combine=function(e,t){return[].concat(e,t)},maybeMap=function(e,t){if(isArray$2(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)},utils$2={arrayToObject:arrayToObject,assign:assign$2,combine:combine,compact:compact,decode:decode,encode:encode,isBuffer:isBuffer,isRegExp:isRegExp,maybeMap:maybeMap,merge:merge},getSideChannel=sideChannel,utils$1=utils$2,formats$2=formats$4,has$1=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},isArray$1=Array.isArray,push=Array.prototype.push,pushToArray=function(e,t){push.apply(e,isArray$1(t)?t:[t])},toISO=Date.prototype.toISOString,defaultFormat=formats$2.default,defaults$1={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:utils$1.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$2.formatters[defaultFormat],indices:!1,serializeDate:function(e){return toISO.call(e)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(e){return"string"==typeof e||"number"==typeof e||"boolean"==typeof e||"symbol"==typeof e||"bigint"==typeof e},sentinel={},stringify$1=function e(t,r,i,n,s,o,a,l,h,c,u,d,p,f,_,m,g,y){for(var v=t,E=y,T=0,b=!1;void 0!==(E=E.get(sentinel))&&!b;){var S=E.get(t);if(T+=1,void 0!==S){if(S===T)throw new RangeError("Cyclic object value");b=!0}void 0===E.get(sentinel)&&(T=0)}if("function"==typeof c?v=c(r,v):v instanceof Date?v=p(v):"comma"===i&&isArray$1(v)&&(v=utils$1.maybeMap(v,(function(e){return e instanceof Date?p(e):e}))),null===v){if(o)return h&&!m?h(r,defaults$1.encoder,g,"key",f):r;v=""}if(isNonNullishPrimitive(v)||utils$1.isBuffer(v))return h?[_(m?r:h(r,defaults$1.encoder,g,"key",f))+"="+_(h(v,defaults$1.encoder,g,"value",f))]:[_(r)+"="+_(String(v))];var x,A=[];if(void 0===v)return A;if("comma"===i&&isArray$1(v))m&&h&&(v=utils$1.maybeMap(v,h)),x=[{value:v.length>0?v.join(",")||null:void 0}];else if(isArray$1(c))x=c;else{var P=Object.keys(v);x=u?P.sort(u):P}var R=l?r.replace(/\./g,"%2E"):r,O=n&&isArray$1(v)&&1===v.length?R+"[]":R;if(s&&isArray$1(v)&&0===v.length)return O+"[]";for(var w=0;w<x.length;++w){var I=x[w],C="object"==typeof I&&void 0!==I.value?I.value:v[I];if(!a||null!==C){var M=d&&l?I.replace(/\./g,"%2E"):I,D=isArray$1(v)?"function"==typeof i?i(O,M):O:O+(d?"."+M:"["+M+"]");y.set(t,T);var L=getSideChannel();L.set(sentinel,y),pushToArray(A,e(C,D,i,n,s,o,a,l,"comma"===i&&m&&isArray$1(v)?null:h,c,u,d,p,f,_,m,g,L))}}return A},normalizeStringifyOptions=function(e){if(!e)return defaults$1;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.encodeDotInKeys&&"boolean"!=typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&void 0!==e.encoder&&"function"!=typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||defaults$1.charset;if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=formats$2.default;if(void 0!==e.format){if(!has$1.call(formats$2.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i,n=formats$2.formatters[r],s=defaults$1.filter;if(("function"==typeof e.filter||isArray$1(e.filter))&&(s=e.filter),i=e.arrayFormat in arrayPrefixGenerators?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":defaults$1.arrayFormat,"commaRoundTrip"in e&&"boolean"!=typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var o=void 0===e.allowDots?!0===e.encodeDotInKeys||defaults$1.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"==typeof e.addQueryPrefix?e.addQueryPrefix:defaults$1.addQueryPrefix,allowDots:o,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:defaults$1.allowEmptyArrays,arrayFormat:i,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults$1.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:void 0===e.delimiter?defaults$1.delimiter:e.delimiter,encode:"boolean"==typeof e.encode?e.encode:defaults$1.encode,encodeDotInKeys:"boolean"==typeof e.encodeDotInKeys?e.encodeDotInKeys:defaults$1.encodeDotInKeys,encoder:"function"==typeof e.encoder?e.encoder:defaults$1.encoder,encodeValuesOnly:"boolean"==typeof e.encodeValuesOnly?e.encodeValuesOnly:defaults$1.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:"function"==typeof e.serializeDate?e.serializeDate:defaults$1.serializeDate,skipNulls:"boolean"==typeof e.skipNulls?e.skipNulls:defaults$1.skipNulls,sort:"function"==typeof e.sort?e.sort:null,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults$1.strictNullHandling}},stringify_1=function(e,t){var r,i=e,n=normalizeStringifyOptions(t);"function"==typeof n.filter?i=(0,n.filter)("",i):isArray$1(n.filter)&&(r=n.filter);var s=[];if("object"!=typeof i||null===i)return"";var o=arrayPrefixGenerators[n.arrayFormat],a="comma"===o&&n.commaRoundTrip;r||(r=Object.keys(i)),n.sort&&r.sort(n.sort);for(var l=getSideChannel(),h=0;h<r.length;++h){var c=r[h];n.skipNulls&&null===i[c]||pushToArray(s,stringify$1(i[c],c,o,a,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,l))}var u=s.join(n.delimiter),d=!0===n.addQueryPrefix?"?":"";return n.charsetSentinel&&("iso-8859-1"===n.charset?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),u.length>0?d+u:""},utils=utils$2,has=Object.prototype.hasOwnProperty,isArray=Array.isArray,defaults={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:utils.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(e){return e.replace(/&#(\d+);/g,(function(e,t){return String.fromCharCode(parseInt(t,10))}))},parseArrayValue=function(e,t){return e&&"string"==typeof e&&t.comma&&e.indexOf(",")>-1?e.split(","):e},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues=function(e,t){var r,i={__proto__:null},n=t.ignoreQueryPrefix?e.replace(/^\?/,""):e,s=t.parameterLimit===1/0?void 0:t.parameterLimit,o=n.split(t.delimiter,s),a=-1,l=t.charset;if(t.charsetSentinel)for(r=0;r<o.length;++r)0===o[r].indexOf("utf8=")&&(o[r]===charsetSentinel?l="utf-8":o[r]===isoSentinel&&(l="iso-8859-1"),a=r,r=o.length);for(r=0;r<o.length;++r)if(r!==a){var h,c,u=o[r],d=u.indexOf("]="),p=-1===d?u.indexOf("="):d+1;-1===p?(h=t.decoder(u,defaults.decoder,l,"key"),c=t.strictNullHandling?null:""):(h=t.decoder(u.slice(0,p),defaults.decoder,l,"key"),c=utils.maybeMap(parseArrayValue(u.slice(p+1),t),(function(e){return t.decoder(e,defaults.decoder,l,"value")}))),c&&t.interpretNumericEntities&&"iso-8859-1"===l&&(c=interpretNumericEntities(c)),u.indexOf("[]=")>-1&&(c=isArray(c)?[c]:c);var f=has.call(i,h);f&&"combine"===t.duplicates?i[h]=utils.combine(i[h],c):(!f||"last"===t.duplicates)&&(i[h]=c)}return i},parseObject=function(e,t,r,i){for(var n=i?t:parseArrayValue(t,r),s=e.length-1;s>=0;--s){var o,a=e[s];if("[]"===a&&r.parseArrays)o=r.allowEmptyArrays&&""===n?[]:[].concat(n);else{o=r.plainObjects?Object.create(null):{};var l="["===a.charAt(0)&&"]"===a.charAt(a.length-1)?a.slice(1,-1):a,h=r.decodeDotInKeys?l.replace(/%2E/g,"."):l,c=parseInt(h,10);r.parseArrays||""!==h?!isNaN(c)&&a!==h&&String(c)===h&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[])[c]=n:"__proto__"!==h&&(o[h]=n):o={0:n}}n=o}return n},parseKeys=function(e,t,r,i){if(e){var n=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,s=/(\[[^[\]]*])/g,o=r.depth>0&&/(\[[^[\]]*])/.exec(n),a=o?n.slice(0,o.index):n,l=[];if(a){if(!r.plainObjects&&has.call(Object.prototype,a)&&!r.allowPrototypes)return;l.push(a)}for(var h=0;r.depth>0&&null!==(o=s.exec(n))&&h<r.depth;){if(h+=1,!r.plainObjects&&has.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;l.push(o[1])}return o&&l.push("["+n.slice(o.index)+"]"),parseObject(l,t,r,i)}},normalizeParseOptions=function(e){if(!e)return defaults;if(void 0!==e.allowEmptyArrays&&"boolean"!=typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(void 0!==e.decodeDotInKeys&&"boolean"!=typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&void 0!==e.decoder&&"function"!=typeof e.decoder)throw new TypeError("Decoder has to be a function.");if(void 0!==e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=void 0===e.charset?defaults.charset:e.charset,r=void 0===e.duplicates?defaults.duplicates:e.duplicates;if("combine"!==r&&"first"!==r&&"last"!==r)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:void 0===e.allowDots?!0===e.decodeDotInKeys||defaults.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"==typeof e.allowEmptyArrays?!!e.allowEmptyArrays:defaults.allowEmptyArrays,allowPrototypes:"boolean"==typeof e.allowPrototypes?e.allowPrototypes:defaults.allowPrototypes,allowSparse:"boolean"==typeof e.allowSparse?e.allowSparse:defaults.allowSparse,arrayLimit:"number"==typeof e.arrayLimit?e.arrayLimit:defaults.arrayLimit,charset:t,charsetSentinel:"boolean"==typeof e.charsetSentinel?e.charsetSentinel:defaults.charsetSentinel,comma:"boolean"==typeof e.comma?e.comma:defaults.comma,decodeDotInKeys:"boolean"==typeof e.decodeDotInKeys?e.decodeDotInKeys:defaults.decodeDotInKeys,decoder:"function"==typeof e.decoder?e.decoder:defaults.decoder,delimiter:"string"==typeof e.delimiter||utils.isRegExp(e.delimiter)?e.delimiter:defaults.delimiter,depth:"number"==typeof e.depth||!1===e.depth?+e.depth:defaults.depth,duplicates:r,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"==typeof e.interpretNumericEntities?e.interpretNumericEntities:defaults.interpretNumericEntities,parameterLimit:"number"==typeof e.parameterLimit?e.parameterLimit:defaults.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"==typeof e.plainObjects?e.plainObjects:defaults.plainObjects,strictNullHandling:"boolean"==typeof e.strictNullHandling?e.strictNullHandling:defaults.strictNullHandling}},parse$2=function(e,t){var r=normalizeParseOptions(t);if(""===e||null==e)return r.plainObjects?Object.create(null):{};for(var i="string"==typeof e?parseValues(e,r):e,n=r.plainObjects?Object.create(null):{},s=Object.keys(i),o=0;o<s.length;++o){var a=s[o],l=parseKeys(a,i[a],r,"string"==typeof e);n=utils.merge(n,l,r)}return!0===r.allowSparse?n:utils.compact(n)},stringify=stringify_1,parse$1=parse$2,formats$1=formats$4,lib={formats:formats$1,parse:parse$1,stringify:stringify},punycode=punycodeExports;function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=lib;function urlParse(e,t,r){if(e&&"object"==typeof e&&e instanceof Url)return e;var i=new Url;return i.parse(e,t,r),i}function urlFormat(e){return"string"==typeof e&&(e=urlParse(e)),e instanceof Url?e.format():Url.prototype.format.call(e)}function urlResolve(e,t){return urlParse(e,!1,!0).resolve(t)}Url.prototype.parse=function(e,t,r){if("string"!=typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),n=-1!==i&&i<e.indexOf("#")?"?":"#",s=e.split(n);s[0]=s[0].replace(/\\/g,"/");var o=e=s.join(n);if(o=o.trim(),!r&&1===e.split("#").length){var a=simplePathPattern.exec(o);if(a)return this.path=o,this.href=o,this.pathname=a[1],a[2]?(this.search=a[2],this.query=t?querystring.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=protocolPattern.exec(o);if(l){var h=(l=l[0]).toLowerCase();this.protocol=h,o=o.substr(l.length)}if(r||l||o.match(/^\/\/[^@/]+@[^@/]+/)){var c="//"===o.substr(0,2);c&&(!l||!hostlessProtocol[l])&&(o=o.substr(2),this.slashes=!0)}if(!hostlessProtocol[l]&&(c||l&&!slashedProtocol[l])){for(var u=-1,d=0;d<hostEndingChars.length;d++)-1!==(_=o.indexOf(hostEndingChars[d]))&&(-1===u||_<u)&&(u=_);var p,f;for(-1!==(f=-1===u?o.lastIndexOf("@"):o.lastIndexOf("@",u))&&(p=o.slice(0,f),o=o.slice(f+1),this.auth=decodeURIComponent(p)),u=-1,d=0;d<nonHostChars.length;d++){var _;-1!==(_=o.indexOf(nonHostChars[d]))&&(-1===u||_<u)&&(u=_)}-1===u&&(u=o.length),this.host=o.slice(0,u),o=o.slice(u),this.parseHost(),this.hostname=this.hostname||"";var m="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!m)for(var g=this.hostname.split(/\./),y=(d=0,g.length);d<y;d++){var v=g[d];if(v&&!v.match(hostnamePartPattern)){for(var E="",T=0,b=v.length;T<b;T++)v.charCodeAt(T)>127?E+="x":E+=v[T];if(!E.match(hostnamePartPattern)){var S=g.slice(0,d),x=g.slice(d+1),A=v.match(hostnamePartStart);A&&(S.push(A[1]),x.unshift(A[2])),x.length&&(o="/"+x.join(".")+o),this.hostname=S.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),m||(this.hostname=punycode.toASCII(this.hostname));var P=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+P,this.href+=this.host,m&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!unsafeProtocol[h])for(d=0,y=autoEscape.length;d<y;d++){var O=autoEscape[d];if(-1!==o.indexOf(O)){var w=encodeURIComponent(O);w===O&&(w=escape(O)),o=o.split(O).join(w)}}var I=o.indexOf("#");-1!==I&&(this.hash=o.substr(I),o=o.slice(0,I));var C=o.indexOf("?");if(-1!==C?(this.search=o.substr(C),this.query=o.substr(C+1),t&&(this.query=querystring.parse(this.query)),o=o.slice(0,C)):t&&(this.search="",this.query={}),o&&(this.pathname=o),slashedProtocol[h]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){P=this.pathname||"";var M=this.search||"";this.path=P+M}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",r=this.pathname||"",i=this.hash||"",n=!1,s="";this.host?n=e+this.host:this.hostname&&(n=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(n+=":"+this.port)),this.query&&"object"==typeof this.query&&Object.keys(this.query).length&&(s=querystring.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||slashedProtocol[t])&&!1!==n?(n="//"+(n||""),r&&"/"!==r.charAt(0)&&(r="/"+r)):n||(n=""),i&&"#"!==i.charAt(0)&&(i="#"+i),o&&"?"!==o.charAt(0)&&(o="?"+o),t+n+(r=r.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+i},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if("string"==typeof e){var t=new Url;t.parse(e,!1,!0),e=t}for(var r=new Url,i=Object.keys(this),n=0;n<i.length;n++){var s=i[n];r[s]=this[s]}if(r.hash=e.hash,""===e.href)return r.href=r.format(),r;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),a=0;a<o.length;a++){var l=o[a];"protocol"!==l&&(r[l]=e[l])}return slashedProtocol[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(e.protocol&&e.protocol!==r.protocol){if(!slashedProtocol[e.protocol]){for(var h=Object.keys(e),c=0;c<h.length;c++){var u=h[c];r[u]=e[u]}return r.href=r.format(),r}if(r.protocol=e.protocol,e.host||hostlessProtocol[e.protocol])r.pathname=e.pathname;else{for(var d=(e.pathname||"").split("/");d.length&&!(e.host=d.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==d[0]&&d.unshift(""),d.length<2&&d.unshift(""),r.pathname=d.join("/")}if(r.search=e.search,r.query=e.query,r.host=e.host||"",r.auth=e.auth,r.hostname=e.hostname||e.host,r.port=e.port,r.pathname||r.search){var p=r.pathname||"",f=r.search||"";r.path=p+f}return r.slashes=r.slashes||e.slashes,r.href=r.format(),r}var _=r.pathname&&"/"===r.pathname.charAt(0),m=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=m||_||r.host&&e.pathname,y=g,v=r.pathname&&r.pathname.split("/")||[],E=(d=e.pathname&&e.pathname.split("/")||[],r.protocol&&!slashedProtocol[r.protocol]);if(E&&(r.hostname="",r.port=null,r.host&&(""===v[0]?v[0]=r.host:v.unshift(r.host)),r.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host=null),g=g&&(""===d[0]||""===v[0])),m)r.host=e.host||""===e.host?e.host:r.host,r.hostname=e.hostname||""===e.hostname?e.hostname:r.hostname,r.search=e.search,r.query=e.query,v=d;else if(d.length)v||(v=[]),v.pop(),v=v.concat(d),r.search=e.search,r.query=e.query;else if(null!=e.search)return E&&(r.host=v.shift(),r.hostname=r.host,(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)),r.search=e.search,r.query=e.query,(null!==r.pathname||null!==r.search)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r;if(!v.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var T=v.slice(-1)[0],b=(r.host||e.host||v.length>1)&&("."===T||".."===T)||""===T,S=0,x=v.length;x>=0;x--)"."===(T=v[x])?v.splice(x,1):".."===T?(v.splice(x,1),S++):S&&(v.splice(x,1),S--);if(!g&&!y)for(;S--;S)v.unshift("..");g&&""!==v[0]&&(!v[0]||"/"!==v[0].charAt(0))&&v.unshift(""),b&&"/"!==v.join("/").substr(-1)&&v.push("");var A,P=""===v[0]||v[0]&&"/"===v[0].charAt(0);return E&&(r.hostname=P?"":v.length?v.shift():"",r.host=r.hostname,(A=!!(r.host&&r.host.indexOf("@")>0)&&r.host.split("@"))&&(r.auth=A.shift(),r.hostname=A.shift(),r.host=r.hostname)),(g=g||r.host&&v.length)&&!P&&v.unshift(""),v.length>0?r.pathname=v.join("/"):(r.pathname=null,r.path=null),(null!==r.pathname||null!==r.search)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=e.auth||r.auth,r.slashes=r.slashes||e.slashes,r.href=r.format(),r},Url.prototype.parseHost=function(){var e=this.host,t=portPattern.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)};var parse=urlParse,resolve=urlResolve,format=urlFormat,ENV$5,RENDERER_TYPE$5,BUFFER_BITS$5,BLEND_MODES$5,DRAW_MODES$5,FORMATS$5,TARGETS$5,TYPES$5,SAMPLER_TYPES$5,SCALE_MODES$5,WRAP_MODES$5,MIPMAP_MODES$5,ALPHA_MODES$5,CLEAR_MODES$5,GC_MODES$5,PRECISION$5,MASK_TYPES$5,MSAA_QUALITY$5,BUFFER_TYPE$5;!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$5||(ENV$5={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$5||(RENDERER_TYPE$5={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$5||(BUFFER_BITS$5={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$5||(BLEND_MODES$5={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$5||(DRAW_MODES$5={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$5||(FORMATS$5={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$5||(TARGETS$5={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$5||(TYPES$5={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$5||(SAMPLER_TYPES$5={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$5||(SCALE_MODES$5={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$5||(WRAP_MODES$5={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$5||(MIPMAP_MODES$5={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ALPHA_MODES$5||(ALPHA_MODES$5={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$5||(CLEAR_MODES$5={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$5||(GC_MODES$5={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$5||(PRECISION$5={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$5||(MASK_TYPES$5={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$5||(MSAA_QUALITY$5={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$5||(BUFFER_TYPE$5={}));var url={parse:parse,format:format,resolve:resolve};settings$2.RETINA_PREFIX=/@([0-9\.]+)x/,settings$2.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var saidHello=!1,VERSION$1="6.4.2",supported$2;function skipHello(){saidHello=!0}function sayHello(e){var t;if(!saidHello){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var r=["\n %c %c %c PixiJS "+VERSION$1+" -  "+e+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];(t=globalThis.console).log.apply(t,r)}else globalThis.console&&globalThis.console.log("PixiJS "+VERSION$1+" - "+e+" - http://www.pixijs.com/");saidHello=!0}}function isWebGLSupported$1(){return void 0===supported$2&&(supported$2=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:settings$2.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!globalThis.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),r=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),i=!(!r||!r.getContextAttributes().stencil);if(r){var n=r.getExtension("WEBGL_lose_context");n&&n.loseContext()}return r=null,i}catch(e){return!1}}()),supported$2}var aliceblue="#f0f8ff",antiquewhite="#faebd7",aqua="#00ffff",aquamarine="#7fffd4",azure="#f0ffff",beige="#f5f5dc",bisque="#ffe4c4",black="#000000",blanchedalmond="#ffebcd",blue="#0000ff",blueviolet="#8a2be2",brown="#a52a2a",burlywood="#deb887",cadetblue="#5f9ea0",chartreuse="#7fff00",chocolate="#d2691e",coral="#ff7f50",cornflowerblue="#6495ed",cornsilk="#fff8dc",crimson="#dc143c",cyan="#00ffff",darkblue="#00008b",darkcyan="#008b8b",darkgoldenrod="#b8860b",darkgray="#a9a9a9",darkgreen="#006400",darkgrey="#a9a9a9",darkkhaki="#bdb76b",darkmagenta="#8b008b",darkolivegreen="#556b2f",darkorange="#ff8c00",darkorchid="#9932cc",darkred="#8b0000",darksalmon="#e9967a",darkseagreen="#8fbc8f",darkslateblue="#483d8b",darkslategray="#2f4f4f",darkslategrey="#2f4f4f",darkturquoise="#00ced1",darkviolet="#9400d3",deeppink="#ff1493",deepskyblue="#00bfff",dimgray="#696969",dimgrey="#696969",dodgerblue="#1e90ff",firebrick="#b22222",floralwhite="#fffaf0",forestgreen="#228b22",fuchsia="#ff00ff",gainsboro="#dcdcdc",ghostwhite="#f8f8ff",goldenrod="#daa520",gold="#ffd700",gray="#808080",green="#008000",greenyellow="#adff2f",grey="#808080",honeydew="#f0fff0",hotpink="#ff69b4",indianred="#cd5c5c",indigo="#4b0082",ivory="#fffff0",khaki="#f0e68c",lavenderblush="#fff0f5",lavender="#e6e6fa",lawngreen="#7cfc00",lemonchiffon="#fffacd",lightblue="#add8e6",lightcoral="#f08080",lightcyan="#e0ffff",lightgoldenrodyellow="#fafad2",lightgray="#d3d3d3",lightgreen="#90ee90",lightgrey="#d3d3d3",lightpink="#ffb6c1",lightsalmon="#ffa07a",lightseagreen="#20b2aa",lightskyblue="#87cefa",lightslategray="#778899",lightslategrey="#778899",lightsteelblue="#b0c4de",lightyellow="#ffffe0",lime="#00ff00",limegreen="#32cd32",linen="#faf0e6",magenta="#ff00ff",maroon="#800000",mediumaquamarine="#66cdaa",mediumblue="#0000cd",mediumorchid="#ba55d3",mediumpurple="#9370db",mediumseagreen="#3cb371",mediumslateblue="#7b68ee",mediumspringgreen="#00fa9a",mediumturquoise="#48d1cc",mediumvioletred="#c71585",midnightblue="#191970",mintcream="#f5fffa",mistyrose="#ffe4e1",moccasin="#ffe4b5",navajowhite="#ffdead",navy="#000080",oldlace="#fdf5e6",olive="#808000",olivedrab="#6b8e23",orange="#ffa500",orangered="#ff4500",orchid="#da70d6",palegoldenrod="#eee8aa",palegreen="#98fb98",paleturquoise="#afeeee",palevioletred="#db7093",papayawhip="#ffefd5",peachpuff="#ffdab9",peru="#cd853f",pink="#ffc0cb",plum="#dda0dd",powderblue="#b0e0e6",purple="#800080",rebeccapurple="#663399",red="#ff0000",rosybrown="#bc8f8f",royalblue="#4169e1",saddlebrown="#8b4513",salmon="#fa8072",sandybrown="#f4a460",seagreen="#2e8b57",seashell="#fff5ee",sienna="#a0522d",silver="#c0c0c0",skyblue="#87ceeb",slateblue="#6a5acd",slategray="#708090",slategrey="#708090",snow="#fffafa",springgreen="#00ff7f",steelblue="#4682b4",tan="#d2b48c",teal="#008080",thistle="#d8bfd8",tomato="#ff6347",turquoise="#40e0d0",violet="#ee82ee",wheat="#f5deb3",white="#ffffff",whitesmoke="#f5f5f5",yellow="#ffff00",yellowgreen="#9acd32",cssColorNames={aliceblue:aliceblue,antiquewhite:antiquewhite,aqua:aqua,aquamarine:aquamarine,azure:azure,beige:beige,bisque:bisque,black:black,blanchedalmond:blanchedalmond,blue:blue,blueviolet:blueviolet,brown:brown,burlywood:burlywood,cadetblue:cadetblue,chartreuse:chartreuse,chocolate:chocolate,coral:coral,cornflowerblue:cornflowerblue,cornsilk:cornsilk,crimson:crimson,cyan:cyan,darkblue:darkblue,darkcyan:darkcyan,darkgoldenrod:darkgoldenrod,darkgray:darkgray,darkgreen:darkgreen,darkgrey:darkgrey,darkkhaki:darkkhaki,darkmagenta:darkmagenta,darkolivegreen:darkolivegreen,darkorange:darkorange,darkorchid:darkorchid,darkred:darkred,darksalmon:darksalmon,darkseagreen:darkseagreen,darkslateblue:darkslateblue,darkslategray:darkslategray,darkslategrey:darkslategrey,darkturquoise:darkturquoise,darkviolet:darkviolet,deeppink:deeppink,deepskyblue:deepskyblue,dimgray:dimgray,dimgrey:dimgrey,dodgerblue:dodgerblue,firebrick:firebrick,floralwhite:floralwhite,forestgreen:forestgreen,fuchsia:fuchsia,gainsboro:gainsboro,ghostwhite:ghostwhite,goldenrod:goldenrod,gold:gold,gray:gray,green:green,greenyellow:greenyellow,grey:grey,honeydew:honeydew,hotpink:hotpink,indianred:indianred,indigo:indigo,ivory:ivory,khaki:khaki,lavenderblush:lavenderblush,lavender:lavender,lawngreen:lawngreen,lemonchiffon:lemonchiffon,lightblue:lightblue,lightcoral:lightcoral,lightcyan:lightcyan,lightgoldenrodyellow:lightgoldenrodyellow,lightgray:lightgray,lightgreen:lightgreen,lightgrey:lightgrey,lightpink:lightpink,lightsalmon:lightsalmon,lightseagreen:lightseagreen,lightskyblue:lightskyblue,lightslategray:lightslategray,lightslategrey:lightslategrey,lightsteelblue:lightsteelblue,lightyellow:lightyellow,lime:lime,limegreen:limegreen,linen:linen,magenta:magenta,maroon:maroon,mediumaquamarine:mediumaquamarine,mediumblue:mediumblue,mediumorchid:mediumorchid,mediumpurple:mediumpurple,mediumseagreen:mediumseagreen,mediumslateblue:mediumslateblue,mediumspringgreen:mediumspringgreen,mediumturquoise:mediumturquoise,mediumvioletred:mediumvioletred,midnightblue:midnightblue,mintcream:mintcream,mistyrose:mistyrose,moccasin:moccasin,navajowhite:navajowhite,navy:navy,oldlace:oldlace,olive:olive,olivedrab:olivedrab,orange:orange,orangered:orangered,orchid:orchid,palegoldenrod:palegoldenrod,palegreen:palegreen,paleturquoise:paleturquoise,palevioletred:palevioletred,papayawhip:papayawhip,peachpuff:peachpuff,peru:peru,pink:pink,plum:plum,powderblue:powderblue,purple:purple,rebeccapurple:rebeccapurple,red:red,rosybrown:rosybrown,royalblue:royalblue,saddlebrown:saddlebrown,salmon:salmon,sandybrown:sandybrown,seagreen:seagreen,seashell:seashell,sienna:sienna,silver:silver,skyblue:skyblue,slateblue:slateblue,slategray:slategray,slategrey:slategrey,snow:snow,springgreen:springgreen,steelblue:steelblue,tan:tan,teal:teal,thistle:thistle,tomato:tomato,turquoise:turquoise,violet:violet,wheat:wheat,white:white,whitesmoke:whitesmoke,yellow:yellow,yellowgreen:yellowgreen};function hex2rgb$1(e,t){return void 0===t&&(t=[]),t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function hex2string(e){var t=e.toString(16);return"#"+("000000".substring(0,6-t.length)+t)}function string2hex(e){return"string"==typeof e&&"#"===(e=cssColorNames[e.toLowerCase()]||e)[0]&&(e=e.slice(1)),parseInt(e,16)}function mapPremultipliedBlendModes$1(){for(var e=[],t=[],r=0;r<32;r++)e[r]=r,t[r]=r;e[BLEND_MODES$5.NORMAL_NPM]=BLEND_MODES$5.NORMAL,e[BLEND_MODES$5.ADD_NPM]=BLEND_MODES$5.ADD,e[BLEND_MODES$5.SCREEN_NPM]=BLEND_MODES$5.SCREEN,t[BLEND_MODES$5.NORMAL]=BLEND_MODES$5.NORMAL_NPM,t[BLEND_MODES$5.ADD]=BLEND_MODES$5.ADD_NPM,t[BLEND_MODES$5.SCREEN]=BLEND_MODES$5.SCREEN_NPM;var i=[];return i.push(t),i.push(e),i}var premultiplyBlendMode$1=mapPremultipliedBlendModes$1();function correctBlendMode(e,t){return premultiplyBlendMode$1[t?1:0][e]}function premultiplyRgba(e,t,r,i){return r=r||new Float32Array(4),i||void 0===i?(r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t):(r[0]=e[0],r[1]=e[1],r[2]=e[2]),r[3]=t,r}function premultiplyTint(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var r=e>>16&255,i=e>>8&255,n=255&e;return(255*t<<24)+((r=r*t+.5|0)<<16)+((i=i*t+.5|0)<<8)+(n*t+.5|0)}function premultiplyTintToRgba(e,t,r,i){return(r=r||new Float32Array(4))[0]=(e>>16&255)/255,r[1]=(e>>8&255)/255,r[2]=(255&e)/255,(i||void 0===i)&&(r[0]*=t,r[1]*=t,r[2]*=t),r[3]=t,r}function createIndicesForQuads(e,t){void 0===t&&(t=null);var r=6*e;if((t=t||new Uint16Array(r)).length!==r)throw new Error("Out buffer length is incorrect, got "+t.length+" and expected "+r);for(var i=0,n=0;i<r;i+=6,n+=4)t[i+0]=n+0,t[i+1]=n+1,t[i+2]=n+2,t[i+3]=n+0,t[i+4]=n+2,t[i+5]=n+3;return t}function getBufferType$1(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function nextPow2$1(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)}function isPow2$1(e){return!(e&e-1||!e)}function log2$1(e){var t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,t|=r=((e>>>=r)>15?1:0)<<2,(t|=r=((e>>>=r)>3?1:0)<<1)|(e>>>=r)>>1}function removeItems$1(e,t,r){var i,n=e.length;if(!(t>=n||0===r)){var s=n-(r=t+r>n?n-t:r);for(i=t;i<s;++i)e[i]=e[i+r];e.length=s}}function sign(e){return 0===e?0:e<0?-1:1}var nextUid$1=0;function uid$1(){return++nextUid$1}var warnings$1={};function deprecation$1(e,t,r){if(void 0===r&&(r=3),!warnings$1[t]){var i=(new Error).stack;void 0===i?console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",t+"\nDeprecated since v"+e),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",t+"\nDeprecated since v"+e),console.warn(i))),warnings$1[t]=!0}}var ProgramCache$1={},TextureCache$1=Object.create(null),BaseTextureCache$1=Object.create(null),CanvasRenderTarget=function(){function e(e,t,r){this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=r||settings$2.RESOLUTION,this.resize(e,t)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=Math.round(e*this.resolution),this.canvas.height=Math.round(t*this.resolution)},e.prototype.destroy=function(){this.context=null,this.canvas=null},Object.defineProperty(e.prototype,"width",{get:function(){return this.canvas.width},set:function(e){this.canvas.width=Math.round(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this.canvas.height},set:function(e){this.canvas.height=Math.round(e)},enumerable:!1,configurable:!0}),e}(),tempAnchor$1;function trimCanvas(e){var t,r,i,n=e.width,s=e.height,o=e.getContext("2d"),a=o.getImageData(0,0,n,s).data,l=a.length,h={top:null,left:null,right:null,bottom:null},c=null;for(t=0;t<l;t+=4)0!==a[t+3]&&(r=t/4%n,i=~~(t/4/n),null===h.top&&(h.top=i),(null===h.left||r<h.left)&&(h.left=r),(null===h.right||h.right<r)&&(h.right=r+1),(null===h.bottom||h.bottom<i)&&(h.bottom=i));return null!==h.top&&(n=h.right-h.left,s=h.bottom-h.top+1,c=o.getImageData(h.left,h.top,n,s)),{height:s,width:n,data:c}}function determineCrossOrigin$1(e,t){if(void 0===t&&(t=globalThis.location),0===e.indexOf("data:"))return"";t=t||globalThis.location,tempAnchor$1||(tempAnchor$1=document.createElement("a")),tempAnchor$1.href=e;var r=url.parse(tempAnchor$1.href),i=!r.port&&""===t.port||r.port===t.port;return r.hostname===t.hostname&&i&&r.protocol===t.protocol?"":"anonymous"}function getResolutionOfUrl$1(e,t){var r=settings$2.RETINA_PREFIX.exec(e);return r?parseFloat(r[1]):void 0!==t?t:1}var PI_2$1=2*Math.PI,RAD_TO_DEG=180/Math.PI,DEG_TO_RAD=Math.PI/180,SHAPES$1;!function(e){e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC"}(SHAPES$1||(SHAPES$1={}));var Point$1=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.x=0,this.y=0,this.x=e,this.y=t}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copyFrom=function(e){return this.set(e.x,e.y),this},e.prototype.copyTo=function(e){return e.set(this.x,this.y),e},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x=e,this.y=t,this},e.prototype.toString=function(){return"[@pixi/math:Point x="+this.x+" y="+this.y+"]"},e}(),tempPoints$3=[new Point$1,new Point$1,new Point$1,new Point$1],Rectangle$1=function(){function e(e,t,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(i),this.type=SHAPES$1.RECT}return Object.defineProperty(e.prototype,"left",{get:function(){return this.x},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"right",{get:function(){return this.x+this.width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"top",{get:function(){return this.y},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bottom",{get:function(){return this.y+this.height},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EMPTY",{get:function(){return new e(0,0,0,0)},enumerable:!1,configurable:!0}),e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copyFrom=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.copyTo=function(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},e.prototype.intersects=function(e,t){if(!t){var r=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=r)return!1;var i=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>i}var n=this.left,s=this.right,o=this.top,a=this.bottom;if(s<=n||a<=o)return!1;var l=tempPoints$3[0].set(e.left,e.top),h=tempPoints$3[1].set(e.left,e.bottom),c=tempPoints$3[2].set(e.right,e.top),u=tempPoints$3[3].set(e.right,e.bottom);if(c.x<=l.x||h.y<=l.y)return!1;var d=Math.sign(t.a*t.d-t.b*t.c);if(0===d||(t.apply(l,l),t.apply(h,h),t.apply(c,c),t.apply(u,u),Math.max(l.x,h.x,c.x,u.x)<=n||Math.min(l.x,h.x,c.x,u.x)>=s||Math.max(l.y,h.y,c.y,u.y)<=o||Math.min(l.y,h.y,c.y,u.y)>=a))return!1;var p=d*(h.y-l.y),f=d*(l.x-h.x),_=p*n+f*o,m=p*s+f*o,g=p*n+f*a,y=p*s+f*a;if(Math.max(_,m,g,y)<=p*l.x+f*l.y||Math.min(_,m,g,y)>=p*u.x+f*u.y)return!1;var v=d*(l.y-c.y),E=d*(c.x-l.x),T=v*n+E*o,b=v*s+E*o,S=v*n+E*a,x=v*s+E*a;return!(Math.max(T,b,S,x)<=v*l.x+E*l.y||Math.min(T,b,S,x)>=v*u.x+E*u.y)},e.prototype.pad=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this},e.prototype.fit=function(e){var t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(n-i,0),this},e.prototype.ceil=function(e,t){void 0===e&&(e=1),void 0===t&&(t=.001);var r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=n-i,this},e.prototype.toString=function(){return"[@pixi/math:Rectangle x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Circle=function(){function e(e,t,r){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),this.x=e,this.y=t,this.radius=r,this.type=SHAPES$1.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var r=this.radius*this.radius,i=this.x-e,n=this.y-t;return(i*=i)+(n*=n)<=r},e.prototype.getBounds=function(){return new Rectangle$1(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e.prototype.toString=function(){return"[@pixi/math:Circle x="+this.x+" y="+this.y+" radius="+this.radius+"]"},e}(),Ellipse=function(){function e(e,t,r,i){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),this.x=e,this.y=t,this.width=r,this.height=i,this.type=SHAPES$1.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var r=(e-this.x)/this.width,i=(t-this.y)/this.height;return(r*=r)+(i*=i)<=1},e.prototype.getBounds=function(){return new Rectangle$1(this.x-this.width,this.y-this.height,this.width,this.height)},e.prototype.toString=function(){return"[@pixi/math:Ellipse x="+this.x+" y="+this.y+" width="+this.width+" height="+this.height+"]"},e}(),Polygon=function(){function e(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var i=Array.isArray(t[0])?t[0]:t;if("number"!=typeof i[0]){for(var n=[],s=0,o=i.length;s<o;s++)n.push(i[s].x,i[s].y);i=n}this.points=i,this.type=SHAPES$1.POLY,this.closeStroke=!0}return e.prototype.clone=function(){var t=new e(this.points.slice());return t.closeStroke=this.closeStroke,t},e.prototype.contains=function(e,t){for(var r=!1,i=this.points.length/2,n=0,s=i-1;n<i;s=n++){var o=this.points[2*n],a=this.points[2*n+1],l=this.points[2*s],h=this.points[2*s+1];a>t!=h>t&&e<(t-a)/(h-a)*(l-o)+o&&(r=!r)}return r},e.prototype.toString=function(){return"[@pixi/math:PolygoncloseStroke="+this.closeStroke+"points="+this.points.reduce((function(e,t){return e+", "+t}),"")+"]"},e}(),RoundedRectangle=function(){function e(e,t,r,i,n){void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=0),void 0===n&&(n=20),this.x=e,this.y=t,this.width=r,this.height=i,this.radius=n,this.type=SHAPES$1.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){var r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;var i=e-(this.x+r),n=t-(this.y+r),s=r*r;if(i*i+n*n<=s||(i=e-(this.x+this.width-r))*i+n*n<=s||i*i+(n=t-(this.y+this.height-r))*n<=s||(i=e-(this.x+r))*i+n*n<=s)return!0}return!1},e.prototype.toString=function(){return"[@pixi/math:RoundedRectangle x="+this.x+" y="+this.y+"width="+this.width+" height="+this.height+" radius="+this.radius+"]"},e}(),ObservablePoint$1=function(){function e(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0),this._x=r,this._y=i,this.cb=e,this.scope=t}return e.prototype.clone=function(t,r){return void 0===t&&(t=this.cb),void 0===r&&(r=this.scope),new e(t,r,this._x,this._y)},e.prototype.set=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=e),(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this},e.prototype.copyFrom=function(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this},e.prototype.copyTo=function(e){return e.set(this._x,this._y),e},e.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},e.prototype.toString=function(){return"[@pixi/math:ObservablePoint x=0 y=0 scope="+this.scope+"]"},Object.defineProperty(e.prototype,"x",{get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))},enumerable:!1,configurable:!0}),e}(),Matrix$1=function(){function e(e,t,r,i,n,s){void 0===e&&(e=1),void 0===t&&(t=0),void 0===r&&(r=0),void 0===i&&(i=1),void 0===n&&(n=0),void 0===s&&(s=0),this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=s}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,r,i,n,s){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=s,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r},e.prototype.apply=function(e,t){t=t||new Point$1;var r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new Point$1;var r=1/(this.a*this.d+this.c*-this.b),i=e.x,n=e.y;return t.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),r=Math.sin(e),i=this.a,n=this.c,s=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=n*t-this.d*r,this.d=n*r+this.d*t,this.tx=s*t-this.ty*r,this.ty=s*r+this.ty*t,this},e.prototype.append=function(e){var t=this.a,r=this.b,i=this.c,n=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*n,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*n,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*n+this.ty,this},e.prototype.setTransform=function(e,t,r,i,n,s,o,a,l){return this.a=Math.cos(o+l)*n,this.b=Math.sin(o+l)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this},e.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,r=this.b,i=this.c,n=this.d,s=e.pivot,o=-Math.atan2(-i,n),a=Math.atan2(r,t),l=Math.abs(o+a);return l<1e-5||Math.abs(PI_2$1-l)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(i*i+n*n),e.position.x=this.tx+(s.x*t+s.y*i),e.position.y=this.ty+(s.x*r+s.y*n),e},e.prototype.invert=function(){var e=this.a,t=this.b,r=this.c,i=this.d,n=this.tx,s=e*i-t*r;return this.a=i/s,this.b=-t/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-i*n)/s,this.ty=-(e*this.ty-t*n)/s,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copyTo=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},e.prototype.copyFrom=function(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this},e.prototype.toString=function(){return"[@pixi/math:Matrix a="+this.a+" b="+this.b+" c="+this.c+" d="+this.d+" tx="+this.tx+" ty="+this.ty+"]"},Object.defineProperty(e,"IDENTITY",{get:function(){return new e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"TEMP_MATRIX",{get:function(){return new e},enumerable:!1,configurable:!0}),e}(),ux$1=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy$1=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx$1=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy$1=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley$1=[],rotationMatrices$1=[],signum$1=Math.sign;function init$1(){for(var e=0;e<16;e++){var t=[];rotationCayley$1.push(t);for(var r=0;r<16;r++)for(var i=signum$1(ux$1[e]*ux$1[r]+vx$1[e]*uy$1[r]),n=signum$1(uy$1[e]*ux$1[r]+vy$1[e]*uy$1[r]),s=signum$1(ux$1[e]*vx$1[r]+vx$1[e]*vy$1[r]),o=signum$1(uy$1[e]*vx$1[r]+vy$1[e]*vy$1[r]),a=0;a<16;a++)if(ux$1[a]===i&&uy$1[a]===n&&vx$1[a]===s&&vy$1[a]===o){t.push(a);break}}for(e=0;e<16;e++){var l=new Matrix$1;l.set(ux$1[e],uy$1[e],vx$1[e],vy$1[e],0,0),rotationMatrices$1.push(l)}}init$1();var groupD8$1={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:function(e){return ux$1[e]},uY:function(e){return uy$1[e]},vX:function(e){return vx$1[e]},vY:function(e){return vy$1[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return rotationCayley$1[e][t]},sub:function(e,t){return rotationCayley$1[e][groupD8$1.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?groupD8$1.S:groupD8$1.N:2*Math.abs(t)<=Math.abs(e)?e>0?groupD8$1.E:groupD8$1.W:t>0?e>0?groupD8$1.SE:groupD8$1.SW:e>0?groupD8$1.NE:groupD8$1.NW},matrixAppendRotationInv:function(e,t,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var n=rotationMatrices$1[groupD8$1.inv(t)];n.tx=r,n.ty=i,e.append(n)}},Transform$1=function(){function e(){this.worldTransform=new Matrix$1,this.localTransform=new Matrix$1,this.position=new ObservablePoint$1(this.onChange,this,0,0),this.scale=new ObservablePoint$1(this.onChange,this,1,1),this.pivot=new ObservablePoint$1(this.onChange,this,0,0),this.skew=new ObservablePoint$1(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}return e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++},e.prototype.toString=function(){return"[@pixi/math:Transform position=("+this.position.x+", "+this.position.y+") rotation="+this.rotation+" scale=("+this.scale.x+", "+this.scale.y+") skew=("+this.skew.x+", "+this.skew.y+") ]"},e.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var r=e.worldTransform,i=this.worldTransform;i.a=t.a*r.a+t.b*r.c,i.b=t.a*r.b+t.b*r.d,i.c=t.c*r.a+t.d*r.c,i.d=t.c*r.b+t.d*r.d,i.tx=t.tx*r.a+t.ty*r.c+r.tx,i.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}},e.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},Object.defineProperty(e.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())},enumerable:!1,configurable:!0}),e.IDENTITY=new e,e}();settings$2.SORTABLE_CHILDREN=!1;var Bounds$1=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle$1.EMPTY:((e=e||new Rectangle$1(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var r=e.a,i=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,l=r*t.x+n*t.y+o,h=i*t.x+s*t.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,i=this.maxX,n=this.maxY,s=e[0],o=e[1];t=s<t?s:t,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,t=(s=e[2])<t?s:t,r=(o=e[3])<r?o:r,i=s>i?s:i,n=o>n?o:n,t=(s=e[4])<t?s:t,r=(o=e[5])<r?o:r,i=s>i?s:i,n=o>n?o:n,t=(s=e[6])<t?s:t,r=(o=e[7])<r?o:r,i=s>i?s:i,n=o>n?o:n,this.minX=t,this.minY=r,this.maxX=i,this.maxY=n},e.prototype.addFrame=function(e,t,r,i,n){this.addFrameMatrix(e.worldTransform,t,r,i,n)},e.prototype.addFrameMatrix=function(e,t,r,i,n){var s=e.a,o=e.b,a=e.c,l=e.d,h=e.tx,c=e.ty,u=this.minX,d=this.minY,p=this.maxX,f=this.maxY,_=s*t+a*r+h,m=o*t+l*r+c;u=_<u?_:u,d=m<d?m:d,p=_>p?_:p,f=m>f?m:f,u=(_=s*i+a*r+h)<u?_:u,d=(m=o*i+l*r+c)<d?m:d,p=_>p?_:p,f=m>f?m:f,u=(_=s*t+a*n+h)<u?_:u,d=(m=o*t+l*n+c)<d?m:d,p=_>p?_:p,f=m>f?m:f,u=(_=s*i+a*n+h)<u?_:u,d=(m=o*i+l*n+c)<d?m:d,p=_>p?_:p,f=m>f?m:f,this.minX=u,this.minY=d,this.maxX=p,this.maxY=f},e.prototype.addVertexData=function(e,t,r){for(var i=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=t;a<r;a+=2){var l=e[a],h=e[a+1];i=l<i?l:i,n=h<n?h:n,s=l>s?l:s,o=h>o?h:o}this.minX=i,this.minY=n,this.maxX=s,this.maxY=o},e.prototype.addVertices=function(e,t,r,i){this.addVerticesMatrix(e.worldTransform,t,r,i)},e.prototype.addVerticesMatrix=function(e,t,r,i,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var o=e.a,a=e.b,l=e.c,h=e.d,c=e.tx,u=e.ty,d=this.minX,p=this.minY,f=this.maxX,_=this.maxY,m=r;m<i;m+=2){var g=t[m],y=t[m+1],v=o*g+l*y+c,E=h*y+a*g+u;d=Math.min(d,v-n),f=Math.max(f,v+n),p=Math.min(p,E-s),_=Math.max(_,E+s)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=_},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>n?e.maxY:n},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=n&&i<=s){var o=this.minX,a=this.minY,l=this.maxX,h=this.maxY;this.minX=r<o?r:o,this.minY=i<a?i:a,this.maxX=n>l?n:l,this.maxY=s>h?s:h}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=n&&i<=s){var o=this.minX,a=this.minY,l=this.maxX,h=this.maxY;this.minX=r<o?r:o,this.minY=i<a?i:a,this.maxX=n>l?n:l,this.maxY=s>h?s:h}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,r,i,n,s){e-=n,t-=s,r+=n,i+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i},e}(),extendStatics$k=function(e,t){return(extendStatics$k=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$o(e,t){function r(){this.constructor=e}extendStatics$k(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var DisplayObject$1=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Transform$1,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Bounds$1,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return __extends$o(t,e),t.mixin=function(e){for(var r=Object.keys(e),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e,n))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Rectangle$1),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds$1);var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-n,s},t.prototype.toGlobal=function(e,t,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,i){return t&&(e=t.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,r,i,n,s,o,a,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new TemporaryDisplayObject$1),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(e){this.transform.rotation=e*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var t;this._mask!==e&&(this._mask&&((t=this._mask.maskObject||this._mask)._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1)),this._mask=e,this._mask&&(0===(t=this._mask.maskObject||this._mask)._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++))},enumerable:!1,configurable:!0}),t}(EventEmitter$2),TemporaryDisplayObject$1=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return __extends$o(t,e),t}(DisplayObject$1),ENV$4,RENDERER_TYPE$4,BUFFER_BITS$4,BLEND_MODES$4,DRAW_MODES$4,FORMATS$4,TARGETS$4,TYPES$4,SAMPLER_TYPES$4,SCALE_MODES$4,WRAP_MODES$4,MIPMAP_MODES$4,ALPHA_MODES$4,CLEAR_MODES$4,GC_MODES$4,PRECISION$4,MASK_TYPES$4,MSAA_QUALITY$4,BUFFER_TYPE$4;function sortChildren$1(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}DisplayObject$1.prototype.displayObjectUpdateTransform=DisplayObject$1.prototype.updateTransform,function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$4||(ENV$4={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$4||(RENDERER_TYPE$4={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$4||(BUFFER_BITS$4={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$4||(BLEND_MODES$4={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$4||(DRAW_MODES$4={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$4||(FORMATS$4={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$4||(TARGETS$4={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$4||(TYPES$4={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$4||(SAMPLER_TYPES$4={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$4||(SCALE_MODES$4={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$4||(WRAP_MODES$4={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$4||(MIPMAP_MODES$4={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ALPHA_MODES$4||(ALPHA_MODES$4={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$4||(CLEAR_MODES$4={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$4||(GC_MODES$4={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$4||(PRECISION$4={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$4||(MASK_TYPES$4={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$4||(MSAA_QUALITY$4={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$4||(BUFFER_TYPE$4={}));var Container$1=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=settings$2.SORTABLE_CHILDREN,t.sortDirty=!1,t}return __extends$o(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var i=0;i<t.length;i++)this.addChild(t[i]);else{var n=t[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),i=this.getChildIndex(t);this.children[r]=t,this.children[i]=e,this.onChildrenChange(r<i?r:i)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);removeItems$1(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var i=0;i<t.length;i++)this.removeChild(t[i]);else{var n=t[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,removeItems$1(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,removeItems$1(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r,i=e,n=t-i;if(n>0&&n<=t){r=this.children.splice(i,n);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),s=0;s<r.length;++s)r[s].emit("removed",this),this.emit("childRemoved",r[s],this,s);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,r=this.children.length;t<r;++t){var i=this.children[t];i._lastSortedIndex=t,!e&&0!==i.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(sortChildren$1),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var r=t._mask.maskObject||t._mask;r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,r){void 0===r&&(r=!1);var i=e.prototype.getLocalBounds.call(this,t);if(!r)for(var n=0,s=this.children.length;n<s;++n){var o=this.children[n];o.visible&&o.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(e){var r=e.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var i,n;if(this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&r.intersects(i,n))this._render(e);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(e),a.cullable=l}}},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){var t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<t.length;i++)t[i].enabled&&this._enabledFilters.push(t[i])}var n=t&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==MASK_TYPES$4.NONE));if(n&&e.batch.flush(),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e),i=0;for(var s=this.children.length;i<s;++i)this.children[i].render(e)}n&&e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(DisplayObject$1);Container$1.prototype.containerUpdateTransform=Container$1.prototype.updateTransform;var accessibleTarget={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};DisplayObject$1.mixin(accessibleTarget);var KEY_CODE_TAB=9,DIV_TOUCH_SIZE=100,DIV_TOUCH_POS_X=0,DIV_TOUCH_POS_Y=0,DIV_TOUCH_ZINDEX=2,DIV_HOOK_SIZE=1,DIV_HOOK_POS_X=-1e3,DIV_HOOK_POS_Y=-1e3,DIV_HOOK_ZINDEX=2,AccessibilityManager=function(){function e(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(isMobile$3.tablet||isMobile$3.phone)&&this.createTouchHook();var t=document.createElement("div");t.style.width=DIV_TOUCH_SIZE+"px",t.style.height=DIV_TOUCH_SIZE+"px",t.style.position="absolute",t.style.top=DIV_TOUCH_POS_X+"px",t.style.left=DIV_TOUCH_POS_Y+"px",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),this.div=t,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}return Object.defineProperty(e.prototype,"isActive",{get:function(){return this._isActive},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isMobileAccessibility",{get:function(){return this._isMobileAccessibility},enumerable:!1,configurable:!0}),e.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width=DIV_HOOK_SIZE+"px",t.style.height=DIV_HOOK_SIZE+"px",t.style.position="absolute",t.style.top=DIV_HOOK_POS_X+"px",t.style.left=DIV_HOOK_POS_Y+"px",t.style.zIndex=DIV_HOOK_ZINDEX.toString(),t.style.backgroundColor="#FF0000",t.title="select to enable accessibility for this content",t.addEventListener("focus",(function(){e._isMobileAccessibility=!0,e.activate(),e.destroyTouchHook()})),document.body.appendChild(t),this._hookDiv=t},e.prototype.destroyTouchHook=function(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)},e.prototype.activate=function(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),null===(e=this.renderer.view.parentNode)||void 0===e||e.appendChild(this.div))},e.prototype.deactivate=function(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),null===(e=this.div.parentNode)||void 0===e||e.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible&&e.accessibleChildren){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);var t=e.children;if(t)for(var r=0;r<t.length;r++)this.updateAccessibleObjects(t[r])}},e.prototype.update=function(){var e=performance.now();if(!(isMobile$3.android.device&&e<this.androidUpdateCount)&&(this.androidUpdateCount=e+this.androidUpdateFrequency,this.renderer.renderingToScreen)){this.renderer._lastObjectRendered&&this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),r=t.left,i=t.top,n=t.width,s=t.height,o=this.renderer,a=o.width,l=o.height,h=o.resolution,c=n/a*h,u=s/l*h,d=this.div;d.style.left=r+"px",d.style.top=i+"px",d.style.width=a+"px",d.style.height=l+"px";for(var p=0;p<this.children.length;p++){var f=this.children[p];if(f.renderId!==this.renderId)f._accessibleActive=!1,removeItems$1(this.children,p,1),this.div.removeChild(f._accessibleDiv),this.pool.push(f._accessibleDiv),f._accessibleDiv=null,p--;else{d=f._accessibleDiv;var _=f.hitArea,m=f.worldTransform;f.hitArea?(d.style.left=(m.tx+_.x*m.a)*c+"px",d.style.top=(m.ty+_.y*m.d)*u+"px",d.style.width=_.width*m.a*c+"px",d.style.height=_.height*m.d*u+"px"):(_=f.getBounds(),this.capHitArea(_),d.style.left=_.x*c+"px",d.style.top=_.y*u+"px",d.style.width=_.width*c+"px",d.style.height=_.height*u+"px",d.title!==f.accessibleTitle&&null!==f.accessibleTitle&&(d.title=f.accessibleTitle),d.getAttribute("aria-label")!==f.accessibleHint&&null!==f.accessibleHint&&d.setAttribute("aria-label",f.accessibleHint)),(f.accessibleTitle!==d.title||f.tabIndex!==d.tabIndex)&&(d.title=f.accessibleTitle,d.tabIndex=f.tabIndex,this.debug&&this.updateDebugHTML(d))}}this.renderId++}},e.prototype.updateDebugHTML=function(e){e.innerHTML="type: "+e.type+"</br> title : "+e.title+"</br> tabIndex: "+e.tabIndex},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);var t=this.renderer,r=t.width,i=t.height;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>i&&(e.height=i-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width=DIV_TOUCH_SIZE+"px",t.style.height=DIV_TOUCH_SIZE+"px",t.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=DIV_TOUCH_ZINDEX.toString(),t.style.borderStyle="none",navigator.userAgent.toLowerCase().indexOf("chrome")>-1?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),t.style.pointerEvents=e.accessiblePointerEvents,t.type=e.accessibleType,e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:(!e.accessibleHint||null===e.accessibleHint)&&(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(t),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction,r=e.target.displayObject,i=t.eventData;t.dispatchEvent(r,"click",i),t.dispatchEvent(r,"pointertap",i),t.dispatchEvent(r,"tap",i)},e.prototype._onFocus=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction,r=e.target.displayObject,i=t.eventData;t.dispatchEvent(r,"mouseover",i)},e.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction,r=e.target.displayObject,i=t.eventData;t.dispatchEvent(r,"mouseout",i)},e.prototype._onKeyDown=function(e){e.keyCode===KEY_CODE_TAB&&this.activate()},e.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},e.prototype.destroy=function(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}(),UPDATE_PRIORITY$1;settings$2.TARGET_FPMS=.06,function(e){e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY"}(UPDATE_PRIORITY$1||(UPDATE_PRIORITY$1={}));var TickerListener$1=function(){function e(e,t,r,i){void 0===t&&(t=null),void 0===r&&(r=0),void 0===i&&(i=!1),this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=i}return e.prototype.match=function(e,t){return void 0===t&&(t=null),this.fn===e&&this.context===t},e.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},e.prototype.connect=function(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this},e.prototype.destroy=function(e){void 0===e&&(e=!1),this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},e}(),Ticker$1=function(){function e(){var e=this;this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener$1(null,null,1/0),this.deltaMS=1/settings$2.TARGET_FPMS,this.elapsedMS=1/settings$2.TARGET_FPMS,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t,r){return void 0===r&&(r=UPDATE_PRIORITY$1.NORMAL),this._addListener(new TickerListener$1(e,t,r))},e.prototype.addOnce=function(e,t,r){return void 0===r&&(r=UPDATE_PRIORITY$1.NORMAL),this._addListener(new TickerListener$1(e,t,r,!0))},e.prototype._addListener=function(e){var t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this},e.prototype.remove=function(e,t){for(var r=this._head.next;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this},Object.defineProperty(e.prototype,"count",{get:function(){if(!this._head)return 0;for(var e=0,t=this._head;t=t.next;)e++;return e},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.destroy=function(){if(!this._protected){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}},e.prototype.update=function(e){var t;if(void 0===e&&(e=performance.now()),e>this.lastTime){if((t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),t*=this.speed,this._minElapsedMS){var r=e-this._lastFrame|0;if(r<this._minElapsedMS)return;this._lastFrame=e-r%this._minElapsedMS}this.deltaMS=t,this.deltaTime=this.deltaMS*settings$2.TARGET_FPMS;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=e},Object.defineProperty(e.prototype,"FPS",{get:function(){return 1e3/this.elapsedMS},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"minFPS",{get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(this.maxFPS,e),r=Math.min(Math.max(0,t)/1e3,settings$2.TARGET_FPMS);this._maxElapsedMS=1/r},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maxFPS",{get:function(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0},set:function(e){if(0===e)this._minElapsedMS=0;else{var t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}},enumerable:!1,configurable:!0}),Object.defineProperty(e,"shared",{get:function(){if(!e._shared){var t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared},enumerable:!1,configurable:!0}),Object.defineProperty(e,"system",{get:function(){if(!e._system){var t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system},enumerable:!1,configurable:!0}),e}(),TickerPlugin$1=function(){function e(){}return e.init=function(e){var t=this;e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set:function(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,UPDATE_PRIORITY$1.LOW)},get:function(){return this._ticker}}),this.stop=function(){t._ticker.stop()},this.start=function(){t._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker$1.shared:new Ticker$1,e.autoStart&&this.start()},e.destroy=function(){if(this._ticker){var e=this._ticker;this.ticker=null,e.destroy()}},e}(),InteractionData=function(){function e(){this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0,this.global=new Point$1,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return Object.defineProperty(e.prototype,"pointerId",{get:function(){return this.identifier},enumerable:!1,configurable:!0}),e.prototype.getLocalPosition=function(e,t,r){return e.worldTransform.applyInverse(r||this.global,t)},e.prototype.copyEvent=function(e){"isPrimary"in e&&e.isPrimary&&(this.isPrimary=!0),this.button="button"in e&&e.button;var t="buttons"in e&&e.buttons;this.buttons=Number.isInteger(t)?t:"which"in e&&e.which,this.width="width"in e&&e.width,this.height="height"in e&&e.height,this.tiltX="tiltX"in e&&e.tiltX,this.tiltY="tiltY"in e&&e.tiltY,this.pointerType="pointerType"in e&&e.pointerType,this.pressure="pressure"in e&&e.pressure,this.rotationAngle="rotationAngle"in e&&e.rotationAngle,this.twist="twist"in e&&e.twist||0,this.tangentialPressure="tangentialPressure"in e&&e.tangentialPressure||0},e.prototype.reset=function(){this.isPrimary=!1},e}(),extendStatics$j=function(e,t){return(extendStatics$j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$n(e,t){function r(){this.constructor=e}extendStatics$j(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var InteractionEvent=function(){function e(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0,this.stopPropagationHint=!0,this.stopsPropagatingAt=this.currentTarget},e.prototype.reset=function(){this.stopped=!1,this.stopsPropagatingAt=null,this.stopPropagationHint=!1,this.currentTarget=null,this.target=null},e}(),InteractionTrackingData=function(){function e(t){this._pointerId=t,this._flags=e.FLAGS.NONE}return e.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Object.defineProperty(e.prototype,"pointerId",{get:function(){return this._pointerId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"flags",{get:function(){return this._flags},set:function(e){this._flags=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"none",{get:function(){return this._flags===e.FLAGS.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"over",{get:function(){return!!(this._flags&e.FLAGS.OVER)},set:function(t){this._doSet(e.FLAGS.OVER,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rightDown",{get:function(){return!!(this._flags&e.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(e.FLAGS.RIGHT_DOWN,t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leftDown",{get:function(){return!!(this._flags&e.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(e.FLAGS.LEFT_DOWN,t)},enumerable:!1,configurable:!0}),e.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4}),e}(),TreeSearch=function(){function e(){this._tempPoint=new Point$1}return e.prototype.recursiveFindHit=function(e,t,r,i,n){if(!t||!t.visible)return!1;var s=e.data.global,o=!1,a=n=t.interactive||n,l=!0;if(t.hitArea?(i&&(t.worldTransform.applyInverse(s,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:(i=!1,l=!1)),a=!1):t._mask&&i&&(t._mask.containsPoint&&t._mask.containsPoint(s)||(i=!1)),l&&t.interactiveChildren&&t.children)for(var h=t.children,c=h.length-1;c>=0;c--){var u=h[c],d=this.recursiveFindHit(e,u,r,i,a);if(d){if(!u.parent)continue;a=!1,d&&(e.target&&(i=!1),o=!0)}}return n&&(i&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(s)&&(o=!0),t.interactive&&(o&&!e.target&&(e.target=t),r&&r(e,t,!!o))),o},e.prototype.findHit=function(e,t,r,i){this.recursiveFindHit(e,t,r,i,!1)},e}(),interactiveTarget={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0};DisplayObject$1.mixin(interactiveTarget);var MOUSE_POINTER_ID=1,hitTestEvent={target:null,data:{global:null}},InteractionManager=function(e){function t(t,r){var i=e.call(this)||this;return r=r||{},i.renderer=t,i.autoPreventDefault=void 0===r.autoPreventDefault||r.autoPreventDefault,i.interactionFrequency=r.interactionFrequency||10,i.mouse=new InteractionData,i.mouse.identifier=MOUSE_POINTER_ID,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[MOUSE_POINTER_ID]=i.mouse,i.interactionDataPool=[],i.eventData=new InteractionEvent,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.tickerAdded=!1,i.mouseOverRenderer=!("PointerEvent"in globalThis),i.supportsTouchEvents="ontouchstart"in globalThis,i.supportsPointerEvents=!!globalThis.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i.resolution=1,i.delayedEvents=[],i.search=new TreeSearch,i._tempDisplayObject=new TemporaryDisplayObject$1,i._eventListenerOptions={capture:!0,passive:!1},i._useSystemTicker=void 0===r.useSystemTicker||r.useSystemTicker,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return __extends$n(t,e),Object.defineProperty(t.prototype,"useSystemTicker",{get:function(){return this._useSystemTicker},set:function(e){this._useSystemTicker=e,e?this.addTickerListener():this.removeTickerListener()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastObjectRendered",{get:function(){return this.renderer._lastObjectRendered||this._tempDisplayObject},enumerable:!1,configurable:!0}),t.prototype.hitTest=function(e,t){return hitTestEvent.target=null,hitTestEvent.data.global=e,t||(t=this.lastObjectRendered),this.processInteractive(hitTestEvent,t,null,!0),hitTestEvent.target},t.prototype.setTargetElement=function(e,t){void 0===t&&(t=1),this.removeTickerListener(),this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents(),this.addTickerListener()},t.prototype.addTickerListener=function(){this.tickerAdded||!this.interactionDOMElement||!this._useSystemTicker||(Ticker$1.system.add(this.tickerUpdate,this,UPDATE_PRIORITY$1.INTERACTION),this.tickerAdded=!0)},t.prototype.removeTickerListener=function(){this.tickerAdded&&(Ticker$1.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)},t.prototype.addEvents=function(){if(!this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="none",e.msTouchAction="none"):this.supportsPointerEvents&&(e.touchAction="none"),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.addEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.addEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.eventsAdded=!0}},t.prototype.removeEvents=function(){if(this.eventsAdded&&this.interactionDOMElement){var e=this.interactionDOMElement.style;globalThis.navigator.msPointerEnabled?(e.msContentZooming="",e.msTouchAction=""):this.supportsPointerEvents&&(e.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("pointercancel",this.onPointerCancel,this._eventListenerOptions),globalThis.removeEventListener("pointerup",this.onPointerUp,this._eventListenerOptions)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,this._eventListenerOptions),globalThis.removeEventListener("mouseup",this.onPointerUp,this._eventListenerOptions)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,this._eventListenerOptions),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,this._eventListenerOptions)),this.interactionDOMElement=null,this.eventsAdded=!1}},t.prototype.tickerUpdate=function(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())},t.prototype.update=function(){if(this.interactionDOMElement){if(this._didMove)return void(this._didMove=!1);for(var e in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var t=this.activeInteractionData[e];if(t.originalEvent&&"touch"!==t.pointerType){var r=this.configureInteractionEventForDOMEvent(this.eventData,t.originalEvent,t);this.processInteractive(r,this.lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},t.prototype.setCursorMode=function(e){e=e||"default";var t=!0;if(globalThis.OffscreenCanvas&&this.interactionDOMElement instanceof OffscreenCanvas&&(t=!1),this.currentCursorMode!==e){this.currentCursorMode=e;var r=this.cursorStyles[e];if(r)switch(typeof r){case"string":t&&(this.interactionDOMElement.style.cursor=r);break;case"function":r(e);break;case"object":t&&Object.assign(this.interactionDOMElement.style,r)}else t&&"string"==typeof e&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,e)&&(this.interactionDOMElement.style.cursor=e)}},t.prototype.dispatchEvent=function(e,t,r){(!r.stopPropagationHint||e===r.stopsPropagatingAt)&&(r.currentTarget=e,r.type=t,e.emit(t,r),e[t]&&e[t](r))},t.prototype.delayDispatchEvent=function(e,t,r){this.delayedEvents.push({displayObject:e,eventString:t,eventData:r})},t.prototype.mapPositionToPoint=function(e,t,r){var i;i=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:this.interactionDOMElement.width,height:this.interactionDOMElement.height,left:0,top:0};var n=1/this.resolution;e.x=(t-i.left)*(this.interactionDOMElement.width/i.width)*n,e.y=(r-i.top)*(this.interactionDOMElement.height/i.height)*n},t.prototype.processInteractive=function(e,t,r,i){var n=this.search.findHit(e,t,r,i),s=this.delayedEvents;if(!s.length)return n;e.stopPropagationHint=!1;var o=s.length;this.delayedEvents=[];for(var a=0;a<o;a++){var l=s[a],h=l.displayObject,c=l.eventString,u=l.eventData;u.stopsPropagatingAt===h&&(u.stopPropagationHint=!0),this.dispatchEvent(h,c,u)}return n},t.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&(e.cancelable||!("cancelable"in e))&&e.preventDefault();for(var r=t.length,i=0;i<r;i++){var n=t[i],s=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,s);if(o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===n.pointerType)this.emit("touchstart",o);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;this.emit(a?"rightdown":"mousedown",this.eventData)}}}},t.prototype.processPointerDown=function(e,t,r){var i=e.data,n=e.data.identifier;if(r)if(t.trackedPointers[n]||(t.trackedPointers[n]=new InteractionTrackingData(n)),this.dispatchEvent(t,"pointerdown",e),"touch"===i.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===i.pointerType||"pen"===i.pointerType){var s=2===i.button;s?t.trackedPointers[n].rightDown=!0:t.trackedPointers[n].leftDown=!0,this.dispatchEvent(t,s?"rightdown":"mousedown",e)}},t.prototype.onPointerComplete=function(e,t,r){for(var i=this.normalizeToPointerData(e),n=i.length,s=e.target!==this.interactionDOMElement?"outside":"",o=0;o<n;o++){var a=i[o],l=this.getInteractionDataForPointerId(a),h=this.configureInteractionEventForDOMEvent(this.eventData,a,l);if(h.data.originalEvent=e,this.processInteractive(h,this.lastObjectRendered,r,t||!s),this.emit(t?"pointercancel":"pointerup"+s,h),"mouse"===a.pointerType||"pen"===a.pointerType){var c=2===a.button;this.emit(c?"rightup"+s:"mouseup"+s,h)}else"touch"===a.pointerType&&(this.emit(t?"touchcancel":"touchend"+s,h),this.releaseInteractionDataForPointerId(a.pointerId))}},t.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},t.prototype.processPointerCancel=function(e,t){var r=e.data,i=e.data.identifier;void 0!==t.trackedPointers[i]&&(delete t.trackedPointers[i],this.dispatchEvent(t,"pointercancel",e),"touch"===r.pointerType&&this.dispatchEvent(t,"touchcancel",e))},t.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},t.prototype.processPointerUp=function(e,t,r){var i=e.data,n=e.data.identifier,s=t.trackedPointers[n],o="touch"===i.pointerType,a="mouse"===i.pointerType||"pen"===i.pointerType,l=!1;if(a){var h=2===i.button,c=InteractionTrackingData.FLAGS,u=h?c.RIGHT_DOWN:c.LEFT_DOWN,d=void 0!==s&&s.flags&u;r?(this.dispatchEvent(t,h?"rightup":"mouseup",e),d&&(this.dispatchEvent(t,h?"rightclick":"click",e),l=!0)):d&&this.dispatchEvent(t,h?"rightupoutside":"mouseupoutside",e),s&&(h?s.rightDown=!1:s.leftDown=!1)}r?(this.dispatchEvent(t,"pointerup",e),o&&this.dispatchEvent(t,"touchend",e),s&&((!a||l)&&this.dispatchEvent(t,"pointertap",e),o&&(this.dispatchEvent(t,"tap",e),s.over=!1))):s&&(this.dispatchEvent(t,"pointerupoutside",e),o&&this.dispatchEvent(t,"touchendoutside",e)),s&&s.none&&delete t.trackedPointers[n]},t.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);("mouse"===t[0].pointerType||"pen"===t[0].pointerType)&&(this._didMove=!0,this.cursor=null);for(var r=t.length,i=0;i<r;i++){var n=t[i],s=this.getInteractionDataForPointerId(n),o=this.configureInteractionEventForDOMEvent(this.eventData,n,s);o.data.originalEvent=e,this.processInteractive(o,this.lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",o),"touch"===n.pointerType&&this.emit("touchmove",o),("mouse"===n.pointerType||"pen"===n.pointerType)&&this.emit("mousemove",o)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},t.prototype.processPointerMove=function(e,t,r){var i=e.data,n="touch"===i.pointerType,s="mouse"===i.pointerType||"pen"===i.pointerType;s&&this.processPointerOverOut(e,t,r),(!this.moveWhenInside||r)&&(this.dispatchEvent(t,"pointermove",e),n&&this.dispatchEvent(t,"touchmove",e),s&&this.dispatchEvent(t,"mousemove",e))},t.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e)[0];"mouse"===t.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var r=this.getInteractionDataForPointerId(t),i=this.configureInteractionEventForDOMEvent(this.eventData,t,r);i.data.originalEvent=t,this.processInteractive(i,this.lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",i),"mouse"===t.pointerType||"pen"===t.pointerType?this.emit("mouseout",i):this.releaseInteractionDataForPointerId(r.identifier)}},t.prototype.processPointerOverOut=function(e,t,r){var i=e.data,n=e.data.identifier,s="mouse"===i.pointerType||"pen"===i.pointerType,o=t.trackedPointers[n];r&&!o&&(o=t.trackedPointers[n]=new InteractionTrackingData(n)),void 0!==o&&(r&&this.mouseOverRenderer?(o.over||(o.over=!0,this.delayDispatchEvent(t,"pointerover",e),s&&this.delayDispatchEvent(t,"mouseover",e)),s&&null===this.cursor&&(this.cursor=t.cursor)):o.over&&(o.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),s&&this.dispatchEvent(t,"mouseout",e),o.none&&delete t.trackedPointers[n]))},t.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e)[0],r=this.getInteractionDataForPointerId(t),i=this.configureInteractionEventForDOMEvent(this.eventData,t,r);i.data.originalEvent=t,"mouse"===t.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",i),("mouse"===t.pointerType||"pen"===t.pointerType)&&this.emit("mouseover",i)},t.prototype.getInteractionDataForPointerId=function(e){var t,r=e.pointerId;return r===MOUSE_POINTER_ID||"mouse"===e.pointerType?t=this.mouse:this.activeInteractionData[r]?t=this.activeInteractionData[r]:((t=this.interactionDataPool.pop()||new InteractionData).identifier=r,this.activeInteractionData[r]=t),t.copyEvent(e),t},t.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},t.prototype.configureInteractionEventForDOMEvent=function(e,t,r){return e.data=r,this.mapPositionToPoint(r.global,t.clientX,t.clientY),"touch"===t.pointerType&&(t.globalX=r.global.x,t.globalY=r.global.y),r.originalEvent=t,e.reset(),e},t.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var r=0,i=e.changedTouches.length;r<i;r++){var n=e.changedTouches[r];void 0===n.button&&(n.button=e.touches.length?1:0),void 0===n.buttons&&(n.buttons=e.touches.length?1:0),void 0===n.isPrimary&&(n.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===n.width&&(n.width=n.radiusX||1),void 0===n.height&&(n.height=n.radiusY||1),void 0===n.tiltX&&(n.tiltX=0),void 0===n.tiltY&&(n.tiltY=0),void 0===n.pointerType&&(n.pointerType="touch"),void 0===n.pointerId&&(n.pointerId=n.identifier||0),void 0===n.pressure&&(n.pressure=n.force||.5),void 0===n.twist&&(n.twist=0),void 0===n.tangentialPressure&&(n.tangentialPressure=0),void 0===n.layerX&&(n.layerX=n.offsetX=n.clientX),void 0===n.layerY&&(n.layerY=n.offsetY=n.clientY),n.isNormalized=!0,t.push(n)}else if(!globalThis.MouseEvent||e instanceof MouseEvent&&!(this.supportsPointerEvents&&e instanceof globalThis.PointerEvent)){var s=e;void 0===s.isPrimary&&(s.isPrimary=!0),void 0===s.width&&(s.width=1),void 0===s.height&&(s.height=1),void 0===s.tiltX&&(s.tiltX=0),void 0===s.tiltY&&(s.tiltY=0),void 0===s.pointerType&&(s.pointerType="mouse"),void 0===s.pointerId&&(s.pointerId=MOUSE_POINTER_ID),void 0===s.pressure&&(s.pressure=.5),void 0===s.twist&&(s.twist=0),void 0===s.tangentialPressure&&(s.tangentialPressure=0),s.isNormalized=!0,t.push(s)}else t.push(e);return t},t.prototype.destroy=function(){this.removeEvents(),this.removeTickerListener(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.search=null},t}(EventEmitter$2),Runner$1=function(){function e(e){this.items=[],this._name=e,this._aliasCount=0}return e.prototype.emit=function(e,t,r,i,n,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");var l=this.name,h=this.items;this._aliasCount++;for(var c=0,u=h.length;c<u;c++)h[c][l](e,t,r,i,n,s,o,a);return h===this.items&&this._aliasCount--,this},e.prototype.ensureNonAliasedItems=function(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))},e.prototype.add=function(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this},e.prototype.remove=function(e){var t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this},e.prototype.contains=function(e){return-1!==this.items.indexOf(e)},e.prototype.removeAll=function(){return this.ensureNonAliasedItems(),this.items.length=0,this},e.prototype.destroy=function(){this.removeAll(),this.items=null,this._name=null},Object.defineProperty(e.prototype,"empty",{get:function(){return 0===this.items.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e}();Object.defineProperties(Runner$1.prototype,{dispatch:{value:Runner$1.prototype.emit},run:{value:Runner$1.prototype.emit}}),settings$2.PREFER_ENV=isMobile$3.any?ENV$5.WEBGL:ENV$5.WEBGL2,settings$2.STRICT_TEXTURE_CACHE=!1;var INSTALLED$1=[];function autoDetectResource$1(e,t){if(!e)return null;var r="";if("string"==typeof e){var i=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);i&&(r=i[1].toLowerCase())}for(var n=INSTALLED$1.length-1;n>=0;--n){var s=INSTALLED$1[n];if(s.test&&s.test(e,r))return new s(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}var extendStatics$i=function(e,t){return(extendStatics$i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$m(e,t){function r(){this.constructor=e}extendStatics$i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var __assign$8=function(){return __assign$8=Object.assign||function(e){for(var t,r=arguments,i=1,n=arguments.length;i<n;i++)for(var s in t=r[i])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},__assign$8.apply(this,arguments)};function __rest(e,t){var r={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var n=0;for(i=Object.getOwnPropertySymbols(e);n<i.length;n++)t.indexOf(i[n])<0&&(r[i[n]]=e[i[n]])}return r}var Resource$1=function(){function e(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Runner$1("setRealSize"),this.onUpdate=new Runner$1("update"),this.onError=new Runner$1("onError")}return e.prototype.bind=function(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)},e.prototype.unbind=function(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)},e.prototype.resize=function(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))},Object.defineProperty(e.prototype,"valid",{get:function(){return!!this._width&&!!this._height},enumerable:!1,configurable:!0}),e.prototype.update=function(){this.destroyed||this.onUpdate.emit()},e.prototype.load=function(){return Promise.resolve(this)},Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!1,configurable:!0}),e.prototype.style=function(e,t,r){return!1},e.prototype.dispose=function(){},e.prototype.destroy=function(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)},e.test=function(e,t){return!1},e}(),BufferResource$1=function(e){function t(t,r){var i=this,n=r||{},s=n.width,o=n.height;if(!s||!o)throw new Error("BufferResource width or height invalid");return(i=e.call(this,s,o)||this).data=t,i}return __extends$m(t,e),t.prototype.upload=function(e,t,r){var i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES$5.UNPACK);var n=t.realWidth,s=t.realHeight;return r.width===n&&r.height===s?i.texSubImage2D(t.target,0,0,0,n,s,t.format,r.type,this.data):(r.width=n,r.height=s,i.texImage2D(t.target,0,r.internalFormat,n,s,0,t.format,r.type,this.data)),!0},t.prototype.dispose=function(){this.data=null},t.test=function(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array},t}(Resource$1),defaultBufferOptions$1={scaleMode:SCALE_MODES$5.NEAREST,format:FORMATS$5.RGBA,alphaMode:ALPHA_MODES$5.NPM},BaseTexture$1=function(e){function t(t,r){void 0===t&&(t=null),void 0===r&&(r=null);var i=e.call(this)||this,n=(r=r||{}).alphaMode,s=r.mipmap,o=r.anisotropicLevel,a=r.scaleMode,l=r.width,h=r.height,c=r.wrapMode,u=r.format,d=r.type,p=r.target,f=r.resolution,_=r.resourceOptions;return t&&!(t instanceof Resource$1)&&((t=autoDetectResource$1(t,_)).internal=!0),i.resolution=f||settings$2.RESOLUTION,i.width=Math.round((l||0)*i.resolution)/i.resolution,i.height=Math.round((h||0)*i.resolution)/i.resolution,i._mipmap=void 0!==s?s:settings$2.MIPMAP_TEXTURES,i.anisotropicLevel=void 0!==o?o:settings$2.ANISOTROPIC_LEVEL,i._wrapMode=c||settings$2.WRAP_MODE,i._scaleMode=void 0!==a?a:settings$2.SCALE_MODE,i.format=u||FORMATS$5.RGBA,i.type=d||TYPES$5.UNSIGNED_BYTE,i.target=p||TARGETS$5.TEXTURE_2D,i.alphaMode=void 0!==n?n:ALPHA_MODES$5.UNPACK,i.uid=uid$1(),i.touched=0,i.isPowerOfTwo=!1,i._refreshPOT(),i._glTextures={},i.dirtyId=0,i.dirtyStyleId=0,i.cacheId=null,i.valid=l>0&&h>0,i.textureCacheIds=[],i.destroyed=!1,i.resource=null,i._batchEnabled=0,i._batchLocation=0,i.parentTextureArray=null,i.setResource(t),i}return __extends$m(t,e),Object.defineProperty(t.prototype,"realWidth",{get:function(){return Math.round(this.width*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realHeight",{get:function(){return Math.round(this.height*this.resolution)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mipmap",{get:function(){return this._mipmap},set:function(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaleMode",{get:function(){return this._scaleMode},set:function(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapMode",{get:function(){return this._wrapMode},set:function(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)},enumerable:!1,configurable:!0}),t.prototype.setStyle=function(e,t){var r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this},t.prototype.setSize=function(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)},t.prototype.setRealSize=function(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this},t.prototype._refreshPOT=function(){this.isPowerOfTwo=isPow2$1(this.realWidth)&&isPow2$1(this.realHeight)},t.prototype.setResolution=function(e){var t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this},t.prototype.setResource=function(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this},t.prototype.update=function(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))},t.prototype.onError=function(e){this.emit("error",this,e)},t.prototype.destroy=function(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache$1[this.cacheId],delete TextureCache$1[this.cacheId],this.cacheId=null),this.dispose(),t.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.castToBaseTexture=function(){return this},t.from=function(e,r,i){void 0===i&&(i=settings$2.STRICT_TEXTURE_CACHE);var n="string"==typeof e,s=null;if(n)s=e;else{if(!e._pixiId){var o=r&&r.pixiIdPrefix||"pixiid";e._pixiId=o+"_"+uid$1()}s=e._pixiId}var a=BaseTextureCache$1[s];if(n&&i&&!a)throw new Error('The cacheId "'+s+'" does not exist in BaseTextureCache.');return a||((a=new t(e,r)).cacheId=s,t.addToCache(a,s)),a},t.fromBuffer=function(e,r,i,n){e=e||new Float32Array(r*i*4);var s=new BufferResource$1(e,{width:r,height:i}),o=e instanceof Float32Array?TYPES$5.FLOAT:TYPES$5.UNSIGNED_BYTE;return new t(s,Object.assign(defaultBufferOptions$1,n||{width:r,height:i,type:o}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),BaseTextureCache$1[t]&&console.warn("BaseTexture added to the cache with an id ["+t+"] that already had an entry"),BaseTextureCache$1[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=BaseTextureCache$1[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete BaseTextureCache$1[e],t}}else if(e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)delete BaseTextureCache$1[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null},t._globalBatch=0,t}(EventEmitter$2),AbstractMultiResource$1=function(e){function t(t,r){var i=this,n=r||{},s=n.width,o=n.height;(i=e.call(this,s,o)||this).items=[],i.itemDirtyIds=[];for(var a=0;a<t;a++){var l=new BaseTexture$1;i.items.push(l),i.itemDirtyIds.push(-2)}return i.length=t,i._load=null,i.baseTexture=null,i}return __extends$m(t,e),t.prototype.initFromArray=function(e,t){for(var r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Resource$1?this.addResourceAt(e[r],r):this.addResourceAt(autoDetectResource$1(e[r],t),r))},t.prototype.dispose=function(){for(var e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null},t.prototype.addResourceAt=function(e,t){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this},t.prototype.bind=function(t){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");e.prototype.bind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=t,this.items[r].on("update",t.update,t)},t.prototype.unbind=function(t){e.prototype.unbind.call(this,t);for(var r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",t.update,t)},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.items.map((function(e){return e.resource})).filter((function(e){return e})).map((function(e){return e.load()}));return this._load=Promise.all(t).then((function(){var t=e.items[0],r=t.realWidth,i=t.realHeight;return e.resize(r,i),Promise.resolve(e)})),this._load},t}(Resource$1),ArrayResource$1=function(e){function t(t,r){var i,n,s=this,o=r||{},a=o.width,l=o.height;return Array.isArray(t)?(i=t,n=t.length):n=t,s=e.call(this,n,{width:a,height:l})||this,i&&s.initFromArray(i,r),s}return __extends$m(t,e),t.prototype.addBaseTextureAt=function(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this},t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=TARGETS$5.TEXTURE_2D_ARRAY},t.prototype.upload=function(e,t,r){var i=this,n=i.length,s=i.itemDirtyIds,o=i.items,a=e.gl;r.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,n,0,t.format,r.type,null);for(var l=0;l<n;l++){var h=o[l];s[l]<h.dirtyId&&(s[l]=h.dirtyId,h.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,l,h.resource.width,h.resource.height,1,t.format,r.type,h.resource.source))}return!0},t}(AbstractMultiResource$1),BaseImageResource$1=function(e){function t(t){var r=this,i=t,n=i.naturalWidth||i.videoWidth||i.width,s=i.naturalHeight||i.videoHeight||i.height;return(r=e.call(this,n,s)||this).source=t,r.noSubImage=!1,r}return __extends$m(t,e),t.crossOrigin=function(e,t,r){void 0===r&&0!==t.indexOf("data:")?e.crossOrigin=determineCrossOrigin$1(t):!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous")},t.prototype.upload=function(e,t,r,i){var n=e.gl,s=t.realWidth,o=t.realHeight;if((i=i||this.source)instanceof HTMLImageElement){if(!i.complete||0===i.naturalWidth)return!1}else if(i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES$5.UNPACK),this.noSubImage||t.target!==n.TEXTURE_2D||r.width!==s||r.height!==o?(r.width=s,r.height=o,n.texImage2D(t.target,0,r.internalFormat,t.format,r.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,r.type,i),!0},t.prototype.update=function(){if(!this.destroyed){var t=this.source,r=t.naturalWidth||t.videoWidth||t.width,i=t.naturalHeight||t.videoHeight||t.height;this.resize(r,i),e.prototype.update.call(this)}},t.prototype.dispose=function(){this.source=null},t}(Resource$1),CanvasResource$1=function(e){function t(t){return e.call(this,t)||this}return __extends$m(t,e),t.test=function(e){var t=globalThis.OffscreenCanvas;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement},t}(BaseImageResource$1),CubeResource$1=function(e){function t(r,i){var n=this,s=i||{},o=s.width,a=s.height,l=s.autoLoad,h=s.linkBaseTexture;if(r&&r.length!==t.SIDES)throw new Error("Invalid length. Got "+r.length+", expected 6");n=e.call(this,6,{width:o,height:a})||this;for(var c=0;c<t.SIDES;c++)n.items[c].target=TARGETS$5.TEXTURE_CUBE_MAP_POSITIVE_X+c;return n.linkBaseTexture=!1!==h,r&&n.initFromArray(r,i),!1!==l&&n.load(),n}return __extends$m(t,e),t.prototype.bind=function(t){e.prototype.bind.call(this,t),t.target=TARGETS$5.TEXTURE_CUBE_MAP},t.prototype.addBaseTextureAt=function(e,t,r){if(!this.items[t])throw new Error("Index "+t+" is out of bounds");if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=TARGETS$5.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this},t.prototype.upload=function(e,r,i){for(var n=this.itemDirtyIds,s=0;s<t.SIDES;s++){var o=this.items[s];n[s]<o.dirtyId&&(o.valid&&o.resource?(o.resource.upload(e,o,i),n[s]=o.dirtyId):n[s]<-1&&(e.gl.texImage2D(o.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[s]=-1))}return!0},t.test=function(e){return Array.isArray(e)&&e.length===t.SIDES},t.SIDES=6,t}(AbstractMultiResource$1),ImageResource$1=function(e){function t(t,r){var i=this;if(r=r||{},!(t instanceof HTMLImageElement)){var n=new Image;BaseImageResource$1.crossOrigin(n,t,r.crossorigin),n.src=t,t=n}return i=e.call(this,t)||this,!t.complete&&i._width&&i._height&&(i._width=0,i._height=0),i.url=t.src,i._process=null,i.preserveBitmap=!1,i.createBitmap=(void 0!==r.createBitmap?r.createBitmap:settings$2.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,i.alphaMode="number"==typeof r.alphaMode?r.alphaMode:null,i.bitmap=null,i._load=null,!1!==r.autoLoad&&i.load(),i}return __extends$m(t,e),t.prototype.load=function(e){var t=this;return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise((function(e,r){var i=t.source;t.url=i.src;var n=function(){t.destroyed||(i.onload=null,i.onerror=null,t.resize(i.width,i.height),t._load=null,t.createBitmap?e(t.process()):e(t))};i.complete&&i.src?n():(i.onload=n,i.onerror=function(e){r(e),t.onError.emit(e)})}))),this._load},t.prototype.process=function(){var e=this,t=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);var r=globalThis.createImageBitmap,i=!t.crossOrigin||"anonymous"===t.crossOrigin;return this._process=fetch(t.src,{mode:i?"cors":"no-cors"}).then((function(e){return e.blob()})).then((function(i){return r(i,0,0,t.width,t.height,{premultiplyAlpha:e.alphaMode===ALPHA_MODES$5.UNPACK?"premultiply":"none"})})).then((function(t){return e.destroyed?Promise.reject():(e.bitmap=t,e.update(),e._process=null,Promise.resolve(e))})),this._process},t.prototype.upload=function(t,r,i){if("number"==typeof this.alphaMode&&(r.alphaMode=this.alphaMode),!this.createBitmap)return e.prototype.upload.call(this,t,r,i);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(e.prototype.upload.call(this,t,r,i,this.bitmap),!this.preserveBitmap){var n=!0,s=r._glTextures;for(var o in s){var a=s[o];if(a!==i&&a.dirtyId!==r.dirtyId){n=!1;break}}n&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0},t.prototype.dispose=function(){this.source.onload=null,this.source.onerror=null,e.prototype.dispose.call(this),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null},t.test=function(e){return"string"==typeof e||e instanceof HTMLImageElement},t}(BaseImageResource$1),SVGResource$1=function(e){function t(t,r){var i=this;return r=r||{},(i=e.call(this,document.createElement("canvas"))||this)._width=0,i._height=0,i.svg=t,i.scale=r.scale||1,i._overrideWidth=r.width,i._overrideHeight=r.height,i._resolve=null,i._crossorigin=r.crossorigin,i._load=null,!1!==r.autoLoad&&i.load(),i}return __extends$m(t,e),t.prototype.load=function(){var e=this;return this._load||(this._load=new Promise((function(r){if(e._resolve=function(){e.resize(e.source.width,e.source.height),r(e)},t.SVG_XML.test(e.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");e.svg="data:image/svg+xml;base64,"+btoa(unescape(encodeURIComponent(e.svg)))}e._loadSvg()}))),this._load},t.prototype._loadSvg=function(){var e=this,t=new Image;BaseImageResource$1.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=function(r){e._resolve&&(t.onerror=null,e.onError.emit(r))},t.onload=function(){if(e._resolve){var r=t.width,i=t.height;if(!r||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");var n=r*e.scale,s=i*e.scale;(e._overrideWidth||e._overrideHeight)&&(n=e._overrideWidth||e._overrideHeight/i*r,s=e._overrideHeight||e._overrideWidth/r*i),n=Math.round(n),s=Math.round(s);var o=e.source;o.width=n,o.height=s,o._pixiId="canvas_"+uid$1(),o.getContext("2d").drawImage(t,0,0,r,i,0,0,n,s),e._resolve(),e._resolve=null}}},t.getSize=function(e){var r=t.SVG_SIZE.exec(e),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._resolve=null,this._crossorigin=null},t.test=function(e,r){return"svg"===r||"string"==typeof e&&/^data:image\/svg\+xml(;(charset=utf8|utf8))?;base64/.test(e)||"string"==typeof e&&t.SVG_XML.test(e)},t.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,t.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,t}(BaseImageResource$1),VideoResource$1=function(e){function t(r,i){var n=this;if(i=i||{},!(r instanceof HTMLVideoElement)){var s=document.createElement("video");s.setAttribute("preload","auto"),s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),"string"==typeof r&&(r=[r]);var o=r[0].src||r[0];BaseImageResource$1.crossOrigin(s,o,i.crossorigin);for(var a=0;a<r.length;++a){var l=document.createElement("source"),h=r[a],c=h.src,u=h.mime,d=(c=c||r[a]).split("?").shift().toLowerCase(),p=d.slice(d.lastIndexOf(".")+1);u=u||t.MIME_TYPES[p]||"video/"+p,l.src=c,l.type=u,s.appendChild(l)}r=s}return(n=e.call(this,r)||this).noSubImage=!0,n._autoUpdate=!0,n._isConnectedToTicker=!1,n._updateFPS=i.updateFPS||0,n._msToNextUpdate=0,n.autoPlay=!1!==i.autoPlay,n._load=null,n._resolve=null,n._onCanPlay=n._onCanPlay.bind(n),n._onError=n._onError.bind(n),!1!==i.autoLoad&&n.load(),n}return __extends$m(t,e),t.prototype.update=function(t){if(!this.destroyed){var r=Ticker$1.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-r),(!this._updateFPS||this._msToNextUpdate<=0)&&(e.prototype.update.call(this),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}},t.prototype.load=function(){var e=this;if(this._load)return this._load;var t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise((function(r){e.valid?r(e):(e._resolve=r,t.load())})),this._load},t.prototype._onError=function(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e)},t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&!1===e.paused&&!1===e.ended&&e.readyState>2},t.prototype._isSourceReady=function(){var e=this.source;return 3===e.readyState||4===e.readyState},t.prototype._onPlayStart=function(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0)},t.prototype._onPlayStop=function(){this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1)},t.prototype._onCanPlay=function(){var e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);var t=this.valid;this.resize(e.videoWidth,e.videoHeight),!t&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()},t.prototype.dispose=function(){this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1);var t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"updateFPS",{get:function(){return this._updateFPS},set:function(e){e!==this._updateFPS&&(this._updateFPS=e)},enumerable:!1,configurable:!0}),t.test=function(e,r){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||t.TYPES.indexOf(r)>-1},t.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],t.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},t}(BaseImageResource$1),ImageBitmapResource$1=function(e){function t(t){return e.call(this,t)||this}return __extends$m(t,e),t.test=function(e){return!!globalThis.createImageBitmap&&e instanceof ImageBitmap},t}(BaseImageResource$1);INSTALLED$1.push(ImageResource$1,ImageBitmapResource$1,CanvasResource$1,VideoResource$1,SVGResource$1,BufferResource$1,CubeResource$1,ArrayResource$1);var DepthResource=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends$m(t,e),t.prototype.upload=function(e,t,r){var i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES$5.UNPACK);var n=t.realWidth,s=t.realHeight;return r.width===n&&r.height===s?i.texSubImage2D(t.target,0,0,0,n,s,t.format,r.type,this.data):(r.width=n,r.height=s,i.texImage2D(t.target,0,r.internalFormat,n,s,0,t.format,r.type,this.data)),!0},t}(BufferResource$1),Framebuffer$1=function(){function e(e,t){this.width=Math.round(e||100),this.height=Math.round(t||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner$1("disposeFramebuffer"),this.multisample=MSAA_QUALITY$5.NONE}return Object.defineProperty(e.prototype,"colorTexture",{get:function(){return this.colorTextures[0]},enumerable:!1,configurable:!0}),e.prototype.addColorTexture=function(e,t){return void 0===e&&(e=0),this.colorTextures[e]=t||new BaseTexture$1(null,{scaleMode:SCALE_MODES$5.NEAREST,resolution:1,mipmap:MIPMAP_MODES$5.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.addDepthTexture=function(e){return this.depthTexture=e||new BaseTexture$1(new DepthResource(null,{width:this.width,height:this.height}),{scaleMode:SCALE_MODES$5.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES$5.OFF,format:FORMATS$5.DEPTH_COMPONENT,type:TYPES$5.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableDepth=function(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.enableStencil=function(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this},e.prototype.resize=function(e,t){if(e=Math.round(e),t=Math.round(t),e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(var r=0;r<this.colorTextures.length;r++){var i=this.colorTextures[r],n=i.resolution;i.setSize(e/n,t/n)}this.depthTexture&&(n=this.depthTexture.resolution,this.depthTexture.setSize(e/n,t/n))}},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroyDepthTexture=function(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)},e}(),BaseRenderTexture$1=function(e){function t(t){void 0===t&&(t={});var r=this;return"number"==typeof t&&(t={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),t.width=t.width||100,t.height=t.height||100,t.multisample=void 0!==t.multisample?t.multisample:MSAA_QUALITY$5.NONE,(r=e.call(this,null,t)||this).mipmap=MIPMAP_MODES$5.OFF,r.valid=!0,r.clearColor=[0,0,0,0],r.framebuffer=new Framebuffer$1(r.realWidth,r.realHeight).addColorTexture(0,r),r.framebuffer.multisample=t.multisample,r.maskStack=[],r.filterStack=[{}],r}return __extends$m(t,e),t.prototype.resize=function(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)},t.prototype.dispose=function(){this.framebuffer.dispose(),e.prototype.dispose.call(this)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.framebuffer.destroyDepthTexture(),this.framebuffer=null},t}(BaseTexture$1),TextureUvs$1=function(){function e(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}return e.prototype.set=function(e,t,r){var i=t.width,n=t.height;if(r){var s=e.width/2/i,o=e.height/2/n,a=e.x/i+s,l=e.y/n+o;r=groupD8$1.add(r,groupD8$1.NW),this.x0=a+s*groupD8$1.uX(r),this.y0=l+o*groupD8$1.uY(r),r=groupD8$1.add(r,2),this.x1=a+s*groupD8$1.uX(r),this.y1=l+o*groupD8$1.uY(r),r=groupD8$1.add(r,2),this.x2=a+s*groupD8$1.uX(r),this.y2=l+o*groupD8$1.uY(r),r=groupD8$1.add(r,2),this.x3=a+s*groupD8$1.uX(r),this.y3=l+o*groupD8$1.uY(r)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3},e.prototype.toString=function(){return"[@pixi/core:TextureUvs x0="+this.x0+" y0="+this.y0+" x1="+this.x1+" y1="+this.y1+" x2="+this.x2+" y2="+this.y2+" x3="+this.x3+" y3="+this.y3+"]"},e}(),DEFAULT_UVS$1=new TextureUvs$1;function removeAllHandlers$1(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}var Texture$1=function(e){function t(r,i,n,s,o,a){var l=e.call(this)||this;if(l.noFrame=!1,i||(l.noFrame=!0,i=new Rectangle$1(0,0,1,1)),r instanceof t&&(r=r.baseTexture),l.baseTexture=r,l._frame=i,l.trim=s,l.valid=!1,l._uvs=DEFAULT_UVS$1,l.uvMatrix=null,l.orig=n||i,l._rotate=Number(o||0),!0===o)l._rotate=2;else if(l._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return l.defaultAnchor=a?new Point$1(a.x,a.y):new Point$1(0,0),l._updateID=0,l.textureCacheIds=[],r.valid?l.noFrame?r.valid&&l.onBaseTextureUpdated(r):l.frame=i:r.once("loaded",l.onBaseTextureUpdated,l),l.noFrame&&r.on("update",l.onBaseTextureUpdated,l),l}return __extends$m(t,e),t.prototype.update=function(){this.baseTexture.resource&&this.baseTexture.resource.update()},t.prototype.onBaseTextureUpdated=function(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)},t.prototype.destroy=function(e){if(this.baseTexture){if(e){var r=this.baseTexture.resource;r&&r.url&&TextureCache$1[r.url]&&t.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,t.removeFromCache(this),this.textureCacheIds=null},t.prototype.clone=function(){var e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),i=new t(this.baseTexture,!this.noFrame&&e,r,this.trim&&this.trim.clone(),this.rotate,this.defaultAnchor);return this.noFrame&&(i._frame=e),i},t.prototype.updateUvs=function(){this._uvs===DEFAULT_UVS$1&&(this._uvs=new TextureUvs$1),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.from=function(e,r,i){void 0===r&&(r={}),void 0===i&&(i=settings$2.STRICT_TEXTURE_CACHE);var n="string"==typeof e,s=null;if(n)s=e;else if(e instanceof BaseTexture$1){if(!e.cacheId){var o=r&&r.pixiIdPrefix||"pixiid";e.cacheId=o+"-"+uid$1(),BaseTexture$1.addToCache(e,e.cacheId)}s=e.cacheId}else e._pixiId||(o=r&&r.pixiIdPrefix||"pixiid",e._pixiId=o+"_"+uid$1()),s=e._pixiId;var a=TextureCache$1[s];if(n&&i&&!a)throw new Error('The cacheId "'+s+'" does not exist in TextureCache.');return a||e instanceof BaseTexture$1?!a&&e instanceof BaseTexture$1&&(a=new t(e),t.addToCache(a,s)):(r.resolution||(r.resolution=getResolutionOfUrl$1(e)),(a=new t(new BaseTexture$1(e,r))).baseTexture.cacheId=s,BaseTexture$1.addToCache(a.baseTexture,s),t.addToCache(a,s)),a},t.fromURL=function(e,r){var i=Object.assign({autoLoad:!1},null==r?void 0:r.resourceOptions),n=t.from(e,Object.assign({resourceOptions:i},r),!1),s=n.baseTexture.resource;return n.baseTexture.valid?Promise.resolve(n):s.load().then((function(){return Promise.resolve(n)}))},t.fromBuffer=function(e,r,i,n){return new t(BaseTexture$1.fromBuffer(e,r,i,n))},t.fromLoader=function(e,r,i,n){var s=new BaseTexture$1(e,Object.assign({scaleMode:settings$2.SCALE_MODE,resolution:getResolutionOfUrl$1(r)},n)),o=s.resource;o instanceof ImageResource$1&&(o.url=r);var a=new t(s);return i||(i=r),BaseTexture$1.addToCache(a.baseTexture,i),t.addToCache(a,i),i!==r&&(BaseTexture$1.addToCache(a.baseTexture,r),t.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise((function(e){a.baseTexture.once("loaded",(function(){return e(a)}))}))},t.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),TextureCache$1[t]&&console.warn("Texture added to the cache with an id ["+t+"] that already had an entry"),TextureCache$1[t]=e)},t.removeFromCache=function(e){if("string"==typeof e){var t=TextureCache$1[e];if(t){var r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete TextureCache$1[e],t}}else if(e&&e.textureCacheIds){for(var i=0;i<e.textureCacheIds.length;++i)TextureCache$1[e.textureCacheIds[i]]===e&&delete TextureCache$1[e.textureCacheIds[i]];return e.textureCacheIds.length=0,e}return null},Object.defineProperty(t.prototype,"resolution",{get:function(){return this.baseTexture.resolution},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frame",{get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,r=e.y,i=e.width,n=e.height,s=t+i>this.baseTexture.width,o=r+n>this.baseTexture.height;if(s||o){var a=s&&o?"and":"or",l="X: "+t+" + "+i+" = "+(t+i)+" > "+this.baseTexture.width,h="Y: "+r+" + "+n+" = "+(r+n)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+a+" "+h)}this.valid=i&&n&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotate",{get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this.updateUvs()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this.orig.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.orig.height},enumerable:!1,configurable:!0}),t.prototype.castToBaseTexture=function(){return this.baseTexture},Object.defineProperty(t,"EMPTY",{get:function(){return t._EMPTY||(t._EMPTY=new t(new BaseTexture$1),removeAllHandlers$1(t._EMPTY),removeAllHandlers$1(t._EMPTY.baseTexture)),t._EMPTY},enumerable:!1,configurable:!0}),Object.defineProperty(t,"WHITE",{get:function(){if(!t._WHITE){var e=document.createElement("canvas"),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),t._WHITE=new t(new BaseTexture$1(new CanvasResource$1(e))),removeAllHandlers$1(t._WHITE),removeAllHandlers$1(t._WHITE.baseTexture)}return t._WHITE},enumerable:!1,configurable:!0}),t}(EventEmitter$2),RenderTexture$1=function(e){function t(t,r){var i=e.call(this,t,r)||this;return i.valid=!0,i.filterFrame=null,i.filterPoolKey=null,i.updateUvs(),i}return __extends$m(t,e),Object.defineProperty(t.prototype,"framebuffer",{get:function(){return this.baseTexture.framebuffer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"multisample",{get:function(){return this.framebuffer.multisample},set:function(e){this.framebuffer.multisample=e},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t,r){void 0===r&&(r=!0);var i=this.baseTexture.resolution,n=Math.round(e*i)/i,s=Math.round(t*i)/i;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,r&&this.baseTexture.resize(n,s),this.updateUvs()},t.prototype.setResolution=function(e){var t=this.baseTexture;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))},t.create=function(e){for(var r=arguments,i=[],n=1;n<arguments.length;n++)i[n-1]=r[n];return"number"==typeof e&&(deprecation$1("6.0.0","Arguments (width, height, scaleMode, resolution) have been deprecated."),e={width:e,height:i[0],scaleMode:i[1],resolution:i[2]}),new t(new BaseRenderTexture$1(e))},t}(Texture$1),RenderTexturePool$1=function(){function e(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}return e.prototype.createTexture=function(e,t,r){void 0===r&&(r=MSAA_QUALITY$5.NONE);var i=new BaseRenderTexture$1(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new RenderTexture$1(i)},e.prototype.getOptimalTexture=function(e,t,r,i){var n;void 0===r&&(r=1),void 0===i&&(i=MSAA_QUALITY$5.NONE),e=Math.ceil(e*r-1e-6),t=Math.ceil(t*r-1e-6),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=i>1?-i:-1:(n=((65535&(e=nextPow2$1(e)))<<16|65535&(t=nextPow2$1(t)))>>>0,i>1&&(n+=4294967296*i)),this.texturePool[n]||(this.texturePool[n]=[]);var s=this.texturePool[n].pop();return s||(s=this.createTexture(e,t,i)),s.filterPoolKey=n,s.setResolution(r),s},e.prototype.getFilterTexture=function(e,t,r){var i=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY$5.NONE);return i.filterFrame=e.filterFrame,i},e.prototype.returnTexture=function(e){var t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)},e.prototype.returnFilterTexture=function(e){this.returnTexture(e)},e.prototype.clear=function(e){if(e=!1!==e)for(var t in this.texturePool){var r=this.texturePool[t];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0)}this.texturePool={}},e.prototype.setScreenSize=function(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){for(var t in this.enableFullScreen=e.width>0&&e.height>0,this.texturePool)if(Number(t)<0){var r=this.texturePool[t];if(r)for(var i=0;i<r.length;i++)r[i].destroy(!0);this.texturePool[t]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}},e.SCREEN_KEY=-1,e}(),Attribute$1=function(){function e(e,t,r,i,n,s,o){void 0===t&&(t=0),void 0===r&&(r=!1),void 0===i&&(i=TYPES$5.FLOAT),this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=n,this.start=s,this.instance=o}return e.prototype.destroy=function(){this.buffer=null},e.from=function(t,r,i,n,s){return new e(t,r,i,n,s)},e}(),UID$4$1=0,Buffer$2=function(){function e(e,t,r){void 0===t&&(t=!0),void 0===r&&(r=!1),this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=UID$4$1++,this.disposeRunner=new Runner$1("disposeBuffer")}return e.prototype.update=function(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.data=null},Object.defineProperty(e.prototype,"index",{get:function(){return this.type===BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER},set:function(e){this.type=e?BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE$5.ARRAY_BUFFER},enumerable:!1,configurable:!0}),e.from=function(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)},e}(),map$1$1={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function interleaveTypedArrays$1(e,t){for(var r=0,i=0,n={},s=0;s<e.length;s++)i+=t[s],r+=e[s].length;var o=new ArrayBuffer(4*r),a=null,l=0;for(s=0;s<e.length;s++){var h=t[s],c=e[s],u=getBufferType$1(c);n[u]||(n[u]=new map$1$1[u](o)),a=n[u];for(var d=0;d<c.length;d++)a[(d/h|0)*i+l+d%h]=c[d];l+=h}return new Float32Array(o)}var byteSizeMap$1$1={5126:4,5123:2,5121:1},UID$3$1=0,map$2={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array},Geometry$1=function(){function e(e,t){void 0===e&&(e=[]),void 0===t&&(t={}),this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=UID$3$1++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner$1("disposeGeometry"),this.refCount=0}return e.prototype.addAttribute=function(e,t,r,i,n,s,o,a){if(void 0===r&&(r=0),void 0===i&&(i=!1),void 0===a&&(a=!1),!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Buffer$2||(t instanceof Array&&(t=new Float32Array(t)),t=new Buffer$2(t));var l=e.split("|");if(l.length>1){for(var h=0;h<l.length;h++)this.addAttribute(l[h],t,r,i,n);return this}var c=this.buffers.indexOf(t);return-1===c&&(this.buffers.push(t),c=this.buffers.length-1),this.attributes[e]=new Attribute$1(c,r,i,n,s,o,a),this.instanced=this.instanced||a,this},e.prototype.getAttribute=function(e){return this.attributes[e]},e.prototype.getBuffer=function(e){return this.buffers[this.getAttribute(e).buffer]},e.prototype.addIndex=function(e){return e instanceof Buffer$2||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer$2(e)),e.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,-1===this.buffers.indexOf(e)&&this.buffers.push(e),this},e.prototype.getIndex=function(){return this.indexBuffer},e.prototype.interleave=function(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;var e,t=[],r=[],i=new Buffer$2;for(e in this.attributes){var n=this.attributes[e],s=this.buffers[n.buffer];t.push(s.data),r.push(n.size*byteSizeMap$1$1[n.type]/4),n.buffer=0}for(i.data=interleaveTypedArrays$1(t,r),e=0;e<this.buffers.length;e++)this.buffers[e]!==this.indexBuffer&&this.buffers[e].destroy();return this.buffers=[i],this.indexBuffer&&this.buffers.push(this.indexBuffer),this},e.prototype.getSize=function(){for(var e in this.attributes){var t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0},e.prototype.dispose=function(){this.disposeRunner.emit(this,!1)},e.prototype.destroy=function(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null},e.prototype.clone=function(){for(var t=new e,r=0;r<this.buffers.length;r++)t.buffers[r]=new Buffer$2(this.buffers[r].data.slice(0));for(var r in this.attributes){var i=this.attributes[r];t.attributes[r]=new Attribute$1(i.buffer,i.size,i.normalized,i.type,i.stride,i.start,i.instance)}return this.indexBuffer&&(t.indexBuffer=t.buffers[this.buffers.indexOf(this.indexBuffer)],t.indexBuffer.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER),t},e.merge=function(t){for(var r,i=new e,n=[],s=[],o=[],a=0;a<t.length;a++){r=t[a];for(var l=0;l<r.buffers.length;l++)s[l]=s[l]||0,s[l]+=r.buffers[l].data.length,o[l]=0}for(a=0;a<r.buffers.length;a++)n[a]=new(map$2[getBufferType$1(r.buffers[a].data)])(s[a]),i.buffers[a]=new Buffer$2(n[a]);for(a=0;a<t.length;a++)for(r=t[a],l=0;l<r.buffers.length;l++)n[l].set(r.buffers[l].data,o[l]),o[l]+=r.buffers[l].data.length;if(i.attributes=r.attributes,r.indexBuffer){i.indexBuffer=i.buffers[r.buffers.indexOf(r.indexBuffer)],i.indexBuffer.type=BUFFER_TYPE$5.ELEMENT_ARRAY_BUFFER;var h=0,c=0,u=0,d=0;for(a=0;a<r.buffers.length;a++)if(r.buffers[a]!==r.indexBuffer){d=a;break}for(var a in r.attributes){var p=r.attributes[a];(0|p.buffer)===d&&(c+=p.size*byteSizeMap$1$1[p.type]/4)}for(a=0;a<t.length;a++){var f=t[a].indexBuffer.data;for(l=0;l<f.length;l++)i.indexBuffer.data[l+u]+=h;h+=t[a].buffers[d].data.length/c,u+=f.length}}return i},e}(),Quad$1=function(e){function t(){var t=e.call(this)||this;return t.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2]),t}return __extends$m(t,e),t}(Geometry$1),QuadUv$1=function(e){function t(){var t=e.call(this)||this;return t.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),t.uvs=new Float32Array([0,0,1,0,1,1,0,1]),t.vertexBuffer=new Buffer$2(t.vertices),t.uvBuffer=new Buffer$2(t.uvs),t.addAttribute("aVertexPosition",t.vertexBuffer).addAttribute("aTextureCoord",t.uvBuffer).addIndex([0,1,2,0,2,3]),t}return __extends$m(t,e),t.prototype.map=function(e,t){var r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this},t.prototype.invalidate=function(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this},t}(Geometry$1),UID$2$1=0,UniformGroup$1=function(){function e(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$2$1++,this.static=!!t,this.ubo=!!r,e instanceof Buffer$2?(this.buffer=e,this.buffer.type=BUFFER_TYPE$5.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer$2(new Float32Array(1)),this.buffer.type=BUFFER_TYPE$5.UNIFORM_BUFFER,this.autoManage=!0))}return e.prototype.update=function(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()},e.prototype.add=function(t,r,i){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[t]=new e(r,i)},e.from=function(t,r,i){return new e(t,r,i)},e.uboFrom=function(t,r){return new e(t,null==r||r,!0)},e}(),FilterState$1=function(){function e(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY$5.NONE,this.sourceFrame=new Rectangle$1,this.destinationFrame=new Rectangle$1,this.bindingSourceFrame=new Rectangle$1,this.bindingDestinationFrame=new Rectangle$1,this.filters=[],this.transform=null}return e.prototype.clear=function(){this.target=null,this.filters=null,this.renderTexture=null},e}(),tempPoints$2=[new Point$1,new Point$1,new Point$1,new Point$1],tempMatrix$2=new Matrix$1,FilterSystem$1=function(){function e(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool$1,this.texturePool.setScreenSize(e.view),this.statePool=[],this.quad=new Quad$1,this.quadUv=new QuadUv$1,this.tempRect=new Rectangle$1,this.activeState={},this.globalUniforms=new UniformGroup$1({outputFrame:new Rectangle$1,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}return e.prototype.push=function(e,t){for(var r,i,n=this.renderer,s=this.defaultFilterStack,o=this.statePool.pop()||new FilterState$1,a=this.renderer.renderTexture,l=t[0].resolution,h=t[0].multisample,c=t[0].padding,u=t[0].autoFit,d=null===(r=t[0].legacy)||void 0===r||r,p=1;p<t.length;p++){var f=t[p];l=Math.min(l,f.resolution),h=Math.min(h,f.multisample),c=this.useMaxPadding?Math.max(c,f.padding):c+f.padding,u=u&&f.autoFit,d=d||null===(i=f.legacy)||void 0===i||i}1===s.length&&(this.defaultFilterStack[0].renderTexture=a.current),s.push(o),o.resolution=l,o.multisample=h,o.legacy=d,o.target=e,o.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),o.sourceFrame.pad(c);var _=this.tempRect.copyFrom(a.sourceFrame);n.projection.transform&&this.transformAABB(tempMatrix$2.copyFrom(n.projection.transform).invert(),_),u?(o.sourceFrame.fit(_),(o.sourceFrame.width<=0||o.sourceFrame.height<=0)&&(o.sourceFrame.width=0,o.sourceFrame.height=0)):o.sourceFrame.intersects(_)||(o.sourceFrame.width=0,o.sourceFrame.height=0),this.roundFrame(o.sourceFrame,a.current?a.current.resolution:n.resolution,a.sourceFrame,a.destinationFrame,n.projection.transform),o.renderTexture=this.getOptimalFilterTexture(o.sourceFrame.width,o.sourceFrame.height,l,h),o.filters=t,o.destinationFrame.width=o.renderTexture.width,o.destinationFrame.height=o.renderTexture.height;var m=this.tempRect;m.x=0,m.y=0,m.width=o.sourceFrame.width,m.height=o.sourceFrame.height,o.renderTexture.filterFrame=o.sourceFrame,o.bindingSourceFrame.copyFrom(a.sourceFrame),o.bindingDestinationFrame.copyFrom(a.destinationFrame),o.transform=n.projection.transform,n.projection.transform=null,a.bind(o.renderTexture,o.sourceFrame,m),n.framebuffer.clear(0,0,0,0)},e.prototype.pop=function(){var e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;var i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;var n=i.inputSize,s=i.inputPixel,o=i.inputClamp;if(n[0]=t.destinationFrame.width,n[1]=t.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=Math.round(n[0]*t.resolution),s[1]=Math.round(n[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=t.sourceFrame.width*n[2]-.5*s[2],o[3]=t.sourceFrame.height*n[3]-.5*s[3],t.legacy){var a=i.filterArea;a[0]=t.destinationFrame.width,a[1]=t.destinationFrame.height,a[2]=t.sourceFrame.x,a[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();var l=e[e.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,l.renderTexture,CLEAR_MODES$5.BLEND,t),this.returnFilterTexture(t.renderTexture);else{var h=t.renderTexture,c=this.getOptimalFilterTexture(h.width,h.height,t.resolution);c.filterFrame=h.filterFrame;var u=0;for(u=0;u<r.length-1;++u){1===u&&t.multisample>1&&((c=this.getOptimalFilterTexture(h.width,h.height,t.resolution)).filterFrame=h.filterFrame),r[u].apply(this,h,c,CLEAR_MODES$5.CLEAR,t);var d=h;h=c,c=d}r[u].apply(this,h,l.renderTexture,CLEAR_MODES$5.BLEND,t),u>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(c)}t.clear(),this.statePool.push(t)},e.prototype.bindAndClear=function(e,t){void 0===t&&(t=CLEAR_MODES$5.CLEAR);var r=this.renderer,i=r.renderTexture,n=r.state;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e&&e.filterFrame){var s=this.tempRect;s.x=0,s.y=0,s.width=e.filterFrame.width,s.height=e.filterFrame.height,i.bind(e,e.filterFrame,s)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?i.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);var o=1&n.stateId||this.forceClear;(t===CLEAR_MODES$5.CLEAR||t===CLEAR_MODES$5.BLIT&&o)&&this.renderer.framebuffer.clear(0,0,0,0)},e.prototype.applyFilter=function(e,t,r,i){var n=this.renderer;n.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(DRAW_MODES$5.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(DRAW_MODES$5.TRIANGLE_STRIP))},e.prototype.calculateSpriteMatrix=function(e,t){var r=this.activeState,i=r.sourceFrame,n=r.destinationFrame,s=t._texture.orig,o=e.set(n.width,0,0,n.height,i.x,i.y),a=t.worldTransform.copyTo(Matrix$1.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(t.anchor.x,t.anchor.y),o},e.prototype.destroy=function(){this.renderer=null,this.texturePool.clear(!1)},e.prototype.getOptimalFilterTexture=function(e,t,r,i){return void 0===r&&(r=1),void 0===i&&(i=MSAA_QUALITY$5.NONE),this.texturePool.getOptimalTexture(e,t,r,i)},e.prototype.getFilterTexture=function(e,t,r){if("number"==typeof e){var i=e;e=t,t=i}e=e||this.activeState.renderTexture;var n=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY$5.NONE);return n.filterFrame=e.filterFrame,n},e.prototype.returnFilterTexture=function(e){this.texturePool.returnTexture(e)},e.prototype.emptyPool=function(){this.texturePool.clear(!0)},e.prototype.resize=function(){this.texturePool.setScreenSize(this.renderer.view)},e.prototype.transformAABB=function(e,t){var r=tempPoints$2[0],i=tempPoints$2[1],n=tempPoints$2[2],s=tempPoints$2[3];r.set(t.left,t.top),i.set(t.left,t.bottom),n.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(r,r),e.apply(i,i),e.apply(n,n),e.apply(s,s);var o=Math.min(r.x,i.x,n.x,s.x),a=Math.min(r.y,i.y,n.y,s.y),l=Math.max(r.x,i.x,n.x,s.x),h=Math.max(r.y,i.y,n.y,s.y);t.x=o,t.y=a,t.width=l-o,t.height=h-a},e.prototype.roundFrame=function(e,t,r,i,n){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(n){var s=n.a,o=n.b,a=n.c,l=n.d;if((Math.abs(o)>1e-4||Math.abs(a)>1e-4)&&(Math.abs(s)>1e-4||Math.abs(l)>1e-4))return}(n=n?tempMatrix$2.copyFrom(n):tempMatrix$2.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}},e}(),ObjectRenderer$1=function(){function e(e){this.renderer=e}return e.prototype.flush=function(){},e.prototype.destroy=function(){this.renderer=null},e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.render=function(e){},e}(),BatchSystem$1=function(){function e(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer$1(e),this.currentRenderer=this.emptyRenderer}return e.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.copyBoundTextures=function(e,t){for(var r=this.renderer.texture.boundTextures,i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)},e.prototype.boundArray=function(e,t,r,i){for(var n=e.elements,s=e.ids,o=e.count,a=0,l=0;l<o;l++){var h=n[l],c=h._batchLocation;if(c>=0&&c<i&&t[c]===h)s[l]=c;else for(;a<i;){var u=t[a];if(!u||u._batchEnabled!==r||u._batchLocation!==a){s[l]=a,h._batchLocation=a,t[a]=h;break}a++}}},e.prototype.destroy=function(){this.renderer=null},e}(),CONTEXT_UID_COUNTER$1=0,ContextSystem$1=function(){function e(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this),e.view.addEventListener("webglcontextlost",this.handleContextLost,!1),e.view.addEventListener("webglcontextrestored",this.handleContextRestored,!1)}return Object.defineProperty(e.prototype,"isLost",{get:function(){return!this.gl||this.gl.isContextLost()},enumerable:!1,configurable:!0}),e.prototype.contextChange=function(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER$1++,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext()},e.prototype.initFromContext=function(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER$1++,this.renderer.runners.contextChange.emit(e)},e.prototype.initFromOptions=function(e){var t=this.createContext(this.renderer.view,e);this.initFromContext(t)},e.prototype.createContext=function(e,t){var r;if(settings$2.PREFER_ENV>=ENV$5.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,!(r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t)))throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl},e.prototype.getExtensions=function(){var e=this.gl,t={anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),loseContext:e.getExtension("WEBGL_lose_context"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})},e.prototype.handleContextLost=function(e){e.preventDefault()},e.prototype.handleContextRestored=function(){this.renderer.runners.contextChange.emit(this.gl)},e.prototype.destroy=function(){var e=this.renderer.view;this.renderer=null,e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()},e.prototype.postrender=function(){this.renderer.renderingToScreen&&this.gl.flush()},e.prototype.validateContext=function(e){var t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");var i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")},e}(),GLFramebuffer$1=function(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY$5.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0},tempRectangle$1=new Rectangle$1,FramebufferSystem$1=function(){function e(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer$1(10,10),this.msaaSamples=null}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle$1,this.hasMRT=!0,this.writeDepthTexture=!0,this.disposeAll(!0),1===this.renderer.context.webGLVersion){var t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;settings$2.PREFER_ENV===ENV$5.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=function(e){return t.drawBuffersWEBGL(e)}:(this.hasMRT=!1,e.drawBuffers=function(){}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)},e.prototype.bind=function(e,t,r){void 0===r&&(r=0);var i=this.gl;if(e){var n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=r),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(var s=0;s<e.colorTextures.length;s++){var o=e.colorTextures[s];this.renderer.texture.unbind(o.parentTextureArray||o)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){var a=t.width>>r,l=t.height>>r,h=a/t.width;this.setViewport(t.x*h,t.y*h,a,l)}else a=e.width>>r,l=e.height>>r,this.setViewport(0,0,a,l)}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)},e.prototype.setViewport=function(e,t,r,i){var n=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),(n.width!==r||n.height!==i||n.x!==e||n.y!==t)&&(n.x=e,n.y=t,n.width=r,n.height=i,this.gl.viewport(e,t,r,i))},Object.defineProperty(e.prototype,"size",{get:function(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}},enumerable:!1,configurable:!0}),e.prototype.clear=function(e,t,r,i,n){void 0===n&&(n=BUFFER_BITS$5.COLOR|BUFFER_BITS$5.DEPTH);var s=this.gl;s.clearColor(e,t,r,i),s.clear(n)},e.prototype.initFramebuffer=function(e){var t=this.gl,r=new GLFramebuffer$1(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r},e.prototype.resizeFramebuffer=function(e){var t=this.gl,r=e.glFramebuffers[this.CONTEXT_UID];r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.RGBA8,e.width,e.height)),r.stencil&&(t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,t.DEPTH24_STENCIL8,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,e.width,e.height));var i=e.colorTextures,n=i.length;t.drawBuffers||(n=Math.min(n,1));for(var s=0;s<n;s++){var o=i[s],a=o.parentTextureArray||o;this.renderer.texture.bind(a,0)}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)},e.prototype.updateFramebuffer=function(e,t){var r=this.gl,i=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures,s=n.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?(i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.RGBA8,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));for(var o=[],a=0;a<s;a++){var l=n[a],h=l.parentTextureArray||l;this.renderer.texture.bind(h,0),(0!==a||!i.msaaBuffer)&&(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,l.target,h._glTextures[this.CONTEXT_UID].texture,t),o.push(r.COLOR_ATTACHMENT0+a))}if(o.length>1&&r.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){var c=e.depthTexture;this.renderer.texture.bind(c,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,t)}!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture?i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null):(i.stencil=i.stencil||r.createRenderbuffer(),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.DEPTH_STENCIL_ATTACHMENT,r.RENDERBUFFER,i.stencil))},e.prototype.canMultisampleFramebuffer=function(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture},e.prototype.detectSamples=function(e){var t=this.msaaSamples,r=MSAA_QUALITY$5.NONE;if(e<=1||null===t)return r;for(var i=0;i<t.length;i++)if(t[i]<=e){r=t[i];break}return 1===r&&(r=MSAA_QUALITY$5.NONE),r},e.prototype.blit=function(e,t,r){var i=this,n=i.current,s=i.renderer,o=i.gl,a=i.CONTEXT_UID;if(2===s.context.webGLVersion&&n){var l=n.glFramebuffers[a];if(l){if(!e){if(!l.msaaBuffer)return;var h=n.colorTextures[0];if(!h)return;l.blitFramebuffer||(l.blitFramebuffer=new Framebuffer$1(n.width,n.height),l.blitFramebuffer.addColorTexture(0,h)),(e=l.blitFramebuffer).colorTextures[0]!==h&&(e.colorTextures[0]=h,e.dirtyId++,e.dirtyFormat++),(e.width!==n.width||e.height!==n.height)&&(e.width=n.width,e.height=n.height,e.dirtyId++,e.dirtySize++)}t||((t=tempRectangle$1).width=n.width,t.height=n.height),r||(r=t);var c=t.width===r.width&&t.height===r.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,l.framebuffer),o.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR)}}},e.prototype.disposeFramebuffer=function(e,t){var r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(r){delete e.glFramebuffers[this.CONTEXT_UID];var n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&r.blitFramebuffer.dispose()}},e.prototype.disposeAll=function(e){var t=this.managedFramebuffers;this.managedFramebuffers=[];for(var r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)},e.prototype.forceStencil=function(){var e=this.current;if(e){var t=e.glFramebuffers[this.CONTEXT_UID];if(t&&!t.stencil){e.stencil=!0;var r=e.width,i=e.height,n=this.gl,s=n.createRenderbuffer();n.bindRenderbuffer(n.RENDERBUFFER,s),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,n.DEPTH24_STENCIL8,r,i):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,r,i),t.stencil=s,n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,s)}}},e.prototype.reset=function(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle$1},e.prototype.destroy=function(){this.renderer=null},e}(),byteSizeMap$2={5126:4,5123:2,5121:1},GeometrySystem$1=function(){function e(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}return e.prototype.contextChange=function(){this.disposeAll(!0);var e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){var r=this.renderer.context.extensions.vertexArrayObject;settings$2.PREFER_ENV===ENV$5.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=function(){return r.createVertexArrayOES()},e.bindVertexArray=function(e){return r.bindVertexArrayOES(e)},e.deleteVertexArray=function(e){return r.deleteVertexArrayOES(e)}):(this.hasVao=!1,e.createVertexArray=function(){return null},e.bindVertexArray=function(){return null},e.deleteVertexArray=function(){return null})}if(2!==t.webGLVersion){var i=e.getExtension("ANGLE_instanced_arrays");i?(e.vertexAttribDivisor=function(e,t){return i.vertexAttribDivisorANGLE(e,t)},e.drawElementsInstanced=function(e,t,r,n,s){return i.drawElementsInstancedANGLE(e,t,r,n,s)},e.drawArraysInstanced=function(e,t,r,n){return i.drawArraysInstancedANGLE(e,t,r,n)}):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex},e.prototype.bind=function(e,t){t=t||this.renderer.shader.shader;var r=this.gl,i=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);var s=i[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()},e.prototype.reset=function(){this.unbind()},e.prototype.updateBuffers=function(){for(var e=this._activeGeometry,t=this.renderer.buffer,r=0;r<e.buffers.length;r++){var i=e.buffers[r];t.update(i)}},e.prototype.checkCompatibility=function(e,t){var r=e.attributes,i=t.attributeData;for(var n in i)if(!r[n])throw new Error('shader and geometry incompatible, geometry missing the "'+n+'" attribute')},e.prototype.getSignature=function(e,t){var r=e.attributes,i=t.attributeData,n=["g",e.id];for(var s in r)i[s]&&n.push(s,i[s].location);return n.join("-")},e.prototype.initGeometryVao=function(e,t,r){void 0===r&&(r=!0);var i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=t.program;o.glPrograms[n]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,o);var a=this.getSignature(e,o),l=e.glVertexArrayObjects[this.CONTEXT_UID],h=l[a];if(h)return l[o.id]=h,h;var c=e.buffers,u=e.attributes,d={},p={};for(var f in c)d[f]=0,p[f]=0;for(var f in u)!u[f].size&&o.attributeData[f]?u[f].size=o.attributeData[f].size:u[f].size||console.warn("PIXI Geometry attribute '"+f+"' size cannot be determined (likely the bound shader does not have the attribute)"),d[u[f].buffer]+=u[f].size*byteSizeMap$2[u[f].type];for(var f in u){var _=u[f],m=_.size;void 0===_.stride&&(d[_.buffer]===m*byteSizeMap$2[_.type]?_.stride=0:_.stride=d[_.buffer]),void 0===_.start&&(_.start=p[_.buffer],p[_.buffer]+=m*byteSizeMap$2[_.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(var g=0;g<c.length;g++){var y=c[g];s.bind(y),r&&y._glBuffers[n].refCount++}return this.activateVao(e,o),this._activeVao=h,l[o.id]=h,l[a]=h,h},e.prototype.disposeGeometry=function(e,t){var r;if(this.managedGeometries[e.id]){delete this.managedGeometries[e.id];var i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=null===(r=this.renderer)||void 0===r?void 0:r.buffer;if(e.disposeRunner.remove(this),i){if(o)for(var a=0;a<s.length;a++){var l=s[a]._glBuffers[this.CONTEXT_UID];l&&(l.refCount--,0===l.refCount&&!t&&o.dispose(s[a],t))}if(!t)for(var h in i)if("g"===h[0]){var c=i[h];this._activeVao===c&&this.unbind(),n.deleteVertexArray(c)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedGeometries),r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)},e.prototype.activateVao=function(e,t){var r=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,s=e.buffers,o=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);var a=null;for(var l in o){var h=o[l],c=s[h.buffer],u=c._glBuffers[i];if(t.attributeData[l]){a!==u&&(n.bind(c),a=u);var d=t.attributeData[l].location;if(r.enableVertexAttribArray(d),r.vertexAttribPointer(d,h.size,h.type||r.FLOAT,h.normalized,h.stride,h.start),h.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(d,1)}}}},e.prototype.draw=function(e,t,r,i){var n=this.gl,s=this._activeGeometry;if(s.indexBuffer){var o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(e,t||s.indexBuffer.data.length,a,(r||0)*o,i||1):n.drawElements(e,t||s.indexBuffer.data.length,a,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(e,r,t||s.getSize(),i||1):n.drawArrays(e,r,t||s.getSize());return this},e.prototype.unbind=function(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null},e.prototype.destroy=function(){this.renderer=null},e}(),MaskData$1=function(){function e(e){void 0===e&&(e=null),this.type=MASK_TYPES$5.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=settings$2.FILTER_MULTISAMPLE,this.enabled=!0,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._target=null}return Object.defineProperty(e.prototype,"filter",{get:function(){return this._filters?this._filters[0]:null},set:function(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES$5.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null},e.prototype.copyCountersOrReset=function(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)},e}();function compileShader$1(e,t,r){var i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function logPrettyShaderError$1(e,t){var r=e.getShaderSource(t).split("\n").map((function(e,t){return t+": "+e})),i=e.getShaderInfoLog(t),n=i.split("\n"),s={},o=n.map((function(e){return parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))})).filter((function(e){return!(!e||s[e]||(s[e]=!0,0))})),a=[""];o.forEach((function(e){r[e-1]="%c"+r[e-1]+"%c",a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));var l=r.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn.apply(console,a),console.groupEnd()}function logProgramError$1(e,t,r,i){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||logPrettyShaderError$1(e,r),e.getShaderParameter(i,e.COMPILE_STATUS)||logPrettyShaderError$1(e,i),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}function booleanArray$1(e){for(var t=new Array(e),r=0;r<t.length;r++)t[r]=!1;return t}function defaultValue$1(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return booleanArray$1(2*t);case"bvec3":return booleanArray$1(3*t);case"bvec4":return booleanArray$1(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var unknownContext$1={},context$1=unknownContext$1,maxFragmentPrecision$1;function getTestContext$1(){if(context$1===unknownContext$1||context$1&&context$1.isContextLost()){var e=document.createElement("canvas"),t=void 0;settings$2.PREFER_ENV>=ENV$5.WEBGL2&&(t=e.getContext("webgl2",{})),t||((t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}))?t.getExtension("WEBGL_draw_buffers"):t=null),context$1=t}return context$1}function getMaxFragmentPrecision$1(){if(!maxFragmentPrecision$1){maxFragmentPrecision$1=PRECISION$5.MEDIUM;var e=getTestContext$1();if(e&&e.getShaderPrecisionFormat){var t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);maxFragmentPrecision$1=t.precision?PRECISION$5.HIGH:PRECISION$5.MEDIUM}}return maxFragmentPrecision$1}function setPrecision$1(e,t,r){if("precision"!==e.substring(0,9)){var i=t;return t===PRECISION$5.HIGH&&r!==PRECISION$5.HIGH&&(i=PRECISION$5.MEDIUM),"precision "+i+" float;\n"+e}return r!==PRECISION$5.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}var GLSL_TO_SIZE$1={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize$1(e){return GLSL_TO_SIZE$1[e]}var GL_TABLE$1=null,GL_TO_GLSL_TYPES$1={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType$1(e,t){if(!GL_TABLE$1){var r=Object.keys(GL_TO_GLSL_TYPES$1);GL_TABLE$1={};for(var i=0;i<r.length;++i){var n=r[i];GL_TABLE$1[e[n]]=GL_TO_GLSL_TYPES$1[n]}}return GL_TABLE$1[t]}var uniformParsers$1=[{test:function(e){return"float"===e.type&&1===e.size},code:function(e){return'\n            if(uv["'+e+'"] !== ud["'+e+'"].value)\n            {\n                ud["'+e+'"].value = uv["'+e+'"]\n                gl.uniform1f(ud["'+e+'"].location, uv["'+e+'"])\n            }\n            '}},{test:function(e){return("sampler2D"===e.type||"samplerCube"===e.type||"sampler2DArray"===e.type)&&1===e.size&&!e.isArray},code:function(e){return't = syncData.textureCount++;\n\n            renderer.texture.bind(uv["'+e+'"], t);\n\n            if(ud["'+e+'"].value !== t)\n            {\n                ud["'+e+'"].value = t;\n                gl.uniform1i(ud["'+e+'"].location, t);\n; // eslint-disable-line max-len\n            }'}},{test:function(e,t){return"mat3"===e.type&&1===e.size&&void 0!==t.a},code:function(e){return'\n            gl.uniformMatrix3fv(ud["'+e+'"].location, false, uv["'+e+'"].toArray(true));\n            '},codeUbo:function(e){return"\n                var "+e+"_matrix = uv."+e+".toArray(true);\n\n                data[offset] = "+e+"_matrix[0];\n                data[offset+1] = "+e+"_matrix[1];\n                data[offset+2] = "+e+"_matrix[2];\n        \n                data[offset + 4] = "+e+"_matrix[3];\n                data[offset + 5] = "+e+"_matrix[4];\n                data[offset + 6] = "+e+"_matrix[5];\n        \n                data[offset + 8] = "+e+"_matrix[6];\n                data[offset + 9] = "+e+"_matrix[7];\n                data[offset + 10] = "+e+"_matrix[8];\n            "}},{test:function(e,t){return"vec2"===e.type&&1===e.size&&void 0!==t.x},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["'+e+'"].location, v.x, v.y);\n                }'},codeUbo:function(e){return"\n                v = uv."+e+";\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            "}},{test:function(e){return"vec2"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["'+e+'"].location, v[0], v[1]);\n                }\n            '}},{test:function(e,t){return"vec4"===e.type&&1===e.size&&void 0!==t.width},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["'+e+'"].location, v.x, v.y, v.width, v.height)\n                }'},codeUbo:function(e){return"\n                    v = uv."+e+";\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                "}},{test:function(e){return"vec4"===e.type&&1===e.size},code:function(e){return'\n                cv = ud["'+e+'"].value;\n                v = uv["'+e+'"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["'+e+'"].location, v[0], v[1], v[2], v[3])\n                }'}}],GLSL_TO_SINGLE_SETTERS_CACHED$1={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"gl.uniform1i(location, v)",samplerCube:"gl.uniform1i(location, v)",sampler2DArray:"gl.uniform1i(location, v)"},GLSL_TO_ARRAY_SETTERS$1={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync$1(e,t){var r,i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(var n in e.uniforms){var s=t[n];if(s){for(var o=e.uniforms[n],a=!1,l=0;l<uniformParsers$1.length;l++)if(uniformParsers$1[l].test(s,o)){i.push(uniformParsers$1[l].code(n,o)),a=!0;break}if(!a){var h=(1===s.size?GLSL_TO_SINGLE_SETTERS_CACHED$1:GLSL_TO_ARRAY_SETTERS$1)[s.type].replace("location",'ud["'+n+'"].location');i.push('\n            cu = ud["'+n+'"];\n            cv = cu.value;\n            v = uv["'+n+'"];\n            '+h+";")}}else null!==(r=e.uniforms[n])&&void 0!==r&&r.group&&(e.uniforms[n].ubo?i.push("\n                        renderer.shader.syncUniformBufferGroup(uv."+n+", '"+n+"');\n                    "):i.push("\n                        renderer.shader.syncUniformGroup(uv."+n+", syncData);\n                    "))}return new Function("ud","uv","renderer","syncData",i.join("\n"))}var fragTemplate$2=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n"),unsafeEval$1;function generateIfTestSrc$1(e){for(var t="",r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+="if(test == "+r+".0){}");return t}function checkMaxIfStatementsInShader$1(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");for(var r=t.createShader(t.FRAGMENT_SHADER);;){var i=fragTemplate$2.replace(/%forloop%/gi,generateIfTestSrc$1(e));if(t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}function unsafeEvalSupported$1(){if("boolean"==typeof unsafeEval$1)return unsafeEval$1;try{var e=new Function("param1","param2","param3","return param1[param2] === param3;");unsafeEval$1=!0===e({a:"b"},"a","b")}catch(e){unsafeEval$1=!1}return unsafeEval$1}var defaultFragment$2$1="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",defaultVertex$3$1="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n",UID$1$1=0,nameCache$1={},Program$1=function(){function e(t,r,i){void 0===i&&(i="pixi-shader"),this.id=UID$1$1++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),nameCache$1[i]?(nameCache$1[i]++,i+="-"+nameCache$1[i]):nameCache$1[i]=1,this.vertexSrc="#define SHADER_NAME "+i+"\n"+this.vertexSrc,this.fragmentSrc="#define SHADER_NAME "+i+"\n"+this.fragmentSrc,this.vertexSrc=setPrecision$1(this.vertexSrc,settings$2.PRECISION_VERTEX,PRECISION$5.HIGH),this.fragmentSrc=setPrecision$1(this.fragmentSrc,settings$2.PRECISION_FRAGMENT,getMaxFragmentPrecision$1())),this.glPrograms={},this.syncUniforms=null}return Object.defineProperty(e,"defaultVertexSrc",{get:function(){return defaultVertex$3$1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentSrc",{get:function(){return defaultFragment$2$1},enumerable:!1,configurable:!0}),e.from=function(t,r,i){var n=t+r,s=ProgramCache$1[n];return s||(ProgramCache$1[n]=s=new e(t,r,i)),s},e}(),Shader$1=function(){function e(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof UniformGroup$1?t:new UniformGroup$1(t):new UniformGroup$1({})}return e.prototype.checkUniformExists=function(e,t){if(t.uniforms[e])return!0;for(var r in t.uniforms){var i=t.uniforms[r];if(i.group&&this.checkUniformExists(e,i))return!0}return!1},e.prototype.destroy=function(){this.uniformGroup=null},Object.defineProperty(e.prototype,"uniforms",{get:function(){return this.uniformGroup.uniforms},enumerable:!1,configurable:!0}),e.from=function(t,r,i){return new e(Program$1.from(t,r),i)},e}(),BLEND$1$1=0,OFFSET$1$1=1,CULLING$1$1=2,DEPTH_TEST$1$1=3,WINDING$1$1=4,DEPTH_MASK$1$1=5,State$1=function(){function e(){this.data=0,this.blendMode=BLEND_MODES$5.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}return Object.defineProperty(e.prototype,"blend",{get:function(){return!!(this.data&1<<BLEND$1$1)},set:function(e){!!(this.data&1<<BLEND$1$1)!==e&&(this.data^=1<<BLEND$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"offsets",{get:function(){return!!(this.data&1<<OFFSET$1$1)},set:function(e){!!(this.data&1<<OFFSET$1$1)!==e&&(this.data^=1<<OFFSET$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"culling",{get:function(){return!!(this.data&1<<CULLING$1$1)},set:function(e){!!(this.data&1<<CULLING$1$1)!==e&&(this.data^=1<<CULLING$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return!!(this.data&1<<DEPTH_TEST$1$1)},set:function(e){!!(this.data&1<<DEPTH_TEST$1$1)!==e&&(this.data^=1<<DEPTH_TEST$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return!!(this.data&1<<DEPTH_MASK$1$1)},set:function(e){!!(this.data&1<<DEPTH_MASK$1$1)!==e&&(this.data^=1<<DEPTH_MASK$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"clockwiseFrontFace",{get:function(){return!!(this.data&1<<WINDING$1$1)},set:function(e){!!(this.data&1<<WINDING$1$1)!==e&&(this.data^=1<<WINDING$1$1)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blendMode",{get:function(){return this._blendMode},set:function(e){this.blend=e!==BLEND_MODES$5.NONE,this._blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"polygonOffset",{get:function(){return this._polygonOffset},set:function(e){this.offsets=!!e,this._polygonOffset=e},enumerable:!1,configurable:!0}),e.prototype.toString=function(){return"[@pixi/core:State blendMode="+this.blendMode+" clockwiseFrontFace="+this.clockwiseFrontFace+" culling="+this.culling+" depthMask="+this.depthMask+" polygonOffset="+this.polygonOffset+"]"},e.for2d=function(){var t=new e;return t.depthTest=!1,t.blend=!0,t},e}(),defaultVertex$2$1="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",defaultFragment$1$1="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",Filter$1=function(e){function t(r,i,n){var s=this,o=Program$1.from(r||t.defaultVertexSrc,i||t.defaultFragmentSrc);return(s=e.call(this,o,n)||this).padding=0,s.resolution=settings$2.FILTER_RESOLUTION,s.multisample=settings$2.FILTER_MULTISAMPLE,s.enabled=!0,s.autoFit=!0,s.state=new State$1,s}return __extends$m(t,e),t.prototype.apply=function(e,t,r,i,n){e.applyFilter(this,t,r,i)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._resolution=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultVertexSrc",{get:function(){return defaultVertex$2$1},enumerable:!1,configurable:!0}),Object.defineProperty(t,"defaultFragmentSrc",{get:function(){return defaultFragment$1$1},enumerable:!1,configurable:!0}),t}(Shader$1),vertex$5="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n",fragment$9="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",tempMat$2=new Matrix$1,TextureMatrix$1=function(){function e(e,t){this._texture=e,this.mapCoord=new Matrix$1,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=void 0===t?.5:t,this.isSimple=!1}return Object.defineProperty(e.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture=e,this._textureID=-1},enumerable:!1,configurable:!0}),e.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var r=this.mapCoord,i=0;i<e.length;i+=2){var n=e[i],s=e[i+1];t[i]=n*r.a+s*r.c+r.tx,t[i+1]=n*r.b+s*r.d+r.ty}return t},e.prototype.update=function(e){var t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;var r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);var i=t.orig,n=t.trim;n&&(tempMat$2.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(tempMat$2));var s=t.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,l=this.clampOffset;return o[0]=(t._frame.x+a+l)/s.width,o[1]=(t._frame.y+a+l)/s.height,o[2]=(t._frame.x+t._frame.width-a+l)/s.width,o[3]=(t._frame.y+t._frame.height-a+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&0===t.rotate,!0},e}(),SpriteMaskFilter$1=function(e){function t(t,r,i){var n=this,s=null;return"string"!=typeof t&&void 0===r&&void 0===i&&(s=t,t=void 0,r=void 0,i=void 0),(n=e.call(this,t||vertex$5,r||fragment$9,i)||this).maskSprite=s,n.maskMatrix=new Matrix$1,n}return __extends$m(t,e),Object.defineProperty(t.prototype,"maskSprite",{get:function(){return this._maskSprite},set:function(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)},enumerable:!1,configurable:!0}),t.prototype.apply=function(e,t,r,i){var n=this._maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new TextureMatrix$1(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))},t}(Filter$1),MaskSystem$1=function(){function e(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}return e.prototype.setMaskStack=function(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)},e.prototype.push=function(e,t){var r=t;if(!r.isMaskData){var i=this.maskDataPool.pop()||new MaskData$1;i.pooled=!0,i.maskObject=t,r=i}var n=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(n),r.autoDetect&&this.detect(r),r._target=e,r.type!==MASK_TYPES$5.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case MASK_TYPES$5.SCISSOR:this.renderer.scissor.push(r);break;case MASK_TYPES$5.STENCIL:this.renderer.stencil.push(r);break;case MASK_TYPES$5.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r)}r.type===MASK_TYPES$5.SPRITE&&this.maskStack.push(r)},e.prototype.pop=function(e){var t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case MASK_TYPES$5.SCISSOR:this.renderer.scissor.pop();break;case MASK_TYPES$5.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case MASK_TYPES$5.SPRITE:this.popSpriteMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){var r=this.maskStack[this.maskStack.length-1];r.type===MASK_TYPES$5.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}},e.prototype.detect=function(e){e.maskObject.isSprite?e.type=MASK_TYPES$5.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=MASK_TYPES$5.SCISSOR:e.type=MASK_TYPES$5.STENCIL},e.prototype.pushSpriteMask=function(e){var t,r,i=e.maskObject,n=e._target,s=e._filters;s||(s=this.alphaMaskPool[this.alphaMaskIndex])||(s=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter$1]);var o,a,l=this.renderer,h=l.renderTexture;if(h.current){var c=h.current;o=e.resolution||c.resolution,a=null!==(t=e.multisample)&&void 0!==t?t:c.multisample}else o=e.resolution||l.resolution,a=null!==(r=e.multisample)&&void 0!==r?r:l.multisample;s[0].resolution=o,s[0].multisample=a,s[0].maskSprite=i;var u=n.filterArea;n.filterArea=i.getBounds(!0),l.filter.push(n,s),n.filterArea=u,e._filters||this.alphaMaskIndex++},e.prototype.popSpriteMask=function(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)},e.prototype.destroy=function(){this.renderer=null},e}(),AbstractMaskSystem$1=function(){function e(e){this.renderer=e,this.maskStack=[],this.glConst=0}return e.prototype.getStackLength=function(){return this.maskStack.length},e.prototype.setMaskStack=function(e){var t=this.renderer.gl,r=this.getStackLength();this.maskStack=e;var i=this.getStackLength();i!==r&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))},e.prototype._useCurrent=function(){},e.prototype.destroy=function(){this.renderer=null,this.maskStack=null},e}(),tempMatrix$1$1=new Matrix$1,ScissorSystem$1=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.SCISSOR_TEST,r}return __extends$m(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0},t.prototype.calcScissorRect=function(e){if(!e._scissorRectLocal){var t=e._scissorRect,r=e.maskObject,i=this.renderer,n=i.renderTexture;r.renderable=!0;var s=r.getBounds();this.roundFrameToPixels(s,n.current?n.current.resolution:i.resolution,n.sourceFrame,n.destinationFrame,i.projection.transform),r.renderable=!1,t&&s.fit(t),e._scissorRectLocal=s}},t.isMatrixRotated=function(e){if(!e)return!1;var t=e.a,r=e.b,i=e.c,n=e.d;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)},t.prototype.testScissor=function(e){var r=e.maskObject;if(!r.isFastRect||!r.isFastRect()||t.isMatrixRotated(r.worldTransform)||t.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);var i=e._scissorRectLocal;return i.width>0&&i.height>0},t.prototype.roundFrameToPixels=function(e,r,i,n,s){t.isMatrixRotated(s)||((s=s?tempMatrix$1$1.copyFrom(s):tempMatrix$1$1.identity()).translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,e),e.fit(n),e.x=Math.round(e.x*r),e.y=Math.round(e.y*r),e.width=Math.round(e.width*r),e.height=Math.round(e.height*r))},t.prototype.push=function(e){e._scissorRectLocal||this.calcScissorRect(e);var t=this.renderer.gl;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()},t.prototype.pop=function(){var e=this.renderer.gl;this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)},t.prototype._useCurrent=function(){var e,t=this.maskStack[this.maskStack.length-1]._scissorRect;e=this.renderer.renderTexture.current?t.y:this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)},t}(AbstractMaskSystem$1),StencilSystem$1=function(e){function t(t){var r=e.call(this,t)||this;return r.glConst=WebGLRenderingContext.STENCIL_TEST,r}return __extends$m(t,e),t.prototype.getStackLength=function(){var e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0},t.prototype.push=function(e){var t=e.maskObject,r=this.renderer.gl,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++,r.colorMask(!1,!1,!1,!1),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,this._useCurrent()},t.prototype.pop=function(e){var t=this.renderer.gl;0===this.getStackLength()?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,this._useCurrent())},t.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},t}(AbstractMaskSystem$1),ProjectionSystem$1=function(){function e(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix$1,this.transform=null}return e.prototype.update=function(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);var n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)},e.prototype.calculateProjection=function(e,t,r,i){var n=this.projectionMatrix,s=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=s*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-s-t.y*n.d},e.prototype.setTransform=function(e){},e.prototype.destroy=function(){this.renderer=null},e}(),tempRect$2=new Rectangle$1,tempRect2$1=new Rectangle$1,RenderTextureSystem$1=function(){function e(e){this.renderer=e,this.clearColor=e._backgroundColorRgba,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle$1,this.destinationFrame=new Rectangle$1,this.viewportFrame=new Rectangle$1}return e.prototype.bind=function(e,t,r){void 0===e&&(e=null);var i,n,s,o=this.renderer;this.current=e,e?(s=(i=e.baseTexture).resolution,t||(tempRect$2.width=e.frame.width,tempRect$2.height=e.frame.height,t=tempRect$2),r||(tempRect2$1.x=e.frame.x,tempRect2$1.y=e.frame.y,tempRect2$1.width=t.width,tempRect2$1.height=t.height,r=tempRect2$1),n=i.framebuffer):(s=o.resolution,t||(tempRect$2.width=o.screen.width,tempRect$2.height=o.screen.height,t=tempRect$2),r||((r=tempRect$2).width=t.width,r.height=t.height));var a=this.viewportFrame;a.x=r.x*s,a.y=r.y*s,a.width=r.width*s,a.height=r.height*s,e||(a.y=o.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(n,a),this.renderer.projection.update(r,t,s,!n),e?this.renderer.mask.setMaskStack(i.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)},e.prototype.clear=function(e,t){e=this.current?e||this.current.baseTexture.clearColor:e||this.clearColor;var r=this.destinationFrame,i=this.current?this.current.baseTexture:this.renderer.screen,n=r.width!==i.width||r.height!==i.height;if(n){var s=this.viewportFrame,o=s.x,a=s.y,l=s.width,h=s.height;o=Math.round(o),a=Math.round(a),l=Math.round(l),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,a,l,h)}this.renderer.framebuffer.clear(e[0],e[1],e[2],e[3],t),n&&this.renderer.scissor.pop()},e.prototype.resize=function(){this.bind(null)},e.prototype.reset=function(){this.bind(null)},e.prototype.destroy=function(){this.renderer=null},e}();function uboUpdate$1(e,t,r,i,n){r.buffer.update(n)}var UBO_TO_SINGLE_SETTERS$1={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},GLSL_TO_STD40_SIZE$1={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function createUBOElements$1(e){for(var t=e.map((function(e){return{data:e,offset:0,dataLen:0,dirty:0}})),r=0,i=0,n=0,s=0;s<t.length;s++){var o=t[s];if(r=GLSL_TO_STD40_SIZE$1[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,i%r!=0&&i<16){var a=i%r%16;i+=a,n+=a}i+r>16?(n=16*Math.ceil(n/16),o.offset=n,n+=r,i=r):(o.offset=n,i+=r,n+=r)}return{uboElements:t,size:n=16*Math.ceil(n/16)}}function getUBOData$1(e,t){var r=[];for(var i in e)t[i]&&r.push(t[i]);return r.sort((function(e,t){return e.index-t.index})),r}function generateUniformBufferSync$1(e,t){if(!e.autoManage)return{size:0,syncFunc:uboUpdate$1};for(var r=createUBOElements$1(getUBOData$1(e.uniforms,t)),i=r.uboElements,n=r.size,s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "],o=0;o<i.length;o++){for(var a=i[o],l=e.uniforms[a.data.name],h=a.data.name,c=!1,u=0;u<uniformParsers$1.length;u++){var d=uniformParsers$1[u];if(d.codeUbo&&d.test(a.data,l)){s.push("offset = "+a.offset/4+";",uniformParsers$1[u].codeUbo(a.data.name,l)),c=!0;break}}if(!c)if(a.data.size>1){var p=mapSize$1(a.data.type),f=Math.max(GLSL_TO_STD40_SIZE$1[a.data.type]/16,1),_=p/f,m=(4-_%4)%4;s.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+a.offset/4+";\n\n                t = 0;\n\n                for(var i=0; i < "+a.data.size*f+"; i++)\n                {\n                    for(var j = 0; j < "+_+"; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += "+m+";\n                }\n\n                ")}else{var g=UBO_TO_SINGLE_SETTERS$1[a.data.type];s.push("\n                cv = ud."+h+".value;\n                v = uv."+h+";\n                offset = "+a.offset/4+";\n                "+g+";\n                ")}}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}var GLProgram$1=function(){function e(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}return e.prototype.destroy=function(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null},e}();function getAttributeData$1(e,t){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=0;n<i;n++){var s=t.getActiveAttrib(e,n);if(0!==s.name.indexOf("gl_")){var o=mapType$1(t,s.type),a={type:o,name:s.name,size:mapSize$1(o),location:t.getAttribLocation(e,s.name)};r[s.name]=a}}return r}function getUniformData$1(e,t){for(var r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=0;n<i;n++){var s=t.getActiveUniform(e,n),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),l=mapType$1(t,s.type);r[o]={name:o,index:n,type:l,size:s.size,isArray:a,value:defaultValue$1(l,s.size)}}return r}function generateProgram$1(e,t){var r=compileShader$1(e,e.VERTEX_SHADER,t.vertexSrc),i=compileShader$1(e,e.FRAGMENT_SHADER,t.fragmentSrc),n=e.createProgram();if(e.attachShader(n,r),e.attachShader(n,i),e.linkProgram(n),e.getProgramParameter(n,e.LINK_STATUS)||logProgramError$1(e,n,r,i),t.attributeData=getAttributeData$1(n,e),t.uniformData=getUniformData$1(n,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){var s=Object.keys(t.attributeData);s.sort((function(e,t){return e>t?1:-1}));for(var o=0;o<s.length;o++)t.attributeData[s[o]].location=o,e.bindAttribLocation(n,o,s[o]);e.linkProgram(n)}e.deleteShader(r),e.deleteShader(i);var a={};for(var o in t.uniformData){var l=t.uniformData[o];a[o]={location:e.getUniformLocation(n,o),value:defaultValue$1(l.type,l.size)}}return new GLProgram$1(n,a)}var UID$5=0,defaultSyncData$1={textureCount:0,uboCount:0},ShaderSystem$1=function(){function e(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID$5++}return e.prototype.systemCheck=function(){if(!unsafeEvalSupported$1())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")},e.prototype.contextChange=function(e){this.gl=e,this.reset()},e.prototype.bind=function(e,t){e.uniforms.globals=this.renderer.globalUniforms;var r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(defaultSyncData$1.textureCount=0,defaultSyncData$1.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData$1)),i},e.prototype.setUniforms=function(e){var t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)},e.prototype.syncUniformGroup=function(e,t){var r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))},e.prototype.syncUniforms=function(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)},e.prototype.createSyncGroups=function(e){var t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=generateUniformsSync$1(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]},e.prototype.syncUniformBufferGroup=function(e,t){var r=this.getGlProgram();if(!e.static||0!==e.dirtyId||!r.uniformGroups[e.id]){e.dirtyId=0;var i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,defaultSyncData$1,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])},e.prototype.createSyncBufferGroup=function(e,t,r){var i=this.renderer.gl;this.renderer.buffer.bind(e.buffer);var n=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;var s=this.getSignature(e,this.shader.program.uniformData,"ubo"),o=this._uboCache[s];if(o||(o=this._uboCache[s]=generateUniformBufferSync$1(e,this.shader.program.uniformData)),e.autoManage){var a=new Float32Array(o.size/4);e.buffer.update(a)}return t.uniformGroups[e.id]=o.syncFunc,t.uniformGroups[e.id]},e.prototype.getSignature=function(e,t,r){var i=e.uniforms,n=[r+"-"];for(var s in i)n.push(s),t[s]&&n.push(t[s].type);return n.join("-")},e.prototype.getGlProgram=function(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null},e.prototype.generateProgram=function(e){var t=this.gl,r=e.program,i=generateProgram$1(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i},e.prototype.reset=function(){this.program=null,this.shader=null},e.prototype.destroy=function(){this.renderer=null,this.destroyed=!0},e}();function mapWebGLBlendModesToPixi$1(e,t){return void 0===t&&(t=[]),t[BLEND_MODES$5.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.ADD]=[e.ONE,e.ONE],t[BLEND_MODES$5.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.NONE]=[0,0],t[BLEND_MODES$5.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[BLEND_MODES$5.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[BLEND_MODES$5.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[BLEND_MODES$5.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[BLEND_MODES$5.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[BLEND_MODES$5.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[BLEND_MODES$5.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES$5.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}var BLEND$2=0,OFFSET$2=1,CULLING$2=2,DEPTH_TEST$2=3,WINDING$2=4,DEPTH_MASK$2=5,StateSystem$1=function(){function e(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES$5.NONE,this._blendEq=!1,this.map=[],this.map[BLEND$2]=this.setBlend,this.map[OFFSET$2]=this.setOffset,this.map[CULLING$2]=this.setCullFace,this.map[DEPTH_TEST$2]=this.setDepthTest,this.map[WINDING$2]=this.setFrontFace,this.map[DEPTH_MASK$2]=this.setDepthMask,this.checks=[],this.defaultState=new State$1,this.defaultState.blend=!0}return e.prototype.contextChange=function(e){this.gl=e,this.blendModes=mapWebGLBlendModesToPixi$1(e),this.set(this.defaultState),this.reset()},e.prototype.set=function(e){if(e=e||this.defaultState,this.stateId!==e.data){for(var t=this.stateId^e.data,r=0;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(r=0;r<this.checks.length;r++)this.checks[r](this,e)},e.prototype.forceState=function(e){e=e||this.defaultState;for(var t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data},e.prototype.setBlend=function(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)},e.prototype.setOffset=function(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)},e.prototype.setDepthTest=function(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)},e.prototype.setDepthMask=function(e){this.gl.depthMask(e)},e.prototype.setCullFace=function(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)},e.prototype.setFrontFace=function(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])},e.prototype.setBlendMode=function(e){if(e!==this.blendMode){this.blendMode=e;var t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}},e.prototype.setPolygonOffset=function(e,t){this.gl.polygonOffset(e,t)},e.prototype.reset=function(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)},e.prototype.updateCheck=function(e,t){var r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):!t&&-1!==r&&this.checks.splice(r,1)},e.checkBlendMode=function(e,t){e.setBlendMode(t.blendMode)},e.checkPolygonOffset=function(e,t){e.setPolygonOffset(1,t.polygonOffset)},e.prototype.destroy=function(){this.gl=null},e}(),TextureGCSystem$1=function(){function e(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=settings$2.GC_MAX_IDLE,this.checkCountMax=settings$2.GC_MAX_CHECK_COUNT,this.mode=settings$2.GC_MODE}return e.prototype.postrender=function(){this.renderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES$5.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))},e.prototype.run=function(){for(var e=this.renderer.texture,t=e.managedTextures,r=!1,i=0;i<t.length;i++){var n=t[i];!n.framebuffer&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,r=!0)}if(r){var s=0;for(i=0;i<t.length;i++)null!==t[i]&&(t[s++]=t[i]);t.length=s}},e.prototype.unload=function(e){var t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(var i=e.children.length-1;i>=0;i--)this.unload(e.children[i])},e.prototype.destroy=function(){this.renderer=null},e}();function mapTypeAndFormatToInternalFormat$1(e){var t,r,i,n,s,o,a,l,h,c,u,d,p,f,_,m,g,y,v,E,T,b,S;return"WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?((t={})[TYPES$5.UNSIGNED_BYTE]=((r={})[FORMATS$5.RGBA]=e.RGBA8,r[FORMATS$5.RGB]=e.RGB8,r[FORMATS$5.RG]=e.RG8,r[FORMATS$5.RED]=e.R8,r[FORMATS$5.RGBA_INTEGER]=e.RGBA8UI,r[FORMATS$5.RGB_INTEGER]=e.RGB8UI,r[FORMATS$5.RG_INTEGER]=e.RG8UI,r[FORMATS$5.RED_INTEGER]=e.R8UI,r[FORMATS$5.ALPHA]=e.ALPHA,r[FORMATS$5.LUMINANCE]=e.LUMINANCE,r[FORMATS$5.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,r),t[TYPES$5.BYTE]=((i={})[FORMATS$5.RGBA]=e.RGBA8_SNORM,i[FORMATS$5.RGB]=e.RGB8_SNORM,i[FORMATS$5.RG]=e.RG8_SNORM,i[FORMATS$5.RED]=e.R8_SNORM,i[FORMATS$5.RGBA_INTEGER]=e.RGBA8I,i[FORMATS$5.RGB_INTEGER]=e.RGB8I,i[FORMATS$5.RG_INTEGER]=e.RG8I,i[FORMATS$5.RED_INTEGER]=e.R8I,i),t[TYPES$5.UNSIGNED_SHORT]=((n={})[FORMATS$5.RGBA_INTEGER]=e.RGBA16UI,n[FORMATS$5.RGB_INTEGER]=e.RGB16UI,n[FORMATS$5.RG_INTEGER]=e.RG16UI,n[FORMATS$5.RED_INTEGER]=e.R16UI,n[FORMATS$5.DEPTH_COMPONENT]=e.DEPTH_COMPONENT16,n),t[TYPES$5.SHORT]=((s={})[FORMATS$5.RGBA_INTEGER]=e.RGBA16I,s[FORMATS$5.RGB_INTEGER]=e.RGB16I,s[FORMATS$5.RG_INTEGER]=e.RG16I,s[FORMATS$5.RED_INTEGER]=e.R16I,s),t[TYPES$5.UNSIGNED_INT]=((o={})[FORMATS$5.RGBA_INTEGER]=e.RGBA32UI,o[FORMATS$5.RGB_INTEGER]=e.RGB32UI,o[FORMATS$5.RG_INTEGER]=e.RG32UI,o[FORMATS$5.RED_INTEGER]=e.R32UI,o[FORMATS$5.DEPTH_COMPONENT]=e.DEPTH_COMPONENT24,o),t[TYPES$5.INT]=((a={})[FORMATS$5.RGBA_INTEGER]=e.RGBA32I,a[FORMATS$5.RGB_INTEGER]=e.RGB32I,a[FORMATS$5.RG_INTEGER]=e.RG32I,a[FORMATS$5.RED_INTEGER]=e.R32I,a),t[TYPES$5.FLOAT]=((l={})[FORMATS$5.RGBA]=e.RGBA32F,l[FORMATS$5.RGB]=e.RGB32F,l[FORMATS$5.RG]=e.RG32F,l[FORMATS$5.RED]=e.R32F,l[FORMATS$5.DEPTH_COMPONENT]=e.DEPTH_COMPONENT32F,l),t[TYPES$5.HALF_FLOAT]=((h={})[FORMATS$5.RGBA]=e.RGBA16F,h[FORMATS$5.RGB]=e.RGB16F,h[FORMATS$5.RG]=e.RG16F,h[FORMATS$5.RED]=e.R16F,h),t[TYPES$5.UNSIGNED_SHORT_5_6_5]=((c={})[FORMATS$5.RGB]=e.RGB565,c),t[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=((u={})[FORMATS$5.RGBA]=e.RGBA4,u),t[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=((d={})[FORMATS$5.RGBA]=e.RGB5_A1,d),t[TYPES$5.UNSIGNED_INT_2_10_10_10_REV]=((p={})[FORMATS$5.RGBA]=e.RGB10_A2,p[FORMATS$5.RGBA_INTEGER]=e.RGB10_A2UI,p),t[TYPES$5.UNSIGNED_INT_10F_11F_11F_REV]=((f={})[FORMATS$5.RGB]=e.R11F_G11F_B10F,f),t[TYPES$5.UNSIGNED_INT_5_9_9_9_REV]=((_={})[FORMATS$5.RGB]=e.RGB9_E5,_),t[TYPES$5.UNSIGNED_INT_24_8]=((m={})[FORMATS$5.DEPTH_STENCIL]=e.DEPTH24_STENCIL8,m),t[TYPES$5.FLOAT_32_UNSIGNED_INT_24_8_REV]=((g={})[FORMATS$5.DEPTH_STENCIL]=e.DEPTH32F_STENCIL8,g),S=t):((y={})[TYPES$5.UNSIGNED_BYTE]=((v={})[FORMATS$5.RGBA]=e.RGBA,v[FORMATS$5.RGB]=e.RGB,v[FORMATS$5.ALPHA]=e.ALPHA,v[FORMATS$5.LUMINANCE]=e.LUMINANCE,v[FORMATS$5.LUMINANCE_ALPHA]=e.LUMINANCE_ALPHA,v),y[TYPES$5.UNSIGNED_SHORT_5_6_5]=((E={})[FORMATS$5.RGB]=e.RGB,E),y[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=((T={})[FORMATS$5.RGBA]=e.RGBA,T),y[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=((b={})[FORMATS$5.RGBA]=e.RGBA,b),S=y),S}var GLTexture$1=function(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES$5.UNSIGNED_BYTE,this.internalFormat=FORMATS$5.RGBA,this.samplerType=0},TextureSystem$1=function(){function e(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture$1,this.hasIntegerTextures=!1}return e.prototype.contextChange=function(){var e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat$1(e);var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(var r=0;r<t;r++)this.boundTextures[r]=null;this.emptyTextures={};var i=new GLTexture$1(e.createTexture());for(e.bindTexture(e.TEXTURE_2D,i.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=i,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture$1(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture),r=0;r<6;r++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+r,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);for(e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR),r=0;r<this.boundTextures.length;r++)this.bind(null,r)},e.prototype.bind=function(e,t){void 0===t&&(t=0);var r=this.gl;if((e=null==e?void 0:e.castToBaseTexture())&&e.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;var i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null},e.prototype.reset=function(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture},e.prototype.unbind=function(e){var t=this.gl,r=this.boundTextures;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)},e.prototype.ensureSamplerType=function(e){var t=this,r=t.boundTextures,i=t.hasIntegerTextures,n=t.CONTEXT_UID;if(i)for(var s=e-1;s>=0;--s){var o=r[s];o&&o._glTextures[n].samplerType!==SAMPLER_TYPES$5.FLOAT&&this.renderer.texture.unbind(o)}},e.prototype.initTexture=function(e){var t=new GLTexture$1(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t},e.prototype.initTextureType=function(e,t){var r,i;t.internalFormat=null!==(i=null===(r=this.internalFormats[e.type])||void 0===r?void 0:r[e.format])&&void 0!==i?i:e.format,2===this.webGLVersion&&e.type===TYPES$5.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type},e.prototype.updateTexture=function(e){var t=e._glTextures[this.CONTEXT_UID];if(t){var r=this.renderer;if(this.initTextureType(e,t),e.resource&&e.resource.upload(r,e,t))t.samplerType!==SAMPLER_TYPES$5.FLOAT&&(this.hasIntegerTextures=!0);else{var i=e.realWidth,n=e.realHeight,s=r.gl;(t.width!==i||t.height!==n||t.dirtyId<0)&&(t.width=i,t.height=n,s.texImage2D(e.target,0,t.internalFormat,i,n,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}},e.prototype.destroyTexture=function(e,t){var r=this.gl;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){var i=this.managedTextures.indexOf(e);-1!==i&&removeItems$1(this.managedTextures,i,1)}},e.prototype.updateTextureStyle=function(e){var t=e._glTextures[this.CONTEXT_UID];t&&(e.mipmap!==MIPMAP_MODES$5.POW2&&2===this.webGLVersion||e.isPowerOfTwo?t.mipmap=e.mipmap>=1:t.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?t.wrapMode=e.wrapMode:t.wrapMode=WRAP_MODES$5.CLAMP,e.resource&&e.resource.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)},e.prototype.setStyle=function(e,t){var r=this.gl;if(t.mipmap&&e.mipmap!==MIPMAP_MODES$5.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES$5.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);var i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===SCALE_MODES$5.LINEAR){var n=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,n)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES$5.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES$5.LINEAR?r.LINEAR:r.NEAREST)},e.prototype.destroy=function(){this.renderer=null},e}(),tempMatrix$3=new Matrix$1,AbstractRenderer=function(e){function t(t,r){void 0===t&&(t=RENDERER_TYPE$5.UNKNOWN);var i=e.call(this)||this;return r=Object.assign({},settings$2.RENDER_OPTIONS,r),i.options=r,i.type=t,i.screen=new Rectangle$1(0,0,r.width,r.height),i.view=r.view||document.createElement("canvas"),i.resolution=r.resolution||settings$2.RESOLUTION,i.useContextAlpha=r.useContextAlpha,i.autoDensity=!!r.autoDensity,i.preserveDrawingBuffer=r.preserveDrawingBuffer,i.clearBeforeRender=r.clearBeforeRender,i._backgroundColor=0,i._backgroundColorRgba=[0,0,0,1],i._backgroundColorString="#000000",i.backgroundColor=r.backgroundColor||i._backgroundColor,i.backgroundAlpha=r.backgroundAlpha,void 0!==r.transparent&&(deprecation$1("6.0.0","Option transparent is deprecated, please use backgroundAlpha instead."),i.useContextAlpha=r.transparent,i.backgroundAlpha=r.transparent?0:1),i._lastObjectRendered=null,i.plugins={},i}return __extends$m(t,e),t.prototype.initPlugins=function(e){for(var t in e)this.plugins[t]=new e[t](this)},Object.defineProperty(t.prototype,"width",{get:function(){return this.view.width},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.view.height},enumerable:!1,configurable:!0}),t.prototype.resize=function(e,t){this.view.width=Math.round(e*this.resolution),this.view.height=Math.round(t*this.resolution);var r=this.view.width/this.resolution,i=this.view.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.view.style.width=r+"px",this.view.style.height=i+"px"),this.emit("resize",r,i)},t.prototype.generateTexture=function(e,t,r,i){void 0===t&&(t={}),"number"==typeof t&&(deprecation$1("6.1.0","generateTexture options (scaleMode, resolution, region) are now object options."),t={scaleMode:t,resolution:r,region:i});var n=t.region,s=__rest(t,["region"]);0===(i=n||e.getLocalBounds(null,!0)).width&&(i.width=1),0===i.height&&(i.height=1);var o=RenderTexture$1.create(__assign$8({width:i.width,height:i.height},s));return tempMatrix$3.tx=-i.x,tempMatrix$3.ty=-i.y,this.render(e,{renderTexture:o,clear:!1,transform:tempMatrix$3,skipUpdateTransform:!!e.parent}),o},t.prototype.destroy=function(e){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view);var r=this;r.plugins=null,r.type=RENDERER_TYPE$5.UNKNOWN,r.view=null,r.screen=null,r._tempDisplayObjectParent=null,r.options=null,this._backgroundColorRgba=null,this._backgroundColorString=null,this._lastObjectRendered=null},Object.defineProperty(t.prototype,"backgroundColor",{get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=hex2string(e),hex2rgb$1(e,this._backgroundColorRgba)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"backgroundAlpha",{get:function(){return this._backgroundColorRgba[3]},set:function(e){this._backgroundColorRgba[3]=e},enumerable:!1,configurable:!0}),t}(EventEmitter$2),GLBuffer$1=function(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0},BufferSystem$1=function(){function e(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}return e.prototype.destroy=function(){this.renderer=null},e.prototype.contextChange=function(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID},e.prototype.bind=function(e){var t=this.gl,r=this.CONTEXT_UID,i=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)},e.prototype.bindBufferBase=function(e,t){var r=this.gl,i=this.CONTEXT_UID;if(this.boundBufferBases[t]!==e){var n=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,n.buffer)}},e.prototype.bindBufferRange=function(e,t,r){var i=this.gl,n=this.CONTEXT_UID;r=r||0;var s=e._glBuffers[n]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,s.buffer,256*r,256)},e.prototype.update=function(e){var t=this.gl,r=this.CONTEXT_UID,i=e._glBuffers[r];if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{var n=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,n)}},e.prototype.dispose=function(e,t){if(this.managedBuffers[e.id]){delete this.managedBuffers[e.id];var r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}},e.prototype.disposeAll=function(e){for(var t=Object.keys(this.managedBuffers),r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)},e.prototype.createGLBuffer=function(e){var t=this.CONTEXT_UID,r=this.gl;return e._glBuffers[t]=new GLBuffer$1(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]},e}(),Renderer$1=function(e){function t(r){var i=e.call(this,RENDERER_TYPE$5.WEBGL,r)||this;return r=i.options,i.gl=null,i.CONTEXT_UID=0,i.runners={destroy:new Runner$1("destroy"),contextChange:new Runner$1("contextChange"),reset:new Runner$1("reset"),update:new Runner$1("update"),postrender:new Runner$1("postrender"),prerender:new Runner$1("prerender"),resize:new Runner$1("resize")},i.runners.contextChange.add(i),i.globalUniforms=new UniformGroup$1({projectionMatrix:new Matrix$1},!0),i.addSystem(MaskSystem$1,"mask").addSystem(ContextSystem$1,"context").addSystem(StateSystem$1,"state").addSystem(ShaderSystem$1,"shader").addSystem(TextureSystem$1,"texture").addSystem(BufferSystem$1,"buffer").addSystem(GeometrySystem$1,"geometry").addSystem(FramebufferSystem$1,"framebuffer").addSystem(ScissorSystem$1,"scissor").addSystem(StencilSystem$1,"stencil").addSystem(ProjectionSystem$1,"projection").addSystem(TextureGCSystem$1,"textureGC").addSystem(FilterSystem$1,"filter").addSystem(RenderTextureSystem$1,"renderTexture").addSystem(BatchSystem$1,"batch"),i.initPlugins(t.__plugins),i.multisample=void 0,r.context?i.context.initFromContext(r.context):i.context.initFromOptions({alpha:!!i.useContextAlpha,antialias:r.antialias,premultipliedAlpha:i.useContextAlpha&&"notMultiplied"!==i.useContextAlpha,stencil:!0,preserveDrawingBuffer:r.preserveDrawingBuffer,powerPreference:i.options.powerPreference}),i.renderingToScreen=!0,sayHello(2===i.context.webGLVersion?"WebGL 2":"WebGL 1"),i.resize(i.options.width,i.options.height),i}return __extends$m(t,e),t.create=function(e){if(isWebGLSupported$1())return new t(e);throw new Error('WebGL unsupported in this browser, use "pixi.js-legacy" for fallback canvas2d support.')},t.prototype.contextChange=function(){var e,t=this.gl;if(1===this.context.webGLVersion){var r=t.getParameter(t.FRAMEBUFFER_BINDING);t.bindFramebuffer(t.FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.FRAMEBUFFER,r)}else r=t.getParameter(t.DRAW_FRAMEBUFFER_BINDING),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),e=t.getParameter(t.SAMPLES),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,r);e>=MSAA_QUALITY$5.HIGH?this.multisample=MSAA_QUALITY$5.HIGH:e>=MSAA_QUALITY$5.MEDIUM?this.multisample=MSAA_QUALITY$5.MEDIUM:e>=MSAA_QUALITY$5.LOW?this.multisample=MSAA_QUALITY$5.LOW:this.multisample=MSAA_QUALITY$5.NONE},t.prototype.addSystem=function(e,t){var r=new e(this);if(this[t])throw new Error('Whoops! The name "'+t+'" is already in use');for(var i in this[t]=r,this.runners)this.runners[i].add(r);return this},t.prototype.render=function(e,t){var r,i,n,s;if(t&&(t instanceof RenderTexture$1?(deprecation$1("6.0.0","Renderer#render arguments changed, use options instead."),r=t,i=arguments[2],n=arguments[3],s=arguments[4]):(r=t.renderTexture,i=t.clear,n=t.transform,s=t.skipUpdateTransform)),this.renderingToScreen=!r,this.runners.prerender.emit(),this.emit("prerender"),this.projection.transform=n,!this.context.isLost){if(r||(this._lastObjectRendered=e),!s){var o=e.enableTempParent();e.updateTransform(),e.disableTempParent(o)}this.renderTexture.bind(r),this.batch.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this.renderTexture.clear(),e.render(this),this.batch.currentRenderer.flush(),r&&r.baseTexture.update(),this.runners.postrender.emit(),this.projection.transform=null,this.emit("postrender")}},t.prototype.generateTexture=function(t,r,i,n){void 0===r&&(r={});var s=e.prototype.generateTexture.call(this,t,r,i,n);return this.framebuffer.blit(),s},t.prototype.resize=function(t,r){e.prototype.resize.call(this,t,r),this.runners.resize.emit(this.screen.height,this.screen.width)},t.prototype.reset=function(){return this.runners.reset.emit(),this},t.prototype.clear=function(){this.renderTexture.bind(),this.renderTexture.clear()},t.prototype.destroy=function(t){for(var r in this.runners.destroy.emit(),this.runners)this.runners[r].destroy();e.prototype.destroy.call(this,t),this.gl=null},Object.defineProperty(t.prototype,"extract",{get:function(){return deprecation$1("6.0.0","Renderer#extract has been deprecated, please use Renderer#plugins.extract instead."),this.plugins.extract},enumerable:!1,configurable:!0}),t.registerPlugin=function(e,r){t.__plugins=t.__plugins||{},t.__plugins[e]=r},t}(AbstractRenderer);function autoDetectRenderer(e){return Renderer$1.create(e)}var $defaultVertex$1="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",$defaultFilterVertex="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n",defaultVertex$1$1=$defaultVertex$1,defaultFilterVertex=$defaultFilterVertex,BatchDrawCall$1=function(){this.texArray=null,this.blend=0,this.type=DRAW_MODES$5.TRIANGLES,this.start=0,this.size=0,this.data=null},BatchTextureArray$1=function(){function e(){this.elements=[],this.ids=[],this.count=0}return e.prototype.clear=function(){for(var e=0;e<this.count;e++)this.elements[e]=null;this.count=0},e}(),ViewableBuffer$1=function(){function e(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}return Object.defineProperty(e.prototype,"int8View",{get:function(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint8View",{get:function(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int16View",{get:function(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uint16View",{get:function(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"int32View",{get:function(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View},enumerable:!1,configurable:!0}),e.prototype.view=function(e){return this[e+"View"]},e.prototype.destroy=function(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null},e.sizeOf=function(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(e+" isn't a valid view type")}},e}(),AbstractBatchRenderer=function(e){function t(t){var r=e.call(this,t)||this;return r.shaderGenerator=null,r.geometryClass=null,r.vertexSize=null,r.state=State$1.for2d(),r.size=4*settings$2.SPRITE_BATCH_SIZE,r._vertexCount=0,r._indexCount=0,r._bufferedElements=[],r._bufferedTextures=[],r._bufferSize=0,r._shader=null,r._packedGeometries=[],r._packedGeometryPoolSize=2,r._flushId=0,r._aBuffers={},r._iBuffers={},r.MAX_TEXTURES=1,r.renderer.on("prerender",r.onPrerender,r),t.runners.contextChange.add(r),r._dcIndex=0,r._aIndex=0,r._iIndex=0,r._attributeBuffer=null,r._indexBuffer=null,r._tempBoundTextures=[],r}return __extends$m(t,e),t.prototype.contextChange=function(){var e=this.renderer.gl;settings$2.PREFER_ENV===ENV$5.WEBGL_LEGACY?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),settings$2.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=checkMaxIfStatementsInShader$1(this.MAX_TEXTURES,e)),this._shader=this.shaderGenerator.generateShader(this.MAX_TEXTURES);for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()},t.prototype.initFlushBuffers=function(){for(var e=t._drawCallPool,r=t._textureArrayPool,i=this.size/4,n=Math.floor(i/this.MAX_TEXTURES)+1;e.length<i;)e.push(new BatchDrawCall$1);for(;r.length<n;)r.push(new BatchTextureArray$1);for(var s=0;s<this.MAX_TEXTURES;s++)this._tempBoundTextures[s]=null},t.prototype.onPrerender=function(){this._flushId=0},t.prototype.render=function(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)},t.prototype.buildTexturesAndDrawCalls=function(){var e=this._bufferedTextures,r=this.MAX_TEXTURES,i=t._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count,a=++BaseTexture$1._globalBatch,l=0,h=i[0],c=0;n.copyBoundTextures(s,r);for(var u=0;u<this._bufferSize;++u){var d=e[u];e[u]=null,d._batchEnabled!==a&&(h.count>=r&&(n.boundArray(h,s,a,r),this.buildDrawCalls(h,c,u),c=u,h=i[++l],++a),d._batchEnabled=a,d.touched=o,h.elements[h.count++]=d)}for(h.count>0&&(n.boundArray(h,s,a,r),this.buildDrawCalls(h,c,this._bufferSize),++l,++a),u=0;u<s.length;u++)s[u]=null;BaseTexture$1._globalBatch=a},t.prototype.buildDrawCalls=function(e,r,i){var n=this,s=n._bufferedElements,o=n._attributeBuffer,a=n._indexBuffer,l=n.vertexSize,h=t._drawCallPool,c=this._dcIndex,u=this._aIndex,d=this._iIndex,p=h[c];p.start=this._iIndex,p.texArray=e;for(var f=r;f<i;++f){var _=s[f],m=_._texture.baseTexture,g=premultiplyBlendMode$1[m.alphaMode?1:0][_.blendMode];s[f]=null,r<f&&p.blend!==g&&(p.size=d-p.start,r=f,(p=h[++c]).texArray=e,p.start=d),this.packInterleavedGeometry(_,o,a,u,d),u+=_.vertexData.length/2*l,d+=_.indices.length,p.blend=g}r<i&&(p.size=d-p.start,++c),this._dcIndex=c,this._aIndex=u,this._iIndex=d},t.prototype.bindAndClearTexArray=function(e){for(var t=this.renderer.texture,r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0},t.prototype.updateGeometry=function(){var e=this,t=e._packedGeometries,r=e._attributeBuffer,i=e._indexBuffer;settings$2.CAN_UPLOAD_SAME_BUFFER?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)},t.prototype.drawBatches=function(){for(var e=this._dcIndex,r=this.renderer,i=r.gl,n=r.state,s=t._drawCallPool,o=null,a=0;a<e;a++){var l=s[a],h=l.texArray,c=l.type,u=l.size,d=l.start,p=l.blend;o!==h&&(o=h,this.bindAndClearTexArray(h)),this.state.blendMode=p,n.set(this.state),i.drawElements(c,u,i.UNSIGNED_SHORT,2*d)}},t.prototype.flush=function(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)},t.prototype.start=function(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.MAX_TEXTURES),this.renderer.shader.bind(this._shader),settings$2.CAN_UPLOAD_SAME_BUFFER&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),e.prototype.destroy.call(this)},t.prototype.getAttributeBuffer=function(e){var t=nextPow2$1(Math.ceil(e/8)),r=log2$1(t),i=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new ViewableBuffer$1(i*this.vertexSize*4)),n},t.prototype.getIndexBuffer=function(e){var t=nextPow2$1(Math.ceil(e/12)),r=log2$1(t),i=12*t;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);var n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n},t.prototype.packInterleavedGeometry=function(e,t,r,i,n){for(var s=t.uint32View,o=t.float32View,a=i/this.vertexSize,l=e.uvs,h=e.indices,c=e.vertexData,u=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),p=d<1&&e._texture.baseTexture.alphaMode?premultiplyTint(e._tintRGB,d):e._tintRGB+(255*d<<24),f=0;f<c.length;f+=2)o[i++]=c[f],o[i++]=c[f+1],o[i++]=l[f],o[i++]=l[f+1],s[i++]=p,o[i++]=u;for(f=0;f<h.length;f++)r[n++]=a+h[f]},t._drawCallPool=[],t._textureArrayPool=[],t}(ObjectRenderer$1),BatchShaderGenerator$1=function(){function e(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},t.indexOf("%count%")<0)throw new Error('Fragment template must contain "%count%".');if(t.indexOf("%forloop%")<0)throw new Error('Fragment template must contain "%forloop%".')}return e.prototype.generateShader=function(e){if(!this.programCache[e]){for(var t=new Int32Array(e),r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=UniformGroup$1.from({uSamplers:t},!0);var i=this.fragTemplate;i=(i=i.replace(/%count%/gi,""+e)).replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program$1(this.vertexSrc,i)}var n={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix$1,default:this.defaultGroupCache[e]};return new Shader$1(this.programCache[e],n)},e.prototype.generateSampleSrc=function(e){var t="";t+="\n",t+="\n";for(var r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+="if(vTextureId < "+r+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+r+"], vTextureCoord);",t+="\n}";return(t+="\n")+"\n"},e}(),BatchGeometry$1=function(e){function t(t){void 0===t&&(t=!1);var r=e.call(this)||this;return r._buffer=new Buffer$2(null,t,!1),r._indexBuffer=new Buffer$2(null,t,!0),r.addAttribute("aVertexPosition",r._buffer,2,!1,TYPES$5.FLOAT).addAttribute("aTextureCoord",r._buffer,2,!1,TYPES$5.FLOAT).addAttribute("aColor",r._buffer,4,!0,TYPES$5.UNSIGNED_BYTE).addAttribute("aTextureId",r._buffer,1,!0,TYPES$5.FLOAT).addIndex(r._indexBuffer),r}return __extends$m(t,e),t}(Geometry$1),defaultVertex$4="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n",defaultFragment$3="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",BatchPluginFactory=function(){function e(){}return e.create=function(e){var t=Object.assign({vertex:defaultVertex$4,fragment:defaultFragment$3,geometryClass:BatchGeometry$1,vertexSize:6},e),r=t.vertex,i=t.fragment,n=t.vertexSize,s=t.geometryClass;return function(e){function t(t){var o=e.call(this,t)||this;return o.shaderGenerator=new BatchShaderGenerator$1(r,i),o.geometryClass=s,o.vertexSize=n,o}return __extends$m(t,e),t}(AbstractBatchRenderer)},Object.defineProperty(e,"defaultVertexSrc",{get:function(){return defaultVertex$4},enumerable:!1,configurable:!0}),Object.defineProperty(e,"defaultFragmentTemplate",{get:function(){return defaultFragment$3},enumerable:!1,configurable:!0}),e}(),BatchRenderer$1=BatchPluginFactory.create(),Application=function(){function e(t){var r=this;this.stage=new Container$1,t=Object.assign({forceCanvas:!1},t),this.renderer=autoDetectRenderer(t),e._plugins.forEach((function(e){e.init.call(r,t)}))}return e.registerPlugin=function(t){e._plugins.push(t)},e.prototype.render=function(){this.renderer.render(this.stage)},Object.defineProperty(e.prototype,"view",{get:function(){return this.renderer.view},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"screen",{get:function(){return this.renderer.screen},enumerable:!1,configurable:!0}),e.prototype.destroy=function(t,r){var i=this,n=e._plugins.slice(0);n.reverse(),n.forEach((function(e){e.destroy.call(i)})),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null},e._plugins=[],e}(),ResizePlugin=function(){function e(){}return e.init=function(e){var t=this;Object.defineProperty(this,"resizeTo",{set:function(e){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=e,e&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get:function(){return this._resizeTo}}),this.queueResize=function(){t._resizeTo&&(t.cancelResize(),t._resizeId=requestAnimationFrame((function(){return t.resize()})))},this.cancelResize=function(){t._resizeId&&(cancelAnimationFrame(t._resizeId),t._resizeId=null)},this.resize=function(){if(t._resizeTo){var e,r;if(t.cancelResize(),t._resizeTo===globalThis.window)e=globalThis.innerWidth,r=globalThis.innerHeight;else{var i=t._resizeTo;e=i.clientWidth,r=i.clientHeight}t.renderer.resize(e,r)}},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null},e.destroy=function(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null},e}();Application.registerPlugin(ResizePlugin);var appleIphone=/iPhone/i,appleIpod=/iPod/i,appleTablet=/iPad/i,appleUniversal=/\biOS-universal(?:.+)Mac\b/i,androidPhone=/\bAndroid(?:.+)Mobile\b/i,androidTablet=/Android/i,amazonPhone=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,amazonTablet=/Silk/i,windowsPhone=/Windows Phone/i,windowsTablet=/\bWindows(?:.+)ARM\b/i,otherBlackBerry=/BlackBerry/i,otherBlackBerry10=/BB10/i,otherOpera=/Opera Mini/i,otherChrome=/\b(CriOS|Chrome)(?:.+)Mobile/i,otherFirefox=/Mobile(?:.+)Firefox\b/i,isAppleTabletOnIos13=function(e){return void 0!==e&&"MacIntel"===e.platform&&"number"==typeof e.maxTouchPoints&&e.maxTouchPoints>1&&"undefined"==typeof MSStream};function createMatch(e){return function(t){return t.test(e)}}function isMobile$1(e){var t={userAgent:"",platform:"",maxTouchPoints:0};e||"undefined"==typeof navigator?"string"==typeof e?t.userAgent=e:e&&e.userAgent&&(t={userAgent:e.userAgent,platform:e.platform,maxTouchPoints:e.maxTouchPoints||0}):t={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0};var r=t.userAgent,i=r.split("[FBAN");void 0!==i[1]&&(r=i[0]),void 0!==(i=r.split("Twitter"))[1]&&(r=i[0]);var n=createMatch(r),s={apple:{phone:n(appleIphone)&&!n(windowsPhone),ipod:n(appleIpod),tablet:!n(appleIphone)&&(n(appleTablet)||isAppleTabletOnIos13(t))&&!n(windowsPhone),universal:n(appleUniversal),device:(n(appleIphone)||n(appleIpod)||n(appleTablet)||n(appleUniversal)||isAppleTabletOnIos13(t))&&!n(windowsPhone)},amazon:{phone:n(amazonPhone),tablet:!n(amazonPhone)&&n(amazonTablet),device:n(amazonPhone)||n(amazonTablet)},android:{phone:!n(windowsPhone)&&n(amazonPhone)||!n(windowsPhone)&&n(androidPhone),tablet:!n(windowsPhone)&&!n(amazonPhone)&&!n(androidPhone)&&(n(amazonTablet)||n(androidTablet)),device:!n(windowsPhone)&&(n(amazonPhone)||n(amazonTablet)||n(androidPhone)||n(androidTablet))||n(/\bokhttp\b/i)},windows:{phone:n(windowsPhone),tablet:n(windowsTablet),device:n(windowsPhone)||n(windowsTablet)},other:{blackberry:n(otherBlackBerry),blackberry10:n(otherBlackBerry10),opera:n(otherOpera),firefox:n(otherFirefox),chrome:n(otherChrome),device:n(otherBlackBerry)||n(otherBlackBerry10)||n(otherOpera)||n(otherFirefox)||n(otherChrome)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}var isMobile$2=isMobile$1(globalThis.navigator),ENV$1$1,RENDERER_TYPE$1$1,BUFFER_BITS$1$1,BLEND_MODES$1$1,DRAW_MODES$1$1,FORMATS$1$1,TARGETS$1$1,TYPES$1$1,SAMPLER_TYPES$1$1,SCALE_MODES$1$1,WRAP_MODES$1$1,MIPMAP_MODES$1$1,ALPHA_MODES$1$1,CLEAR_MODES$1$1,GC_MODES$1$1,PRECISION$1$1,MASK_TYPES$1$1,MSAA_QUALITY$1$1,BUFFER_TYPE$1$1;function maxRecommendedTextures$1(e){var t,r=!0;(isMobile$2.tablet||isMobile$2.phone)&&(isMobile$2.apple.device&&(t=navigator.userAgent.match(/OS (\d+)_(\d+)?/))&&parseInt(t[1],10)<11&&(r=!1),isMobile$2.android.device&&(t=navigator.userAgent.match(/Android\s([0-9.]*)/))&&parseInt(t[1],10)<7&&(r=!1));return r?e:4}function canUploadSameBuffer$1(){return!isMobile$2.apple.device}!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$1$1||(ENV$1$1={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$1$1||(RENDERER_TYPE$1$1={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$1$1||(BUFFER_BITS$1$1={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$1$1||(BLEND_MODES$1$1={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$1$1||(DRAW_MODES$1$1={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$1$1||(FORMATS$1$1={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$1$1||(TARGETS$1$1={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$1$1||(TYPES$1$1={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$1$1||(SAMPLER_TYPES$1$1={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$1$1||(SCALE_MODES$1$1={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$1$1||(WRAP_MODES$1$1={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$1$1||(MIPMAP_MODES$1$1={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ALPHA_MODES$1$1||(ALPHA_MODES$1$1={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$1$1||(CLEAR_MODES$1$1={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$1$1||(GC_MODES$1$1={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$1$1||(PRECISION$1$1={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$1$1||(MASK_TYPES$1$1={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$1$1||(MSAA_QUALITY$1$1={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$1$1||(BUFFER_TYPE$1$1={}));var settings$1={MIPMAP_TEXTURES:MIPMAP_MODES$1$1.POW2,ANISOTROPIC_LEVEL:0,RESOLUTION:1,FILTER_RESOLUTION:1,FILTER_MULTISAMPLE:MSAA_QUALITY$1$1.NONE,SPRITE_MAX_TEXTURES:maxRecommendedTextures$1(32),SPRITE_BATCH_SIZE:4096,RENDER_OPTIONS:{view:null,antialias:!1,autoDensity:!1,backgroundColor:0,backgroundAlpha:1,useContextAlpha:!0,clearBeforeRender:!0,preserveDrawingBuffer:!1,width:800,height:600,legacy:!1},GC_MODE:GC_MODES$1$1.AUTO,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:WRAP_MODES$1$1.CLAMP,SCALE_MODE:SCALE_MODES$1$1.LINEAR,PRECISION_VERTEX:PRECISION$1$1.HIGH,PRECISION_FRAGMENT:isMobile$2.apple.device?PRECISION$1$1.HIGH:PRECISION$1$1.MEDIUM,CAN_UPLOAD_SAME_BUFFER:canUploadSameBuffer$1(),CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1,SORTABLE_CHILDREN:!1},Bounds=function(){function e(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?Rectangle$1.EMPTY:((e=e||new Rectangle$1(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addPointMatrix=function(e,t){var r=e.a,i=e.b,n=e.c,s=e.d,o=e.tx,a=e.ty,l=r*t.x+n*t.y+o,h=i*t.x+s*t.y+a;this.minX=Math.min(this.minX,l),this.maxX=Math.max(this.maxX,l),this.minY=Math.min(this.minY,h),this.maxY=Math.max(this.maxY,h)},e.prototype.addQuad=function(e){var t=this.minX,r=this.minY,i=this.maxX,n=this.maxY,s=e[0],o=e[1];t=s<t?s:t,r=o<r?o:r,i=s>i?s:i,n=o>n?o:n,t=(s=e[2])<t?s:t,r=(o=e[3])<r?o:r,i=s>i?s:i,n=o>n?o:n,t=(s=e[4])<t?s:t,r=(o=e[5])<r?o:r,i=s>i?s:i,n=o>n?o:n,t=(s=e[6])<t?s:t,r=(o=e[7])<r?o:r,i=s>i?s:i,n=o>n?o:n,this.minX=t,this.minY=r,this.maxX=i,this.maxY=n},e.prototype.addFrame=function(e,t,r,i,n){this.addFrameMatrix(e.worldTransform,t,r,i,n)},e.prototype.addFrameMatrix=function(e,t,r,i,n){var s=e.a,o=e.b,a=e.c,l=e.d,h=e.tx,c=e.ty,u=this.minX,d=this.minY,p=this.maxX,f=this.maxY,_=s*t+a*r+h,m=o*t+l*r+c;u=_<u?_:u,d=m<d?m:d,p=_>p?_:p,f=m>f?m:f,u=(_=s*i+a*r+h)<u?_:u,d=(m=o*i+l*r+c)<d?m:d,p=_>p?_:p,f=m>f?m:f,u=(_=s*t+a*n+h)<u?_:u,d=(m=o*t+l*n+c)<d?m:d,p=_>p?_:p,f=m>f?m:f,u=(_=s*i+a*n+h)<u?_:u,d=(m=o*i+l*n+c)<d?m:d,p=_>p?_:p,f=m>f?m:f,this.minX=u,this.minY=d,this.maxX=p,this.maxY=f},e.prototype.addVertexData=function(e,t,r){for(var i=this.minX,n=this.minY,s=this.maxX,o=this.maxY,a=t;a<r;a+=2){var l=e[a],h=e[a+1];i=l<i?l:i,n=h<n?h:n,s=l>s?l:s,o=h>o?h:o}this.minX=i,this.minY=n,this.maxX=s,this.maxY=o},e.prototype.addVertices=function(e,t,r,i){this.addVerticesMatrix(e.worldTransform,t,r,i)},e.prototype.addVerticesMatrix=function(e,t,r,i,n,s){void 0===n&&(n=0),void 0===s&&(s=n);for(var o=e.a,a=e.b,l=e.c,h=e.d,c=e.tx,u=e.ty,d=this.minX,p=this.minY,f=this.maxX,_=this.maxY,m=r;m<i;m+=2){var g=t[m],y=t[m+1],v=o*g+l*y+c,E=h*y+a*g+u;d=Math.min(d,v-n),f=Math.max(f,v+n),p=Math.min(p,E-s),_=Math.max(_,E+s)}this.minX=d,this.minY=p,this.maxX=f,this.maxY=_},e.prototype.addBounds=function(e){var t=this.minX,r=this.minY,i=this.maxX,n=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>n?e.maxY:n},e.prototype.addBoundsMask=function(e,t){var r=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,n=e.maxX<t.maxX?e.maxX:t.maxX,s=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=n&&i<=s){var o=this.minX,a=this.minY,l=this.maxX,h=this.maxY;this.minX=r<o?r:o,this.minY=i<a?i:a,this.maxX=n>l?n:l,this.maxY=s>h?s:h}},e.prototype.addBoundsMatrix=function(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)},e.prototype.addBoundsArea=function(e,t){var r=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,n=e.maxX<t.x+t.width?e.maxX:t.x+t.width,s=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=n&&i<=s){var o=this.minX,a=this.minY,l=this.maxX,h=this.maxY;this.minX=r<o?r:o,this.minY=i<a?i:a,this.maxX=n>l?n:l,this.maxY=s>h?s:h}},e.prototype.pad=function(e,t){void 0===e&&(e=0),void 0===t&&(t=e),this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)},e.prototype.addFramePad=function(e,t,r,i,n,s){e-=n,t-=s,r+=n,i+=s,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i},e}(),extendStatics$h=function(e,t){return(extendStatics$h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$l(e,t){function r(){this.constructor=e}extendStatics$h(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var DisplayObject=function(e){function t(){var t=e.call(this)||this;return t.tempDisplayObjectParent=null,t.transform=new Transform$1,t.alpha=1,t.visible=!0,t.renderable=!0,t.cullable=!1,t.cullArea=null,t.parent=null,t.worldAlpha=1,t._lastSortedIndex=0,t._zIndex=0,t.filterArea=null,t.filters=null,t._enabledFilters=null,t._bounds=new Bounds,t._localBounds=null,t._boundsID=0,t._boundsRect=null,t._localBoundsRect=null,t._mask=null,t._maskRefCount=0,t._destroyed=!1,t.isSprite=!1,t.isMask=!1,t}return __extends$l(t,e),t.mixin=function(e){for(var r=Object.keys(e),i=0;i<r.length;++i){var n=r[i];Object.defineProperty(t.prototype,n,Object.getOwnPropertyDescriptor(e,n))}},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!1,configurable:!0}),t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new Rectangle$1),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){e||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Bounds);var t=this.transform,r=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;var i=this._bounds,n=this._boundsID;this._bounds=this._localBounds;var s=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-n,s},t.prototype.toGlobal=function(e,t,r){return void 0===r&&(r=!1),r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,r,i){return t&&(e=t.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(e,t,r,i,n,s,o,a,l){return void 0===e&&(e=0),void 0===t&&(t=0),void 0===r&&(r=1),void 0===i&&(i=1),void 0===n&&(n=0),void 0===s&&(s=0),void 0===o&&(o=0),void 0===a&&(a=0),void 0===l&&(l=0),this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=i||1,this.rotation=n,this.skew.x=s,this.skew.y=o,this.pivot.x=a,this.pivot.y=l,this},t.prototype.destroy=function(e){this.parent&&this.parent.removeChild(this),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.interactive=!1,this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()},Object.defineProperty(t.prototype,"_tempDisplayObjectParent",{get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new TemporaryDisplayObject),this.tempDisplayObjectParent},enumerable:!1,configurable:!0}),t.prototype.enableTempParent=function(){var e=this.parent;return this.parent=this._tempDisplayObjectParent,e},t.prototype.disableTempParent=function(e){this.parent=e},Object.defineProperty(t.prototype,"x",{get:function(){return this.position.x},set:function(e){this.transform.position.x=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"y",{get:function(){return this.position.y},set:function(e){this.transform.position.y=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldTransform",{get:function(){return this.transform.worldTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"localTransform",{get:function(){return this.transform.localTransform},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"position",{get:function(){return this.transform.position},set:function(e){this.transform.position.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scale",{get:function(){return this.transform.scale},set:function(e){this.transform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pivot",{get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skew",{get:function(){return this.transform.skew},set:function(e){this.transform.skew.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"angle",{get:function(){return this.transform.rotation*RAD_TO_DEG},set:function(e){this.transform.rotation=e*DEG_TO_RAD},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"zIndex",{get:function(){return this._zIndex},set:function(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldVisible",{get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mask",{get:function(){return this._mask},set:function(e){var t;this._mask!==e&&(this._mask&&((t=this._mask.maskObject||this._mask)._maskRefCount--,0===t._maskRefCount&&(t.renderable=!0,t.isMask=!1)),this._mask=e,this._mask&&(0===(t=this._mask.maskObject||this._mask)._maskRefCount&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++))},enumerable:!1,configurable:!0}),t}(EventEmitter$2),TemporaryDisplayObject=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sortDirty=null,t}return __extends$l(t,e),t}(DisplayObject),ENV$3,RENDERER_TYPE$3,BUFFER_BITS$3,BLEND_MODES$3,DRAW_MODES$3,FORMATS$3,TARGETS$3,TYPES$3,SAMPLER_TYPES$3,SCALE_MODES$3,WRAP_MODES$3,MIPMAP_MODES$3,ALPHA_MODES$3,CLEAR_MODES$3,GC_MODES$3,PRECISION$3,MASK_TYPES$3,MSAA_QUALITY$3,BUFFER_TYPE$3;function sortChildren(e,t){return e.zIndex===t.zIndex?e._lastSortedIndex-t._lastSortedIndex:e.zIndex-t.zIndex}DisplayObject.prototype.displayObjectUpdateTransform=DisplayObject.prototype.updateTransform,function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$3||(ENV$3={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$3||(RENDERER_TYPE$3={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$3||(BUFFER_BITS$3={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$3||(BLEND_MODES$3={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$3||(DRAW_MODES$3={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$3||(FORMATS$3={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$3||(TARGETS$3={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$3||(TYPES$3={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$3||(SAMPLER_TYPES$3={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$3||(SCALE_MODES$3={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$3||(WRAP_MODES$3={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$3||(MIPMAP_MODES$3={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ALPHA_MODES$3||(ALPHA_MODES$3={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$3||(CLEAR_MODES$3={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$3||(GC_MODES$3={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$3||(PRECISION$3={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$3||(MASK_TYPES$3={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$3||(MSAA_QUALITY$3={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$3||(BUFFER_TYPE$3={}));var Container=function(e){function t(){var t=e.call(this)||this;return t.children=[],t.sortableChildren=settings$1.SORTABLE_CHILDREN,t.sortDirty=!1,t}return __extends$l(t,e),t.prototype.onChildrenChange=function(e){},t.prototype.addChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var i=0;i<t.length;i++)this.addChild(t[i]);else{var n=t[0];n.parent&&n.parent.removeChild(n),n.parent=this,this.sortDirty=!0,n.transform._parentID=-1,this.children.push(n),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",n,this,this.children.length-1),n.emit("added",this)}return t[0]},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),this.emit("childAdded",e,this,t),e},t.prototype.swapChildren=function(e,t){if(e!==t){var r=this.getChildIndex(e),i=this.getChildIndex(t);this.children[r]=t,this.children[i]=e,this.onChildrenChange(r<i?r:i)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var r=this.getChildIndex(e);removeItems$1(this.children,r,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];if(t.length>1)for(var i=0;i<t.length;i++)this.removeChild(t[i]);else{var n=t[0],s=this.children.indexOf(n);if(-1===s)return null;n.parent=null,n.transform._parentID=-1,removeItems$1(this.children,s,1),this._boundsID++,this.onChildrenChange(s),n.emit("removed",this),this.emit("childRemoved",n,this,s)}return t[0]},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,removeItems$1(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),this.emit("childRemoved",t,this,e),t},t.prototype.removeChildren=function(e,t){void 0===e&&(e=0),void 0===t&&(t=this.children.length);var r,i=e,n=t-i;if(n>0&&n<=t){r=this.children.splice(i,n);for(var s=0;s<r.length;++s)r[s].parent=null,r[s].transform&&(r[s].transform._parentID=-1);for(this._boundsID++,this.onChildrenChange(e),s=0;s<r.length;++s)r[s].emit("removed",this),this.emit("childRemoved",r[s],this,s);return r}if(0===n&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.sortChildren=function(){for(var e=!1,t=0,r=this.children.length;t<r;++t){var i=this.children[t];i._lastSortedIndex=t,!e&&0!==i.zIndex&&(e=!0)}e&&this.children.length>1&&this.children.sort(sortChildren),this.sortDirty=!1},t.prototype.updateTransform=function(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var r=this.children[e];r.visible&&r.updateTransform()}},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];if(t.visible&&t.renderable)if(t.calculateBounds(),t._mask){var r=t._mask.maskObject||t._mask;r.calculateBounds(),this._bounds.addBoundsMask(t._bounds,r._bounds)}else t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds)}this._bounds.updateID=this._boundsID},t.prototype.getLocalBounds=function(t,r){void 0===r&&(r=!1);var i=e.prototype.getLocalBounds.call(this,t);if(!r)for(var n=0,s=this.children.length;n<s;++n){var o=this.children[n];o.visible&&o.updateTransform()}return i},t.prototype._calculateBounds=function(){},t.prototype._renderWithCulling=function(e){var r=e.renderTexture.sourceFrame;if(r.width>0&&r.height>0){var i,n;if(this.cullArea?(i=this.cullArea,n=this.worldTransform):this._render!==t.prototype._render&&(i=this.getBounds(!0)),i&&r.intersects(i,n))this._render(e);else if(this.cullArea)return;for(var s=0,o=this.children.length;s<o;++s){var a=this.children[s],l=a.cullable;a.cullable=l||!this.cullArea,a.render(e),a.cullable=l}}},t.prototype.render=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvanced(e);else if(this.cullable)this._renderWithCulling(e);else{this._render(e);for(var t=0,r=this.children.length;t<r;++t)this.children[t].render(e)}},t.prototype.renderAdvanced=function(e){var t=this.filters,r=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var i=0;i<t.length;i++)t[i].enabled&&this._enabledFilters.push(t[i])}var n=t&&this._enabledFilters&&this._enabledFilters.length||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==MASK_TYPES$3.NONE));if(n&&e.batch.flush(),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.push(this,this._enabledFilters),r&&e.mask.push(this,this._mask),this.cullable)this._renderWithCulling(e);else{this._render(e),i=0;for(var s=this.children.length;i<s;++i)this.children[i].render(e)}n&&e.batch.flush(),r&&e.mask.pop(this),t&&this._enabledFilters&&this._enabledFilters.length&&e.filter.pop()},t.prototype._render=function(e){},t.prototype.destroy=function(t){e.prototype.destroy.call(this),this.sortDirty=!1;var r="boolean"==typeof t?t:t&&t.children,i=this.removeChildren(0,this.children.length);if(r)for(var n=0;n<i.length;++n)i[n].destroy(t)},Object.defineProperty(t.prototype,"width",{get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e},enumerable:!1,configurable:!0}),t}(DisplayObject);Container.prototype.containerUpdateTransform=Container.prototype.updateTransform;var TEMP_RECT=new Rectangle$1,BYTES_PER_PIXEL=4,Extract=function(){function e(e){this.renderer=e}return e.prototype.image=function(e,t,r){var i=new Image;return i.src=this.base64(e,t,r),i},e.prototype.base64=function(e,t,r){return this.canvas(e).toDataURL(t,r)},e.prototype.canvas=function(t){var r,i,n,s=this.renderer,o=!1,a=!1;t&&(t instanceof RenderTexture$1?n=t:(n=this.renderer.generateTexture(t),a=!0)),n?(r=n.baseTexture.resolution,i=n.frame,o=!1,s.renderTexture.bind(n)):(r=this.renderer.resolution,o=!0,(i=TEMP_RECT).width=this.renderer.width,i.height=this.renderer.height,s.renderTexture.bind(null));var l=Math.floor(i.width*r+1e-4),h=Math.floor(i.height*r+1e-4),c=new CanvasRenderTarget(l,h,1),u=new Uint8Array(BYTES_PER_PIXEL*l*h),d=s.gl;d.readPixels(i.x*r,i.y*r,l,h,d.RGBA,d.UNSIGNED_BYTE,u);var p=c.context.getImageData(0,0,l,h);if(e.arrayPostDivide(u,p.data),c.context.putImageData(p,0,0),o){var f=new CanvasRenderTarget(c.width,c.height,1);f.context.scale(1,-1),f.context.drawImage(c.canvas,0,-h),c.destroy(),c=f}return a&&n.destroy(!0),c.canvas},e.prototype.pixels=function(t,r){var i,n,s,o=this.renderer,a=!1;t&&(t instanceof RenderTexture$1?s=t:t instanceof DisplayObject&&(s=this.renderer.generateTexture(t),a=!0)),s?r?(i=r.resolution,n=s.frame,o.renderTexture.bind(s)):(i=s.baseTexture.resolution,n=s.frame,o.renderTexture.bind(s)):r?(i=r.resolution,(n=TEMP_RECT).width=r.width,n.height=r.height,o.renderTexture.bind(null)):(i=o.resolution,(n=TEMP_RECT).width=o.width,n.height=o.height,o.renderTexture.bind(null));var l=n.width*i,h=n.height*i,c=new Uint8Array(BYTES_PER_PIXEL*l*h),u=o.gl;return u.readPixels(n.x*i,n.y*i,l,h,u.RGBA,u.UNSIGNED_BYTE,c),a&&s.destroy(!0),e.arrayPostDivide(c,c),c},e.prototype.destroy=function(){this.renderer=null},e.arrayPostDivide=function(e,t){for(var r=0;r<e.length;r+=4){var i=t[r+3]=e[r+3];0!==i?(t[r]=Math.round(Math.min(255*e[r]/i,255)),t[r+1]=Math.round(Math.min(255*e[r+1]/i,255)),t[r+2]=Math.round(Math.min(255*e[r+2]/i,255))):(t[r]=e[r],t[r+1]=e[r+1],t[r+2]=e[r+2])}},e}(),SignalBinding=function(){function e(e,t,r){void 0===t&&(t=!1),this._fn=e,this._once=t,this._thisArg=r,this._next=this._prev=this._owner=null}return e.prototype.detach=function(){return null!==this._owner&&(this._owner.detach(this),!0)},e}();function _addSignalBinding(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}var Signal=function(){function e(){this._head=this._tail=void 0}return e.prototype.handlers=function(e){void 0===e&&(e=!1);var t=this._head;if(e)return!!t;for(var r=[];t;)r.push(t),t=t._next;return r},e.prototype.has=function(e){if(!(e instanceof SignalBinding))throw new Error("MiniSignal#has(): First arg must be a SignalBinding object.");return e._owner===this},e.prototype.dispatch=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var i=this._head;if(!i)return!1;for(;i;)i._once&&this.detach(i),i._fn.apply(i._thisArg,t),i=i._next;return!0},e.prototype.add=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(e,!1,t))},e.prototype.once=function(e,t){if(void 0===t&&(t=null),"function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return _addSignalBinding(this,new SignalBinding(e,!0,t))},e.prototype.detach=function(e){if(!(e instanceof SignalBinding))throw new Error("MiniSignal#detach(): First arg must be a SignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this},e.prototype.detachAll=function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this},e}();function parseUri(e,t){t=t||{};for(var r={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=r.parser[t.strictMode?"strict":"loose"].exec(e),n={},s=14;s--;)n[r.key[s]]=i[s]||"";return n[r.q.name]={},n[r.key[12]].replace(r.q.parser,(function(e,t,i){t&&(n[r.q.name][t]=i)})),n}var useXdr,tempAnchor=null,STATUS_NONE=0,STATUS_OK=200,STATUS_EMPTY=204,STATUS_IE_BUG_EMPTY=1223,STATUS_TYPE_OK=2;function _noop$1(){}function setExtMap(e,t,r){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=r)}function reqType(e){return e.toString().replace("object ","")}var LoaderResource=function(){function e(t,r,i){if(this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=null,this._boundOnError=null,this._boundOnProgress=null,this._boundOnTimeout=null,this._boundXhrOnError=null,this._boundXhrOnTimeout=null,this._boundXhrOnAbort=null,this._boundXhrOnLoad=null,"string"!=typeof t||"string"!=typeof r)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===r.indexOf("data:")),this.name=t,this.url=r,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop$1,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new Signal,this.onProgress=new Signal,this.onComplete=new Signal,this.onAfterMiddleware=new Signal}return e.setExtensionLoadType=function(t,r){setExtMap(e._loadTypeMap,t,r)},e.setExtensionXhrType=function(t,r){setExtMap(e._xhrTypeMap,t,r)},Object.defineProperty(e.prototype,"isDataUrl",{get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isComplete",{get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLoading",{get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)},enumerable:!1,configurable:!0}),e.prototype.complete=function(){this._clearEvents(),this._finish()},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},e.prototype.load=function(t){var r=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout((function(){return t(r)}),1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),(!1===this.crossOrigin||"string"!=typeof this.crossOrigin)&&(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:void 0===useXdr&&(useXdr=!(!globalThis.XDomainRequest||"withCredentials"in new XMLHttpRequest)),useXdr&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},e.prototype._hasFlag=function(e){return!!(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},e.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==globalThis.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},e.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==globalThis.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,r=0;r<this.url.length;++r)this.data.appendChild(this._createSource(e,this.url[r],Array.isArray(t)?t[r]:t));else t=this.metadata.mimeType,this.data.appendChild(this._createSource(e,this.url,Array.isArray(t)?t[0]:t));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},e.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;"use-credentials"===this.crossOrigin&&(t.withCredentials=!0),t.open("GET",this.url,!0),t.timeout=this.timeout,this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("timeout",this._boundXhrOnTimeout,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new globalThis.XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout((function(){return e.send()}),1)},e.prototype._createSource=function(e,t,r){r||(r=e+"/"+this._getExtension(t));var i=document.createElement("source");return i.src=t,i.type=r,i},e.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._onTimeout=function(){this.abort("Load timed out.")},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(reqType(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(reqType(e)+" Request timed out.")},e.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(reqType(e)+" Request was aborted by the user.")},e.prototype._xhrOnLoad=function(){var t=this.xhr,r="",i=void 0===t.status?STATUS_OK:t.status;if((""===t.responseType||"text"===t.responseType||void 0===t.responseType)&&(r=t.responseText),i===STATUS_NONE&&(r.length>0||t.responseType===e.XHR_RESPONSE_TYPE.BUFFER)?i=STATUS_OK:i===STATUS_IE_BUG_EMPTY&&(i=STATUS_EMPTY),(i/100|0)===STATUS_TYPE_OK){if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=r,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(r),this.type=e.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{if(globalThis.DOMParser){var n=new DOMParser;this.data=n.parseFromString(r,"text/xml")}else{var s=document.createElement("div");s.innerHTML=r,this.data=s}this.type=e.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||r;this.complete()}else this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL)},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(globalThis.origin!==globalThis.location.origin)return"anonymous";t=t||globalThis.location,tempAnchor||(tempAnchor=document.createElement("a")),tempAnchor.href=e;var r=parseUri(tempAnchor.href,{strictMode:!0}),i=!r.port&&""===t.port||r.port===t.port,n=r.protocol?r.protocol+":":"";return r.host===t.hostname&&i&&n===t.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(e){void 0===e&&(e=this.url);var t="";if(this.isDataUrl){var r=e.indexOf("/");t=e.substring(r+1,e.indexOf(";",r))}else{var i=e.indexOf("?"),n=e.indexOf("#"),s=Math.min(i>-1?i:e.length,n>-1?n:e.length);t=(e=e.substring(0,s)).substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},e}();function _noop(){}function onlyOnce(e){return function(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];if(null===e)throw new Error("Callback was already called.");var n=e;e=null,n.apply(this,r)}}!function(e){var t;(t=e.STATUS_FLAGS||(e.STATUS_FLAGS={}))[t.NONE=0]="NONE",t[t.DATA_URL=1]="DATA_URL",t[t.COMPLETE=2]="COMPLETE",t[t.LOADING=4]="LOADING",function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.JSON=1]="JSON",e[e.XML=2]="XML",e[e.IMAGE=3]="IMAGE",e[e.AUDIO=4]="AUDIO",e[e.VIDEO=5]="VIDEO",e[e.TEXT=6]="TEXT"}(e.TYPE||(e.TYPE={})),function(e){e[e.XHR=1]="XHR",e[e.IMAGE=2]="IMAGE",e[e.AUDIO=3]="AUDIO",e[e.VIDEO=4]="VIDEO"}(e.LOAD_TYPE||(e.LOAD_TYPE={})),function(e){e.DEFAULT="text",e.BUFFER="arraybuffer",e.BLOB="blob",e.DOCUMENT="document",e.JSON="json",e.TEXT="text"}(e.XHR_RESPONSE_TYPE||(e.XHR_RESPONSE_TYPE={})),e._loadTypeMap={gif:e.LOAD_TYPE.IMAGE,png:e.LOAD_TYPE.IMAGE,bmp:e.LOAD_TYPE.IMAGE,jpg:e.LOAD_TYPE.IMAGE,jpeg:e.LOAD_TYPE.IMAGE,tif:e.LOAD_TYPE.IMAGE,tiff:e.LOAD_TYPE.IMAGE,webp:e.LOAD_TYPE.IMAGE,tga:e.LOAD_TYPE.IMAGE,svg:e.LOAD_TYPE.IMAGE,"svg+xml":e.LOAD_TYPE.IMAGE,mp3:e.LOAD_TYPE.AUDIO,ogg:e.LOAD_TYPE.AUDIO,wav:e.LOAD_TYPE.AUDIO,mp4:e.LOAD_TYPE.VIDEO,webm:e.LOAD_TYPE.VIDEO},e._xhrTypeMap={xhtml:e.XHR_RESPONSE_TYPE.DOCUMENT,html:e.XHR_RESPONSE_TYPE.DOCUMENT,htm:e.XHR_RESPONSE_TYPE.DOCUMENT,xml:e.XHR_RESPONSE_TYPE.DOCUMENT,tmx:e.XHR_RESPONSE_TYPE.DOCUMENT,svg:e.XHR_RESPONSE_TYPE.DOCUMENT,tsx:e.XHR_RESPONSE_TYPE.DOCUMENT,gif:e.XHR_RESPONSE_TYPE.BLOB,png:e.XHR_RESPONSE_TYPE.BLOB,bmp:e.XHR_RESPONSE_TYPE.BLOB,jpg:e.XHR_RESPONSE_TYPE.BLOB,jpeg:e.XHR_RESPONSE_TYPE.BLOB,tif:e.XHR_RESPONSE_TYPE.BLOB,tiff:e.XHR_RESPONSE_TYPE.BLOB,webp:e.XHR_RESPONSE_TYPE.BLOB,tga:e.XHR_RESPONSE_TYPE.BLOB,json:e.XHR_RESPONSE_TYPE.JSON,text:e.XHR_RESPONSE_TYPE.TEXT,txt:e.XHR_RESPONSE_TYPE.TEXT,ttf:e.XHR_RESPONSE_TYPE.BUFFER,otf:e.XHR_RESPONSE_TYPE.BUFFER},e.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="}(LoaderResource||(LoaderResource={}));var AsyncQueueItem=function(e,t){this.data=e,this.callback=t},AsyncQueue=function(){function e(e,t){var r=this;if(void 0===t&&(t=1),this.workers=0,this.saturated=_noop,this.unsaturated=_noop,this.empty=_noop,this.drain=_noop,this.error=_noop,this.started=!1,this.paused=!1,this._tasks=[],this._insert=function(e,t,i){if(i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==e&&r.idle())setTimeout((function(){return r.drain()}),1);else{var n=new AsyncQueueItem(e,"function"==typeof i?i:_noop);t?r._tasks.unshift(n):r._tasks.push(n),setTimeout(r.process,1)}},this.process=function(){for(;!r.paused&&r.workers<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),r.workers+=1,r.workers===r.concurrency&&r.saturated(),r._worker(e.data,onlyOnce(r._next(e)))}},this._worker=e,0===t)throw new Error("Concurrency must not be zero");this.concurrency=t,this.buffer=t/4}return e.prototype._next=function(e){var t=this;return function(){for(var r=arguments,i=[],n=0;n<arguments.length;n++)i[n]=r[n];t.workers-=1,e.callback.apply(e,i),null!=i[0]&&t.error(i[0],e.data),t.workers<=t.concurrency-t.buffer&&t.unsaturated(),t.idle()&&t.drain(),t.process()}},e.prototype.push=function(e,t){this._insert(e,!1,t)},e.prototype.kill=function(){this.workers=0,this.drain=_noop,this.started=!1,this._tasks=[]},e.prototype.unshift=function(e,t){this._insert(e,!0,t)},e.prototype.length=function(){return this._tasks.length},e.prototype.running=function(){return this.workers},e.prototype.idle=function(){return this._tasks.length+this.workers===0},e.prototype.pause=function(){!0!==this.paused&&(this.paused=!0)},e.prototype.resume=function(){if(!1!==this.paused){this.paused=!1;for(var e=1;e<=this.concurrency;e++)this.process()}},e.eachSeries=function(e,t,r,i){var n=0,s=e.length;!function o(a){a||n===s?r&&r(a):i?setTimeout((function(){t(e[n++],o)}),1):t(e[n++],o)}()},e.queue=function(t,r){return new e(t,r)},e}(),MAX_PROGRESS=100,rgxExtractUrlHash=/(#[\w-]+)?$/,Loader=function(){function e(t,r){var i=this;void 0===t&&(t=""),void 0===r&&(r=10),this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return i._loadResource(e,t)},this.resources={},this.baseUrl=t,this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return i._loadResource(e,t)},this._queue=AsyncQueue.queue(this._boundLoadResource,r),this._queue.pause(),this.resources={},this.onProgress=new Signal,this.onError=new Signal,this.onLoad=new Signal,this.onStart=new Signal,this.onComplete=new Signal;for(var n=0;n<e._plugins.length;++n){var s=e._plugins[n],o=s.pre,a=s.use;o&&this.pre(o),a&&this.use(a)}this._protected=!1}return e.prototype._add=function(e,t,r,i){if(this.loading&&(!r||!r.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new LoaderResource(e,t,r),"function"==typeof i&&this.resources[e].onAfterMiddleware.once(i),this.loading){for(var n=r.parentResource,s=[],o=0;o<n.children.length;++o)n.children[o].isComplete||s.push(n.children[o]);var a=n.progressChunk*(s.length+1)/(s.length+2);for(n.children.push(this.resources[e]),n.progressChunk=a,o=0;o<s.length;++o)s[o].progressChunk=a;this.resources[e].progressChunk=a}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort("loader reset")}return this.resources={},this},e.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,r=MAX_PROGRESS/t,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=r;this._onStart(),this._queue.resume()}return this},Object.defineProperty(e.prototype,"concurrency",{get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e},enumerable:!1,configurable:!0}),e.prototype._prepareUrl=function(e){var t,r=parseUri(e,{strictMode:!0});if(t=r.protocol||!r.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var i=rgxExtractUrlHash.exec(t)[0];-1!==(t=t.slice(0,t.length-i.length)).indexOf("?")?t+="&"+this.defaultQueryString:t+="?"+this.defaultQueryString,t+=i}return t},e.prototype._loadResource=function(e,t){var r=this;e._dequeue=t,AsyncQueue.eachSeries(this._beforeMiddleware,(function(t,i){t.call(r,e,(function(){i(e.isComplete?{}:null)}))}),(function(){e.isComplete?r._onLoad(e):(e._onLoadBinding=e.onComplete.once(r._onLoad,r),e.load())}),!0)},e.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},e.prototype._onComplete=function(){this.progress=MAX_PROGRESS,this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,this._resourcesParsing.push(e),e._dequeue(),AsyncQueue.eachSeries(this._afterMiddleware,(function(r,i){r.call(t,e,i)}),(function(){e.onAfterMiddleware.dispatch(e),t.progress=Math.min(MAX_PROGRESS,t.progress+e.progressChunk),t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&t._onComplete()}),!0)},e.prototype.destroy=function(){this._protected||this.reset()},Object.defineProperty(e,"shared",{get:function(){var t=e._shared;return t||((t=new e)._protected=!0,e._shared=t),t},enumerable:!1,configurable:!0}),e.registerPlugin=function(t){return e._plugins.push(t),t.add&&t.add(),e},e._plugins=[],e}();Loader.prototype.add=function(e,t,r,i){if(Array.isArray(e)){for(var n=0;n<e.length;++n)this.add(e[n]);return this}if("object"==typeof e&&(r=e,i=t||r.callback||r.onComplete,t=r.url,e=r.name||r.key||r.url),"string"!=typeof t&&(i=r,r=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");return"function"==typeof r&&(i=r,r=null),this._add(e,t,r,i)};var AppLoaderPlugin=function(){function e(){}return e.init=function(e){e=Object.assign({sharedLoader:!1},e),this.loader=e.sharedLoader?Loader.shared:new Loader},e.destroy=function(){this.loader&&(this.loader.destroy(),this.loader=null)},e}(),TextureLoader=function(){function e(){}return e.add=function(){LoaderResource.setExtensionLoadType("svg",LoaderResource.LOAD_TYPE.XHR),LoaderResource.setExtensionXhrType("svg",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(e,t){if(!e.data||e.type!==LoaderResource.TYPE.IMAGE&&"svg"!==e.extension)t();else{var r=e.data,i=e.url,n=e.name,s=e.metadata;Texture$1.fromLoader(r,i,n,s).then((function(r){e.texture=r,t()})).catch(t)}},e}(),_keyStr="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_a$2,INTERNAL_FORMATS;function encodeBinary(e){for(var t="",r=0;r<e.length;){for(var i=[0,0,0],n=[0,0,0,0],s=0;s<i.length;++s)r<e.length?i[s]=255&e.charCodeAt(r++):i[s]=0;switch(n[0]=i[0]>>2,n[1]=(3&i[0])<<4|i[1]>>4,n[2]=(15&i[1])<<2|i[2]>>6,n[3]=63&i[2],r-(e.length-1)){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(s=0;s<n.length;++s)t+=_keyStr.charAt(n[s])}return t}function parsing(e,t){if(e.data){if(e.xhr&&e.xhrType===LoaderResource.XHR_RESPONSE_TYPE.BLOB)if(self.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var r=globalThis.URL||globalThis.webkitURL,i=r.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=i,e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){r.revokeObjectURL(i),e.data.onload=null,t()})}}else{var n=e.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return e.data=new Image,e.data.src="data:"+n+";base64,"+encodeBinary(e.xhr.responseText),e.type=LoaderResource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}Loader.registerPlugin({use:parsing}),Loader.registerPlugin(TextureLoader),function(e){e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",e[e.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",e[e.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL"}(INTERNAL_FORMATS||(INTERNAL_FORMATS={}));var INTERNAL_FORMAT_TO_BYTES_PER_PIXEL=(_a$2={},_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_R11_EAC]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SIGNED_RG11_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG]=.25,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ETC1_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGB_ATC_WEBGL]=.5,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL]=1,_a$2[INTERNAL_FORMATS.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL]=1,_a$2),extendStatics$g=function(e,t){return(extendStatics$g=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$k(e,t){function r(){this.constructor=e}extendStatics$g(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function __awaiter$7(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))}function __generator$7(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}}var BlobResource=function(e){function t(t,r){void 0===r&&(r={width:1,height:1,autoLoad:!0});var i,n,s=this;return"string"==typeof t?(i=t,n=new Uint8Array):(i=null,n=t),(s=e.call(this,n,r)||this).origin=i,s.buffer=n?new ViewableBuffer$1(n):null,s.origin&&!1!==r.autoLoad&&s.load(),n&&n.length&&(s.loaded=!0,s.onBlobLoaded(s.buffer.rawBinaryData)),s}return __extends$k(t,e),t.prototype.onBlobLoaded=function(e){},t.prototype.load=function(){return __awaiter$7(this,void 0,Promise,(function(){var e;return __generator$7(this,(function(t){switch(t.label){case 0:return[4,fetch(this.origin)];case 1:return[4,t.sent().blob()];case 2:return[4,t.sent().arrayBuffer()];case 3:return e=t.sent(),this.data=new Uint32Array(e),this.buffer=new ViewableBuffer$1(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),[2,this]}}))}))},t}(BufferResource$1),CompressedTextureResource=function(e){function t(r,i){var n=e.call(this,r,i)||this;return n.format=i.format,n.levels=i.levels||1,n._width=i.width,n._height=i.height,n._extension=t._formatToExtension(n.format),(i.levelBuffers||n.buffer)&&(n._levelBuffers=i.levelBuffers||t._createLevelBuffers(r instanceof Uint8Array?r:n.buffer.uint8View,n.format,n.levels,4,4,n.width,n.height)),n}return __extends$k(t,e),t.prototype.upload=function(e,t,r){var i=e.gl;if(!e.context.extensions[this._extension])throw new Error(this._extension+" textures are not supported on the current machine");if(!this._levelBuffers)return!1;for(var n=0,s=this.levels;n<s;n++){var o=this._levelBuffers[n],a=o.levelID,l=o.levelWidth,h=o.levelHeight,c=o.levelBuffer;i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,l,h,0,c)}return!0},t.prototype.onBlobLoaded=function(){this._levelBuffers=t._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)},t._formatToExtension=function(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")},t._createLevelBuffers=function(e,t,r,i,n,s,o){for(var a=new Array(r),l=e.byteOffset,h=s,c=o,u=h+i-1&~(i-1),d=c+n-1&~(n-1),p=u*d*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t],f=0;f<r;f++)a[f]={levelID:f,levelWidth:r>1?h:u,levelHeight:r>1?c:d,levelBuffer:new Uint8Array(e.buffer,l,p)},l+=p,p=(u=(h=h>>1||1)+i-1&~(i-1))*(d=(c=c>>1||1)+n-1&~(n-1))*INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[t];return a},t}(BlobResource),CompressedTextureLoader=function(){function e(){}return e.use=function(t,r){var i=t.data;if(t.type===LoaderResource.TYPE.JSON&&i&&i.cacheID&&i.textures){for(var n=i.textures,s=void 0,o=void 0,a=0,l=n.length;a<l;a++){var h=n[a],c=h.src,u=h.format;if(u||(o=c),e.textureFormats[u]){s=c;break}}if(!(s=s||o))return void r(new Error("Cannot load compressed-textures in "+t.url+", make sure you provide a fallback"));if(s===t.url)return void r(new Error("URL of compressed texture cannot be the same as the manifest's URL"));var d={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},p=url.resolve(t.url.replace(this.baseUrl,""),s),f=i.cacheID;this.add(f,p,d,(function(e){if(e.error)r(e.error);else{var i=e.texture,n=void 0===i?null:i,s=e.textures,o=void 0===s?{}:s;Object.assign(t,{texture:n,textures:o}),r()}}))}else r()},Object.defineProperty(e,"textureExtensions",{get:function(){if(!e._textureExtensions){var t=document.createElement("canvas").getContext("webgl");if(!t)return console.warn("WebGL not available for compressed textures. Silently failing."),{};var r={s3tc:t.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:t.getExtension("WEBGL_compressed_texture_etc"),etc1:t.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:t.getExtension("WEBGL_compressed_texture_atc"),astc:t.getExtension("WEBGL_compressed_texture_astc")};e._textureExtensions=r}return e._textureExtensions},enumerable:!1,configurable:!0}),Object.defineProperty(e,"textureFormats",{get:function(){if(!e._textureFormats){var t=e.textureExtensions;for(var r in e._textureFormats={},t){var i=t[r];i&&Object.assign(e._textureFormats,Object.getPrototypeOf(i))}}return e._textureFormats},enumerable:!1,configurable:!0}),e}(),_a$1,_b$1;function registerCompressedTextures(e,t,r){var i={textures:{},texture:null};return t?(t.map((function(e){return new Texture$1(new BaseTexture$1(e,Object.assign({mipmap:MIPMAP_MODES$5.OFF,alphaMode:ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA},r)))})).forEach((function(t,r){var n=t.baseTexture,s=e+"-"+(r+1);BaseTexture$1.addToCache(n,s),Texture$1.addToCache(t,s),0===r&&(BaseTexture$1.addToCache(n,e),Texture$1.addToCache(t,e),i.texture=t),i.textures[s]=t})),i):i}LoaderResource.setExtensionXhrType("dds",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var DDS_MAGIC_SIZE=4,DDS_HEADER_SIZE=124,DDS_HEADER_PF_SIZE=32,DDS_HEADER_DX10_SIZE=20,DDS_MAGIC=542327876,DDS_FIELDS={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},DDS_PF_FIELDS={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},DDS_DX10_FIELDS={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},DXGI_FORMAT,D3D10_RESOURCE_DIMENSION;!function(e){e[e.DXGI_FORMAT_UNKNOWN=0]="DXGI_FORMAT_UNKNOWN",e[e.DXGI_FORMAT_R32G32B32A32_TYPELESS=1]="DXGI_FORMAT_R32G32B32A32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32A32_FLOAT=2]="DXGI_FORMAT_R32G32B32A32_FLOAT",e[e.DXGI_FORMAT_R32G32B32A32_UINT=3]="DXGI_FORMAT_R32G32B32A32_UINT",e[e.DXGI_FORMAT_R32G32B32A32_SINT=4]="DXGI_FORMAT_R32G32B32A32_SINT",e[e.DXGI_FORMAT_R32G32B32_TYPELESS=5]="DXGI_FORMAT_R32G32B32_TYPELESS",e[e.DXGI_FORMAT_R32G32B32_FLOAT=6]="DXGI_FORMAT_R32G32B32_FLOAT",e[e.DXGI_FORMAT_R32G32B32_UINT=7]="DXGI_FORMAT_R32G32B32_UINT",e[e.DXGI_FORMAT_R32G32B32_SINT=8]="DXGI_FORMAT_R32G32B32_SINT",e[e.DXGI_FORMAT_R16G16B16A16_TYPELESS=9]="DXGI_FORMAT_R16G16B16A16_TYPELESS",e[e.DXGI_FORMAT_R16G16B16A16_FLOAT=10]="DXGI_FORMAT_R16G16B16A16_FLOAT",e[e.DXGI_FORMAT_R16G16B16A16_UNORM=11]="DXGI_FORMAT_R16G16B16A16_UNORM",e[e.DXGI_FORMAT_R16G16B16A16_UINT=12]="DXGI_FORMAT_R16G16B16A16_UINT",e[e.DXGI_FORMAT_R16G16B16A16_SNORM=13]="DXGI_FORMAT_R16G16B16A16_SNORM",e[e.DXGI_FORMAT_R16G16B16A16_SINT=14]="DXGI_FORMAT_R16G16B16A16_SINT",e[e.DXGI_FORMAT_R32G32_TYPELESS=15]="DXGI_FORMAT_R32G32_TYPELESS",e[e.DXGI_FORMAT_R32G32_FLOAT=16]="DXGI_FORMAT_R32G32_FLOAT",e[e.DXGI_FORMAT_R32G32_UINT=17]="DXGI_FORMAT_R32G32_UINT",e[e.DXGI_FORMAT_R32G32_SINT=18]="DXGI_FORMAT_R32G32_SINT",e[e.DXGI_FORMAT_R32G8X24_TYPELESS=19]="DXGI_FORMAT_R32G8X24_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT_S8X24_UINT=20]="DXGI_FORMAT_D32_FLOAT_S8X24_UINT",e[e.DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS=21]="DXGI_FORMAT_R32_FLOAT_X8X24_TYPELESS",e[e.DXGI_FORMAT_X32_TYPELESS_G8X24_UINT=22]="DXGI_FORMAT_X32_TYPELESS_G8X24_UINT",e[e.DXGI_FORMAT_R10G10B10A2_TYPELESS=23]="DXGI_FORMAT_R10G10B10A2_TYPELESS",e[e.DXGI_FORMAT_R10G10B10A2_UNORM=24]="DXGI_FORMAT_R10G10B10A2_UNORM",e[e.DXGI_FORMAT_R10G10B10A2_UINT=25]="DXGI_FORMAT_R10G10B10A2_UINT",e[e.DXGI_FORMAT_R11G11B10_FLOAT=26]="DXGI_FORMAT_R11G11B10_FLOAT",e[e.DXGI_FORMAT_R8G8B8A8_TYPELESS=27]="DXGI_FORMAT_R8G8B8A8_TYPELESS",e[e.DXGI_FORMAT_R8G8B8A8_UNORM=28]="DXGI_FORMAT_R8G8B8A8_UNORM",e[e.DXGI_FORMAT_R8G8B8A8_UNORM_SRGB=29]="DXGI_FORMAT_R8G8B8A8_UNORM_SRGB",e[e.DXGI_FORMAT_R8G8B8A8_UINT=30]="DXGI_FORMAT_R8G8B8A8_UINT",e[e.DXGI_FORMAT_R8G8B8A8_SNORM=31]="DXGI_FORMAT_R8G8B8A8_SNORM",e[e.DXGI_FORMAT_R8G8B8A8_SINT=32]="DXGI_FORMAT_R8G8B8A8_SINT",e[e.DXGI_FORMAT_R16G16_TYPELESS=33]="DXGI_FORMAT_R16G16_TYPELESS",e[e.DXGI_FORMAT_R16G16_FLOAT=34]="DXGI_FORMAT_R16G16_FLOAT",e[e.DXGI_FORMAT_R16G16_UNORM=35]="DXGI_FORMAT_R16G16_UNORM",e[e.DXGI_FORMAT_R16G16_UINT=36]="DXGI_FORMAT_R16G16_UINT",e[e.DXGI_FORMAT_R16G16_SNORM=37]="DXGI_FORMAT_R16G16_SNORM",e[e.DXGI_FORMAT_R16G16_SINT=38]="DXGI_FORMAT_R16G16_SINT",e[e.DXGI_FORMAT_R32_TYPELESS=39]="DXGI_FORMAT_R32_TYPELESS",e[e.DXGI_FORMAT_D32_FLOAT=40]="DXGI_FORMAT_D32_FLOAT",e[e.DXGI_FORMAT_R32_FLOAT=41]="DXGI_FORMAT_R32_FLOAT",e[e.DXGI_FORMAT_R32_UINT=42]="DXGI_FORMAT_R32_UINT",e[e.DXGI_FORMAT_R32_SINT=43]="DXGI_FORMAT_R32_SINT",e[e.DXGI_FORMAT_R24G8_TYPELESS=44]="DXGI_FORMAT_R24G8_TYPELESS",e[e.DXGI_FORMAT_D24_UNORM_S8_UINT=45]="DXGI_FORMAT_D24_UNORM_S8_UINT",e[e.DXGI_FORMAT_R24_UNORM_X8_TYPELESS=46]="DXGI_FORMAT_R24_UNORM_X8_TYPELESS",e[e.DXGI_FORMAT_X24_TYPELESS_G8_UINT=47]="DXGI_FORMAT_X24_TYPELESS_G8_UINT",e[e.DXGI_FORMAT_R8G8_TYPELESS=48]="DXGI_FORMAT_R8G8_TYPELESS",e[e.DXGI_FORMAT_R8G8_UNORM=49]="DXGI_FORMAT_R8G8_UNORM",e[e.DXGI_FORMAT_R8G8_UINT=50]="DXGI_FORMAT_R8G8_UINT",e[e.DXGI_FORMAT_R8G8_SNORM=51]="DXGI_FORMAT_R8G8_SNORM",e[e.DXGI_FORMAT_R8G8_SINT=52]="DXGI_FORMAT_R8G8_SINT",e[e.DXGI_FORMAT_R16_TYPELESS=53]="DXGI_FORMAT_R16_TYPELESS",e[e.DXGI_FORMAT_R16_FLOAT=54]="DXGI_FORMAT_R16_FLOAT",e[e.DXGI_FORMAT_D16_UNORM=55]="DXGI_FORMAT_D16_UNORM",e[e.DXGI_FORMAT_R16_UNORM=56]="DXGI_FORMAT_R16_UNORM",e[e.DXGI_FORMAT_R16_UINT=57]="DXGI_FORMAT_R16_UINT",e[e.DXGI_FORMAT_R16_SNORM=58]="DXGI_FORMAT_R16_SNORM",e[e.DXGI_FORMAT_R16_SINT=59]="DXGI_FORMAT_R16_SINT",e[e.DXGI_FORMAT_R8_TYPELESS=60]="DXGI_FORMAT_R8_TYPELESS",e[e.DXGI_FORMAT_R8_UNORM=61]="DXGI_FORMAT_R8_UNORM",e[e.DXGI_FORMAT_R8_UINT=62]="DXGI_FORMAT_R8_UINT",e[e.DXGI_FORMAT_R8_SNORM=63]="DXGI_FORMAT_R8_SNORM",e[e.DXGI_FORMAT_R8_SINT=64]="DXGI_FORMAT_R8_SINT",e[e.DXGI_FORMAT_A8_UNORM=65]="DXGI_FORMAT_A8_UNORM",e[e.DXGI_FORMAT_R1_UNORM=66]="DXGI_FORMAT_R1_UNORM",e[e.DXGI_FORMAT_R9G9B9E5_SHAREDEXP=67]="DXGI_FORMAT_R9G9B9E5_SHAREDEXP",e[e.DXGI_FORMAT_R8G8_B8G8_UNORM=68]="DXGI_FORMAT_R8G8_B8G8_UNORM",e[e.DXGI_FORMAT_G8R8_G8B8_UNORM=69]="DXGI_FORMAT_G8R8_G8B8_UNORM",e[e.DXGI_FORMAT_BC1_TYPELESS=70]="DXGI_FORMAT_BC1_TYPELESS",e[e.DXGI_FORMAT_BC1_UNORM=71]="DXGI_FORMAT_BC1_UNORM",e[e.DXGI_FORMAT_BC1_UNORM_SRGB=72]="DXGI_FORMAT_BC1_UNORM_SRGB",e[e.DXGI_FORMAT_BC2_TYPELESS=73]="DXGI_FORMAT_BC2_TYPELESS",e[e.DXGI_FORMAT_BC2_UNORM=74]="DXGI_FORMAT_BC2_UNORM",e[e.DXGI_FORMAT_BC2_UNORM_SRGB=75]="DXGI_FORMAT_BC2_UNORM_SRGB",e[e.DXGI_FORMAT_BC3_TYPELESS=76]="DXGI_FORMAT_BC3_TYPELESS",e[e.DXGI_FORMAT_BC3_UNORM=77]="DXGI_FORMAT_BC3_UNORM",e[e.DXGI_FORMAT_BC3_UNORM_SRGB=78]="DXGI_FORMAT_BC3_UNORM_SRGB",e[e.DXGI_FORMAT_BC4_TYPELESS=79]="DXGI_FORMAT_BC4_TYPELESS",e[e.DXGI_FORMAT_BC4_UNORM=80]="DXGI_FORMAT_BC4_UNORM",e[e.DXGI_FORMAT_BC4_SNORM=81]="DXGI_FORMAT_BC4_SNORM",e[e.DXGI_FORMAT_BC5_TYPELESS=82]="DXGI_FORMAT_BC5_TYPELESS",e[e.DXGI_FORMAT_BC5_UNORM=83]="DXGI_FORMAT_BC5_UNORM",e[e.DXGI_FORMAT_BC5_SNORM=84]="DXGI_FORMAT_BC5_SNORM",e[e.DXGI_FORMAT_B5G6R5_UNORM=85]="DXGI_FORMAT_B5G6R5_UNORM",e[e.DXGI_FORMAT_B5G5R5A1_UNORM=86]="DXGI_FORMAT_B5G5R5A1_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_UNORM=87]="DXGI_FORMAT_B8G8R8A8_UNORM",e[e.DXGI_FORMAT_B8G8R8X8_UNORM=88]="DXGI_FORMAT_B8G8R8X8_UNORM",e[e.DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM=89]="DXGI_FORMAT_R10G10B10_XR_BIAS_A2_UNORM",e[e.DXGI_FORMAT_B8G8R8A8_TYPELESS=90]="DXGI_FORMAT_B8G8R8A8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8A8_UNORM_SRGB=91]="DXGI_FORMAT_B8G8R8A8_UNORM_SRGB",e[e.DXGI_FORMAT_B8G8R8X8_TYPELESS=92]="DXGI_FORMAT_B8G8R8X8_TYPELESS",e[e.DXGI_FORMAT_B8G8R8X8_UNORM_SRGB=93]="DXGI_FORMAT_B8G8R8X8_UNORM_SRGB",e[e.DXGI_FORMAT_BC6H_TYPELESS=94]="DXGI_FORMAT_BC6H_TYPELESS",e[e.DXGI_FORMAT_BC6H_UF16=95]="DXGI_FORMAT_BC6H_UF16",e[e.DXGI_FORMAT_BC6H_SF16=96]="DXGI_FORMAT_BC6H_SF16",e[e.DXGI_FORMAT_BC7_TYPELESS=97]="DXGI_FORMAT_BC7_TYPELESS",e[e.DXGI_FORMAT_BC7_UNORM=98]="DXGI_FORMAT_BC7_UNORM",e[e.DXGI_FORMAT_BC7_UNORM_SRGB=99]="DXGI_FORMAT_BC7_UNORM_SRGB",e[e.DXGI_FORMAT_AYUV=100]="DXGI_FORMAT_AYUV",e[e.DXGI_FORMAT_Y410=101]="DXGI_FORMAT_Y410",e[e.DXGI_FORMAT_Y416=102]="DXGI_FORMAT_Y416",e[e.DXGI_FORMAT_NV12=103]="DXGI_FORMAT_NV12",e[e.DXGI_FORMAT_P010=104]="DXGI_FORMAT_P010",e[e.DXGI_FORMAT_P016=105]="DXGI_FORMAT_P016",e[e.DXGI_FORMAT_420_OPAQUE=106]="DXGI_FORMAT_420_OPAQUE",e[e.DXGI_FORMAT_YUY2=107]="DXGI_FORMAT_YUY2",e[e.DXGI_FORMAT_Y210=108]="DXGI_FORMAT_Y210",e[e.DXGI_FORMAT_Y216=109]="DXGI_FORMAT_Y216",e[e.DXGI_FORMAT_NV11=110]="DXGI_FORMAT_NV11",e[e.DXGI_FORMAT_AI44=111]="DXGI_FORMAT_AI44",e[e.DXGI_FORMAT_IA44=112]="DXGI_FORMAT_IA44",e[e.DXGI_FORMAT_P8=113]="DXGI_FORMAT_P8",e[e.DXGI_FORMAT_A8P8=114]="DXGI_FORMAT_A8P8",e[e.DXGI_FORMAT_B4G4R4A4_UNORM=115]="DXGI_FORMAT_B4G4R4A4_UNORM",e[e.DXGI_FORMAT_P208=116]="DXGI_FORMAT_P208",e[e.DXGI_FORMAT_V208=117]="DXGI_FORMAT_V208",e[e.DXGI_FORMAT_V408=118]="DXGI_FORMAT_V408",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE=119]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIN_MIP_OPAQUE",e[e.DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE=120]="DXGI_FORMAT_SAMPLER_FEEDBACK_MIP_REGION_USED_OPAQUE",e[e.DXGI_FORMAT_FORCE_UINT=121]="DXGI_FORMAT_FORCE_UINT"}(DXGI_FORMAT||(DXGI_FORMAT={})),function(e){e[e.DDS_DIMENSION_TEXTURE1D=2]="DDS_DIMENSION_TEXTURE1D",e[e.DDS_DIMENSION_TEXTURE2D=3]="DDS_DIMENSION_TEXTURE2D",e[e.DDS_DIMENSION_TEXTURE3D=6]="DDS_DIMENSION_TEXTURE3D"}(D3D10_RESOURCE_DIMENSION||(D3D10_RESOURCE_DIMENSION={}));var PF_FLAGS=1,DDPF_ALPHA=2,DDPF_FOURCC=4,DDPF_RGB=64,DDPF_YUV=512,DDPF_LUMINANCE=131072,FOURCC_DXT1=827611204,FOURCC_DXT3=861165636,FOURCC_DXT5=894720068,FOURCC_DX10=808540228,DDS_RESOURCE_MISC_TEXTURECUBE=4,FOURCC_TO_FORMAT=(_a$1={},_a$1[FOURCC_DXT1]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_a$1[FOURCC_DXT3]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_a$1[FOURCC_DXT5]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_a$1),DXGI_TO_FORMAT=(_b$1={},_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_TYPELESS]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM]=INTERNAL_FORMATS.COMPRESSED_RGBA_S3TC_DXT5_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC1_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC2_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,_b$1[DXGI_FORMAT.DXGI_FORMAT_BC3_UNORM_SRGB]=INTERNAL_FORMATS.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT,_b$1),DDSLoader=function(){function e(){}return e.use=function(t,r){if("dds"===t.extension&&t.data)try{Object.assign(t,registerCompressedTextures(t.name||t.url,e.parse(t.data),t.metadata))}catch(e){return void r(e)}r()},e.parse=function(e){var t=new Uint32Array(e);if(t[0]!==DDS_MAGIC)throw new Error("Invalid DDS file magic word");var r=new Uint32Array(e,0,DDS_HEADER_SIZE/Uint32Array.BYTES_PER_ELEMENT),i=r[DDS_FIELDS.HEIGHT],n=r[DDS_FIELDS.WIDTH],s=r[DDS_FIELDS.MIPMAP_COUNT],o=new Uint32Array(e,DDS_FIELDS.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,DDS_HEADER_PF_SIZE/Uint32Array.BYTES_PER_ELEMENT),a=o[PF_FLAGS];if(a&DDPF_FOURCC){var l=o[DDS_PF_FIELDS.FOURCC];if(l!==FOURCC_DX10){var h=FOURCC_TO_FORMAT[l],c=new Uint8Array(e,DDS_MAGIC_SIZE+DDS_HEADER_SIZE);return[new CompressedTextureResource(c,{format:h,width:n,height:i,levels:s})]}var u=DDS_MAGIC_SIZE+DDS_HEADER_SIZE,d=new Uint32Array(t.buffer,u,DDS_HEADER_DX10_SIZE/Uint32Array.BYTES_PER_ELEMENT),p=d[DDS_DX10_FIELDS.DXGI_FORMAT],f=d[DDS_DX10_FIELDS.RESOURCE_DIMENSION],_=d[DDS_DX10_FIELDS.MISC_FLAG],m=d[DDS_DX10_FIELDS.ARRAY_SIZE],g=DXGI_TO_FORMAT[p];if(void 0===g)throw new Error("DDSLoader cannot parse texture data with DXGI format "+p);if(_===DDS_RESOURCE_MISC_TEXTURECUBE)throw new Error("DDSLoader does not support cubemap textures");if(f===D3D10_RESOURCE_DIMENSION.DDS_DIMENSION_TEXTURE3D)throw new Error("DDSLoader does not supported 3D texture data");var y=new Array,v=DDS_MAGIC_SIZE+DDS_HEADER_SIZE+DDS_HEADER_DX10_SIZE;if(1===m)y.push(new Uint8Array(e,v));else{for(var E=INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[g],T=0,b=n,S=i,x=0;x<s;x++)T+=Math.max(1,b+3&-4)*Math.max(1,S+3&-4)*E,b>>>=1,S>>>=1;var A=v;for(x=0;x<m;x++)y.push(new Uint8Array(e,A,T)),A+=T}return y.map((function(e){return new CompressedTextureResource(e,{format:g,width:n,height:i,levels:s})}))}throw a&DDPF_RGB?new Error("DDSLoader does not support uncompressed texture data."):a&DDPF_YUV?new Error("DDSLoader does not supported YUV uncompressed texture data."):a&DDPF_LUMINANCE?new Error("DDSLoader does not support single-channel (lumninance) texture data!"):a&DDPF_ALPHA?new Error("DDSLoader does not support single-channel (alpha) texture data!"):new Error("DDSLoader failed to load a texture file due to an unknown reason!")},e}(),_a$3,_b,_c;LoaderResource.setExtensionXhrType("ktx",LoaderResource.XHR_RESPONSE_TYPE.BUFFER);var FILE_IDENTIFIER=[171,75,84,88,32,49,49,187,13,10,26,10],ENDIANNESS=67305985,KTX_FIELDS={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},FILE_HEADER_SIZE=64,TYPES_TO_BYTES_PER_COMPONENT=(_a$3={},_a$3[TYPES$5.UNSIGNED_BYTE]=1,_a$3[TYPES$5.UNSIGNED_SHORT]=2,_a$3[TYPES$5.INT]=4,_a$3[TYPES$5.UNSIGNED_INT]=4,_a$3[TYPES$5.FLOAT]=4,_a$3[TYPES$5.HALF_FLOAT]=8,_a$3),FORMATS_TO_COMPONENTS=(_b={},_b[FORMATS$5.RGBA]=4,_b[FORMATS$5.RGB]=3,_b[FORMATS$5.RG]=2,_b[FORMATS$5.RED]=1,_b[FORMATS$5.LUMINANCE]=1,_b[FORMATS$5.LUMINANCE_ALPHA]=2,_b[FORMATS$5.ALPHA]=1,_b),TYPES_TO_BYTES_PER_PIXEL=(_c={},_c[TYPES$5.UNSIGNED_SHORT_4_4_4_4]=2,_c[TYPES$5.UNSIGNED_SHORT_5_5_5_1]=2,_c[TYPES$5.UNSIGNED_SHORT_5_6_5]=2,_c),KTXLoader=function(){function e(){}return e.use=function(t,r){if("ktx"===t.extension&&t.data)try{var i=t.name||t.url,n=e.parse(i,t.data),s=n.compressed,o=n.uncompressed,a=n.kvData;if(s){var l=registerCompressedTextures(i,s,t.metadata);if(a&&l.textures)for(var h in l.textures)l.textures[h].baseTexture.ktxKeyValueData=a;Object.assign(t,l)}else if(o){var c={};o.forEach((function(e,t){var r=new Texture$1(new BaseTexture$1(e.resource,{mipmap:MIPMAP_MODES$5.OFF,alphaMode:ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA,type:e.type,format:e.format})),n=i+"-"+(t+1);a&&(r.baseTexture.ktxKeyValueData=a),BaseTexture$1.addToCache(r.baseTexture,n),Texture$1.addToCache(r,n),0===t&&(c[i]=r,BaseTexture$1.addToCache(r.baseTexture,i),Texture$1.addToCache(r,i)),c[n]=r})),Object.assign(t,{textures:c})}}catch(e){return void r(e)}r()},e.parse=function(t,r){var i=new DataView(r);if(!e.validate(t,i))return null;var n=i.getUint32(KTX_FIELDS.ENDIANNESS,!0)===ENDIANNESS,s=i.getUint32(KTX_FIELDS.GL_TYPE,n),o=i.getUint32(KTX_FIELDS.GL_FORMAT,n),a=i.getUint32(KTX_FIELDS.GL_INTERNAL_FORMAT,n),l=i.getUint32(KTX_FIELDS.PIXEL_WIDTH,n),h=i.getUint32(KTX_FIELDS.PIXEL_HEIGHT,n)||1,c=i.getUint32(KTX_FIELDS.PIXEL_DEPTH,n)||1,u=i.getUint32(KTX_FIELDS.NUMBER_OF_ARRAY_ELEMENTS,n)||1,d=i.getUint32(KTX_FIELDS.NUMBER_OF_FACES,n),p=i.getUint32(KTX_FIELDS.NUMBER_OF_MIPMAP_LEVELS,n),f=i.getUint32(KTX_FIELDS.BYTES_OF_KEY_VALUE_DATA,n);if(0===h||1!==c)throw new Error("Only 2D textures are supported");if(1!==d)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(1!==u)throw new Error("WebGL does not support array textures");var _,m=l+3&-4,g=h+3&-4,y=new Array(u),v=l*h;if(0===s&&(v=m*g),void 0===(_=0!==s?TYPES_TO_BYTES_PER_COMPONENT[s]?TYPES_TO_BYTES_PER_COMPONENT[s]*FORMATS_TO_COMPONENTS[o]:TYPES_TO_BYTES_PER_PIXEL[s]:INTERNAL_FORMAT_TO_BYTES_PER_PIXEL[a]))throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");for(var E=e.loadKeyValueData?e.parseKvData(i,f,n):null,T=v*_,b=l,S=h,x=m,A=g,P=FILE_HEADER_SIZE+f,R=0;R<p;R++){for(var O=i.getUint32(P,n),w=P+4,I=0;I<u;I++){var C=y[I];C||(C=y[I]=new Array(p)),C[R]={levelID:R,levelWidth:p>1||0!==s?b:x,levelHeight:p>1||0!==s?S:A,levelBuffer:new Uint8Array(r,w,T)},w+=T}P=(P+=O+4)%4!=0?P+4-P%4:P,T=(x=(b=b>>1||1)+4-1&-4)*(A=(S=S>>1||1)+4-1&-4)*_}return 0!==s?{uncompressed:y.map((function(t){var r=t[0].levelBuffer,i=!1;return s===TYPES$5.FLOAT?r=new Float32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4):s===TYPES$5.UNSIGNED_INT?(i=!0,r=new Uint32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)):s===TYPES$5.INT&&(i=!0,r=new Int32Array(t[0].levelBuffer.buffer,t[0].levelBuffer.byteOffset,t[0].levelBuffer.byteLength/4)),{resource:new BufferResource$1(r,{width:t[0].levelWidth,height:t[0].levelHeight}),type:s,format:i?e.convertFormatToInteger(o):o}})),kvData:E}:{compressed:y.map((function(e){return new CompressedTextureResource(null,{format:a,width:l,height:h,levels:p,levelBuffers:e})})),kvData:E}},e.validate=function(e,t){for(var r=0;r<FILE_IDENTIFIER.length;r++)if(t.getUint8(r)!==FILE_IDENTIFIER[r])return console.error(e+" is not a valid *.ktx file!"),!1;return!0},e.convertFormatToInteger=function(e){switch(e){case FORMATS$5.RGBA:return FORMATS$5.RGBA_INTEGER;case FORMATS$5.RGB:return FORMATS$5.RGB_INTEGER;case FORMATS$5.RG:return FORMATS$5.RG_INTEGER;case FORMATS$5.RED:return FORMATS$5.RED_INTEGER;default:return e}},e.parseKvData=function(e,t,r){for(var i=new Map,n=0;n<t;){var s=e.getUint32(FILE_HEADER_SIZE+n,r),o=FILE_HEADER_SIZE+n+4,a=3-(s+3)%4;if(0===s||s>t-n){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}for(var l=0;l<s&&0!==e.getUint8(o+l);l++);if(-1===l){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}var h=(new TextDecoder).decode(new Uint8Array(e.buffer,o,l)),c=new DataView(e.buffer,o+l+1,s-l-1);i.set(h,c),n+=4+s+a}return i},e.loadKeyValueData=!1,e}(),extendStatics$f=function(e,t){return(extendStatics$f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$j(e,t){function r(){this.constructor=e}extendStatics$f(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}!function(e){function t(t,r,i,n){void 0===t&&(t=1500),void 0===i&&(i=16384),void 0===n&&(n=!1);var s=e.call(this)||this;return i>16384&&(i=16384),s._properties=[!1,!0,!1,!1,!1],s._maxSize=t,s._batchSize=i,s._buffers=null,s._bufferUpdateIDs=[],s._updateID=0,s.interactiveChildren=!1,s.blendMode=BLEND_MODES$5.NORMAL,s.autoResize=n,s.roundPixels=!0,s.baseTexture=null,s.setProperties(r),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}__extends$j(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,hex2rgb$1(e,this.tintRgb)},enumerable:!1,configurable:!0}),t.prototype.render=function(e){var t=this;!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",(function(){return t.onChildrenChange(0)}))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},t.prototype.dispose=function(){if(this._buffers){for(var e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}(Container$1);var ParticleBuffer=function(){function e(e,t,r){this.geometry=new Geometry$1,this.indexBuffer=null,this.size=r,this.dynamicProperties=[],this.staticProperties=[];for(var i=0;i<e.length;++i){var n=e[i];n={attributeName:n.attributeName,size:n.size,uploadFunction:n.uploadFunction,type:n.type||TYPES$5.FLOAT,offset:n.offset},t[i]?this.dynamicProperties.push(n):this.staticProperties.push(n)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return e.prototype.initBuffers=function(){var e=this.geometry,t=0;this.indexBuffer=new Buffer$2(createIndicesForQuads(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(var r=0;r<this.dynamicProperties.length;++r)(o=this.dynamicProperties[r]).offset=t,t+=o.size,this.dynamicStride+=o.size;var i=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(i),this.dynamicDataUint32=new Uint32Array(i),this.dynamicBuffer=new Buffer$2(this.dynamicData,!1,!1);var n=0;for(this.staticStride=0,r=0;r<this.staticProperties.length;++r)(o=this.staticProperties[r]).offset=n,n+=o.size,this.staticStride+=o.size;var s=new ArrayBuffer(this.size*this.staticStride*4*4);for(this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Buffer$2(this.staticData,!0,!1),r=0;r<this.dynamicProperties.length;++r){var o=this.dynamicProperties[r];e.addAttribute(o.attributeName,this.dynamicBuffer,0,o.type===TYPES$5.UNSIGNED_BYTE,o.type,4*this.dynamicStride,4*o.offset)}for(r=0;r<this.staticProperties.length;++r)o=this.staticProperties[r],e.addAttribute(o.attributeName,this.staticBuffer,0,o.type===TYPES$5.UNSIGNED_BYTE,o.type,4*this.staticStride,4*o.offset)},e.prototype.uploadDynamic=function(e,t,r){for(var i=0;i<this.dynamicProperties.length;i++){var n=this.dynamicProperties[i];n.uploadFunction(e,t,r,n.type===TYPES$5.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,n.offset)}this.dynamicBuffer._updateID++},e.prototype.uploadStatic=function(e,t,r){for(var i=0;i<this.staticProperties.length;i++){var n=this.staticProperties[i];n.uploadFunction(e,t,r,n.type===TYPES$5.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,n.offset)}this.staticBuffer._updateID++},e.prototype.destroy=function(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()},e}(),fragment$8="varying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;\n    gl_FragColor = color;\n}",vertex$4="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\n\nattribute vec2 aPositionCoord;\nattribute float aRotation;\n\nuniform mat3 translationMatrix;\nuniform vec4 uColor;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nvoid main(void){\n    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);\n    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);\n\n    vec2 v = vec2(x, y);\n    v = v + aPositionCoord;\n\n    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vColor = aColor * uColor;\n}\n",ParticleRenderer=function(e){function t(t){var r=e.call(this,t)||this;return r.shader=null,r.properties=null,r.tempMatrix=new Matrix$1,r.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:r.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:r.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:r.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:r.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:TYPES$5.UNSIGNED_BYTE,uploadFunction:r.uploadTint,offset:0}],r.shader=Shader$1.from(vertex$4,fragment$8,{}),r.state=State$1.for2d(),r}return __extends$j(t,e),t.prototype.render=function(e){var t=e.children,r=e._maxSize,i=e._batchSize,n=this.renderer,s=t.length;if(0!==s){s>r&&!e.autoResize&&(s=r);var o=e._buffers;o||(o=e._buffers=this.generateBuffers(e));var a=t[0]._texture.baseTexture;this.state.blendMode=correctBlendMode(e.blendMode,a.alphaMode),n.state.set(this.state);var l=n.gl,h=e.worldTransform.copyTo(this.tempMatrix);h.prepend(n.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=h.toArray(!0),this.shader.uniforms.uColor=premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,a.alphaMode),this.shader.uniforms.uSampler=a,this.renderer.shader.bind(this.shader);for(var c=!1,u=0,d=0;u<s;u+=i,d+=1){var p=s-u;p>i&&(p=i),d>=o.length&&o.push(this._generateOneMoreBuffer(e));var f=o[d];f.uploadDynamic(t,u,p);var _=e._bufferUpdateIDs[d]||0;(c=c||f._updateID<_)&&(f._updateID=e._updateID,f.uploadStatic(t,u,p)),n.geometry.bind(f.geometry),l.drawElements(l.TRIANGLES,6*p,l.UNSIGNED_SHORT,0)}}},t.prototype.generateBuffers=function(e){for(var t=[],r=e._maxSize,i=e._batchSize,n=e._properties,s=0;s<r;s+=i)t.push(new ParticleBuffer(this.properties,n,i));return t},t.prototype._generateOneMoreBuffer=function(e){var t=e._batchSize,r=e._properties;return new ParticleBuffer(this.properties,r,t)},t.prototype.uploadVertices=function(e,t,r,i,n,s){for(var o=0,a=0,l=0,h=0,c=0;c<r;++c){var u=e[t+c],d=u._texture,p=u.scale.x,f=u.scale.y,_=d.trim,m=d.orig;_?(o=(a=_.x-u.anchor.x*m.width)+_.width,l=(h=_.y-u.anchor.y*m.height)+_.height):(o=m.width*(1-u.anchor.x),a=m.width*-u.anchor.x,l=m.height*(1-u.anchor.y),h=m.height*-u.anchor.y),i[s]=a*p,i[s+1]=h*f,i[s+n]=o*p,i[s+n+1]=h*f,i[s+2*n]=o*p,i[s+2*n+1]=l*f,i[s+3*n]=a*p,i[s+3*n+1]=l*f,s+=4*n}},t.prototype.uploadPosition=function(e,t,r,i,n,s){for(var o=0;o<r;o++){var a=e[t+o].position;i[s]=a.x,i[s+1]=a.y,i[s+n]=a.x,i[s+n+1]=a.y,i[s+2*n]=a.x,i[s+2*n+1]=a.y,i[s+3*n]=a.x,i[s+3*n+1]=a.y,s+=4*n}},t.prototype.uploadRotation=function(e,t,r,i,n,s){for(var o=0;o<r;o++){var a=e[t+o].rotation;i[s]=a,i[s+n]=a,i[s+2*n]=a,i[s+3*n]=a,s+=4*n}},t.prototype.uploadUvs=function(e,t,r,i,n,s){for(var o=0;o<r;++o){var a=e[t+o]._texture._uvs;a?(i[s]=a.x0,i[s+1]=a.y0,i[s+n]=a.x1,i[s+n+1]=a.y1,i[s+2*n]=a.x2,i[s+2*n+1]=a.y2,i[s+3*n]=a.x3,i[s+3*n+1]=a.y3,s+=4*n):(i[s]=0,i[s+1]=0,i[s+n]=0,i[s+n+1]=0,i[s+2*n]=0,i[s+2*n+1]=0,i[s+3*n]=0,i[s+3*n+1]=0,s+=4*n)}},t.prototype.uploadTint=function(e,t,r,i,n,s){for(var o=0;o<r;++o){var a=e[t+o],l=a._texture.baseTexture.alphaMode>0,h=a.alpha,c=h<1&&l?premultiplyTint(a._tintRGB,h):a._tintRGB+(255*h<<24);i[s]=c,i[s+n]=c,i[s+2*n]=c,i[s+3*n]=c,s+=4*n}},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null},t}(ObjectRenderer$1),LINE_JOIN,LINE_CAP;!function(e){e.MITER="miter",e.BEVEL="bevel",e.ROUND="round"}(LINE_JOIN||(LINE_JOIN={})),function(e){e.BUTT="butt",e.ROUND="round",e.SQUARE="square"}(LINE_CAP||(LINE_CAP={}));var GRAPHICS_CURVES={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount:function(e,t){if(void 0===t&&(t=20),!this.adaptive||!e||isNaN(e))return t;var r=Math.ceil(e/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}},FillStyle=function(){function e(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1,this.reset()}return e.prototype.clone=function(){var t=new e;return t.color=this.color,t.alpha=this.alpha,t.texture=this.texture,t.matrix=this.matrix,t.visible=this.visible,t},e.prototype.reset=function(){this.color=16777215,this.alpha=1,this.texture=Texture$1.WHITE,this.matrix=null,this.visible=!1},e.prototype.destroy=function(){this.texture=null,this.matrix=null},e}(),extendStatics$e=function(e,t){return(extendStatics$e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$i(e,t){function r(){this.constructor=e}extendStatics$e(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function fixOrientation(e,t){var r,i;void 0===t&&(t=!1);var n=e.length;if(!(n<6)){for(var s=0,o=0,a=e[n-2],l=e[n-1];o<n;o+=2){var h=e[o],c=e[o+1];s+=(h-a)*(c+l),a=h,l=c}if(!t&&s>0||t&&s<=0){var u=n/2;for(o=u+u%2;o<n;o+=2){var d=n-o-2,p=n-o-1,f=o,_=o+1;r=[e[f],e[d]],e[d]=r[0],e[f]=r[1],i=[e[_],e[p]],e[p]=i[0],e[_]=i[1]}}}}var buildPoly={build:function(e){e.points=e.shape.points.slice()},triangulate:function(e,t){var r=e.points,i=e.holes,n=t.points,s=t.indices;if(r.length>=6){fixOrientation(r,!1);for(var o=[],a=0;a<i.length;a++){var l=i[a];fixOrientation(l.points,!0),o.push(r.length/2),r=r.concat(l.points)}var h=earcut$1(r,o,2);if(!h)return;var c=n.length/2;for(a=0;a<h.length;a+=3)s.push(h[a]+c),s.push(h[a+1]+c),s.push(h[a+2]+c);for(a=0;a<r.length;a++)n.push(r[a])}}},buildCircle={build:function(e){var t,r,i,n,s,o,a=e.points;if(e.type===SHAPES$1.CIRC){var l=e.shape;t=l.x,r=l.y,s=o=l.radius,i=n=0}else if(e.type===SHAPES$1.ELIP){var h=e.shape;t=h.x,r=h.y,s=h.width,o=h.height,i=n=0}else{var c=e.shape,u=c.width/2,d=c.height/2;t=c.x+u,r=c.y+d,i=u-(s=o=Math.max(0,Math.min(c.radius,Math.min(u,d)))),n=d-o}if(s>=0&&o>=0&&i>=0&&n>=0){var p=Math.ceil(2.3*Math.sqrt(s+o)),f=8*p+(i?4:0)+(n?4:0);if(a.length=f,0!==f){if(0===p)return a.length=8,a[0]=a[6]=t+i,a[1]=a[3]=r+n,a[2]=a[4]=t-i,void(a[5]=a[7]=r-n);var _,m,g=0,y=4*p+(i?2:0)+2,v=y,E=f,T=t+(_=i+s),b=t-_,S=r+(m=n);if(a[g++]=T,a[g++]=S,a[--y]=S,a[--y]=b,n){var x=r-m;a[v++]=b,a[v++]=x,a[--E]=x,a[--E]=T}for(var A=1;A<p;A++){var P=Math.PI/2*(A/p);T=t+(_=i+Math.cos(P)*s),b=t-_,S=r+(m=n+Math.sin(P)*o),x=r-m,a[g++]=T,a[g++]=S,a[--y]=S,a[--y]=b,a[v++]=b,a[v++]=x,a[--E]=x,a[--E]=T}T=t+(_=i),b=t-_,S=r+(m=n+o),x=r-m,a[g++]=T,a[g++]=S,a[--E]=x,a[--E]=T,i&&(a[g++]=b,a[g++]=S,a[--E]=x,a[--E]=b)}}else a.length=0},triangulate:function(e,t){var r,i,n=e.points,s=t.points,o=t.indices,a=s.length/2,l=a;if(e.type!==SHAPES$1.RREC){var h=e.shape;r=h.x,i=h.y}else{var c=e.shape;r=c.x+c.width/2,i=c.y+c.height/2}var u=e.matrix;s.push(e.matrix?u.a*r+u.c*i+u.tx:r,e.matrix?u.b*r+u.d*i+u.ty:i),a++,s.push(n[0],n[1]);for(var d=2;d<n.length;d+=2)s.push(n[d],n[d+1]),o.push(a++,l,a);o.push(l+1,l,a)}},buildRectangle={build:function(e){var t=e.shape,r=t.x,i=t.y,n=t.width,s=t.height,o=e.points;o.length=0,o.push(r,i,r+n,i,r+n,i+s,r,i+s)},triangulate:function(e,t){var r=e.points,i=t.points,n=i.length/2;i.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),t.indices.push(n,n+1,n+2,n+1,n+2,n+3)}};function getPt(e,t,r){return e+(t-e)*r}function quadraticBezierCurve(e,t,r,i,n,s,o){void 0===o&&(o=[]);for(var a=o,l=0,h=0,c=0,u=0,d=0,p=0,f=0,_=0;f<=20;++f)l=getPt(e,r,_=f/20),h=getPt(t,i,_),c=getPt(r,n,_),u=getPt(i,s,_),d=getPt(l,c,_),p=getPt(h,u,_),(0!==f||a[a.length-2]!==d||a[a.length-1]!==p)&&a.push(d,p);return a}var buildRoundedRectangle={build:function(e){if(Graphics.nextRoundedRectBehavior)buildCircle.build(e);else{var t=e.shape,r=e.points,i=t.x,n=t.y,s=t.width,o=t.height,a=Math.max(0,Math.min(t.radius,Math.min(s,o)/2));r.length=0,a?(quadraticBezierCurve(i,n+a,i,n,i+a,n,r),quadraticBezierCurve(i+s-a,n,i+s,n,i+s,n+a,r),quadraticBezierCurve(i+s,n+o-a,i+s,n+o,i+s-a,n+o,r),quadraticBezierCurve(i+a,n+o,i,n+o,i,n+o-a,r)):r.push(i,n,i+s,n,i+s,n+o,i,n+o)}},triangulate:function(e,t){if(Graphics.nextRoundedRectBehavior)buildCircle.triangulate(e,t);else{for(var r=e.points,i=t.points,n=t.indices,s=i.length/2,o=earcut$1(r,null,2),a=0,l=o.length;a<l;a+=3)n.push(o[a]+s),n.push(o[a+1]+s),n.push(o[a+2]+s);for(a=0,l=r.length;a<l;a++)i.push(r[a],r[++a])}}};function square(e,t,r,i,n,s,o,a){var l,h;o?(l=i,h=-r):(l=-i,h=r);var c=e-r*n+l,u=t-i*n+h,d=e+r*s+l,p=t+i*s+h;return a.push(c,u),a.push(d,p),2}function round(e,t,r,i,n,s,o,a){var l=r-e,h=i-t,c=Math.atan2(l,h),u=Math.atan2(n-e,s-t);a&&c<u?c+=2*Math.PI:!a&&c>u&&(u+=2*Math.PI);var d=c,p=u-c,f=Math.abs(p),_=Math.sqrt(l*l+h*h),m=1+(15*f*Math.sqrt(_)/Math.PI|0),g=p/m;if(d+=g,a){o.push(e,t),o.push(r,i);for(var y=1,v=d;y<m;y++,v+=g)o.push(e,t),o.push(e+Math.sin(v)*_,t+Math.cos(v)*_);o.push(e,t),o.push(n,s)}else{for(o.push(r,i),o.push(e,t),y=1,v=d;y<m;y++,v+=g)o.push(e+Math.sin(v)*_,t+Math.cos(v)*_),o.push(e,t);o.push(n,s),o.push(e,t)}return 2*m}function buildNonNativeLine(e,t){var r=e.shape,i=e.points||r.points.slice(),n=t.closePointEps;if(0!==i.length){var s=e.lineStyle,o=new Point$1(i[0],i[1]),a=new Point$1(i[i.length-2],i[i.length-1]),l=r.type!==SHAPES$1.POLY||r.closeStroke,h=Math.abs(o.x-a.x)<n&&Math.abs(o.y-a.y)<n;if(l){i=i.slice(),h&&(i.pop(),i.pop(),a.set(i[i.length-2],i[i.length-1]));var c=.5*(o.x+a.x),u=.5*(a.y+o.y);i.unshift(c,u),i.push(c,u)}var d=t.points,p=i.length/2,f=i.length,_=d.length/2,m=s.width/2,g=m*m,y=s.miterLimit*s.miterLimit,v=i[0],E=i[1],T=i[2],b=i[3],S=0,x=0,A=-(E-b),P=v-T,R=0,O=0,w=Math.sqrt(A*A+P*P);A/=w,P/=w,A*=m,P*=m;var I=s.alignment,C=2*(1-I),M=2*I;l||(s.cap===LINE_CAP.ROUND?f+=round(v-A*(C-M)*.5,E-P*(C-M)*.5,v-A*C,E-P*C,v+A*M,E+P*M,d,!0)+2:s.cap===LINE_CAP.SQUARE&&(f+=square(v,E,A,P,C,M,!0,d))),d.push(v-A*C,E-P*C),d.push(v+A*M,E+P*M);for(var D=1;D<p-1;++D){v=i[2*(D-1)],E=i[2*(D-1)+1],T=i[2*D],b=i[2*D+1],S=i[2*(D+1)],x=i[2*(D+1)+1],A=-(E-b),P=v-T,A/=w=Math.sqrt(A*A+P*P),P/=w,A*=m,P*=m,R=-(b-x),O=T-S,R/=w=Math.sqrt(R*R+O*O),O/=w,R*=m,O*=m;var L=T-v,N=E-b,F=T-S,k=x-b,B=N*F-k*L,$=B<0;if(Math.abs(B)<.1)d.push(T-A*C,b-P*C),d.push(T+A*M,b+P*M);else{var U=(-A+v)*(-P+b)-(-A+T)*(-P+E),G=(-R+S)*(-O+b)-(-R+T)*(-O+x),H=(L*G-F*U)/B,V=(k*U-N*G)/B,j=(H-T)*(H-T)+(V-b)*(V-b),Y=T+(H-T)*C,W=b+(V-b)*C,X=T-(H-T)*M,z=b-(V-b)*M,K=$?C:M;j<=Math.min(L*L+N*N,F*F+k*k)+K*K*g?s.join===LINE_JOIN.BEVEL||j/g>y?($?(d.push(Y,W),d.push(T+A*M,b+P*M),d.push(Y,W),d.push(T+R*M,b+O*M)):(d.push(T-A*C,b-P*C),d.push(X,z),d.push(T-R*C,b-O*C),d.push(X,z)),f+=2):s.join===LINE_JOIN.ROUND?$?(d.push(Y,W),d.push(T+A*M,b+P*M),f+=round(T,b,T+A*M,b+P*M,T+R*M,b+O*M,d,!0)+4,d.push(Y,W),d.push(T+R*M,b+O*M)):(d.push(T-A*C,b-P*C),d.push(X,z),f+=round(T,b,T-A*C,b-P*C,T-R*C,b-O*C,d,!1)+4,d.push(T-R*C,b-O*C),d.push(X,z)):(d.push(Y,W),d.push(X,z)):(d.push(T-A*C,b-P*C),d.push(T+A*M,b+P*M),s.join===LINE_JOIN.ROUND?f+=$?round(T,b,T+A*M,b+P*M,T+R*M,b+O*M,d,!0)+2:round(T,b,T-A*C,b-P*C,T-R*C,b-O*C,d,!1)+2:s.join===LINE_JOIN.MITER&&j/g<=y&&($?(d.push(X,z),d.push(X,z)):(d.push(Y,W),d.push(Y,W)),f+=2),d.push(T-R*C,b-O*C),d.push(T+R*M,b+O*M),f+=2)}}v=i[2*(p-2)],E=i[2*(p-2)+1],T=i[2*(p-1)],A=-(E-(b=i[2*(p-1)+1])),P=v-T,A/=w=Math.sqrt(A*A+P*P),P/=w,A*=m,P*=m,d.push(T-A*C,b-P*C),d.push(T+A*M,b+P*M),l||(s.cap===LINE_CAP.ROUND?f+=round(T-A*(C-M)*.5,b-P*(C-M)*.5,T-A*C,b-P*C,T+A*M,b+P*M,d,!1)+2:s.cap===LINE_CAP.SQUARE&&(f+=square(T,b,A,P,C,M,!1,d)));var q=t.indices,Q=GRAPHICS_CURVES.epsilon*GRAPHICS_CURVES.epsilon;for(D=_;D<f+_-2;++D)v=d[2*D],E=d[2*D+1],T=d[2*(D+1)],b=d[2*(D+1)+1],S=d[2*(D+2)],x=d[2*(D+2)+1],!(Math.abs(v*(b-x)+T*(x-E)+S*(E-b))<Q)&&q.push(D,D+1,D+2)}}function buildNativeLine(e,t){var r=0,i=e.shape,n=e.points||i.points,s=i.type!==SHAPES$1.POLY||i.closeStroke;if(0!==n.length){var o=t.points,a=t.indices,l=n.length/2,h=o.length/2,c=h;for(o.push(n[0],n[1]),r=1;r<l;r++)o.push(n[2*r],n[2*r+1]),a.push(c,c+1),c++;s&&a.push(c,h)}}function buildLine(e,t){e.lineStyle.native?buildNativeLine(e,t):buildNonNativeLine(e,t)}var ArcUtils=function(){function e(){}return e.curveTo=function(e,t,r,i,n,s){var o=s[s.length-2],a=s[s.length-1]-t,l=o-e,h=i-t,c=r-e,u=Math.abs(a*c-l*h);if(u<1e-8||0===n)return(s[s.length-2]!==e||s[s.length-1]!==t)&&s.push(e,t),null;var d=a*a+l*l,p=h*h+c*c,f=a*h+l*c,_=n*Math.sqrt(d)/u,m=n*Math.sqrt(p)/u,g=_*f/d,y=m*f/p,v=_*c+m*l,E=_*h+m*a,T=l*(m+g),b=a*(m+g),S=c*(_+y),x=h*(_+y);return{cx:v+e,cy:E+t,radius:n,startAngle:Math.atan2(b-E,T-v),endAngle:Math.atan2(x-E,S-v),anticlockwise:l*h>c*a}},e.arc=function(e,t,r,i,n,s,o,a,l){for(var h=o-s,c=GRAPHICS_CURVES._segmentsCount(Math.abs(h)*n,40*Math.ceil(Math.abs(h)/PI_2$1)),u=h/(2*c),d=2*u,p=Math.cos(u),f=Math.sin(u),_=c-1,m=_%1/_,g=0;g<=_;++g){var y=u+s+d*(g+m*g),v=Math.cos(y),E=-Math.sin(y);l.push((p*v+f*E)*n+r,(p*-E+f*v)*n+i)}},e}(),BezierUtils=function(){function e(){}return e.curveLength=function(e,t,r,i,n,s,o,a){for(var l=0,h=0,c=0,u=0,d=0,p=0,f=0,_=0,m=0,g=0,y=0,v=e,E=t,T=1;T<=10;++T)g=v-(_=(f=(p=(d=1-(h=T/10))*d)*d)*e+3*p*h*r+3*d*(c=h*h)*n+(u=c*h)*o),y=E-(m=f*t+3*p*h*i+3*d*c*s+u*a),v=_,E=m,l+=Math.sqrt(g*g+y*y);return l},e.curveTo=function(t,r,i,n,s,o,a){var l=a[a.length-2],h=a[a.length-1];a.length-=2;var c=GRAPHICS_CURVES._segmentsCount(e.curveLength(l,h,t,r,i,n,s,o)),u=0,d=0,p=0,f=0,_=0;a.push(l,h);for(var m=1,g=0;m<=c;++m)p=(d=(u=1-(g=m/c))*u)*u,_=(f=g*g)*g,a.push(p*l+3*d*g*t+3*u*f*i+_*s,p*h+3*d*g*r+3*u*f*n+_*o)},e}(),QuadraticUtils=function(){function e(){}return e.curveLength=function(e,t,r,i,n,s){var o=e-2*r+n,a=t-2*i+s,l=2*r-2*e,h=2*i-2*t,c=4*(o*o+a*a),u=4*(o*l+a*h),d=l*l+h*h,p=2*Math.sqrt(c+u+d),f=Math.sqrt(c),_=2*c*f,m=2*Math.sqrt(d),g=u/f;return(_*p+f*u*(p-m)+(4*d*c-u*u)*Math.log((2*f+g+p)/(g+m)))/(4*_)},e.curveTo=function(t,r,i,n,s){for(var o=s[s.length-2],a=s[s.length-1],l=GRAPHICS_CURVES._segmentsCount(e.curveLength(o,a,t,r,i,n)),h=0,c=0,u=1;u<=l;++u){var d=u/l;h=o+(t-o)*d,c=a+(r-a)*d,s.push(h+(t+(i-t)*d-h)*d,c+(r+(n-r)*d-c)*d)}},e}(),BatchPart=function(){function e(){this.reset()}return e.prototype.begin=function(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r},e.prototype.end=function(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start},e.prototype.reset=function(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0},e}(),_a,FILL_COMMANDS=(_a={},_a[SHAPES$1.POLY]=buildPoly,_a[SHAPES$1.CIRC]=buildCircle,_a[SHAPES$1.ELIP]=buildCircle,_a[SHAPES$1.RECT]=buildRectangle,_a[SHAPES$1.RREC]=buildRoundedRectangle,_a),BATCH_POOL=[],DRAW_CALL_POOL=[],GraphicsData=function(){function e(e,t,r,i){void 0===t&&(t=null),void 0===r&&(r=null),void 0===i&&(i=null),this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=i,this.type=e.type}return e.prototype.clone=function(){return new e(this.shape,this.fillStyle,this.lineStyle,this.matrix)},e.prototype.destroy=function(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null},e}(),tmpPoint=new Point$1,tmpBounds=new Bounds$1,GraphicsGeometry=function(e){function t(){var t=e.call(this)||this;return t.closePointEps=1e-4,t.boundsPadding=0,t.uvsFloat32=null,t.indicesUint16=null,t.batchable=!1,t.points=[],t.colors=[],t.uvs=[],t.indices=[],t.textureIds=[],t.graphicsData=[],t.drawCalls=[],t.batchDirty=-1,t.batches=[],t.dirty=0,t.cacheDirty=-1,t.clearDirty=0,t.shapeIndex=0,t._bounds=new Bounds$1,t.boundsDirty=-1,t}return __extends$i(t,e),Object.defineProperty(t.prototype,"bounds",{get:function(){return this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds},enumerable:!1,configurable:!0}),t.prototype.invalidate=function(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(var e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[e]);for(this.drawCalls.length=0,e=0;e<this.batches.length;e++){var t=this.batches[e];t.reset(),BATCH_POOL.push(t)}this.batches.length=0},t.prototype.clear=function(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this},t.prototype.drawShape=function(e,t,r,i){void 0===t&&(t=null),void 0===r&&(r=null),void 0===i&&(i=null);var n=new GraphicsData(e,t,r,i);return this.graphicsData.push(n),this.dirty++,this},t.prototype.drawHole=function(e,t){if(void 0===t&&(t=null),!this.graphicsData.length)return null;var r=new GraphicsData(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null},t.prototype.containsPoint=function(e){for(var t=this.graphicsData,r=0;r<t.length;++r){var i=t[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,tmpPoint):tmpPoint.copyFrom(e),i.shape.contains(tmpPoint.x,tmpPoint.y))){var n=!1;if(i.holes)for(var s=0;s<i.holes.length;s++)if(i.holes[s].shape.contains(tmpPoint.x,tmpPoint.y)){n=!0;break}if(!n)return!0}}return!1},t.prototype.updateBatches=function(e){if(this.graphicsData.length){if(this.validateBatching()){this.cacheDirty=this.dirty;var t=this.uvs,r=this.graphicsData,i=null,n=null;this.batches.length>0&&(n=(i=this.batches[this.batches.length-1]).style);for(var s=this.shapeIndex;s<r.length;s++){this.shapeIndex++;var o=r[s],a=o.fillStyle,l=o.lineStyle;FILL_COMMANDS[o.type].build(o),o.matrix&&this.transformPoints(o.points,o.matrix),(a.visible||l.visible)&&this.processHoles(o.holes);for(var h=0;h<2;h++){var c=0===h?a:l;if(c.visible){var u=c.texture.baseTexture,d=this.indices.length,p=this.points.length/2;u.wrapMode=WRAP_MODES$5.REPEAT,0===h?this.processFill(o):this.processLine(o);var f=this.points.length/2-p;0!==f&&(i&&!this._compareStyles(n,c)&&(i.end(d,p),i=null),i||((i=BATCH_POOL.pop()||new BatchPart).begin(c,d,p),this.batches.push(i),n=c),this.addUvs(this.points,t,c.texture,p,f,c.matrix))}}}var _=this.indices.length,m=this.points.length/2;if(i&&i.end(_,m),0===this.batches.length)return void(this.batchable=!0);if(this.indicesUint16&&this.indices.length===this.indicesUint16.length)this.indicesUint16.set(this.indices);else{var g=m>65535&&e;this.indicesUint16=g?new Uint32Array(this.indices):new Uint16Array(this.indices)}this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}}else this.batchable=!0},t.prototype._compareStyles=function(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)},t.prototype.validateBatching=function(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(var e=0,t=this.graphicsData.length;e<t;e++){var r=this.graphicsData[e],i=r.fillStyle,n=r.lineStyle;if(i&&!i.texture.baseTexture.valid||n&&!n.texture.baseTexture.valid)return!1}return!0},t.prototype.packBatches=function(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);for(var e=this.batches,t=0,r=e.length;t<r;t++)for(var i=e[t],n=0;n<i.size;n++){var s=i.start+n;this.indicesUint16[s]=this.indicesUint16[s]-i.attribStart}},t.prototype.isBatchable=function(){if(this.points.length>131070)return!1;for(var e=this.batches,r=0;r<e.length;r++)if(e[r].style.native)return!1;return this.points.length<2*t.BATCHABLE_SIZE},t.prototype.buildDrawCalls=function(){for(var e=++BaseTexture$1._globalBatch,t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),DRAW_CALL_POOL.push(this.drawCalls[t]);this.drawCalls.length=0;var r=this.colors,i=this.textureIds,n=DRAW_CALL_POOL.pop();n||((n=new BatchDrawCall$1).texArray=new BatchTextureArray$1),n.texArray.count=0,n.start=0,n.size=0,n.type=DRAW_MODES$5.TRIANGLES;var s=0,o=null,a=0,l=!1,h=DRAW_MODES$5.TRIANGLES,c=0;for(this.drawCalls.push(n),t=0;t<this.batches.length;t++){var u=this.batches[t],d=u.style,p=d.texture.baseTexture;l!==!!d.native&&(h=(l=!!d.native)?DRAW_MODES$5.LINES:DRAW_MODES$5.TRIANGLES,o=null,s=8,e++),o!==p&&(o=p,p._batchEnabled!==e&&(8===s&&(e++,s=0,n.size>0&&((n=DRAW_CALL_POOL.pop())||((n=new BatchDrawCall$1).texArray=new BatchTextureArray$1),this.drawCalls.push(n)),n.start=c,n.size=0,n.texArray.count=0,n.type=h),p.touched=1,p._batchEnabled=e,p._batchLocation=s,p.wrapMode=WRAP_MODES$5.REPEAT,n.texArray.elements[n.texArray.count++]=p,s++)),n.size+=u.size,c+=u.size,a=p._batchLocation,this.addColors(r,d.color,d.alpha,u.attribSize,u.attribStart),this.addTextureIds(i,a,u.attribSize,u.attribStart)}BaseTexture$1._globalBatch=e,this.packAttributes()},t.prototype.packAttributes=function(){for(var e=this.points,t=this.uvs,r=this.colors,i=this.textureIds,n=new ArrayBuffer(3*e.length*4),s=new Float32Array(n),o=new Uint32Array(n),a=0,l=0;l<e.length/2;l++)s[a++]=e[2*l],s[a++]=e[2*l+1],s[a++]=t[2*l],s[a++]=t[2*l+1],o[a++]=r[l],s[a++]=i[l];this._buffer.update(n),this._indexBuffer.update(this.indicesUint16)},t.prototype.processFill=function(e){e.holes.length?buildPoly.triangulate(e,this):FILL_COMMANDS[e.type].triangulate(e,this)},t.prototype.processLine=function(e){buildLine(e,this);for(var t=0;t<e.holes.length;t++)buildLine(e.holes[t],this)},t.prototype.processHoles=function(e){for(var t=0;t<e.length;t++){var r=e[t];FILL_COMMANDS[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}},t.prototype.calculateBounds=function(){var e=this._bounds,t=tmpBounds,r=Matrix$1.IDENTITY;this._bounds.clear(),t.clear();for(var i=0;i<this.graphicsData.length;i++){var n=this.graphicsData[i],s=n.shape,o=n.type,a=n.lineStyle,l=n.matrix||Matrix$1.IDENTITY,h=0;if(a&&a.visible&&(h=a.width,o!==SHAPES$1.POLY||n.fillStyle.visible?h*=Math.max(0,a.alignment):h*=Math.max(a.alignment,1-a.alignment)),r!==l&&(t.isEmpty()||(e.addBoundsMatrix(t,r),t.clear()),r=l),o===SHAPES$1.RECT||o===SHAPES$1.RREC){var c=s;t.addFramePad(c.x,c.y,c.x+c.width,c.y+c.height,h,h)}else if(o===SHAPES$1.CIRC){var u=s;t.addFramePad(u.x,u.y,u.x,u.y,u.radius+h,u.radius+h)}else if(o===SHAPES$1.ELIP){var d=s;t.addFramePad(d.x,d.y,d.x,d.y,d.width+h,d.height+h)}else{var p=s;e.addVerticesMatrix(r,p.points,0,p.points.length,h,h)}}t.isEmpty()||e.addBoundsMatrix(t,r),e.pad(this.boundsPadding,this.boundsPadding)},t.prototype.transformPoints=function(e,t){for(var r=0;r<e.length/2;r++){var i=e[2*r],n=e[2*r+1];e[2*r]=t.a*i+t.c*n+t.tx,e[2*r+1]=t.b*i+t.d*n+t.ty}},t.prototype.addColors=function(e,t,r,i,n){void 0===n&&(n=0);var s=premultiplyTint((t>>16)+(65280&t)+((255&t)<<16),r);e.length=Math.max(e.length,n+i);for(var o=0;o<i;o++)e[n+o]=s},t.prototype.addTextureIds=function(e,t,r,i){void 0===i&&(i=0),e.length=Math.max(e.length,i+r);for(var n=0;n<r;n++)e[i+n]=t},t.prototype.addUvs=function(e,t,r,i,n,s){void 0===s&&(s=null);for(var o=0,a=t.length,l=r.frame;o<n;){var h=e[2*(i+o)],c=e[2*(i+o)+1];if(s){var u=s.a*h+s.c*c+s.tx;c=s.b*h+s.d*c+s.ty,h=u}o++,t.push(h/l.width,c/l.height)}var d=r.baseTexture;(l.width<d.width||l.height<d.height)&&this.adjustUvs(t,r,a,n)},t.prototype.adjustUvs=function(e,t,r,i){for(var n=t.baseTexture,s=1e-6,o=r+2*i,a=t.frame,l=a.width/n.width,h=a.height/n.height,c=a.x/a.width,u=a.y/a.height,d=Math.floor(e[r]+s),p=Math.floor(e[r+1]+s),f=r+2;f<o;f+=2)d=Math.min(d,Math.floor(e[f]+s)),p=Math.min(p,Math.floor(e[f+1]+s));for(c-=d,u-=p,f=r;f<o;f+=2)e[f]=(e[f]+c)*l,e[f+1]=(e[f+1]+u)*h},t.BATCHABLE_SIZE=100,t}(BatchGeometry$1),LineStyle=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.width=0,t.alignment=.5,t.native=!1,t.cap=LINE_CAP.BUTT,t.join=LINE_JOIN.MITER,t.miterLimit=10,t}return __extends$i(t,e),t.prototype.clone=function(){var e=new t;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e},t.prototype.reset=function(){e.prototype.reset.call(this),this.color=0,this.alignment=.5,this.width=0,this.native=!1},t}(FillStyle),temp=new Float32Array(3),DEFAULT_SHADERS={},Graphics=function(e){function t(t){void 0===t&&(t=null);var r=e.call(this)||this;return r.shader=null,r.pluginName="batch",r.currentPath=null,r.batches=[],r.batchTint=-1,r.batchDirty=-1,r.vertexData=null,r._fillStyle=new FillStyle,r._lineStyle=new LineStyle,r._matrix=null,r._holeMode=!1,r.state=State$1.for2d(),r._geometry=t||new GraphicsGeometry,r._geometry.refCount++,r._transformID=-1,r.tint=16777215,r.blendMode=BLEND_MODES$5.NORMAL,r}return __extends$i(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.clone=function(){return this.finishPoly(),new t(this._geometry)},Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fill",{get:function(){return this._fillStyle},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"line",{get:function(){return this._lineStyle},enumerable:!1,configurable:!0}),t.prototype.lineStyle=function(e,t,r,i,n){return void 0===e&&(e=null),void 0===t&&(t=0),void 0===r&&(r=1),void 0===i&&(i=.5),void 0===n&&(n=!1),"number"==typeof e&&(e={width:e,color:t,alpha:r,alignment:i,native:n}),this.lineTextureStyle(e)},t.prototype.lineTextureStyle=function(e){e=Object.assign({width:0,texture:Texture$1.WHITE,color:e&&e.texture?16777215:0,alpha:1,matrix:null,alignment:.5,native:!1,cap:LINE_CAP.BUTT,join:LINE_JOIN.MITER,miterLimit:10},e),this.currentPath&&this.startPoly();var t=e.width>0&&e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:t},e)):this._lineStyle.reset(),this},t.prototype.startPoly=function(){if(this.currentPath){var e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Polygon,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Polygon,this.currentPath.closeStroke=!1},t.prototype.finishPoly=function(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)},t.prototype.moveTo=function(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this},t.prototype.lineTo=function(e,t){this.currentPath||this.moveTo(0,0);var r=this.currentPath.points,i=r[r.length-2],n=r[r.length-1];return(i!==e||n!==t)&&r.push(e,t),this},t.prototype._initCurve=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0),this.currentPath?0===this.currentPath.points.length&&(this.currentPath.points=[e,t]):this.moveTo(e,t)},t.prototype.quadraticCurveTo=function(e,t,r,i){this._initCurve();var n=this.currentPath.points;return 0===n.length&&this.moveTo(0,0),QuadraticUtils.curveTo(e,t,r,i,n),this},t.prototype.bezierCurveTo=function(e,t,r,i,n,s){return this._initCurve(),BezierUtils.curveTo(e,t,r,i,n,s,this.currentPath.points),this},t.prototype.arcTo=function(e,t,r,i,n){this._initCurve(e,t);var s=this.currentPath.points,o=ArcUtils.curveTo(e,t,r,i,n,s);if(o){var a=o.cx,l=o.cy,h=o.radius,c=o.startAngle,u=o.endAngle,d=o.anticlockwise;this.arc(a,l,h,c,u,d)}return this},t.prototype.arc=function(e,t,r,i,n,s){if(void 0===s&&(s=!1),i===n)return this;if(!s&&n<=i?n+=PI_2$1:s&&i<=n&&(i+=PI_2$1),0==n-i)return this;var o=e+Math.cos(i)*r,a=t+Math.sin(i)*r,l=this._geometry.closePointEps,h=this.currentPath?this.currentPath.points:null;if(h){var c=Math.abs(h[h.length-2]-o),u=Math.abs(h[h.length-1]-a);c<l&&u<l||h.push(o,a)}else this.moveTo(o,a),h=this.currentPath.points;return ArcUtils.arc(o,a,e,t,r,i,n,s,h),this},t.prototype.beginFill=function(e,t){return void 0===e&&(e=0),void 0===t&&(t=1),this.beginTextureFill({texture:Texture$1.WHITE,color:e,alpha:t})},t.prototype.beginTextureFill=function(e){e=Object.assign({texture:Texture$1.WHITE,color:16777215,alpha:1,matrix:null},e),this.currentPath&&this.startPoly();var t=e.alpha>0;return t?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:t},e)):this._fillStyle.reset(),this},t.prototype.endFill=function(){return this.finishPoly(),this._fillStyle.reset(),this},t.prototype.drawRect=function(e,t,r,i){return this.drawShape(new Rectangle$1(e,t,r,i))},t.prototype.drawRoundedRect=function(e,t,r,i,n){return this.drawShape(new RoundedRectangle(e,t,r,i,n))},t.prototype.drawCircle=function(e,t,r){return this.drawShape(new Circle(e,t,r))},t.prototype.drawEllipse=function(e,t,r,i){return this.drawShape(new Ellipse(e,t,r,i))},t.prototype.drawPolygon=function(){for(var e=arguments,t=[],r=0;r<arguments.length;r++)t[r]=e[r];var i,n=!0,s=t[0];s.points?(n=s.closeStroke,i=s.points):i=Array.isArray(t[0])?t[0]:t;var o=new Polygon(i);return o.closeStroke=n,this.drawShape(o),this},t.prototype.drawShape=function(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this},t.prototype.clear=function(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this},t.prototype.isFastRect=function(){var e=this._geometry.graphicsData;return!(1!==e.length||e[0].shape.type!==SHAPES$1.RECT||e[0].matrix||e[0].holes.length||e[0].lineStyle.visible&&e[0].lineStyle.width)},t.prototype._render=function(e){this.finishPoly();var t=this._geometry,r=e.context.supports.uint32Indices;t.updateBatches(r),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))},t.prototype._populateBatches=function(){var e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(var i=0;i<r;i++){var n=e.batches[i],s=n.style.color,o=new Float32Array(this.vertexData.buffer,4*n.attribStart*2,2*n.attribSize),a=new Float32Array(e.uvsFloat32.buffer,4*n.attribStart*2,2*n.attribSize),l={vertexData:o,blendMode:t,indices:new Uint16Array(e.indicesUint16.buffer,2*n.start,n.size),uvs:a,_batchRGB:hex2rgb$1(s),_tintRGB:s,_texture:n.style.texture,alpha:n.style.alpha,worldAlpha:1};this.batches[i]=l}},t.prototype._renderBatched=function(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(var t=0,r=this.batches.length;t<r;t++){var i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}},t.prototype._renderDirect=function(e){var t=this._resolveDirectShader(e),r=this._geometry,i=this.tint,n=this.worldAlpha,s=t.uniforms,o=r.drawCalls;s.translationMatrix=this.transform.worldTransform,s.tint[0]=(i>>16&255)/255*n,s.tint[1]=(i>>8&255)/255*n,s.tint[2]=(255&i)/255*n,s.tint[3]=n,e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(var a=0,l=o.length;a<l;a++)this._renderDrawCallDirect(e,r.drawCalls[a])},t.prototype._renderDrawCallDirect=function(e,t){for(var r=t.texArray,i=t.type,n=t.size,s=t.start,o=r.count,a=0;a<o;a++)e.texture.bind(r.elements[a],a);e.geometry.draw(i,n,s)},t.prototype._resolveDirectShader=function(e){var t=this.shader,r=this.pluginName;if(!t){if(!DEFAULT_SHADERS[r]){for(var i=e.plugins[r].MAX_TEXTURES,n=new Int32Array(i),s=0;s<i;s++)n[s]=s;var o={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix$1,default:UniformGroup$1.from({uSamplers:n},!0)},a=e.plugins[r]._shader.program;DEFAULT_SHADERS[r]=new Shader$1(a,o)}t=DEFAULT_SHADERS[r]}return t},t.prototype._calculateBounds=function(){this.finishPoly();var e=this._geometry;if(e.graphicsData.length){var t=e.bounds,r=t.minX,i=t.minY,n=t.maxX,s=t.maxY;this._bounds.addFrame(this.transform,r,i,n,s)}},t.prototype.containsPoint=function(e){return this.worldTransform.applyInverse(e,t._TEMP_POINT),this._geometry.containsPoint(t._TEMP_POINT)},t.prototype.calculateTints=function(){if(this.batchTint!==this.tint){this.batchTint=this.tint;for(var e=hex2rgb$1(this.tint,temp),t=0;t<this.batches.length;t++){var r=this.batches[t],i=r._batchRGB,n=(e[0]*i[0]*255<<16)+(e[1]*i[1]*255<<8)+(0|e[2]*i[2]*255);r._tintRGB=(n>>16)+(65280&n)+((255&n)<<16)}}},t.prototype.calculateVertices=function(){var e=this.transform._worldID;if(this._transformID!==e){this._transformID=e;for(var t=this.transform.worldTransform,r=t.a,i=t.b,n=t.c,s=t.d,o=t.tx,a=t.ty,l=this._geometry.points,h=this.vertexData,c=0,u=0;u<l.length;u+=2){var d=l[u],p=l[u+1];h[c++]=r*d+n*p+o,h[c++]=s*p+i*d+a}}},t.prototype.closePath=function(){var e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this},t.prototype.setMatrix=function(e){return this._matrix=e,this},t.prototype.beginHole=function(){return this.finishPoly(),this._holeMode=!0,this},t.prototype.endHole=function(){return this.finishPoly(),this._holeMode=!1,this},t.prototype.destroy=function(t){this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,e.prototype.destroy.call(this,t)},t.nextRoundedRectBehavior=!1,t._TEMP_POINT=new Point$1,t}(Container$1),extendStatics$d=function(e,t){return(extendStatics$d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$h(e,t){function r(){this.constructor=e}extendStatics$d(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var tempPoint$2=new Point$1,indices=new Uint16Array([0,1,2,0,2,3]),Sprite=function(e){function t(t){var r=e.call(this)||this;return r._anchor=new ObservablePoint$1(r._onAnchorUpdate,r,t?t.defaultAnchor.x:0,t?t.defaultAnchor.y:0),r._texture=null,r._width=0,r._height=0,r._tint=null,r._tintRGB=null,r.tint=16777215,r.blendMode=BLEND_MODES$5.NORMAL,r._cachedTint=16777215,r.uvs=null,r.texture=t||Texture$1.EMPTY,r.vertexData=new Float32Array(8),r.vertexTrimmedData=null,r._transformID=-1,r._textureID=-1,r._transformTrimmedID=-1,r._textureTrimmedID=-1,r.indices=indices,r.pluginName="batch",r.isSprite=!0,r._roundPixels=settings$2.ROUND_PIXELS,r}return __extends$h(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=sign(this.scale.y)*this._height/this._texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){var e=this._texture;if(this._transformID!==this.transform._worldID||this._textureID!==e._updateID){this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;var t=this.transform.worldTransform,r=t.a,i=t.b,n=t.c,s=t.d,o=t.tx,a=t.ty,l=this.vertexData,h=e.trim,c=e.orig,u=this._anchor,d=0,p=0,f=0,_=0;if(h?(d=(p=h.x-u._x*c.width)+h.width,f=(_=h.y-u._y*c.height)+h.height):(d=(p=-u._x*c.width)+c.width,f=(_=-u._y*c.height)+c.height),l[0]=r*p+n*_+o,l[1]=s*_+i*p+a,l[2]=r*d+n*_+o,l[3]=s*_+i*d+a,l[4]=r*d+n*f+o,l[5]=s*f+i*d+a,l[6]=r*p+n*f+o,l[7]=s*f+i*p+a,this._roundPixels)for(var m=settings$2.RESOLUTION,g=0;g<l.length;++g)l[g]=Math.round((l[g]*m|0)/m)}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,r=e.orig,i=this._anchor,n=this.transform.worldTransform,s=n.a,o=n.b,a=n.c,l=n.d,h=n.tx,c=n.ty,u=-i._x*r.width,d=u+r.width,p=-i._y*r.height,f=p+r.height;t[0]=s*u+a*p+h,t[1]=l*p+o*u+c,t[2]=s*d+a*p+h,t[3]=l*p+o*d+c,t[4]=s*d+a*f+h,t[5]=l*f+o*d+c,t[6]=s*u+a*f+h,t[7]=l*f+o*u+c},t.prototype._render=function(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._localBounds||(this._localBounds=new Bounds$1),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),t=this._localBoundsRect),this._localBounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint$2);var t=this._texture.orig.width,r=this._texture.orig.height,i=-t*this.anchor.x,n=0;return tempPoint$2.x>=i&&tempPoint$2.x<i+t&&(n=-r*this.anchor.y,tempPoint$2.y>=n&&tempPoint$2.y<n+r)},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,"boolean"==typeof t?t:t&&t.texture){var r="boolean"==typeof t?t:t&&t.baseTexture;this._texture.destroy(!!r)}this._texture=null},t.from=function(e,r){return new t(e instanceof Texture$1?e:Texture$1.from(e,r))},Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||Texture$1.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))},enumerable:!1,configurable:!0}),t}(Container$1),extendStatics$c=function(e,t){return(extendStatics$c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)},TEXT_GRADIENT;function __extends$g(e,t){function r(){this.constructor=e}extendStatics$c(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}!function(e){e[e.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",e[e.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL"}(TEXT_GRADIENT||(TEXT_GRADIENT={}));var defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},genericFontFamilies=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],TextStyle=function(){function e(e){this.styleID=0,this.reset(),deepCopyProperties(this,e,e)}return e.prototype.clone=function(){var t={};return deepCopyProperties(t,this,defaultStyle),new e(t)},e.prototype.reset=function(){deepCopyProperties(this,defaultStyle,defaultStyle)},Object.defineProperty(e.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"breakWords",{get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadow",{get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAlpha",{get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowAngle",{get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowBlur",{get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowColor",{get:function(){return this._dropShadowColor},set:function(e){var t=getColor(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"dropShadowDistance",{get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fill",{get:function(){return this._fill},set:function(e){var t=getColor(e);this._fill!==t&&(this._fill=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientType",{get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillGradientStops",{get:function(){return this._fillGradientStops},set:function(e){areArraysEqual(this._fillGradientStops,e)||(this._fillGradientStops=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontFamily",{get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontStyle",{get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontVariant",{get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fontWeight",{get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineHeight",{get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"leading",{get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lineJoin",{get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"miterLimit",{get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"padding",{get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stroke",{get:function(){return this._stroke},set:function(e){var t=getColor(e);this._stroke!==t&&(this._stroke=t,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"strokeThickness",{get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"textBaseline",{get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"trim",{get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"whiteSpace",{get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrap",{get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wordWrapWidth",{get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)},enumerable:!1,configurable:!0}),e.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var r=t.length-1;r>=0;r--){var i=t[r].trim();!/([\"\'])[^\'\"]+\1/.test(i)&&genericFontFamilies.indexOf(i)<0&&(i='"'+i+'"'),t[r]=i}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},e}();function getSingleColor(e){return"number"==typeof e?hex2string(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function getColor(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=getSingleColor(e[t]);return e}return getSingleColor(e)}function areArraysEqual(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(e[r]!==t[r])return!1;return!0}function deepCopyProperties(e,t,r){for(var i in r)Array.isArray(t[i])?e[i]=t[i].slice():e[i]=t[i]}var TextMetrics=function(){function e(e,t,r,i,n,s,o,a,l){this.text=e,this.style=t,this.width=r,this.height=i,this.lines=n,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=l}return e.measureText=function(t,r,i,n){void 0===n&&(n=e._canvas),i=null==i?r.wordWrap:i;var s=r.toFontString(),o=e.measureFont(s);0===o.fontSize&&(o.fontSize=r.fontSize,o.ascent=r.fontSize);var a=n.getContext("2d");a.font=s;for(var l=(i?e.wordWrap(t,r,n):t).split(/(?:\r\n|\r|\n)/),h=new Array(l.length),c=0,u=0;u<l.length;u++){var d=a.measureText(l[u]).width+(l[u].length-1)*r.letterSpacing;h[u]=d,c=Math.max(c,d)}var p=c+r.strokeThickness;r.dropShadow&&(p+=r.dropShadowDistance);var f=r.lineHeight||o.fontSize+r.strokeThickness,_=Math.max(f,o.fontSize+r.strokeThickness)+(l.length-1)*(f+r.leading);return r.dropShadow&&(_+=r.dropShadowDistance),new e(t,r,p,_,l,h,f+r.leading,c,o)},e.wordWrap=function(t,r,i){void 0===i&&(i=e._canvas);for(var n=i.getContext("2d"),s=0,o="",a="",l=Object.create(null),h=r.letterSpacing,c=r.whiteSpace,u=e.collapseSpaces(c),d=e.collapseNewlines(c),p=!u,f=r.wordWrapWidth+h,_=e.tokenize(t),m=0;m<_.length;m++){var g=_[m];if(e.isNewline(g)){if(!d){a+=e.addLine(o),p=!u,o="",s=0;continue}g=" "}if(u){var y=e.isBreakingSpace(g),v=e.isBreakingSpace(o[o.length-1]);if(y&&v)continue}var E=e.getFromCache(g,h,l,n);if(E>f)if(""!==o&&(a+=e.addLine(o),o="",s=0),e.canBreakWords(g,r.breakWords))for(var T=e.wordWrapSplit(g),b=0;b<T.length;b++){for(var S=T[b],x=1;T[b+x];){var A=T[b+x],P=S[S.length-1];if(e.canBreakChars(P,A,g,b,r.breakWords))break;S+=A,x++}b+=S.length-1;var R=e.getFromCache(S,h,l,n);R+s>f&&(a+=e.addLine(o),p=!1,o="",s=0),o+=S,s+=R}else{o.length>0&&(a+=e.addLine(o),o="",s=0);var O=m===_.length-1;a+=e.addLine(g,!O),p=!1,o="",s=0}else E+s>f&&(p=!1,a+=e.addLine(o),o="",s=0),(o.length>0||!e.isBreakingSpace(g)||p)&&(o+=g,s+=E)}return a+e.addLine(o,!1)},e.addLine=function(t,r){return void 0===r&&(r=!0),t=e.trimRight(t),r?t+"\n":t},e.getFromCache=function(e,t,r,i){var n=r[e];if("number"!=typeof n){var s=e.length*t;n=i.measureText(e).width+s,r[e]=n}return n},e.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},e.collapseNewlines=function(e){return"normal"===e},e.trimRight=function(t){if("string"!=typeof t)return"";for(var r=t.length-1;r>=0;r--){var i=t[r];if(!e.isBreakingSpace(i))break;t=t.slice(0,-1)}return t},e.isNewline=function(t){return"string"==typeof t&&e._newlines.indexOf(t.charCodeAt(0))>=0},e.isBreakingSpace=function(t,r){return"string"==typeof t&&e._breakingSpaces.indexOf(t.charCodeAt(0))>=0},e.tokenize=function(t){var r=[],i="";if("string"!=typeof t)return r;for(var n=0;n<t.length;n++){var s=t[n],o=t[n+1];e.isBreakingSpace(s,o)||e.isNewline(s)?(""!==i&&(r.push(i),i=""),r.push(s)):i+=s}return""!==i&&r.push(i),r},e.canBreakWords=function(e,t){return t},e.canBreakChars=function(e,t,r,i,n){return!0},e.wordWrapSplit=function(e){return e.split("")},e.measureFont=function(t){if(e._fonts[t])return e._fonts[t];var r={ascent:0,descent:0,fontSize:0},i=e._canvas,n=e._context;n.font=t;var s=e.METRICS_STRING+e.BASELINE_SYMBOL,o=Math.ceil(n.measureText(s).width),a=Math.ceil(n.measureText(e.BASELINE_SYMBOL).width),l=Math.ceil(e.HEIGHT_MULTIPLIER*a);a=a*e.BASELINE_MULTIPLIER|0,i.width=o,i.height=l,n.fillStyle="#f00",n.fillRect(0,0,o,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(s,0,a);var h=n.getImageData(0,0,o,l).data,c=h.length,u=4*o,d=0,p=0,f=!1;for(d=0;d<a;++d){for(var _=0;_<u;_+=4)if(255!==h[p+_]){f=!0;break}if(f)break;p+=u}for(r.ascent=a-d,p=c-u,f=!1,d=l;d>a;--d){for(_=0;_<u;_+=4)if(255!==h[p+_]){f=!0;break}if(f)break;p-=u}return r.descent=d-a,r.fontSize=r.ascent+r.descent,e._fonts[t]=r,r},e.clearMetrics=function(t){void 0===t&&(t=""),t?delete e._fonts[t]:e._fonts={}},Object.defineProperty(e,"_canvas",{get:function(){if(!e.__canvas){var t=void 0;try{var r=new OffscreenCanvas(0,0),i=r.getContext("2d");if(i&&i.measureText)return e.__canvas=r,r;t=document.createElement("canvas")}catch(e){t=document.createElement("canvas")}t.width=t.height=10,e.__canvas=t}return e.__canvas},enumerable:!1,configurable:!0}),Object.defineProperty(e,"_context",{get:function(){return e.__context||(e.__context=e._canvas.getContext("2d")),e.__context},enumerable:!1,configurable:!0}),e}();TextMetrics._fonts={},TextMetrics.METRICS_STRING="|q",TextMetrics.BASELINE_SYMBOL="M",TextMetrics.BASELINE_MULTIPLIER=1.4,TextMetrics.HEIGHT_MULTIPLIER=2,TextMetrics._newlines=[10,13],TextMetrics._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];var defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},Text=function(e){function t(t,r,i){var n=this,s=!1;i||(i=document.createElement("canvas"),s=!0),i.width=3,i.height=3;var o=Texture$1.from(i);return o.orig=new Rectangle$1,o.trim=new Rectangle$1,(n=e.call(this,o)||this)._ownCanvas=s,n.canvas=i,n.context=n.canvas.getContext("2d"),n._resolution=settings$2.RESOLUTION,n._autoResolution=!0,n._text=null,n._style=null,n._styleListener=null,n._font="",n.text=t,n.style=r,n.localStyleID=-1,n}return __extends$g(t,e),t.prototype.updateText=function(e){var r=this._style;if(this.localStyleID!==r.styleID&&(this.dirty=!0,this.localStyleID=r.styleID),this.dirty||!e){this._font=this._style.toFontString();var i=this.context,n=TextMetrics.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),s=n.width,o=n.height,a=n.lines,l=n.lineHeight,h=n.lineWidths,c=n.maxLineWidth,u=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,s)+2*r.padding)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,o)+2*r.padding)*this._resolution),i.scale(this._resolution,this._resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.lineWidth=r.strokeThickness,i.textBaseline=r.textBaseline,i.lineJoin=r.lineJoin,i.miterLimit=r.miterLimit;for(var d,p,f=r.dropShadow?2:1,_=0;_<f;++_){var m=r.dropShadow&&0===_,g=m?Math.ceil(Math.max(1,o)+2*r.padding):0,y=g*this._resolution;if(m){i.fillStyle="black",i.strokeStyle="black";var v=r.dropShadowColor,E=hex2rgb$1("number"==typeof v?v:string2hex(v)),T=r.dropShadowBlur*this._resolution,b=r.dropShadowDistance*this._resolution;i.shadowColor="rgba("+255*E[0]+","+255*E[1]+","+255*E[2]+","+r.dropShadowAlpha+")",i.shadowBlur=T,i.shadowOffsetX=Math.cos(r.dropShadowAngle)*b,i.shadowOffsetY=Math.sin(r.dropShadowAngle)*b+y}else i.fillStyle=this._generateFillStyle(r,a,n),i.strokeStyle=r.stroke,i.shadowColor="black",i.shadowBlur=0,i.shadowOffsetX=0,i.shadowOffsetY=0;var S=(l-u.fontSize)/2;(!t.nextLineHeightBehavior||l-u.fontSize<0)&&(S=0);for(var x=0;x<a.length;x++)d=r.strokeThickness/2,p=r.strokeThickness/2+x*l+u.ascent+S,"right"===r.align?d+=c-h[x]:"center"===r.align&&(d+=(c-h[x])/2),r.stroke&&r.strokeThickness&&this.drawLetterSpacing(a[x],d+r.padding,p+r.padding-g,!0),r.fill&&this.drawLetterSpacing(a[x],d+r.padding,p+r.padding-g)}this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,r,i,n){void 0===n&&(n=!1);var s=this._style.letterSpacing,o=t.experimentalLetterSpacing&&("letterSpacing"in CanvasRenderingContext2D.prototype||"textLetterSpacing"in CanvasRenderingContext2D.prototype);if(0===s||o)return o&&(this.context.letterSpacing=s,this.context.textLetterSpacing=s),void(n?this.context.strokeText(e,r,i):this.context.fillText(e,r,i));for(var a=r,l=Array.from?Array.from(e):e.split(""),h=this.context.measureText(e).width,c=0,u=0;u<l.length;++u){var d=l[u];n?this.context.strokeText(d,a,i):this.context.fillText(d,a,i);for(var p="",f=u+1;f<l.length;++f)p+=l[f];a+=h-(c=this.context.measureText(p).width)+s,h=c}},t.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=trimCanvas(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var r=this._texture,i=this._style,n=i.trim?0:i.padding,s=r.baseTexture;r.trim.width=r._frame.width=e.width/this._resolution,r.trim.height=r._frame.height=e.height/this._resolution,r.trim.x=-n,r.trim.y=-n,r.orig.width=r._frame.width-2*n,r.orig.height=r._frame.height-2*n,this._onTextureUpdate(),s.setRealSize(e.width,e.height,this._resolution),r.updateUvs(),this.dirty=!1},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._render.call(this,t)},t.prototype.updateTransform=function(){this.updateText(!0),e.prototype.updateTransform.call(this)},t.prototype.getBounds=function(t,r){return this.updateText(!0),-1===this._textureID&&(t=!1),e.prototype.getBounds.call(this,t,r)},t.prototype.getLocalBounds=function(t){return this.updateText(!0),e.prototype.getLocalBounds.call(this,t)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._generateFillStyle=function(e,t,r){var i=e.fill;if(!Array.isArray(i))return i;if(1===i.length)return i[0];var n,s=e.dropShadow?e.dropShadowDistance:0,o=e.padding||0,a=this.canvas.width/this._resolution-s-2*o,l=this.canvas.height/this._resolution-s-2*o,h=i.slice(),c=e.fillGradientStops.slice();if(!c.length)for(var u=h.length+1,d=1;d<u;++d)c.push(d/u);if(h.unshift(i[0]),c.unshift(0),h.push(i[i.length-1]),c.push(1),e.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){n=this.context.createLinearGradient(a/2,o,a/2,l+o);var p=r.fontProperties.fontSize+e.strokeThickness;for(d=0;d<t.length;d++){var f=r.lineHeight*(d-1)+p,_=r.lineHeight*d,m=_;d>0&&f>_&&(m=(_+f)/2);var g=_+p,y=r.lineHeight*(d+1),v=g;d+1<t.length&&y<g&&(v=(g+y)/2);for(var E=(v-m)/l,T=0;T<h.length;T++){var b;b="number"==typeof c[T]?c[T]:T/h.length;var S=Math.min(1,Math.max(0,m/l+b*E));S=Number(S.toFixed(5)),n.addColorStop(S,h[T])}}}else{n=this.context.createLinearGradient(o,l/2,a+o,l/2);var x=h.length+1,A=1;for(d=0;d<h.length;d++){var P;P="number"==typeof c[d]?c[d]:A/x,n.addColorStop(P,h[d]),A++}}return n},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},defaultDestroyOptions,t),e.prototype.destroy.call(this,t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null},Object.defineProperty(t.prototype,"width",{get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"style",{get:function(){return this._style},set:function(e){e=e||{},this._style=e instanceof TextStyle?e:new TextStyle(e),this.localStyleID=-1,this.dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.nextLineHeightBehavior=!1,t.experimentalLetterSpacing=!1,t}(Sprite);settings$2.UPLOADS_PER_FRAME=4;var extendStatics$b=function(e,t){return(extendStatics$b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$f(e,t){function r(){this.constructor=e}extendStatics$b(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var CountLimiter=function(){function e(e){this.maxItemsPerFrame=e,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();function findMultipleBaseTextures(e,t){var r=!1;if(e&&e._textures&&e._textures.length)for(var i=0;i<e._textures.length;i++)if(e._textures[i]instanceof Texture$1){var n=e._textures[i].baseTexture;-1===t.indexOf(n)&&(t.push(n),r=!0)}return r}function findBaseTexture(e,t){if(e.baseTexture instanceof BaseTexture$1){var r=e.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function findTexture(e,t){if(e._texture&&e._texture instanceof Texture$1){var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function drawText(e,t){return t instanceof Text&&(t.updateText(!0),!0)}function calculateTextStyle(e,t){if(t instanceof TextStyle){var r=t.toFontString();return TextMetrics.measureFont(r),!0}return!1}function findText(e,t){if(e instanceof Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var r=e._texture.baseTexture;return-1===t.indexOf(r)&&t.push(r),!0}return!1}function findTextStyle(e,t){return e instanceof TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}var BasePrepare=function(){function e(e){var t=this;this.limiter=new CountLimiter(settings$2.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,Ticker$1.system.addOnce(this.tick,this,UPDATE_PRIORITY$1.UTILITY))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var r=0,i=this.uploadHooks.length;r<i;r++)if(this.uploadHooks[r](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)Ticker$1.system.addOnce(this.tick,this,UPDATE_PRIORITY$1.UTILITY);else{this.ticking=!1;var n=this.completes.slice(0);for(this.completes.length=0,r=0,i=n.length;r<i;r++)n[r]()}},e.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},e.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},e.prototype.add=function(e){for(var t=0,r=this.addHooks.length;t<r&&!this.addHooks[t](e,this.queue);t++);if(e instanceof Container$1)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&Ticker$1.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}();function uploadBaseTextures(e,t){return t instanceof BaseTexture$1&&(t._glTextures[e.CONTEXT_UID]||e.texture.bind(t),!0)}function uploadGraphics(e,t){if(!(t instanceof Graphics))return!1;var r=t.geometry;t.finishPoly(),r.updateBatches();for(var i=r.batches,n=0;n<i.length;n++){var s=i[n].style.texture;s&&uploadBaseTextures(e,s.baseTexture)}return r.batchable||e.geometry.bind(r,t._resolveDirectShader(e)),!0}function findGraphics(e,t){return e instanceof Graphics&&(t.push(e),!0)}var Prepare=function(e){function t(t){var r=e.call(this,t)||this;return r.uploadHookHelper=r.renderer,r.registerFindHook(findGraphics),r.registerUploadHook(uploadBaseTextures),r.registerUploadHook(uploadGraphics),r}return __extends$f(t,e),t}(BasePrepare),Spritesheet=function(){function e(e,t,r){void 0===r&&(r=null),this._texture=e instanceof Texture$1?e:null,this.baseTexture=e instanceof BaseTexture$1?e:this._texture.baseTexture,this.textures={},this.animations={},this.data=t;var i=this.baseTexture.resource;this.resolution=this._updateResolution(r||(i?i.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return e.prototype._updateResolution=function(e){void 0===e&&(e=null);var t=this.data.meta.scale,r=getResolutionOfUrl$1(e,null);return null===r&&(r=void 0!==t?parseFloat(t):1),1!==r&&this.baseTexture.setResolution(r),r},e.prototype.parse=function(t){this._batchIndex=0,this._callback=t,this._frameKeys.length<=e.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},e.prototype._processFrames=function(t){for(var r=t,i=e.BATCH_SIZE;r-t<i&&r<this._frameKeys.length;){var n=this._frameKeys[r],s=this._frames[n],o=s.frame;if(o){var a,l=null,h=!1!==s.trimmed&&s.sourceSize?s.sourceSize:s.frame,c=new Rectangle$1(0,0,Math.floor(h.w)/this.resolution,Math.floor(h.h)/this.resolution);a=s.rotated?new Rectangle$1(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.h)/this.resolution,Math.floor(o.w)/this.resolution):new Rectangle$1(Math.floor(o.x)/this.resolution,Math.floor(o.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution),!1!==s.trimmed&&s.spriteSourceSize&&(l=new Rectangle$1(Math.floor(s.spriteSourceSize.x)/this.resolution,Math.floor(s.spriteSourceSize.y)/this.resolution,Math.floor(o.w)/this.resolution,Math.floor(o.h)/this.resolution)),this.textures[n]=new Texture$1(this.baseTexture,a,c,l,s.rotated?2:0,s.anchor),Texture$1.addToCache(this.textures[n],n)}r++}},e.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var r=0;r<e[t].length;r++){var i=e[t][r];this.animations[t].push(this.textures[i])}}},e.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},e.prototype._nextBatch=function(){var t=this;this._processFrames(this._batchIndex*e.BATCH_SIZE),this._batchIndex++,setTimeout((function(){t._batchIndex*e.BATCH_SIZE<t._frameKeys.length?t._nextBatch():(t._processAnimations(),t._parseComplete())}),0)},e.prototype.destroy=function(e){var t;for(var r in void 0===e&&(e=!1),this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&(null===(t=this._texture)||void 0===t||t.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null},e.BATCH_SIZE=1e3,e}(),SpritesheetLoader=function(){function e(){}return e.use=function(t,r){var i,n,s=this,o=t.name+"_image";if(t.data&&t.type===LoaderResource.TYPE.JSON&&t.data.frames&&!s.resources[o]){var a=null===(n=null===(i=t.data)||void 0===i?void 0:i.meta)||void 0===n?void 0:n.related_multi_packs;if(Array.isArray(a))for(var l=function(e){if("string"!=typeof e)return"continue";var r=e.replace(".json",""),i=url.resolve(t.url.replace(s.baseUrl,""),e);if(s.resources[r]||Object.values(s.resources).some((function(e){return url.format(url.parse(e.url))===i})))return"continue";var n={crossOrigin:t.crossOrigin,loadType:LoaderResource.LOAD_TYPE.XHR,xhrType:LoaderResource.XHR_RESPONSE_TYPE.JSON,parentResource:t,metadata:t.metadata};s.add(r,i,n)},h=0,c=a;h<c.length;h++)l(c[h]);var u={crossOrigin:t.crossOrigin,metadata:t.metadata.imageMetadata,parentResource:t},d=e.getResourcePath(t,s.baseUrl);s.add(o,d,u,(function(e){if(e.error)r(e.error);else{var i=new Spritesheet(e.texture,t.data,t.url);i.parse((function(){t.spritesheet=i,t.textures=i.textures,r()}))}}))}else r()},e.getResourcePath=function(e,t){return e.isDataUrl?e.data.meta.image:url.resolve(e.url.replace(t,""),e.data.meta.image)},e}(),extendStatics$a=function(e,t){return(extendStatics$a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$e(e,t){function r(){this.constructor=e}extendStatics$a(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var tempPoint$1=new Point$1;!function(e){function t(t,r,i){void 0===r&&(r=100),void 0===i&&(i=100);var n=e.call(this,t)||this;return n.tileTransform=new Transform$1,n._width=r,n._height=i,n.uvMatrix=n.texture.uvMatrix||new TextureMatrix$1(t),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}__extends$e(t,e),Object.defineProperty(t.prototype,"clampMargin",{get:function(){return this.uvMatrix.clampMargin},set:function(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tileScale",{get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tilePosition",{get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copyFrom(e)},enumerable:!1,configurable:!0}),t.prototype._onTextureUpdate=function(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215},t.prototype._render=function(e){var t=this._texture;!t||!t.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,r=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,r,i)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),t||(this._localBoundsRect||(this._localBoundsRect=new Rectangle$1),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,tempPoint$1);var t=this._width,r=this._height,i=-t*this.anchor._x;if(tempPoint$1.x>=i&&tempPoint$1.x<i+t){var n=-r*this.anchor._y;if(tempPoint$1.y>=n&&tempPoint$1.y<n+r)return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this.tileTransform=null,this.uvMatrix=null},t.from=function(e,r){return new t(e instanceof Texture$1?e:Texture$1.from(e,r),r.width,r.height)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e},enumerable:!1,configurable:!0})}(Sprite);var fragmentSimpleSrc="#version 100\n#define SHADER_NAME Tiling-Sprite-Simple-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 texSample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = texSample * uColor;\n}\n",gl1VertexSrc="#version 100\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",gl1FragmentSrc="#version 100\n#ifdef GL_EXT_shader_texture_lod\n    #extension GL_EXT_shader_texture_lod : enable\n#endif\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    #ifdef GL_EXT_shader_texture_lod\n        vec4 texSample = unclamped == coord\n            ? texture2D(uSampler, coord) \n            : texture2DLodEXT(uSampler, coord, 0);\n    #else\n        vec4 texSample = texture2D(uSampler, coord);\n    #endif\n\n    gl_FragColor = texSample * uColor;\n}\n",gl2VertexSrc="#version 300 es\n#define SHADER_NAME Tiling-Sprite-300\n\nprecision lowp float;\n\nin vec2 aVertexPosition;\nin vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nout vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n",gl2FragmentSrc="#version 300 es\n#define SHADER_NAME Tiling-Sprite-100\n\nprecision lowp float;\n\nin vec2 vTextureCoord;\n\nout vec4 fragmentColor;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    vec2 unclamped = coord;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0\n\n    fragmentColor = texSample * uColor;\n}\n",tempMat$1=new Matrix$1,TilingSpriteRenderer=function(e){function t(t){var r=e.call(this,t)||this;return t.runners.contextChange.add(r),r.quad=new QuadUv$1,r.state=State$1.for2d(),r}return __extends$e(t,e),t.prototype.contextChange=function(){var e=this.renderer,t={globals:e.globalUniforms};this.simpleShader=Shader$1.from(gl1VertexSrc,fragmentSimpleSrc,t),this.shader=e.context.webGLVersion>1?Shader$1.from(gl2VertexSrc,gl2FragmentSrc,t):Shader$1.from(gl1VertexSrc,gl1FragmentSrc,t)},t.prototype.render=function(e){var t=this.renderer,r=this.quad,i=r.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);var n=e.uvRespectAnchor?e.anchor.x:0,s=e.uvRespectAnchor?e.anchor.y:0;(i=r.uvs)[0]=i[6]=-n,i[1]=i[3]=-s,i[2]=i[4]=1-n,i[5]=i[7]=1-s,r.invalidate();var o=e._texture,a=o.baseTexture,l=e.tileTransform.localTransform,h=e.uvMatrix,c=a.isPowerOfTwo&&o.frame.width===a.width&&o.frame.height===a.height;c&&(a._glTextures[t.CONTEXT_UID]?c=a.wrapMode!==WRAP_MODES$5.CLAMP:a.wrapMode===WRAP_MODES$5.CLAMP&&(a.wrapMode=WRAP_MODES$5.REPEAT));var u=c?this.simpleShader:this.shader,d=o.width,p=o.height,f=e._width,_=e._height;tempMat$1.set(l.a*d/f,l.b*d/_,l.c*p/f,l.d*p/_,l.tx/f,l.ty/_),tempMat$1.invert(),c?tempMat$1.prepend(h.mapCoord):(u.uniforms.uMapCoord=h.mapCoord.toArray(!0),u.uniforms.uClampFrame=h.uClampFrame,u.uniforms.uClampOffset=h.uClampOffset),u.uniforms.uTransform=tempMat$1.toArray(!0),u.uniforms.uColor=premultiplyTintToRgba(e.tint,e.worldAlpha,u.uniforms.uColor,a.alphaMode),u.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),u.uniforms.uSampler=o,t.shader.bind(u),t.geometry.bind(r),this.state.blendMode=correctBlendMode(e.blendMode,a.alphaMode),t.state.set(this.state),t.geometry.draw(this.renderer.gl.TRIANGLES,6,0)},t}(ObjectRenderer$1),extendStatics$9=function(e,t){return(extendStatics$9=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$d(e,t){function r(){this.constructor=e}extendStatics$9(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var MeshBatchUvs=function(){function e(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}return e.prototype.update=function(e){if(e||this._bufferUpdateId!==this.uvBuffer._updateID||this._textureUpdateId!==this.uvMatrix._updateID){this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;var t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}},e}(),tempPoint=new Point$1,tempPolygon=new Polygon,Mesh=function(e){function t(t,r,i,n){void 0===n&&(n=DRAW_MODES$5.TRIANGLES);var s=e.call(this)||this;return s.geometry=t,s.shader=r,s.state=i||State$1.for2d(),s.drawMode=n,s.start=0,s.size=0,s.uvs=null,s.indices=null,s.vertexData=new Float32Array(1),s.vertexDirty=-1,s._transformID=-1,s._roundPixels=settings$2.ROUND_PIXELS,s.batchUvs=null,s}return __extends$d(t,e),Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},set:function(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,0===this._geometry.refCount&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uvBuffer",{get:function(){return this.geometry.buffers[1]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"verticesBuffer",{get:function(){return this.geometry.buffers[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this.shader},set:function(e){this.shader=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.state.blendMode},set:function(e){this.state.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return"tint"in this.shader?this.shader.tint:null},set:function(e){this.shader.tint=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texture",{get:function(){return"texture"in this.shader?this.shader.texture:null},set:function(e){this.shader.texture=e},enumerable:!1,configurable:!0}),t.prototype._render=function(e){var r=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===DRAW_MODES$5.TRIANGLES&&r.length<2*t.BATCHABLE_SIZE?this._renderToBatch(e):this._renderDefault(e)},t.prototype._renderDefault=function(e){var t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)},t.prototype._renderToBatch=function(e){var t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;var i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)},t.prototype.calculateVertices=function(){var e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r!==this.vertexDirty||this._transformID!==this.transform._worldID){this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));for(var i=this.transform.worldTransform,n=i.a,s=i.b,o=i.c,a=i.d,l=i.tx,h=i.ty,c=this.vertexData,u=0;u<c.length/2;u++){var d=t[2*u],p=t[2*u+1];c[2*u]=n*d+o*p+l,c[2*u+1]=s*d+a*p+h}if(this._roundPixels){var f=settings$2.RESOLUTION;for(u=0;u<c.length;++u)c[u]=Math.round((c[u]*f|0)/f)}this.vertexDirty=r}},t.prototype.calculateUvs=function(){var e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new MeshBatchUvs(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)},t.prototype._calculateBounds=function(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,tempPoint);for(var t=this.geometry.getBuffer("aVertexPosition").data,r=tempPolygon.points,i=this.geometry.getIndex().data,n=i.length,s=4===this.drawMode?3:1,o=0;o+2<n;o+=s){var a=2*i[o],l=2*i[o+1],h=2*i[o+2];if(r[0]=t[a],r[1]=t[a+1],r[2]=t[l],r[3]=t[l+1],r[4]=t[h],r[5]=t[h+1],tempPolygon.contains(tempPoint.x,tempPoint.y))return!0}return!1},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null},t.BATCHABLE_SIZE=100,t}(Container$1),fragment$7="varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n",vertex$3="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTextureMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\n}\n",MeshMaterial=function(e){function t(t,r){var i=this,n={uSampler:t,alpha:1,uTextureMatrix:Matrix$1.IDENTITY,uColor:new Float32Array([1,1,1,1])};return(r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r)).uniforms&&Object.assign(n,r.uniforms),(i=e.call(this,r.program||Program$1.from(vertex$3,fragment$7),n)||this)._colorDirty=!1,i.uvMatrix=new TextureMatrix$1(t),i.batchable=void 0===r.program,i.pluginName=r.pluginName,i.tint=r.tint,i.alpha=r.alpha,i}return __extends$d(t,e),Object.defineProperty(t.prototype,"texture",{get:function(){return this.uniforms.uSampler},set:function(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this._alpha},set:function(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){e!==this._tint&&(this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16),this._colorDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.update=function(){if(this._colorDirty){this._colorDirty=!1;var e=this.texture.baseTexture;premultiplyTintToRgba(this._tint,this._alpha,this.uniforms.uColor,e.alphaMode)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)},t}(Shader$1),MeshGeometry=function(e){function t(t,r,i){var n=e.call(this)||this,s=new Buffer$2(t),o=new Buffer$2(r,!0),a=new Buffer$2(i,!0,!0);return n.addAttribute("aVertexPosition",s,2,!1,TYPES$5.FLOAT).addAttribute("aTextureCoord",o,2,!1,TYPES$5.FLOAT).addIndex(a),n._updateId=-1,n}return __extends$d(t,e),Object.defineProperty(t.prototype,"vertexDirtyId",{get:function(){return this.buffers[0]._updateID},enumerable:!1,configurable:!0}),t}(Geometry$1),extendStatics$8=function(e,t){return(extendStatics$8=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$c(e,t){function r(){this.constructor=e}extendStatics$8(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var BitmapFontData=function(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]},TextFormat=function(){function e(){}return e.test=function(e){return"string"==typeof e&&0===e.indexOf("info face=")},e.parse=function(e){var t=e.match(/^[a-z]+\s+.+$/gm),r={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(var i in t){var n=t[i].match(/^[a-z]+/gm)[0],s=t[i].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),o={};for(var a in s){var l=s[a].split("="),h=l[0],c=l[1].replace(/"/gm,""),u=parseFloat(c),d=isNaN(u)?c:u;o[h]=d}r[n].push(o)}var p=new BitmapFontData;return r.info.forEach((function(e){return p.info.push({face:e.face,size:parseInt(e.size,10)})})),r.common.forEach((function(e){return p.common.push({lineHeight:parseInt(e.lineHeight,10)})})),r.page.forEach((function(e){return p.page.push({id:parseInt(e.id,10),file:e.file})})),r.char.forEach((function(e){return p.char.push({id:parseInt(e.id,10),page:parseInt(e.page,10),x:parseInt(e.x,10),y:parseInt(e.y,10),width:parseInt(e.width,10),height:parseInt(e.height,10),xoffset:parseInt(e.xoffset,10),yoffset:parseInt(e.yoffset,10),xadvance:parseInt(e.xadvance,10)})})),r.kerning.forEach((function(e){return p.kerning.push({first:parseInt(e.first,10),second:parseInt(e.second,10),amount:parseInt(e.amount,10)})})),r.distanceField.forEach((function(e){return p.distanceField.push({distanceRange:parseInt(e.distanceRange,10),fieldType:e.fieldType})})),p},e}(),XMLFormat=function(){function e(){}return e.test=function(e){return e instanceof XMLDocument&&e.getElementsByTagName("page").length&&null!==e.getElementsByTagName("info")[0].getAttribute("face")},e.parse=function(e){for(var t=new BitmapFontData,r=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),n=e.getElementsByTagName("page"),s=e.getElementsByTagName("char"),o=e.getElementsByTagName("kerning"),a=e.getElementsByTagName("distanceField"),l=0;l<r.length;l++)t.info.push({face:r[l].getAttribute("face"),size:parseInt(r[l].getAttribute("size"),10)});for(l=0;l<i.length;l++)t.common.push({lineHeight:parseInt(i[l].getAttribute("lineHeight"),10)});for(l=0;l<n.length;l++)t.page.push({id:parseInt(n[l].getAttribute("id"),10)||0,file:n[l].getAttribute("file")});for(l=0;l<s.length;l++){var h=s[l];t.char.push({id:parseInt(h.getAttribute("id"),10),page:parseInt(h.getAttribute("page"),10)||0,x:parseInt(h.getAttribute("x"),10),y:parseInt(h.getAttribute("y"),10),width:parseInt(h.getAttribute("width"),10),height:parseInt(h.getAttribute("height"),10),xoffset:parseInt(h.getAttribute("xoffset"),10),yoffset:parseInt(h.getAttribute("yoffset"),10),xadvance:parseInt(h.getAttribute("xadvance"),10)})}for(l=0;l<o.length;l++)t.kerning.push({first:parseInt(o[l].getAttribute("first"),10),second:parseInt(o[l].getAttribute("second"),10),amount:parseInt(o[l].getAttribute("amount"),10)});for(l=0;l<a.length;l++)t.distanceField.push({fieldType:a[l].getAttribute("fieldType"),distanceRange:parseInt(a[l].getAttribute("distanceRange"),10)});return t},e}(),XMLStringFormat=function(){function e(){}return e.test=function(e){if("string"==typeof e&&e.indexOf("<font>")>-1){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return XMLFormat.test(t)}return!1},e.parse=function(e){var t=(new globalThis.DOMParser).parseFromString(e,"text/xml");return XMLFormat.parse(t)},e}(),formats=[TextFormat,XMLFormat,XMLStringFormat];function autoDetectFormat(e){for(var t=0;t<formats.length;t++)if(formats[t].test(e))return formats[t];return null}function generateFillStyle(e,t,r,i,n,s){var o=r.fill;if(!Array.isArray(o))return o;if(1===o.length)return o[0];var a,l=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,c=e.width/i-l-2*h,u=e.height/i-l-2*h,d=o.slice(),p=r.fillGradientStops.slice();if(!p.length)for(var f=d.length+1,_=1;_<f;++_)p.push(_/f);if(d.unshift(o[0]),p.unshift(0),d.push(o[o.length-1]),p.push(1),r.fillGradientType===TEXT_GRADIENT.LINEAR_VERTICAL){a=t.createLinearGradient(c/2,h,c/2,u+h);var m=0,g=(s.fontProperties.fontSize+r.strokeThickness)/u;for(_=0;_<n.length;_++)for(var y=s.lineHeight*_,v=0;v<d.length;v++){var E=y/u+("number"==typeof p[v]?p[v]:v/d.length)*g,T=Math.max(m,E);T=Math.min(T,1),a.addColorStop(T,d[v]),m=T}}else{a=t.createLinearGradient(h,u/2,c+h,u/2);var b=d.length+1,S=1;for(_=0;_<d.length;_++){var x;x="number"==typeof p[_]?p[_]:S/b,a.addColorStop(x,d[_]),S++}}return a}function drawGlyph(e,t,r,i,n,s,o){var a=r.text,l=r.fontProperties;t.translate(i,n),t.scale(s,s);var h=o.strokeThickness/2,c=-o.strokeThickness/2;if(t.font=o.toFontString(),t.lineWidth=o.strokeThickness,t.textBaseline=o.textBaseline,t.lineJoin=o.lineJoin,t.miterLimit=o.miterLimit,t.fillStyle=generateFillStyle(e,t,o,s,[a],r),t.strokeStyle=o.stroke,o.dropShadow){var u=o.dropShadowColor,d=hex2rgb$1("number"==typeof u?u:string2hex(u)),p=o.dropShadowBlur*s,f=o.dropShadowDistance*s;t.shadowColor="rgba("+255*d[0]+","+255*d[1]+","+255*d[2]+","+o.dropShadowAlpha+")",t.shadowBlur=p,t.shadowOffsetX=Math.cos(o.dropShadowAngle)*f,t.shadowOffsetY=Math.sin(o.dropShadowAngle)*f}else t.shadowColor="black",t.shadowBlur=0,t.shadowOffsetX=0,t.shadowOffsetY=0;o.stroke&&o.strokeThickness&&t.strokeText(a,h,c+r.lineHeight-l.descent),o.fill&&t.fillText(a,h,c+r.lineHeight-l.descent),t.setTransform(1,0,0,1,0,0),t.fillStyle="rgba(0, 0, 0, 0)"}function splitTextToCharacters(e){return Array.from?Array.from(e):e.split("")}function resolveCharacters(e){"string"==typeof e&&(e=[e]);for(var t=[],r=0,i=e.length;r<i;r++){var n=e[r];if(Array.isArray(n)){if(2!==n.length)throw new Error("[BitmapFont]: Invalid character range length, expecting 2 got "+n.length+".");var s=n[0].charCodeAt(0),o=n[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(var a=s,l=o;a<=l;a++)t.push(String.fromCharCode(a))}else t.push.apply(t,splitTextToCharacters(n))}if(0===t.length)throw new Error("[BitmapFont]: Empty set when resolving characters.");return t}function extractCharCode(e){return e.codePointAt?e.codePointAt(0):e.charCodeAt(0)}var BitmapFont=function(){function e(e,t,r){var i,n,s=e.info[0],o=e.common[0],a=e.page[0],l=e.distanceField[0],h=getResolutionOfUrl$1(a.file),c={};this._ownsTextures=r,this.font=s.face,this.size=s.size,this.lineHeight=o.lineHeight/h,this.chars={},this.pageTextures=c;for(var u=0;u<e.page.length;u++){var d=e.page[u],p=d.id,f=d.file;c[p]=t instanceof Array?t[u]:t[f],null!=l&&l.fieldType&&"none"!==l.fieldType&&(c[p].baseTexture.alphaMode=ALPHA_MODES$5.NO_PREMULTIPLIED_ALPHA)}for(u=0;u<e.char.length;u++){var _=e.char[u],m=(p=_.id,_.page),g=e.char[u],y=g.x,v=g.y,E=g.width,T=g.height,b=g.xoffset,S=g.yoffset,x=g.xadvance;v/=h,E/=h,T/=h,b/=h,S/=h,x/=h;var A=new Rectangle$1((y/=h)+c[m].frame.x/h,v+c[m].frame.y/h,E,T);this.chars[p]={xOffset:b,yOffset:S,xAdvance:x,kerning:{},texture:new Texture$1(c[m].baseTexture,A),page:m}}for(u=0;u<e.kerning.length;u++){var P=e.kerning[u],R=P.first,O=P.second,w=P.amount;R/=h,O/=h,w/=h,this.chars[O]&&(this.chars[O].kerning[R]=w)}this.distanceFieldRange=null==l?void 0:l.distanceRange,this.distanceFieldType=null!==(n=null===(i=null==l?void 0:l.fieldType)||void 0===i?void 0:i.toLowerCase())&&void 0!==n?n:"none"}return e.prototype.destroy=function(){for(var e in this.chars)this.chars[e].texture.destroy(),this.chars[e].texture=null;for(var e in this.pageTextures)this._ownsTextures&&this.pageTextures[e].destroy(!0),this.pageTextures[e]=null;this.chars=null,this.pageTextures=null},e.install=function(t,r,i){var n;if(t instanceof BitmapFontData)n=t;else{var s=autoDetectFormat(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}r instanceof Texture$1&&(r=[r]);var o=new e(n,r,i);return e.available[o.font]=o,o},e.uninstall=function(t){var r=e.available[t];if(!r)throw new Error("No font found named '"+t+"'");r.destroy(),delete e.available[t]},e.from=function(t,r,i){if(!t)throw new Error("[BitmapFont] Property `name` is required.");var n=Object.assign({},e.defaultOptions,i),s=n.chars,o=n.padding,a=n.resolution,l=n.textureWidth,h=n.textureHeight,c=resolveCharacters(s),u=r instanceof TextStyle?r:new TextStyle(r),d=l,p=new BitmapFontData;p.info[0]={face:u.fontFamily,size:u.fontSize},p.common[0]={lineHeight:u.fontSize};for(var f,_,m,g=0,y=0,v=0,E=[],T=0;T<c.length;T++){f||((f=document.createElement("canvas")).width=l,f.height=h,_=f.getContext("2d"),m=new BaseTexture$1(f,{resolution:a}),E.push(new Texture$1(m)),p.page.push({id:E.length-1,file:""}));var b=TextMetrics.measureText(c[T],u,!1,f),S=b.width,x=Math.ceil(b.height),A=Math.ceil(("italic"===u.fontStyle?2:1)*S);if(y>=h-x*a){if(0===y)throw new Error("[BitmapFont] textureHeight "+h+"px is too small for "+u.fontSize+"px fonts");--T,f=null,_=null,m=null,y=0,g=0,v=0}else if(v=Math.max(x+b.fontProperties.descent,v),A*a+g>=d)--T,y+=v*a,y=Math.ceil(y),g=0,v=0;else{drawGlyph(f,_,b,g,y,a,u);var P=extractCharCode(b.text);p.char.push({id:P,page:E.length-1,x:g/a,y:y/a,width:A,height:x,xoffset:0,yoffset:0,xadvance:Math.ceil(S-(u.dropShadow?u.dropShadowDistance:0)-(u.stroke?u.strokeThickness:0))}),g+=(A+2*o)*a,g=Math.ceil(g)}}T=0;for(var R=c.length;T<R;T++)for(var O=c[T],w=0;w<R;w++){var I=c[w],C=_.measureText(O).width,M=_.measureText(I).width,D=_.measureText(O+I).width-(C+M);D&&p.kerning.push({first:extractCharCode(O),second:extractCharCode(I),amount:D})}var L=new e(p,E,!0);return void 0!==e.available[t]&&e.uninstall(t),e.available[t]=L,L},e.ALPHA=[["a","z"],["A","Z"]," "],e.NUMERIC=[["0","9"]],e.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],e.ASCII=[[" ","~"]],e.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:e.ALPHANUMERIC},e.available={},e}(),msdfFrag="// Pixi texture info\r\nvarying vec2 vTextureCoord;\r\nuniform sampler2D uSampler;\r\n\r\n// Tint\r\nuniform vec4 uColor;\r\n\r\n// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r\nuniform float uFWidth;\r\n\r\nvoid main(void) {\r\n\r\n  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r\n  vec4 texColor = texture2D(uSampler, vTextureCoord);\r\n\r\n  // MSDF\r\n  float median = texColor.r + texColor.g + texColor.b -\r\n                  min(texColor.r, min(texColor.g, texColor.b)) -\r\n                  max(texColor.r, max(texColor.g, texColor.b));\r\n  // SDF\r\n  median = min(median, texColor.a);\r\n\r\n  float screenPxDistance = uFWidth * (median - 0.5);\r\n  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r\n\r\n  // NPM Textures, NPM outputs\r\n  gl_FragColor = vec4(uColor.rgb, uColor.a * alpha);\r\n\r\n}\r\n",msdfVert="// Mesh material default fragment\r\nattribute vec2 aVertexPosition;\r\nattribute vec2 aTextureCoord;\r\n\r\nuniform mat3 projectionMatrix;\r\nuniform mat3 translationMatrix;\r\nuniform mat3 uTextureMatrix;\r\n\r\nvarying vec2 vTextureCoord;\r\n\r\nvoid main(void)\r\n{\r\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r\n\r\n    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r\n}\r\n",pageMeshDataDefaultPageMeshData=[],pageMeshDataMSDFPageMeshData=[],charRenderDataPool=[];!function(e){function t(r,i){void 0===i&&(i={});var n=e.call(this)||this;n._tint=16777215;var s=Object.assign({},t.styleDefaults,i),o=s.align,a=s.tint,l=s.maxWidth,h=s.letterSpacing,c=s.fontName,u=s.fontSize;if(!BitmapFont.available[c])throw new Error('Missing BitmapFont "'+c+'"');return n._activePagesMeshData=[],n._textWidth=0,n._textHeight=0,n._align=o,n._tint=a,n._fontName=c,n._fontSize=u||BitmapFont.available[c].size,n.text=r,n._maxWidth=l,n._maxLineHeight=0,n._letterSpacing=h,n._anchor=new ObservablePoint$1((function(){n.dirty=!0}),n,0,0),n._roundPixels=settings$2.ROUND_PIXELS,n.dirty=!0,n._resolution=settings$2.RESOLUTION,n._autoResolution=!0,n._textureCache={},n}__extends$c(t,e),t.prototype.updateText=function(){for(var e,t=BitmapFont.available[this._fontName],r=this._fontSize/t.size,i=new Point$1,n=[],s=[],o=[],a=splitTextToCharacters(this._text.replace(/(?:\r\n|\r)/g,"\n")||" "),l=this._maxWidth*t.size/this._fontSize,h="none"===t.distanceFieldType?pageMeshDataDefaultPageMeshData:pageMeshDataMSDFPageMeshData,c=null,u=0,d=0,p=0,f=-1,_=0,m=0,g=0,y=0,v=0;v<a.length;v++){var E=extractCharCode(U=a[v]);if(/(?:\s)/.test(U)&&(f=v,_=u,y++),"\r"!==U&&"\n"!==U){var T=t.chars[E];if(T){c&&T.kerning[c]&&(i.x+=T.kerning[c]);var b=charRenderDataPool.pop()||{texture:Texture$1.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Point$1};b.texture=T.texture,b.line=p,b.charCode=E,b.position.x=i.x+T.xOffset+this._letterSpacing/2,b.position.y=i.y+T.yOffset,b.prevSpaces=y,n.push(b),u=b.position.x+Math.max(T.xAdvance,T.texture.orig.width),i.x+=T.xAdvance+this._letterSpacing,g=Math.max(g,T.yOffset+T.texture.height),c=E,-1!==f&&l>0&&i.x>l&&(removeItems$1(n,1+f-++m,1+v-f),v=f,f=-1,s.push(_),o.push(n.length>0?n[n.length-1].prevSpaces:0),d=Math.max(d,_),p++,i.x=0,i.y+=t.lineHeight,c=null,y=0)}}else s.push(u),o.push(-1),d=Math.max(d,u),++p,++m,i.x=0,i.y+=t.lineHeight,c=null,y=0}var S=a[a.length-1];"\r"!==S&&"\n"!==S&&(/(?:\s)/.test(S)&&(u=_),s.push(u),d=Math.max(d,u),o.push(-1));var x=[];for(v=0;v<=p;v++){var A=0;"right"===this._align?A=d-s[v]:"center"===this._align?A=(d-s[v])/2:"justify"===this._align&&(A=o[v]<0?0:(d-s[v])/o[v]),x.push(A)}var P=n.length,R={},O=[],w=this._activePagesMeshData;for(v=0;v<w.length;v++)h.push(w[v]);for(v=0;v<P;v++){var I=(H=n[v].texture).baseTexture.uid;if(!R[I]){if(!(K=h.pop())){var C=new MeshGeometry,M=void 0,D=void 0;"none"===t.distanceFieldType?(M=new MeshMaterial(Texture$1.EMPTY),D=BLEND_MODES$5.NORMAL):(M=new MeshMaterial(Texture$1.EMPTY,{program:Program$1.from(msdfVert,msdfFrag),uniforms:{uFWidth:0}}),D=BLEND_MODES$5.NORMAL_NPM);var L=new Mesh(C,M);L.blendMode=D,K={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:L,vertices:null,uvs:null,indices:null}}K.index=0,K.indexCount=0,K.vertexCount=0,K.uvsCount=0,K.total=0;var N=this._textureCache;N[I]=N[I]||new Texture$1(H.baseTexture),K.mesh.texture=N[I],K.mesh.tint=this._tint,O.push(K),R[I]=K}R[I].total++}for(v=0;v<w.length;v++)-1===O.indexOf(w[v])&&this.removeChild(w[v].mesh);for(v=0;v<O.length;v++)O[v].mesh.parent!==this&&this.addChild(O[v].mesh);for(var v in this._activePagesMeshData=O,R){var F=(K=R[v]).total;if(!((null===(e=K.indices)||void 0===e?void 0:e.length)>6*F)||K.vertices.length<2*Mesh.BATCHABLE_SIZE)K.vertices=new Float32Array(8*F),K.uvs=new Float32Array(8*F),K.indices=new Uint16Array(6*F);else for(var k=K.total,B=K.vertices,$=4*k*2;$<B.length;$++)B[$]=0;K.mesh.size=6*F}for(v=0;v<P;v++){var U,G=(U=n[v]).position.x+x[U.line]*("justify"===this._align?U.prevSpaces:1);this._roundPixels&&(G=Math.round(G));var H,V=G*r,j=U.position.y*r,Y=R[(H=U.texture).baseTexture.uid],W=H.frame,X=H._uvs,z=Y.index++;Y.indices[6*z+0]=0+4*z,Y.indices[6*z+1]=1+4*z,Y.indices[6*z+2]=2+4*z,Y.indices[6*z+3]=0+4*z,Y.indices[6*z+4]=2+4*z,Y.indices[6*z+5]=3+4*z,Y.vertices[8*z+0]=V,Y.vertices[8*z+1]=j,Y.vertices[8*z+2]=V+W.width*r,Y.vertices[8*z+3]=j,Y.vertices[8*z+4]=V+W.width*r,Y.vertices[8*z+5]=j+W.height*r,Y.vertices[8*z+6]=V,Y.vertices[8*z+7]=j+W.height*r,Y.uvs[8*z+0]=X.x0,Y.uvs[8*z+1]=X.y0,Y.uvs[8*z+2]=X.x1,Y.uvs[8*z+3]=X.y1,Y.uvs[8*z+4]=X.x2,Y.uvs[8*z+5]=X.y2,Y.uvs[8*z+6]=X.x3,Y.uvs[8*z+7]=X.y3}for(var v in this._textWidth=d*r,this._textHeight=(i.y+t.lineHeight)*r,R){var K=R[v];if(0!==this.anchor.x||0!==this.anchor.y)for(var q=0,Q=this._textWidth*this.anchor.x,Z=this._textHeight*this.anchor.y,J=0;J<K.total;J++)K.vertices[q++]-=Q,K.vertices[q++]-=Z,K.vertices[q++]-=Q,K.vertices[q++]-=Z,K.vertices[q++]-=Q,K.vertices[q++]-=Z,K.vertices[q++]-=Q,K.vertices[q++]-=Z;this._maxLineHeight=g*r;var ee=K.mesh.geometry.getBuffer("aVertexPosition"),te=K.mesh.geometry.getBuffer("aTextureCoord"),re=K.mesh.geometry.getIndex();ee.data=K.vertices,te.data=K.uvs,re.data=K.indices,ee.update(),te.update(),re.update()}for(v=0;v<n.length;v++)charRenderDataPool.push(n[v])},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype._render=function(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);var r=BitmapFont.available[this._fontName],i=r.distanceFieldRange,n=r.distanceFieldType,s=r.size;if("none"!==n)for(var o=this.worldTransform,a=o.a,l=o.b,h=o.c,c=o.d,u=Math.sqrt(a*a+l*l),d=Math.sqrt(h*h+c*c),p=(Math.abs(u)+Math.abs(d))/2,f=this._fontSize/s,_=0,m=this._activePagesMeshData;_<m.length;_++)m[_].mesh.shader.uniforms.uFWidth=p*i*f*this._resolution;e.prototype._render.call(this,t)},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},Object.defineProperty(t.prototype,"tint",{get:function(){return this._tint},set:function(e){if(this._tint!==e){this._tint=e;for(var t=0;t<this._activePagesMeshData.length;t++)this._activePagesMeshData[t].mesh.tint=e}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"align",{get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontName",{get:function(){return this._fontName},set:function(e){if(!BitmapFont.available[e])throw new Error('Missing BitmapFont "'+e+'"');this._fontName!==e&&(this._fontName=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fontSize",{get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"anchor",{get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copyFrom(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"text",{get:function(){return this._text},set:function(e){e=String(null==e?"":e),this._text!==e&&(this._text=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxWidth",{get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxLineHeight",{get:function(){return this.validate(),this._maxLineHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textWidth",{get:function(){return this.validate(),this._textWidth},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"roundPixels",{get:function(){return this._roundPixels},set:function(e){e!==this._roundPixels&&(this._roundPixels=e,this.dirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textHeight",{get:function(){return this.validate(),this._textHeight},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resolution",{get:function(){return this._resolution},set:function(e){this._autoResolution=!1,this._resolution!==e&&(this._resolution=e,this.dirty=!0)},enumerable:!1,configurable:!0}),t.prototype.destroy=function(t){var r=this._textureCache;for(var i in r)r[i].destroy(),delete r[i];this._textureCache=null,e.prototype.destroy.call(this,t)},t.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0}}(Container$1);var BitmapFontLoader=function(){function e(){}return e.add=function(){LoaderResource.setExtensionXhrType("fnt",LoaderResource.XHR_RESPONSE_TYPE.TEXT)},e.use=function(t,r){var i=autoDetectFormat(t.data);if(i)for(var n=e.getBaseUrl(this,t),s=i.parse(t.data),o={},a=function(e){o[e.metadata.pageFile]=e.texture,Object.keys(o).length===s.page.length&&(t.bitmapFont=BitmapFont.install(s,o,!0),r())},l=0;l<s.page.length;++l){var h=s.page[l].file,c=n+h,u=!1;for(var d in this.resources){var p=this.resources[d];if(p.url===c){p.metadata.pageFile=h,p.texture?a(p):p.onAfterMiddleware.add(a),u=!0;break}}if(!u){var f={crossOrigin:t.crossOrigin,loadType:LoaderResource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:h},t.metadata.imageMetadata),parentResource:t};this.add(c,f,a)}}else r()},e.getBaseUrl=function(t,r){var i=r.isDataUrl?"":e.dirname(r.url);return r.isDataUrl&&("."===i&&(i=""),t.baseUrl&&i&&"/"===t.baseUrl.charAt(t.baseUrl.length-1)&&(i+="/")),(i=i.replace(t.baseUrl,""))&&"/"!==i.charAt(i.length-1)&&(i+="/"),i},e.dirname=function(e){var t=e.replace(/\\/g,"/").replace(/\/$/,"").replace(/\/[^\/]*$/,"");return t===e?".":""===t?"/":t},e}(),extendStatics$7=function(e,t){return(extendStatics$7=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$b(e,t){function r(){this.constructor=e}extendStatics$7(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var fragment$6="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";!function(e){function t(t){void 0===t&&(t=1);var r=e.call(this,defaultVertex$1$1,fragment$6,{uAlpha:1})||this;return r.alpha=t,r}__extends$b(t,e),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0})}(Filter$1);var extendStatics$6=function(e,t){return(extendStatics$6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$a(e,t){function r(){this.constructor=e}extendStatics$6(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var vertTemplate="\n    attribute vec2 aVertexPosition;\n\n    uniform mat3 projectionMatrix;\n\n    uniform float strength;\n\n    varying vec2 vBlurTexCoords[%size%];\n\n    uniform vec4 inputSize;\n    uniform vec4 outputFrame;\n\n    vec4 filterVertexPosition( void )\n    {\n        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n    }\n\n    vec2 filterTextureCoord( void )\n    {\n        return aVertexPosition * (outputFrame.zw * inputSize.zw);\n    }\n\n    void main(void)\n    {\n        gl_Position = filterVertexPosition();\n\n        vec2 textureCoord = filterTextureCoord();\n        %blur%\n    }";function generateBlurVertSource(e,t){var r,i=Math.ceil(e/2),n=vertTemplate,s="";r=t?"vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<e;o++){var a=r.replace("%index%",o.toString());s+=a=a.replace("%sampleIndex%",o-(i-1)+".0"),s+="\n"}return(n=n.replace("%blur%",s)).replace("%size%",e.toString())}var GAUSSIAN_VALUES={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},fragTemplate$1=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n"),ENV$2,RENDERER_TYPE$2,BUFFER_BITS$2,BLEND_MODES$2,DRAW_MODES$2,FORMATS$2,TARGETS$2,TYPES$2,SAMPLER_TYPES$2,SCALE_MODES$2,WRAP_MODES$2,MIPMAP_MODES$2,ALPHA_MODES$2,CLEAR_MODES$2,GC_MODES$2,PRECISION$2,MASK_TYPES$2,MSAA_QUALITY$2,BUFFER_TYPE$2;function generateBlurFragSource(e){for(var t,r=GAUSSIAN_VALUES[e],i=r.length,n=fragTemplate$1,s="",o=0;o<e;o++){var a="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o.toString());t=o,o>=i&&(t=e-o-1),s+=a=a.replace("%value%",r[t].toString()),s+="\n"}return(n=n.replace("%blur%",s)).replace("%size%",e.toString())}!function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$2||(ENV$2={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$2||(RENDERER_TYPE$2={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$2||(BUFFER_BITS$2={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$2||(BLEND_MODES$2={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$2||(DRAW_MODES$2={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$2||(FORMATS$2={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$2||(TARGETS$2={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$2||(TYPES$2={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$2||(SAMPLER_TYPES$2={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$2||(SCALE_MODES$2={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$2||(WRAP_MODES$2={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$2||(MIPMAP_MODES$2={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ALPHA_MODES$2||(ALPHA_MODES$2={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$2||(CLEAR_MODES$2={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$2||(GC_MODES$2={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$2||(PRECISION$2={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$2||(MASK_TYPES$2={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$2||(MSAA_QUALITY$2={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$2||(BUFFER_TYPE$2={}));var BlurFilterPass=function(e){function t(t,r,i,n,s){void 0===r&&(r=8),void 0===i&&(i=4),void 0===n&&(n=settings$2.FILTER_RESOLUTION),void 0===s&&(s=5);var o=this,a=generateBlurVertSource(s,t),l=generateBlurFragSource(s);return(o=e.call(this,a,l)||this).horizontal=t,o.resolution=n,o._quality=0,o.quality=i,o.blur=r,o}return __extends$a(t,e),t.prototype.apply=function(e,t,r,i){if(r?this.horizontal?this.uniforms.strength=1/r.width*(r.width/t.width):this.uniforms.strength=1/r.height*(r.height/t.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/t.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/t.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,r,i);else{var n=e.getFilterTexture(),s=e.renderer,o=t,a=n;this.state.blend=!1,e.applyFilter(this,o,a,CLEAR_MODES$2.CLEAR);for(var l=1;l<this.passes-1;l++){e.bindAndClear(o,CLEAR_MODES$2.BLIT),this.uniforms.uSampler=a;var h=a;a=o,o=h,s.shader.bind(this),s.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,a,r,i),e.returnFilterTexture(n)}},Object.defineProperty(t.prototype,"blur",{get:function(){return this.strength},set:function(e){this.padding=1+2*Math.abs(e),this.strength=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e},enumerable:!1,configurable:!0}),t}(Filter$1);!function(e){function t(t,r,i,n){void 0===t&&(t=8),void 0===r&&(r=4),void 0===i&&(i=settings$2.FILTER_RESOLUTION),void 0===n&&(n=5);var s=e.call(this)||this;return s.blurXFilter=new BlurFilterPass(!0,t,r,i,n),s.blurYFilter=new BlurFilterPass(!1,t,r,i,n),s.resolution=i,s.quality=r,s.blur=t,s.repeatEdgePixels=!1,s}__extends$a(t,e),t.prototype.apply=function(e,t,r,i){var n=Math.abs(this.blurXFilter.strength),s=Math.abs(this.blurYFilter.strength);if(n&&s){var o=e.getFilterTexture();this.blurXFilter.apply(e,t,o,CLEAR_MODES$2.CLEAR),this.blurYFilter.apply(e,o,r,i),e.returnFilterTexture(o)}else s?this.blurYFilter.apply(e,t,r,i):this.blurXFilter.apply(e,t,r,i)},t.prototype.updatePadding=function(){this._repeatEdgePixels?this.padding=0:this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))},Object.defineProperty(t.prototype,"blur",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"quality",{get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurX",{get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blurY",{get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.updatePadding()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"blendMode",{get:function(){return this.blurYFilter.blendMode},set:function(e){this.blurYFilter.blendMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"repeatEdgePixels",{get:function(){return this._repeatEdgePixels},set:function(e){this._repeatEdgePixels=e,this.updatePadding()},enumerable:!1,configurable:!0})}(Filter$1);var extendStatics$5=function(e,t){return(extendStatics$5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$9(e,t){function r(){this.constructor=e}extendStatics$5(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var fragment$5="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n",ColorMatrixFilter=function(e){function t(){var t=this,r={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};return(t=e.call(this,defaultFilterVertex,fragment$5,r)||this).alpha=1,t}return __extends$9(t,e),t.prototype._loadMatrix=function(e,t){void 0===t&&(t=!1);var r=e;t&&(this._multiply(r,this.uniforms.m,e),r=this._colorMatrix(r)),this.uniforms.m=r},t.prototype._multiply=function(e,t,r){return e[0]=t[0]*r[0]+t[1]*r[5]+t[2]*r[10]+t[3]*r[15],e[1]=t[0]*r[1]+t[1]*r[6]+t[2]*r[11]+t[3]*r[16],e[2]=t[0]*r[2]+t[1]*r[7]+t[2]*r[12]+t[3]*r[17],e[3]=t[0]*r[3]+t[1]*r[8]+t[2]*r[13]+t[3]*r[18],e[4]=t[0]*r[4]+t[1]*r[9]+t[2]*r[14]+t[3]*r[19]+t[4],e[5]=t[5]*r[0]+t[6]*r[5]+t[7]*r[10]+t[8]*r[15],e[6]=t[5]*r[1]+t[6]*r[6]+t[7]*r[11]+t[8]*r[16],e[7]=t[5]*r[2]+t[6]*r[7]+t[7]*r[12]+t[8]*r[17],e[8]=t[5]*r[3]+t[6]*r[8]+t[7]*r[13]+t[8]*r[18],e[9]=t[5]*r[4]+t[6]*r[9]+t[7]*r[14]+t[8]*r[19]+t[9],e[10]=t[10]*r[0]+t[11]*r[5]+t[12]*r[10]+t[13]*r[15],e[11]=t[10]*r[1]+t[11]*r[6]+t[12]*r[11]+t[13]*r[16],e[12]=t[10]*r[2]+t[11]*r[7]+t[12]*r[12]+t[13]*r[17],e[13]=t[10]*r[3]+t[11]*r[8]+t[12]*r[13]+t[13]*r[18],e[14]=t[10]*r[4]+t[11]*r[9]+t[12]*r[14]+t[13]*r[19]+t[14],e[15]=t[15]*r[0]+t[16]*r[5]+t[17]*r[10]+t[18]*r[15],e[16]=t[15]*r[1]+t[16]*r[6]+t[17]*r[11]+t[18]*r[16],e[17]=t[15]*r[2]+t[16]*r[7]+t[17]*r[12]+t[18]*r[17],e[18]=t[15]*r[3]+t[16]*r[8]+t[17]*r[13]+t[18]*r[18],e[19]=t[15]*r[4]+t[16]*r[9]+t[17]*r[14]+t[18]*r[19]+t[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var r=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.tint=function(e,t){var r=[(e>>16&255)/255,0,0,0,0,0,(e>>8&255)/255,0,0,0,0,0,(255&e)/255,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.greyscale=function(e,t){var r=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var r=Math.cos(e),i=Math.sin(e),n=1/3,s=(0,Math.sqrt)(n),o=[r+(1-r)*n,n*(1-r)-s*i,n*(1-r)+s*i,0,0,n*(1-r)+s*i,r+n*(1-r),n*(1-r)-s*i,0,0,n*(1-r)-s*i,n*(1-r)+s*i,r+n*(1-r),0,0,0,0,0,1,0];this._loadMatrix(o,t)},t.prototype.contrast=function(e,t){var r=(e||0)+1,i=-.5*(r-1),n=[r,0,0,0,i,0,r,0,0,i,0,0,r,0,i,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.saturate=function(e,t){void 0===e&&(e=0);var r=2*e/3+1,i=-.5*(r-1),n=[r,i,i,0,0,i,r,i,0,0,i,i,r,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},t.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},t.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},t.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},t.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},t.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},t.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},t.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},t.prototype.colorTone=function(e,t,r,i,n){var s=((r=r||16770432)>>16&255)/255,o=(r>>8&255)/255,a=(255&r)/255,l=((i=i||3375104)>>16&255)/255,h=(i>>8&255)/255,c=(255&i)/255,u=[.3,.59,.11,0,0,s,o,a,e=e||.2,0,l,h,c,t=t||.15,0,s-l,o-h,a-c,0,0];this._loadMatrix(u,n)},t.prototype.night=function(e,t){var r=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.predator=function(e,t){var r=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(r,t)},t.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},t.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},Object.defineProperty(t.prototype,"matrix",{get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"alpha",{get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e},enumerable:!1,configurable:!0}),t}(Filter$1);ColorMatrixFilter.prototype.grayscale=ColorMatrixFilter.prototype.greyscale;var extendStatics$4=function(e,t){return(extendStatics$4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$8(e,t){function r(){this.constructor=e}extendStatics$4(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var fragment$4="varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\nuniform mat2 rotation;\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform highp vec4 inputSize;\nuniform vec4 inputClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy = scale * inputSize.zw * (rotation * map.xy);\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));\n}\n",vertex$2="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n\tgl_Position = filterVertexPosition();\n\tvTextureCoord = filterTextureCoord();\n\tvFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;\n}\n";!function(e){function t(t,r){var i=this,n=new Matrix$1;return t.renderable=!1,(i=e.call(this,vertex$2,fragment$4,{mapSampler:t._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])})||this).maskSprite=t,i.maskMatrix=n,null==r&&(r=20),i.scale=new Point$1(r,r),i}__extends$8(t,e),t.prototype.apply=function(e,t,r,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;var n=this.maskSprite.worldTransform,s=Math.sqrt(n.a*n.a+n.b*n.b),o=Math.sqrt(n.c*n.c+n.d*n.d);0!==s&&0!==o&&(this.uniforms.rotation[0]=n.a/s,this.uniforms.rotation[1]=n.b/s,this.uniforms.rotation[2]=n.c/o,this.uniforms.rotation[3]=n.d/o),e.applyFilter(this,t,r,i)},Object.defineProperty(t.prototype,"map",{get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e},enumerable:!1,configurable:!0})}(Filter$1);var extendStatics$3=function(e,t){return(extendStatics$3=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$7(e,t){function r(){this.constructor=e}extendStatics$3(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var vertex$1="\nattribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvoid texcoords(vec2 fragCoord, vec2 inverseVP,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = filterVertexPosition();\n\n   vFragCoord = aVertexPosition * outputFrame.zw;\n\n   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}\n",fragment$3='varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vFragCoord;\nuniform sampler2D uSampler;\nuniform highp vec4 inputSize;\n\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n\n --\n\n From:\n https://github.com/mitsuhiko/webgl-meincraft\n\n Copyright (c) 2011 by Armin Ronacher.\n\n Some rights reserved.\n\n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n\n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n\n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n\n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n\n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n\n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n\n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n\n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n\n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n\n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec4 color;\n\n      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n';!function(e){__extends$7((function(){return e.call(this,vertex$1,fragment$3)||this}),e)}(Filter$1);var extendStatics$2=function(e,t){return(extendStatics$2=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$6(e,t){function r(){this.constructor=e}extendStatics$2(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var fragment$2="precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n",ENV$1,RENDERER_TYPE$1,BUFFER_BITS$1,BLEND_MODES$1,DRAW_MODES$1,FORMATS$1,TARGETS$1,TYPES$1,SAMPLER_TYPES$1,SCALE_MODES$1,WRAP_MODES$1,MIPMAP_MODES$1,ALPHA_MODES$1,CLEAR_MODES$1,GC_MODES$1,PRECISION$1,MASK_TYPES$1,MSAA_QUALITY$1,BUFFER_TYPE$1;!function(e){function t(t,r){void 0===t&&(t=.5),void 0===r&&(r=Math.random());var i=e.call(this,defaultFilterVertex,fragment$2,{uNoise:0,uSeed:0})||this;return i.noise=t,i.seed=r,i}__extends$6(t,e),Object.defineProperty(t.prototype,"noise",{get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"seed",{get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e},enumerable:!1,configurable:!0})}(Filter$1),function(e){e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2"}(ENV$1||(ENV$1={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS"}(RENDERER_TYPE$1||(RENDERER_TYPE$1={})),function(e){e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL"}(BUFFER_BITS$1||(BUFFER_BITS$1={})),function(e){e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR"}(BLEND_MODES$1||(BLEND_MODES$1={})),function(e){e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN"}(DRAW_MODES$1||(DRAW_MODES$1={})),function(e){e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL"}(FORMATS$1||(FORMATS$1={})),function(e){e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z"}(TARGETS$1||(TARGETS$1={})),function(e){e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT"}(TYPES$1||(TYPES$1={})),function(e){e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT"}(SAMPLER_TYPES$1||(SAMPLER_TYPES$1={})),function(e){e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR"}(SCALE_MODES$1||(SCALE_MODES$1={})),function(e){e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT"}(WRAP_MODES$1||(WRAP_MODES$1={})),function(e){e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL"}(MIPMAP_MODES$1||(MIPMAP_MODES$1={})),function(e){e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLY_ALPHA=2]="PREMULTIPLY_ALPHA",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA"}(ALPHA_MODES$1||(ALPHA_MODES$1={})),function(e){e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT"}(CLEAR_MODES$1||(CLEAR_MODES$1={})),function(e){e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL"}(GC_MODES$1||(GC_MODES$1={})),function(e){e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp"}(PRECISION$1||(PRECISION$1={})),function(e){e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE"}(MASK_TYPES$1||(MASK_TYPES$1={})),function(e){e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH"}(MSAA_QUALITY$1||(MSAA_QUALITY$1={})),function(e){e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER"}(BUFFER_TYPE$1||(BUFFER_TYPE$1={}));var _tempMatrix=new Matrix$1;DisplayObject$1.prototype._cacheAsBitmap=!1,DisplayObject$1.prototype._cacheData=null,DisplayObject$1.prototype._cacheAsBitmapResolution=null,DisplayObject$1.prototype._cacheAsBitmapMultisample=MSAA_QUALITY$1.NONE;var CacheData=function(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null};Object.defineProperties(DisplayObject$1.prototype,{cacheAsBitmapResolution:{get:function(){return this._cacheAsBitmapResolution},set:function(e){e!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get:function(){return this._cacheAsBitmapMultisample},set:function(e){e!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=e,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){var t;this._cacheAsBitmap!==e&&(this._cacheAsBitmap=e,e?(this._cacheData||(this._cacheData=new CacheData),(t=this._cacheData).originalRender=this.render,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.render=t.originalRender,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea))}}}),DisplayObject$1.prototype._renderCached=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(e))},DisplayObject$1.prototype._initCachedDisplayObject=function(e){var t;if(!this._cacheData||!this._cacheData.sprite){var r=this.alpha;this.alpha=1,e.batch.flush();var i=this.getLocalBounds(null,!0).clone();if(this.filters&&this.filters.length){var n=this.filters[0].padding;i.pad(n)}i.ceil(settings$2.RESOLUTION);var s=e.renderTexture.current,o=e.renderTexture.sourceFrame.clone(),a=e.renderTexture.destinationFrame.clone(),l=e.projection.transform,h=RenderTexture$1.create({width:i.width,height:i.height,resolution:this.cacheAsBitmapResolution||e.resolution,multisample:null!==(t=this.cacheAsBitmapMultisample)&&void 0!==t?t:e.multisample}),c="cacheAsBitmap_"+uid$1();this._cacheData.textureCacheId=c,BaseTexture$1.addToCache(h.baseTexture,c),Texture$1.addToCache(h,c);var u=this.transform.localTransform.copyTo(_tempMatrix).invert().translate(-i.x,-i.y);this.render=this._cacheData.originalRender,e.render(this,{renderTexture:h,clear:!0,transform:u,skipUpdateTransform:!1}),e.framebuffer.blit(),e.projection.transform=l,e.renderTexture.bind(s,o,a),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var d=new Sprite(h);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-i.x/i.width,d.anchor.y=-i.y/i.height,d.alpha=r,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)}},DisplayObject$1.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},DisplayObject$1.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;var i=e.context,n=e._projTransform;t.ceil(settings$2.RESOLUTION);var s=RenderTexture$1.create({width:t.width,height:t.height}),o="cacheAsBitmap_"+uid$1();this._cacheData.textureCacheId=o,BaseTexture$1.addToCache(s.baseTexture,o),Texture$1.addToCache(s,o);var a=_tempMatrix;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=t.x,a.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,{renderTexture:s,clear:!0,transform:a,skipUpdateTransform:!1}),e.context=i,e._projTransform=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;var l=new Sprite(s);l.transform.worldTransform=this.transform.worldTransform,l.anchor.x=-t.x/t.width,l.anchor.y=-t.y/t.height,l.alpha=r,l._bounds=this._bounds,this._cacheData.sprite=l,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=l.containsPoint.bind(l)}},DisplayObject$1.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},DisplayObject$1.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},DisplayObject$1.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,BaseTexture$1.removeFromCache(this._cacheData.textureCacheId),Texture$1.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},DisplayObject$1.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)},DisplayObject$1.prototype.name=null,Container$1.prototype.getChildByName=function(e,t){for(var r=0,i=this.children.length;r<i;r++)if(this.children[r].name===e)return this.children[r];if(t)for(r=0,i=this.children.length;r<i;r++)if(this.children[r].getChildByName){var n=this.children[r].getChildByName(e,!0);if(n)return n}return null},DisplayObject$1.prototype.getGlobalPosition=function(e,t){return void 0===e&&(e=new Point$1),void 0===t&&(t=!1),this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e};var extendStatics$1=function(e,t){return(extendStatics$1=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$5(e,t){function r(){this.constructor=e}extendStatics$1(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}var PlaneGeometry=function(e){function t(t,r,i,n){void 0===t&&(t=100),void 0===r&&(r=100),void 0===i&&(i=10),void 0===n&&(n=10);var s=e.call(this)||this;return s.segWidth=i,s.segHeight=n,s.width=t,s.height=r,s.build(),s}return __extends$5(t,e),t.prototype.build=function(){for(var e=this.segWidth*this.segHeight,t=[],r=[],i=[],n=this.segWidth-1,s=this.segHeight-1,o=this.width/n,a=this.height/s,l=0;l<e;l++){var h=l%this.segWidth,c=l/this.segWidth|0;t.push(h*o,c*a),r.push(h/n,c/s)}var u=n*s;for(l=0;l<u;l++){var d=l%n,p=l/n|0,f=p*this.segWidth+d,_=p*this.segWidth+d+1,m=(p+1)*this.segWidth+d,g=(p+1)*this.segWidth+d+1;i.push(f,_,m,_,g,m)}this.buffers[0].data=new Float32Array(t),this.buffers[1].data=new Float32Array(r),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()},t}(MeshGeometry),RopeGeometry=function(e){function t(t,r,i){void 0===t&&(t=200),void 0===i&&(i=0);var n=e.call(this,new Float32Array(4*r.length),new Float32Array(4*r.length),new Uint16Array(6*(r.length-1)))||this;return n.points=r,n._width=t,n.textureScale=i,n.build(),n}return __extends$5(t,e),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},enumerable:!1,configurable:!0}),t.prototype.build=function(){var e=this.points;if(e){var t=this.getBuffer("aVertexPosition"),r=this.getBuffer("aTextureCoord"),i=this.getIndex();if(!(e.length<1)){t.data.length/4!==e.length&&(t.data=new Float32Array(4*e.length),r.data=new Float32Array(4*e.length),i.data=new Uint16Array(6*(e.length-1)));var n=r.data,s=i.data;n[0]=0,n[1]=0,n[2]=0,n[3]=1;for(var o=0,a=e[0],l=this._width*this.textureScale,h=e.length,c=0;c<h;c++){var u=4*c;if(this.textureScale>0){var d=a.x-e[c].x,p=a.y-e[c].y,f=Math.sqrt(d*d+p*p);a=e[c],o+=f/l}else o=c/(h-1);n[u]=o,n[u+1]=0,n[u+2]=o,n[u+3]=1}var _=0;for(c=0;c<h-1;c++)u=2*c,s[_++]=u,s[_++]=u+1,s[_++]=u+2,s[_++]=u+2,s[_++]=u+1,s[_++]=u+3;r.update(),i.update(),this.updateVertices()}}},t.prototype.updateVertices=function(){var e=this.points;if(!(e.length<1)){for(var t,r=e[0],i=0,n=0,s=this.buffers[0].data,o=e.length,a=0;a<o;a++){var l=e[a],h=4*a;n=-((t=a<e.length-1?e[a+1]:l).x-r.x),i=t.y-r.y;var c=Math.sqrt(i*i+n*n),u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;i/=c,n/=c,i*=u,n*=u,s[h]=l.x+i,s[h+1]=l.y+n,s[h+2]=l.x-i,s[h+3]=l.y-n,r=l}this.buffers[0].update()}},t.prototype.update=function(){this.textureScale>0?this.build():this.updateVertices()},t}(MeshGeometry);!function(e){function t(t,r,i){void 0===i&&(i=0);var n=this,s=new RopeGeometry(t.height,r,i),o=new MeshMaterial(t);return i>0&&(t.baseTexture.wrapMode=WRAP_MODES$5.REPEAT),(n=e.call(this,s,o)||this).autoUpdate=!0,n}__extends$5(t,e),t.prototype._render=function(t){var r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),e.prototype._render.call(this,t)}}(Mesh);var SimplePlane=function(e){function t(t,r,i){var n=this,s=new PlaneGeometry(t.width,t.height,r,i),o=new MeshMaterial(Texture$1.WHITE);return(n=e.call(this,s,o)||this).texture=t,n.autoResize=!0,n}return __extends$5(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID;var e=this.geometry,t=this.shader.texture,r=t.width,i=t.height;this.autoResize&&(e.width!==r||e.height!==i)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())},Object.defineProperty(t.prototype,"texture",{get:function(){return this.shader.texture},set:function(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),e.prototype._render.call(this,t)},t.prototype.destroy=function(t){this.shader.texture.off("update",this.textureUpdated,this),e.prototype.destroy.call(this,t)},t}(Mesh);!function(e){function t(t,r,i,n,s){void 0===t&&(t=Texture$1.EMPTY);var o=this,a=new MeshGeometry(r,i,n);a.getBuffer("aVertexPosition").static=!1;var l=new MeshMaterial(t);return(o=e.call(this,a,l,null,s)||this).autoUpdate=!0,o}__extends$5(t,e),Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype._render=function(t){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),e.prototype._render.call(this,t)}}(Mesh);var DEFAULT_BORDER_SIZE=10;!function(e){function t(t,r,i,n,s){void 0===r&&(r=DEFAULT_BORDER_SIZE),void 0===i&&(i=DEFAULT_BORDER_SIZE),void 0===n&&(n=DEFAULT_BORDER_SIZE),void 0===s&&(s=DEFAULT_BORDER_SIZE);var o=e.call(this,Texture$1.WHITE,4,4)||this;return o._origWidth=t.orig.width,o._origHeight=t.orig.height,o._width=o._origWidth,o._height=o._origHeight,o._leftWidth=r,o._rightWidth=n,o._topHeight=i,o._bottomHeight=s,o.texture=t,o}__extends$5(t,e),t.prototype.textureUpdated=function(){this._textureID=this.shader.texture._updateID,this._refresh()},Object.defineProperty(t.prototype,"vertices",{get:function(){return this.geometry.getBuffer("aVertexPosition").data},set:function(e){this.geometry.getBuffer("aVertexPosition").data=e},enumerable:!1,configurable:!0}),t.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*t,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*t,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*t,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*t,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._getMinScale=function(){var e=this._leftWidth+this._rightWidth,t=this._width>e?1:this._width/e,r=this._topHeight+this._bottomHeight,i=this._height>r?1:this._height/r;return Math.min(t,i)},Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(e){this._width=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(e){this._height=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftWidth",{get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightWidth",{get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"topHeight",{get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bottomHeight",{get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()},enumerable:!1,configurable:!0}),t.prototype._refresh=function(){var e=this.texture,t=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;var r=1/this._origWidth,i=1/this._origHeight;t[0]=t[8]=t[16]=t[24]=0,t[1]=t[3]=t[5]=t[7]=0,t[6]=t[14]=t[22]=t[30]=1,t[25]=t[27]=t[29]=t[31]=1,t[2]=t[10]=t[18]=t[26]=r*this._leftWidth,t[4]=t[12]=t[20]=t[28]=1-r*this._rightWidth,t[9]=t[11]=t[13]=t[15]=i*this._topHeight,t[17]=t[19]=t[21]=t[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}(SimplePlane);var extendStatics=function(e,t){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])})(e,t)};function __extends$4(e,t){function r(){this.constructor=e}extendStatics(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}!function(e){function t(t,r){void 0===r&&(r=!0);var i=e.call(this,t[0]instanceof Texture$1?t[0]:t[0].texture)||this;return i._textures=null,i._durations=null,i._autoUpdate=r,i._isConnectedToTicker=!1,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i._playing=!1,i._previousFrame=null,i.textures=t,i}__extends$4(t,e),t.prototype.stop=function(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1))},t.prototype.play=function(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Ticker$1.shared.add(this.update,this,UPDATE_PRIORITY$1.HIGH),this._isConnectedToTicker=!0))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){if(this._playing){var t=this.animationSpeed*e,r=this.currentFrame;if(null!==this._durations){var i=this._currentTime%1*this._durations[this.currentFrame];for(i+=t/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];var n=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):r!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<r||this.animationSpeed<0&&this.currentFrame>r)&&this.onLoop(),this.updateTexture())}},t.prototype.updateTexture=function(){var e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))},t.prototype.destroy=function(t){this.stop(),e.prototype.destroy.call(this,t),this.onComplete=null,this.onFrameChange=null,this.onLoop=null},t.fromFrames=function(e){for(var r=[],i=0;i<e.length;++i)r.push(Texture$1.from(e[i]));return new t(r)},t.fromImages=function(e){for(var r=[],i=0;i<e.length;++i)r.push(Texture$1.from(e[i]));return new t(r)},Object.defineProperty(t.prototype,"totalFrames",{get:function(){return this._textures.length},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textures",{get:function(){return this._textures},set:function(e){if(e[0]instanceof Texture$1)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"currentFrame",{get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"playing",{get:function(){return this._playing},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoUpdate",{get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Ticker$1.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Ticker$1.shared.add(this.update,this),this._isConnectedToTicker=!0))},enumerable:!1,configurable:!0})}(Sprite),Renderer$1.registerPlugin("accessibility",AccessibilityManager),Renderer$1.registerPlugin("extract",Extract),Renderer$1.registerPlugin("interaction",InteractionManager),Renderer$1.registerPlugin("particle",ParticleRenderer),Renderer$1.registerPlugin("prepare",Prepare),Renderer$1.registerPlugin("batch",BatchRenderer$1),Renderer$1.registerPlugin("tilingSprite",TilingSpriteRenderer),Loader.registerPlugin(BitmapFontLoader),Loader.registerPlugin(CompressedTextureLoader),Loader.registerPlugin(DDSLoader),Loader.registerPlugin(KTXLoader),Loader.registerPlugin(SpritesheetLoader),Application.registerPlugin(TickerPlugin$1),Application.registerPlugin(AppLoaderPlugin);var ENV=(e=>(e[e.WEBGL_LEGACY=0]="WEBGL_LEGACY",e[e.WEBGL=1]="WEBGL",e[e.WEBGL2=2]="WEBGL2",e))(ENV||{}),RENDERER_TYPE=(e=>(e[e.UNKNOWN=0]="UNKNOWN",e[e.WEBGL=1]="WEBGL",e[e.CANVAS=2]="CANVAS",e))(RENDERER_TYPE||{}),BUFFER_BITS=(e=>(e[e.COLOR=16384]="COLOR",e[e.DEPTH=256]="DEPTH",e[e.STENCIL=1024]="STENCIL",e))(BUFFER_BITS||{}),BLEND_MODES=(e=>(e[e.NORMAL=0]="NORMAL",e[e.ADD=1]="ADD",e[e.MULTIPLY=2]="MULTIPLY",e[e.SCREEN=3]="SCREEN",e[e.OVERLAY=4]="OVERLAY",e[e.DARKEN=5]="DARKEN",e[e.LIGHTEN=6]="LIGHTEN",e[e.COLOR_DODGE=7]="COLOR_DODGE",e[e.COLOR_BURN=8]="COLOR_BURN",e[e.HARD_LIGHT=9]="HARD_LIGHT",e[e.SOFT_LIGHT=10]="SOFT_LIGHT",e[e.DIFFERENCE=11]="DIFFERENCE",e[e.EXCLUSION=12]="EXCLUSION",e[e.HUE=13]="HUE",e[e.SATURATION=14]="SATURATION",e[e.COLOR=15]="COLOR",e[e.LUMINOSITY=16]="LUMINOSITY",e[e.NORMAL_NPM=17]="NORMAL_NPM",e[e.ADD_NPM=18]="ADD_NPM",e[e.SCREEN_NPM=19]="SCREEN_NPM",e[e.NONE=20]="NONE",e[e.SRC_OVER=0]="SRC_OVER",e[e.SRC_IN=21]="SRC_IN",e[e.SRC_OUT=22]="SRC_OUT",e[e.SRC_ATOP=23]="SRC_ATOP",e[e.DST_OVER=24]="DST_OVER",e[e.DST_IN=25]="DST_IN",e[e.DST_OUT=26]="DST_OUT",e[e.DST_ATOP=27]="DST_ATOP",e[e.ERASE=26]="ERASE",e[e.SUBTRACT=28]="SUBTRACT",e[e.XOR=29]="XOR",e))(BLEND_MODES||{}),DRAW_MODES=(e=>(e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e))(DRAW_MODES||{}),FORMATS=(e=>(e[e.RGBA=6408]="RGBA",e[e.RGB=6407]="RGB",e[e.RG=33319]="RG",e[e.RED=6403]="RED",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.ALPHA=6406]="ALPHA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e))(FORMATS||{}),TARGETS=(e=>(e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e))(TARGETS||{}),TYPES=(e=>(e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.BYTE=5120]="BYTE",e[e.SHORT=5122]="SHORT",e[e.INT=5124]="INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.HALF_FLOAT=36193]="HALF_FLOAT",e))(TYPES||{}),SAMPLER_TYPES=(e=>(e[e.FLOAT=0]="FLOAT",e[e.INT=1]="INT",e[e.UINT=2]="UINT",e))(SAMPLER_TYPES||{}),SCALE_MODES=(e=>(e[e.NEAREST=0]="NEAREST",e[e.LINEAR=1]="LINEAR",e))(SCALE_MODES||{}),WRAP_MODES=(e=>(e[e.CLAMP=33071]="CLAMP",e[e.REPEAT=10497]="REPEAT",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e))(WRAP_MODES||{}),MIPMAP_MODES=(e=>(e[e.OFF=0]="OFF",e[e.POW2=1]="POW2",e[e.ON=2]="ON",e[e.ON_MANUAL=3]="ON_MANUAL",e))(MIPMAP_MODES||{}),ALPHA_MODES=(e=>(e[e.NPM=0]="NPM",e[e.UNPACK=1]="UNPACK",e[e.PMA=2]="PMA",e[e.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",e[e.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",e[e.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",e))(ALPHA_MODES||{}),CLEAR_MODES=(e=>(e[e.NO=0]="NO",e[e.YES=1]="YES",e[e.AUTO=2]="AUTO",e[e.BLEND=0]="BLEND",e[e.CLEAR=1]="CLEAR",e[e.BLIT=2]="BLIT",e))(CLEAR_MODES||{}),GC_MODES=(e=>(e[e.AUTO=0]="AUTO",e[e.MANUAL=1]="MANUAL",e))(GC_MODES||{}),PRECISION=(e=>(e.LOW="lowp",e.MEDIUM="mediump",e.HIGH="highp",e))(PRECISION||{}),MASK_TYPES=(e=>(e[e.NONE=0]="NONE",e[e.SCISSOR=1]="SCISSOR",e[e.STENCIL=2]="STENCIL",e[e.SPRITE=3]="SPRITE",e[e.COLOR=4]="COLOR",e))(MASK_TYPES||{}),MSAA_QUALITY=(e=>(e[e.NONE=0]="NONE",e[e.LOW=2]="LOW",e[e.MEDIUM=4]="MEDIUM",e[e.HIGH=8]="HIGH",e))(MSAA_QUALITY||{}),BUFFER_TYPE=(e=>(e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e))(BUFFER_TYPE||{});const BrowserAdapter={createCanvas:(e,t)=>{const r=document.createElement("canvas");return r.width=e,r.height=t,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>{var e;return null!=(e=document.baseURI)?e:window.location.href},getFontFaceSet:()=>document.fonts,fetch:(e,t)=>fetch(e,t),parseXML:e=>(new DOMParser).parseFromString(e,"text/xml")},settings={ADAPTER:BrowserAdapter,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var gn;const isMobileCall=null!=(gn=isMobile$4.default)?gn:isMobile$4,isMobile=isMobileCall(globalThis.navigator);settings.RETINA_PREFIX=/@([0-9\.]+)x/,settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var eventemitter3={exports:{}};!function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}function n(e,t,r){this.fn=e,this.context=t,this.once=r||!1}function s(e,t,i,s,o){if("function"!=typeof i)throw new TypeError("The listener must be a function");var a=new n(i,s||e,o),l=r?r+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function o(e,t){0==--e._eventsCount?e._events=new i:delete e._events[t]}function a(){this._events=new i,this._eventsCount=0}Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(r=!1)),a.prototype.eventNames=function(){var e,i,n=[];if(0===this._eventsCount)return n;for(i in e=this._events)t.call(e,i)&&n.push(r?i.slice(1):i);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(e)):n},a.prototype.listeners=function(e){var t=r?r+e:e,i=this._events[t];if(!i)return[];if(i.fn)return[i.fn];for(var n=0,s=i.length,o=new Array(s);n<s;n++)o[n]=i[n].fn;return o},a.prototype.listenerCount=function(e){var t=r?r+e:e,i=this._events[t];return i?i.fn?1:i.length:0},a.prototype.emit=function(e,t,i,n,s,o){var a=r?r+e:e;if(!this._events[a])return!1;var l,h,c=this._events[a],u=arguments.length;if(c.fn){switch(c.once&&this.removeListener(e,c.fn,void 0,!0),u){case 1:return c.fn.call(c.context),!0;case 2:return c.fn.call(c.context,t),!0;case 3:return c.fn.call(c.context,t,i),!0;case 4:return c.fn.call(c.context,t,i,n),!0;case 5:return c.fn.call(c.context,t,i,n,s),!0;case 6:return c.fn.call(c.context,t,i,n,s,o),!0}for(h=1,l=new Array(u-1);h<u;h++)l[h-1]=arguments[h];c.fn.apply(c.context,l)}else{var d,p=c.length;for(h=0;h<p;h++)switch(c[h].once&&this.removeListener(e,c[h].fn,void 0,!0),u){case 1:c[h].fn.call(c[h].context);break;case 2:c[h].fn.call(c[h].context,t);break;case 3:c[h].fn.call(c[h].context,t,i);break;case 4:c[h].fn.call(c[h].context,t,i,n);break;default:if(!l)for(d=1,l=new Array(u-1);d<u;d++)l[d-1]=arguments[d];c[h].fn.apply(c[h].context,l)}}return!0},a.prototype.on=function(e,t,r){return s(this,e,t,r,!1)},a.prototype.once=function(e,t,r){return s(this,e,t,r,!0)},a.prototype.removeListener=function(e,t,i,n){var s=r?r+e:e;if(!this._events[s])return this;if(!t)return o(this,s),this;var a=this._events[s];if(a.fn)a.fn===t&&(!n||a.once)&&(!i||a.context===i)&&o(this,s);else{for(var l=0,h=[],c=a.length;l<c;l++)(a[l].fn!==t||n&&!a[l].once||i&&a[l].context!==i)&&h.push(a[l]);h.length?this._events[s]=1===h.length?h[0]:h:o(this,s)}return this},a.prototype.removeAllListeners=function(e){var t;return e?(t=r?r+e:e,this._events[t]&&o(this,t)):(this._events=new i,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,e.exports=a}(eventemitter3);var eventemitter3Exports=eventemitter3.exports;const EventEmitter$1=getDefaultExportFromCjs(eventemitter3Exports),warnings={};function deprecation(e,t,r=3){if(warnings[t])return;let i=(new Error).stack;typeof i>"u"?console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`):(i=i.split("\n").splice(r).join("\n"),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${t}\nDeprecated since v${e}`),console.warn(i),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${t}\nDeprecated since v${e}`),console.warn(i))),warnings[t]=!0}let supported$1;function isWebGLSupported(){return typeof supported$1>"u"&&(supported$1=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:settings.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!settings.ADAPTER.getWebGLRenderingContext())return!1;const r=settings.ADAPTER.createCanvas();let i=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const n=!(null==(e=null==i?void 0:i.getContextAttributes())||!e.stencil);if(i){const e=i.getExtension("WEBGL_lose_context");e&&e.loseContext()}return i=null,n}catch(e){return!1}}()),supported$1}var r$1={grad:.9,turn:360,rad:360/(2*Math.PI)},t$1=function(e){return"string"==typeof e?e.length>0:"number"==typeof e},n$2=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=Math.pow(10,t)),Math.round(r*e)/r+0},e=function(e,t,r){return void 0===t&&(t=0),void 0===r&&(r=1),e>r?r:e>t?e:t},u$2=function(e){return(e=isFinite(e)?e%360:0)>0?e:e+360},a$1=function(t){return{r:e(t.r,0,255),g:e(t.g,0,255),b:e(t.b,0,255),a:e(t.a)}},o$1=function(e){return{r:n$2(e.r),g:n$2(e.g),b:n$2(e.b),a:n$2(e.a,3)}},i$1=/^#([0-9a-f]{3,8})$/i,s$2=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},h$2=function(e){var t=e.r,r=e.g,i=e.b,n=e.a,s=Math.max(t,r,i),o=s-Math.min(t,r,i),a=o?s===t?(r-i)/o:s===r?2+(i-t)/o:4+(t-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:n}},b$2=function(e){var t=e.h,r=e.s,i=e.v,n=e.a;t=t/360*6,r/=100,i/=100;var s=Math.floor(t),o=i*(1-r),a=i*(1-(t-s)*r),l=i*(1-(1-t+s)*r),h=s%6;return{r:255*[i,a,o,o,l,i][h],g:255*[l,i,i,a,o,o][h],b:255*[o,o,l,i,i,a][h],a:n}},g$2=function(t){return{h:u$2(t.h),s:e(t.s,0,100),l:e(t.l,0,100),a:e(t.a)}},d$2=function(e){return{h:n$2(e.h),s:n$2(e.s),l:n$2(e.l),a:n$2(e.a,3)}},f$1=function(e){return b$2((r=(t=e).s,{h:t.h,s:(r*=((i=t.l)<50?i:100-i)/100)>0?2*r/(i+r)*100:0,v:i+r,a:t.a}));var t,r,i},c$2=function(e){return{h:(t=h$2(e)).h,s:(n=(200-(r=t.s))*(i=t.v)/100)>0&&n<200?r*i/100/(n<=100?n:200-n)*100:0,l:n/2,a:t.a};var t,r,i,n},l$2=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,p$1=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,v$2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,m$2=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,y$2={string:[[function(e){var t=i$1.exec(e);return t?(e=t[1]).length<=4?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:4===e.length?n$2(parseInt(e[3]+e[3],16)/255,2):1}:6===e.length||8===e.length?{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:8===e.length?n$2(parseInt(e.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(e){var t=v$2.exec(e)||m$2.exec(e);return t?t[2]!==t[4]||t[4]!==t[6]?null:a$1({r:Number(t[1])/(t[2]?100/255:1),g:Number(t[3])/(t[4]?100/255:1),b:Number(t[5])/(t[6]?100/255:1),a:void 0===t[7]?1:Number(t[7])/(t[8]?100:1)}):null},"rgb"],[function(e){var t=l$2.exec(e)||p$1.exec(e);if(!t)return null;var r,i,n=g$2({h:(r=t[1],i=t[2],void 0===i&&(i="deg"),Number(r)*(r$1[i]||1)),s:Number(t[3]),l:Number(t[4]),a:void 0===t[5]?1:Number(t[5])/(t[6]?100:1)});return f$1(n)},"hsl"]],object:[[function(e){var t=e.r,r=e.g,i=e.b,n=e.a,s=void 0===n?1:n;return t$1(t)&&t$1(r)&&t$1(i)?a$1({r:Number(t),g:Number(r),b:Number(i),a:Number(s)}):null},"rgb"],[function(e){var t=e.h,r=e.s,i=e.l,n=e.a,s=void 0===n?1:n;if(!t$1(t)||!t$1(r)||!t$1(i))return null;var o=g$2({h:Number(t),s:Number(r),l:Number(i),a:Number(s)});return f$1(o)},"hsl"],[function(t){var r=t.h,i=t.s,n=t.v,s=t.a,o=void 0===s?1:s;if(!t$1(r)||!t$1(i)||!t$1(n))return null;var a,l=(a={h:Number(r),s:Number(i),v:Number(n),a:Number(o)},{h:u$2(a.h),s:e(a.s,0,100),v:e(a.v,0,100),a:e(a.a)});return b$2(l)},"hsv"]]},N=function(e,t){for(var r=0;r<t.length;r++){var i=t[r][0](e);if(i)return[i,t[r][1]]}return[null,void 0]},x$1=function(e){return"string"==typeof e?N(e.trim(),y$2.string):"object"==typeof e&&null!==e?N(e,y$2.object):[null,void 0]},M$1=function(t,r){var i=c$2(t);return{h:i.h,s:e(i.s+100*r,0,100),l:i.l,a:i.a}},H$1=function(e){return(299*e.r+587*e.g+114*e.b)/1e3/255},$=function(t,r){var i=c$2(t);return{h:i.h,s:i.s,l:e(i.l+100*r,0,100),a:i.a}},j=function(){function e(e){this.parsed=x$1(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return e.prototype.isValid=function(){return null!==this.parsed},e.prototype.brightness=function(){return n$2(H$1(this.rgba),2)},e.prototype.isDark=function(){return H$1(this.rgba)<.5},e.prototype.isLight=function(){return H$1(this.rgba)>=.5},e.prototype.toHex=function(){return t=(e=o$1(this.rgba)).r,r=e.g,i=e.b,s=(n=e.a)<1?s$2(n$2(255*n)):"","#"+s$2(t)+s$2(r)+s$2(i)+s;var e,t,r,i,n,s},e.prototype.toRgb=function(){return o$1(this.rgba)},e.prototype.toRgbString=function(){return t=(e=o$1(this.rgba)).r,r=e.g,i=e.b,(n=e.a)<1?"rgba("+t+", "+r+", "+i+", "+n+")":"rgb("+t+", "+r+", "+i+")";var e,t,r,i,n},e.prototype.toHsl=function(){return d$2(c$2(this.rgba))},e.prototype.toHslString=function(){return t=(e=d$2(c$2(this.rgba))).h,r=e.s,i=e.l,(n=e.a)<1?"hsla("+t+", "+r+"%, "+i+"%, "+n+")":"hsl("+t+", "+r+"%, "+i+"%)";var e,t,r,i,n},e.prototype.toHsv=function(){return e=h$2(this.rgba),{h:n$2(e.h),s:n$2(e.s),v:n$2(e.v),a:n$2(e.a,3)};var e},e.prototype.invert=function(){return w$3({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},e.prototype.saturate=function(e){return void 0===e&&(e=.1),w$3(M$1(this.rgba,e))},e.prototype.desaturate=function(e){return void 0===e&&(e=.1),w$3(M$1(this.rgba,-e))},e.prototype.grayscale=function(){return w$3(M$1(this.rgba,-1))},e.prototype.lighten=function(e){return void 0===e&&(e=.1),w$3($(this.rgba,e))},e.prototype.darken=function(e){return void 0===e&&(e=.1),w$3($(this.rgba,-e))},e.prototype.rotate=function(e){return void 0===e&&(e=15),this.hue(this.hue()+e)},e.prototype.alpha=function(e){return"number"==typeof e?w$3({r:(t=this.rgba).r,g:t.g,b:t.b,a:e}):n$2(this.rgba.a,3);var t},e.prototype.hue=function(e){var t=c$2(this.rgba);return"number"==typeof e?w$3({h:e,s:t.s,l:t.l,a:t.a}):n$2(t.h)},e.prototype.isEqual=function(e){return this.toHex()===w$3(e).toHex()},e}(),w$3=function(e){return e instanceof j?e:new j(e)},S$2=[],k$1=function(e){e.forEach((function(e){S$2.indexOf(e)<0&&(e(j,y$2),S$2.push(e))}))};function namesPlugin(e,t){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},i={};for(var n in r)i[r[n]]=n;var s={};e.prototype.toName=function(t){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var n,o,a=i[this.toHex()];if(a)return a;if(null!=t&&t.closest){var l=this.toRgb(),h=1/0,c="black";if(!s.length)for(var u in r)s[u]=new e(r[u]).toRgb();for(var d in r){var p=(n=l,o=s[d],Math.pow(n.r-o.r,2)+Math.pow(n.g-o.g,2)+Math.pow(n.b-o.b,2));p<h&&(h=p,c=d)}return c}},t.string.push([function(t){var i=t.toLowerCase(),n="transparent"===i?"#0000":r[i];return n?new e(n).toRgb():null},"name"])}k$1([namesPlugin]);const _Color=class e{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(t){if(t instanceof e)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(null===t)throw new Error("Cannot set PIXI.Color#value to null");(null===this._value||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(e){return"string"==typeof e||"number"==typeof e||e instanceof Number||null===e?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):"object"==typeof e&&null!==e?Vt({},e):e}isSourceEqual(e,t){const r=typeof e;if(r!==typeof t)return!1;if("number"===r||"string"===r||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length===t.length&&e.every(((e,r)=>e===t[r]));if(null!==e&&null!==t){const r=Object.keys(e),i=Object.keys(t);return r.length===i.length&&r.every((r=>e[r]===t[r]))}return e===t}toRgba(){const[e,t,r,i]=this._components;return{r:e,g:t,b:r,a:i}}toRgb(){const[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){const[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){const[t,r,i]=this._components;return(e=null!=e?e:[])[0]=Math.round(255*t),e[1]=Math.round(255*r),e[2]=Math.round(255*i),e}toRgbArray(e){e=null!=e?e:[];const[t,r,i]=this._components;return e[0]=t,e[1]=r,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){const e=this._int;return(e>>16)+(65280&e)+((255&e)<<16)}multiply(t){const[r,i,n,s]=e.temp.setValue(t)._components;return this._components[0]*=r,this._components[1]*=i,this._components[2]*=n,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(1===e)return(255<<24)+this._int;if(0===e)return t?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,n=255&this._int;return t&&(r=r*e+.5|0,i=i*e+.5|0,n=n*e+.5|0),(255*e<<24)+(r<<16)+(i<<8)+n}toHex(){const e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){const e=Math.round(255*this._components[3]).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){const[t,r,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=null!=e?e:[];const[t,r,i,n]=this._components;return e[0]=t,e[1]=r,e[2]=i,e[3]=n,e}normalize(t){let r,i,n,s;if(("number"==typeof t||t instanceof Number)&&t>=0&&t<=16777215)r=(t>>16&255)/255,i=(t>>8&255)/255,n=(255&t)/255,s=1;else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[r,i,n,s=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[r,i,n,s=255]=t,r/=255,i/=255,n/=255,s/=255;else if("string"==typeof t||"object"==typeof t){if("string"==typeof t){const r=e.HEX_PATTERN.exec(t);r&&(t=`#${r[2]}`)}const o=w$3(t);o.isValid()&&(({r:r,g:i,b:n,a:s}=o.rgba),r/=255,i/=255,n/=255)}if(void 0===r)throw new Error(`Unable to convert color ${t}`);this._components[0]=r,this._components[1]=i,this._components[2]=n,this._components[3]=s,this.refreshInt()}refreshInt(){this._clamp(this._components);const[e,t,r]=this._components;this._int=(255*e<<16)+(255*t<<8)+(255*r|0)}_clamp(e,t=0,r=1){return"number"==typeof e?Math.min(Math.max(e,t),r):(e.forEach(((i,n)=>{e[n]=Math.min(Math.max(i,t),r)})),e)}};_Color.shared=new _Color,_Color.temp=new _Color,_Color.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;let Color=_Color;function hex2rgb(e,t=[]){return deprecation("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),Color.shared.setValue(e).toRgbArray(t)}function rgb2hex(e){return deprecation("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Color.shared.setValue(e).toNumber()}function mapPremultipliedBlendModes(){const e=[],t=[];for(let r=0;r<32;r++)e[r]=r,t[r]=r;e[BLEND_MODES.NORMAL_NPM]=BLEND_MODES.NORMAL,e[BLEND_MODES.ADD_NPM]=BLEND_MODES.ADD,e[BLEND_MODES.SCREEN_NPM]=BLEND_MODES.SCREEN,t[BLEND_MODES.NORMAL]=BLEND_MODES.NORMAL_NPM,t[BLEND_MODES.ADD]=BLEND_MODES.ADD_NPM,t[BLEND_MODES.SCREEN]=BLEND_MODES.SCREEN_NPM;const r=[];return r.push(t),r.push(e),r}const premultiplyBlendMode=mapPremultipliedBlendModes();function getBufferType(e){if(4===e.BYTES_PER_ELEMENT)return e instanceof Float32Array?"Float32Array":e instanceof Uint32Array?"Uint32Array":"Int32Array";if(2===e.BYTES_PER_ELEMENT){if(e instanceof Uint16Array)return"Uint16Array"}else if(1===e.BYTES_PER_ELEMENT&&e instanceof Uint8Array)return"Uint8Array";return null}function nextPow2(e){return e+=0===e?1:0,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,1+(e|=e>>>16)}function isPow2(e){return!(e&e-1||!e)}function log2(e){let t=(e>65535?1:0)<<4,r=((e>>>=t)>255?1:0)<<3;return t|=r,r=((e>>>=r)>15?1:0)<<2,t|=r,r=((e>>>=r)>3?1:0)<<1,t|=r,t|(e>>>=r)>>1}function removeItems(e,t,r){const i=e.length;let n;if(t>=i||0===r)return;const s=i-(r=t+r>i?i-t:r);for(n=t;n<s;++n)e[n]=e[n+r];e.length=s}let nextUid=0;function uid(){return++nextUid}const ProgramCache={},TextureCache=Object.create(null),BaseTextureCache=Object.create(null);function determineCrossOrigin(e,t=globalThis.location){if(e.startsWith("data:"))return"";t=t||globalThis.location;const r=new URL(e,document.baseURI);return r.hostname!==t.hostname||r.port!==t.port||r.protocol!==t.protocol?"anonymous":""}function getResolutionOfUrl(e,t=1){var r;const i=null==(r=settings.RETINA_PREFIX)?void 0:r.exec(e);return i?parseFloat(i[1]):t}var ExtensionType=(e=>(e.Renderer="renderer",e.Application="application",e.RendererSystem="renderer-webgl-system",e.RendererPlugin="renderer-webgl-plugin",e.CanvasRendererSystem="renderer-canvas-system",e.CanvasRendererPlugin="renderer-canvas-plugin",e.Asset="asset",e.LoadParser="load-parser",e.ResolveParser="resolve-parser",e.CacheParser="cache-parser",e.DetectionParser="detection-parser",e))(ExtensionType||{});const normalizeExtension=e=>{if("function"==typeof e||"object"==typeof e&&e.extension){if(!e.extension)throw new Error("Extension class must have an extension object");e=nr(Vt({},"object"!=typeof e.extension?{type:e.extension}:e.extension),{ref:e})}if("object"!=typeof e)throw new Error("Invalid extension type");return"string"==typeof(e=Vt({},e)).type&&(e.type=[e.type]),e},normalizePriority=(e,t)=>{var r;return null!=(r=normalizeExtension(e).priority)?r:t},extensions={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...e){return e.map(normalizeExtension).forEach((e=>{e.type.forEach((t=>{var r,i;return null==(i=(r=this._removeHandlers)[t])?void 0:i.call(r,e)}))})),this},add(...e){return e.map(normalizeExtension).forEach((e=>{e.type.forEach((t=>{var r,i;const n=this._addHandlers,s=this._queue;n[t]?null==(r=n[t])||r.call(n,e):(s[t]=s[t]||[],null==(i=s[t])||i.push(e))}))})),this},handle(e,t,r){var i;const n=this._addHandlers,s=this._removeHandlers;if(n[e]||s[e])throw new Error(`Extension type ${e} already has a handler`);n[e]=t,s[e]=r;const o=this._queue;return o[e]&&(null==(i=o[e])||i.forEach((e=>t(e))),delete o[e]),this},handleByMap(e,t){return this.handle(e,(e=>{e.name&&(t[e.name]=e.ref)}),(e=>{e.name&&delete t[e.name]}))},handleByList(e,t,r=-1){return this.handle(e,(e=>{t.includes(e.ref)||(t.push(e.ref),t.sort(((e,t)=>normalizePriority(t,r)-normalizePriority(e,r))))}),(e=>{const r=t.indexOf(e.ref);-1!==r&&t.splice(r,1)}))}};class ViewableBuffer{constructor(e){"number"==typeof e?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const fragTemplate=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function generateIfTestSrc(e){let t="";for(let r=0;r<e;++r)r>0&&(t+="\nelse "),r<e-1&&(t+=`if(test == ${r}.0){}`);return t}function checkMaxIfStatementsInShader(e,t){if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=t.createShader(t.FRAGMENT_SHADER);for(;;){const i=fragTemplate.replace(/%forloop%/gi,generateIfTestSrc(e));if(t.shaderSource(r,i),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}return e}const BLEND$1=0,OFFSET$1=1,CULLING$1=2,DEPTH_TEST$1=3,WINDING$1=4,DEPTH_MASK$1=5;class State{constructor(){this.data=0,this.blendMode=BLEND_MODES.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<BLEND$1)}set blend(e){!!(this.data&1<<BLEND$1)!==e&&(this.data^=1<<BLEND$1)}get offsets(){return!!(this.data&1<<OFFSET$1)}set offsets(e){!!(this.data&1<<OFFSET$1)!==e&&(this.data^=1<<OFFSET$1)}get culling(){return!!(this.data&1<<CULLING$1)}set culling(e){!!(this.data&1<<CULLING$1)!==e&&(this.data^=1<<CULLING$1)}get depthTest(){return!!(this.data&1<<DEPTH_TEST$1)}set depthTest(e){!!(this.data&1<<DEPTH_TEST$1)!==e&&(this.data^=1<<DEPTH_TEST$1)}get depthMask(){return!!(this.data&1<<DEPTH_MASK$1)}set depthMask(e){!!(this.data&1<<DEPTH_MASK$1)!==e&&(this.data^=1<<DEPTH_MASK$1)}get clockwiseFrontFace(){return!!(this.data&1<<WINDING$1)}set clockwiseFrontFace(e){!!(this.data&1<<WINDING$1)!==e&&(this.data^=1<<WINDING$1)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==BLEND_MODES.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){const e=new State;return e.depthTest=!1,e.blend=!0,e}}State.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};const INSTALLED=[];function autoDetectResource(e,t){if(!e)return null;let r="";if("string"==typeof e){const t=/\.(\w{3,4})(?:$|\?|#)/i.exec(e);t&&(r=t[1].toLowerCase())}for(let i=INSTALLED.length-1;i>=0;--i){const n=INSTALLED[i];if(n.test&&n.test(e,r))return new n(e,t)}throw new Error("Unrecognized source type to auto-detect Resource")}class Runner{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,i,n,s,o,a){if(arguments.length>8)throw new Error("max arguments reached");const{name:l,items:h}=this;this._aliasCount++;for(let c=0,u=h.length;c<u;c++)h[c][l](e,t,r,i,n,s,o,a);return h===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const t=this.items.indexOf(e);return-1!==t&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return 0===this.items.length}get name(){return this._name}}Object.defineProperties(Runner.prototype,{dispatch:{value:Runner.prototype.emit},run:{value:Runner.prototype.emit}});class Resource{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Runner("setRealSize"),this.onUpdate=new Runner("update"),this.onError=new Runner("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}}class BufferResource extends Resource{constructor(e,t){var r;const{width:i,height:n}=t||{};if(!i||!n)throw new Error("BufferResource width or height invalid");super(i,n),this.data=e,this.unpackAlignment=null!=(r=t.unpackAlignment)?r:4}upload(e,t,r){const i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK);const n=t.realWidth,s=t.realHeight;return r.width===n&&r.height===s?i.texSubImage2D(t.target,0,0,0,n,s,t.format,r.type,this.data):(r.width=n,r.height=s,i.texImage2D(t.target,0,r.internalFormat,n,s,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return null===e||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}}const defaultBufferOptions={scaleMode:SCALE_MODES.NEAREST,alphaMode:ALPHA_MODES.NPM},_BaseTexture=class e extends EventEmitter$1{constructor(t=null,r=null){super(),r=Object.assign({},e.defaultOptions,r);const{alphaMode:i,mipmap:n,anisotropicLevel:s,scaleMode:o,width:a,height:l,wrapMode:h,format:c,type:u,target:d,resolution:p,resourceOptions:f}=r;t&&!(t instanceof Resource)&&((t=autoDetectResource(t,f)).internal=!0),this.resolution=p||settings.RESOLUTION,this.width=Math.round((a||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=s,this._wrapMode=h,this._scaleMode=o,this.format=c,this.type=u,this.target=d,this.alphaMode=i,this.uid=uid(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=a>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return void 0!==e&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),void 0!==t&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=isPow2(this.realWidth)&&isPow2(this.realHeight)}setResolution(e){const t=this.resolution;return t===e||(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT()),this}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete BaseTextureCache[this.cacheId],delete TextureCache[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,r,i=settings.STRICT_TEXTURE_CACHE){const n="string"==typeof t;let s=null;if(n)s=t;else{if(!t._pixiId){const e=(null==r?void 0:r.pixiIdPrefix)||"pixiid";t._pixiId=`${e}_${uid()}`}s=t._pixiId}let o=BaseTextureCache[s];if(n&&i&&!o)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return o||(o=new e(t,r),o.cacheId=s,e.addToCache(o,s)),o}static fromBuffer(t,r,i,n){t=t||new Float32Array(r*i*4);const s=new BufferResource(t,Vt({width:r,height:i},null==n?void 0:n.resourceOptions));let o,a;return t instanceof Float32Array?(o=FORMATS.RGBA,a=TYPES.FLOAT):t instanceof Int32Array?(o=FORMATS.RGBA_INTEGER,a=TYPES.INT):t instanceof Uint32Array?(o=FORMATS.RGBA_INTEGER,a=TYPES.UNSIGNED_INT):t instanceof Int16Array?(o=FORMATS.RGBA_INTEGER,a=TYPES.SHORT):t instanceof Uint16Array?(o=FORMATS.RGBA_INTEGER,a=TYPES.UNSIGNED_SHORT):t instanceof Int8Array?(o=FORMATS.RGBA,a=TYPES.BYTE):(o=FORMATS.RGBA,a=TYPES.UNSIGNED_BYTE),s.internal=!0,new e(s,Object.assign({},defaultBufferOptions,{type:a,format:o},n))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),BaseTextureCache[t]&&BaseTextureCache[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),BaseTextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=BaseTextureCache[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete BaseTextureCache[e],t}}else if(null!=e&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete BaseTextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};_BaseTexture.defaultOptions={mipmap:MIPMAP_MODES.POW2,anisotropicLevel:0,scaleMode:SCALE_MODES.LINEAR,wrapMode:WRAP_MODES.CLAMP,alphaMode:ALPHA_MODES.UNPACK,target:TARGETS.TEXTURE_2D,format:FORMATS.RGBA,type:TYPES.UNSIGNED_BYTE},_BaseTexture._globalBatch=0;let BaseTexture=_BaseTexture;class BatchDrawCall{constructor(){this.texArray=null,this.blend=0,this.type=DRAW_MODES.TRIANGLES,this.start=0,this.size=0,this.data=null}}let UID$4=0,Buffer$1=class e{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=UID$4++,this.disposeRunner=new Runner("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?BUFFER_TYPE.ELEMENT_ARRAY_BUFFER:BUFFER_TYPE.ARRAY_BUFFER}get index(){return this.type===BUFFER_TYPE.ELEMENT_ARRAY_BUFFER}static from(t){return t instanceof Array&&(t=new Float32Array(t)),new e(t)}};class Attribute{constructor(e,t=0,r=!1,i=TYPES.FLOAT,n,s,o,a=1){this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=n,this.start=s,this.instance=o,this.divisor=a}destroy(){this.buffer=null}static from(e,t,r,i,n){return new Attribute(e,t,r,i,n)}}const map$1={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array};function interleaveTypedArrays(e,t){let r=0,i=0;const n={};for(let n=0;n<e.length;n++)i+=t[n],r+=e[n].length;const s=new ArrayBuffer(4*r);let o=null,a=0;for(let r=0;r<e.length;r++){const l=t[r],h=e[r],c=getBufferType(h);n[c]||(n[c]=new map$1[c](s)),o=n[c];for(let e=0;e<h.length;e++)o[(e/l|0)*i+a+e%l]=h[e];a+=l}return new Float32Array(s)}const byteSizeMap$1={5126:4,5123:2,5121:1};let UID$3=0;const map={Float32Array:Float32Array,Uint32Array:Uint32Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array};class Geometry{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=UID$3++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Runner("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,i=!1,n,s,o,a=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof Buffer$1||(t instanceof Array&&(t=new Float32Array(t)),t=new Buffer$1(t));const l=e.split("|");if(l.length>1){for(let e=0;e<l.length;e++)this.addAttribute(l[e],t,r,i,n);return this}let h=this.buffers.indexOf(t);return-1===h&&(this.buffers.push(t),h=this.buffers.length-1),this.attributes[e]=new Attribute(h,r,i,n,s,o,a),this.instanced=this.instanced||a,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Buffer$1||(e instanceof Array&&(e=new Uint16Array(e)),e=new Buffer$1(e)),e.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(1===this.buffers.length||2===this.buffers.length&&this.indexBuffer)return this;const e=[],t=[],r=new Buffer$1;let i;for(i in this.attributes){const r=this.attributes[i],n=this.buffers[r.buffer];e.push(n.data),t.push(r.size*byteSizeMap$1[r.type]/4),r.buffer=0}for(r.data=interleaveTypedArrays(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Geometry;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new Buffer$1(this.buffers[t].data.slice(0));for(const t in this.attributes){const r=this.attributes[t];e.attributes[t]=new Attribute(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER),e}static merge(e){const t=new Geometry,r=[],i=[],n=[];let s;for(let t=0;t<e.length;t++){s=e[t];for(let e=0;e<s.buffers.length;e++)i[e]=i[e]||0,i[e]+=s.buffers[e].data.length,n[e]=0}for(let e=0;e<s.buffers.length;e++)r[e]=new(map[getBufferType(s.buffers[e].data)])(i[e]),t.buffers[e]=new Buffer$1(r[e]);for(let t=0;t<e.length;t++){s=e[t];for(let e=0;e<s.buffers.length;e++)r[e].set(s.buffers[e].data,n[e]),n[e]+=s.buffers[e].data.length}if(t.attributes=s.attributes,s.indexBuffer){t.indexBuffer=t.buffers[s.buffers.indexOf(s.indexBuffer)],t.indexBuffer.type=BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;let r=0,i=0,n=0,o=0;for(let e=0;e<s.buffers.length;e++)if(s.buffers[e]!==s.indexBuffer){o=e;break}for(const e in s.attributes){const t=s.attributes[e];(0|t.buffer)===o&&(i+=t.size*byteSizeMap$1[t.type]/4)}for(let s=0;s<e.length;s++){const a=e[s].indexBuffer.data;for(let e=0;e<a.length;e++)t.indexBuffer.data[e+n]+=r;r+=e[s].buffers[o].data.length/i,n+=a.length}}return t}}class BatchGeometry extends Geometry{constructor(e=!1){super(),this._buffer=new Buffer$1(null,e,!1),this._indexBuffer=new Buffer$1(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,TYPES.FLOAT).addAttribute("aColor",this._buffer,4,!0,TYPES.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,TYPES.FLOAT).addIndex(this._indexBuffer)}}const PI_2=2*Math.PI;var SHAPES=(e=>(e[e.POLY=0]="POLY",e[e.RECT=1]="RECT",e[e.CIRC=2]="CIRC",e[e.ELIP=3]="ELIP",e[e.RREC=4]="RREC",e))(SHAPES||{});class Point{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new Point(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}}Point.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};const tempPoints$1=[new Point,new Point,new Point,new Point];class Rectangle{constructor(e=0,t=0,r=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(i),this.type=SHAPES.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Rectangle(0,0,0,0)}clone(){return new Rectangle(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){const t=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=t)return!1;const r=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>r}const r=this.left,i=this.right,n=this.top,s=this.bottom;if(i<=r||s<=n)return!1;const o=tempPoints$1[0].set(e.left,e.top),a=tempPoints$1[1].set(e.left,e.bottom),l=tempPoints$1[2].set(e.right,e.top),h=tempPoints$1[3].set(e.right,e.bottom);if(l.x<=o.x||a.y<=o.y)return!1;const c=Math.sign(t.a*t.d-t.b*t.c);if(0===c||(t.apply(o,o),t.apply(a,a),t.apply(l,l),t.apply(h,h),Math.max(o.x,a.x,l.x,h.x)<=r||Math.min(o.x,a.x,l.x,h.x)>=i||Math.max(o.y,a.y,l.y,h.y)<=n||Math.min(o.y,a.y,l.y,h.y)>=s))return!1;const u=c*(a.y-o.y),d=c*(o.x-a.x),p=u*r+d*n,f=u*i+d*n,_=u*r+d*s,m=u*i+d*s;if(Math.max(p,f,_,m)<=u*o.x+d*o.y||Math.min(p,f,_,m)>=u*h.x+d*h.y)return!1;const g=c*(o.y-l.y),y=c*(l.x-o.x),v=g*r+y*n,E=g*i+y*n,T=g*r+y*s,b=g*i+y*s;return!(Math.max(v,E,T,b)<=g*o.x+y*o.y||Math.min(v,E,T,b)>=g*h.x+y*h.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t,this}fit(e){const t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),n=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(n-i,0),this}ceil(e=1,t=.001){const r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){const t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),n=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=n-i,this}}Rectangle.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};class Matrix{constructor(e=1,t=0,r=0,i=1,n=0,s=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=s}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,i,n,s){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=n,this.ty=s,this}toArray(e,t){this.array||(this.array=new Float32Array(9));const r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new Point;const r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t}applyInverse(e,t){t=t||new Point;const r=1/(this.a*this.d+this.c*-this.b),i=e.x,n=e.y;return t.x=this.d*r*i+-this.c*r*n+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*n+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){const t=Math.cos(e),r=Math.sin(e),i=this.a,n=this.c,s=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=n*t-this.d*r,this.d=n*r+this.d*t,this.tx=s*t-this.ty*r,this.ty=s*r+this.ty*t,this}append(e){const t=this.a,r=this.b,i=this.c,n=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*n,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*n,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*n+this.ty,this}setTransform(e,t,r,i,n,s,o,a,l){return this.a=Math.cos(o+l)*n,this.b=Math.sin(o+l)*n,this.c=-Math.sin(o-a)*s,this.d=Math.cos(o-a)*s,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this}prepend(e){const t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){const t=this.a,r=this.c;this.a=t*e.a+this.b*e.c,this.b=t*e.b+this.b*e.d,this.c=r*e.a+this.d*e.c,this.d=r*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){const t=this.a,r=this.b,i=this.c,n=this.d,s=e.pivot,o=-Math.atan2(-i,n),a=Math.atan2(r,t),l=Math.abs(o+a);return l<1e-5||Math.abs(PI_2-l)<1e-5?(e.rotation=a,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=o,e.skew.y=a),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(i*i+n*n),e.position.x=this.tx+(s.x*t+s.y*i),e.position.y=this.ty+(s.x*r+s.y*n),e}invert(){const e=this.a,t=this.b,r=this.c,i=this.d,n=this.tx,s=e*i-t*r;return this.a=i/s,this.b=-t/s,this.c=-r/s,this.d=e/s,this.tx=(r*this.ty-i*n)/s,this.ty=-(e*this.ty-t*n)/s,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new Matrix;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new Matrix}static get TEMP_MATRIX(){return new Matrix}}Matrix.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};const ux=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],uy=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],vx=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],vy=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],rotationCayley=[],rotationMatrices=[],signum=Math.sign;function init(){for(let e=0;e<16;e++){const t=[];rotationCayley.push(t);for(let r=0;r<16;r++){const i=signum(ux[e]*ux[r]+vx[e]*uy[r]),n=signum(uy[e]*ux[r]+vy[e]*uy[r]),s=signum(ux[e]*vx[r]+vx[e]*vy[r]),o=signum(uy[e]*vx[r]+vy[e]*vy[r]);for(let e=0;e<16;e++)if(ux[e]===i&&uy[e]===n&&vx[e]===s&&vy[e]===o){t.push(e);break}}}for(let e=0;e<16;e++){const t=new Matrix;t.set(ux[e],uy[e],vx[e],vy[e],0,0),rotationMatrices.push(t)}}init();const groupD8={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:e=>ux[e],uY:e=>uy[e],vX:e=>vx[e],vY:e=>vy[e],inv:e=>8&e?15&e:7&-e,add:(e,t)=>rotationCayley[e][t],sub:(e,t)=>rotationCayley[e][groupD8.inv(t)],rotate180:e=>4^e,isVertical:e=>2==(3&e),byDirection:(e,t)=>2*Math.abs(e)<=Math.abs(t)?t>=0?groupD8.S:groupD8.N:2*Math.abs(t)<=Math.abs(e)?e>0?groupD8.E:groupD8.W:t>0?e>0?groupD8.SE:groupD8.SW:e>0?groupD8.NE:groupD8.NW,matrixAppendRotationInv:(e,t,r=0,i=0)=>{const n=rotationMatrices[groupD8.inv(t)];n.tx=r,n.ty=i,e.append(n)}};class ObservablePoint{constructor(e,t,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new ObservablePoint(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}ObservablePoint.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};const _Transform=class{constructor(){this.worldTransform=new Matrix,this.localTransform=new Matrix,this.position=new ObservablePoint(this.onChange,this,0,0),this.scale=new ObservablePoint(this.onChange,this,1,1),this.pivot=new ObservablePoint(this.onChange,this,0,0),this.skew=new ObservablePoint(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){const e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(e){const t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){const r=e.worldTransform,i=this.worldTransform;i.a=t.a*r.a+t.b*r.c,i.b=t.a*r.b+t.b*r.d,i.c=t.c*r.a+t.d*r.c,i.d=t.c*r.b+t.d*r.d,i.tx=t.tx*r.a+t.ty*r.c+r.tx,i.ty=t.tx*r.b+t.ty*r.d+r.ty,this._parentID=e._worldID,this._worldID++}}setFromMatrix(e){e.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}};_Transform.IDENTITY=new _Transform;let Transform=_Transform;Transform.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var defaultFragment$2="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor *= texture2D(uSampler, vTextureCoord);\n}",defaultVertex$3="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void){\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vTextureCoord = aTextureCoord;\n}\n";function compileShader(e,t,r){const i=e.createShader(t);return e.shaderSource(i,r),e.compileShader(i),i}function booleanArray(e){const t=new Array(e);for(let e=0;e<t.length;e++)t[e]=!1;return t}function defaultValue(e,t){switch(e){case"float":case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"uvec2":return new Uint32Array(2*t);case"uvec3":return new Uint32Array(3*t);case"uvec4":return new Uint32Array(4*t);case"bool":return!1;case"bvec2":return booleanArray(2*t);case"bvec3":return booleanArray(3*t);case"bvec4":return booleanArray(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const uniformParsers=[{test:e=>"float"===e.type&&1===e.size&&!e.isArray,code:e=>`\n            if(uv["${e}"] !== ud["${e}"].value)\n            {\n                ud["${e}"].value = uv["${e}"]\n                gl.uniform1f(ud["${e}"].location, uv["${e}"])\n            }\n            `},{test:(e,t)=>!("sampler2D"!==e.type&&"samplerCube"!==e.type&&"sampler2DArray"!==e.type||1!==e.size||e.isArray||null!=t&&void 0===t.castToBaseTexture),code:e=>`t = syncData.textureCount++;\n\n            renderer.texture.bind(uv["${e}"], t);\n\n            if(ud["${e}"].value !== t)\n            {\n                ud["${e}"].value = t;\n                gl.uniform1i(ud["${e}"].location, t);\n; // eslint-disable-line max-len\n            }`},{test:(e,t)=>"mat3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.a,code:e=>`\n            gl.uniformMatrix3fv(ud["${e}"].location, false, uv["${e}"].toArray(true));\n            `,codeUbo:e=>`\n                var ${e}_matrix = uv.${e}.toArray(true);\n\n                data[offset] = ${e}_matrix[0];\n                data[offset+1] = ${e}_matrix[1];\n                data[offset+2] = ${e}_matrix[2];\n        \n                data[offset + 4] = ${e}_matrix[3];\n                data[offset + 5] = ${e}_matrix[4];\n                data[offset + 6] = ${e}_matrix[5];\n        \n                data[offset + 8] = ${e}_matrix[6];\n                data[offset + 9] = ${e}_matrix[7];\n                data[offset + 10] = ${e}_matrix[8];\n            `},{test:(e,t)=>"vec2"===e.type&&1===e.size&&!e.isArray&&void 0!==t.x,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    gl.uniform2f(ud["${e}"].location, v.x, v.y);\n                }`,codeUbo:e=>`\n                v = uv.${e};\n\n                data[offset] = v.x;\n                data[offset+1] = v.y;\n            `},{test:e=>"vec2"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    gl.uniform2f(ud["${e}"].location, v[0], v[1]);\n                }\n            `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.width,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)\n                {\n                    cv[0] = v.x;\n                    cv[1] = v.y;\n                    cv[2] = v.width;\n                    cv[3] = v.height;\n                    gl.uniform4f(ud["${e}"].location, v.x, v.y, v.width, v.height)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.x;\n                    data[offset+1] = v.y;\n                    data[offset+2] = v.width;\n                    data[offset+3] = v.height;\n                `},{test:(e,t)=>"vec4"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n                    cv[3] = v.alpha;\n                    gl.uniform4f(ud["${e}"].location, v.red, v.green, v.blue, v.alpha)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                    data[offset+3] = v.alpha;\n                `},{test:(e,t)=>"vec3"===e.type&&1===e.size&&!e.isArray&&void 0!==t.red,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)\n                {\n                    cv[0] = v.red;\n                    cv[1] = v.green;\n                    cv[2] = v.blue;\n    \n                    gl.uniform3f(ud["${e}"].location, v.red, v.green, v.blue)\n                }`,codeUbo:e=>`\n                    v = uv.${e};\n\n                    data[offset] = v.red;\n                    data[offset+1] = v.green;\n                    data[offset+2] = v.blue;\n                `},{test:e=>"vec4"===e.type&&1===e.size&&!e.isArray,code:e=>`\n                cv = ud["${e}"].value;\n                v = uv["${e}"];\n\n                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n                {\n                    cv[0] = v[0];\n                    cv[1] = v[1];\n                    cv[2] = v[2];\n                    cv[3] = v[3];\n\n                    gl.uniform4f(ud["${e}"].location, v[0], v[1], v[2], v[3])\n                }`}],GLSL_TO_SINGLE_SETTERS_CACHED={float:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1f(location, v);\n    }",vec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2f(location, v[0], v[1])\n    }",vec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3f(location, v[0], v[1], v[2])\n    }",vec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n    }",int:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",ivec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",ivec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",ivec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",uint:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1ui(location, v);\n    }",uvec2:"\n    if (cv[0] !== v[0] || cv[1] !== v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2ui(location, v[0], v[1]);\n    }",uvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3ui(location, v[0], v[1], v[2]);\n    }",uvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n    }",bool:"\n    if (cv !== v)\n    {\n        cu.value = v;\n        gl.uniform1i(location, v);\n    }",bvec2:"\n    if (cv[0] != v[0] || cv[1] != v[1])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n\n        gl.uniform2i(location, v[0], v[1]);\n    }",bvec3:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n\n        gl.uniform3i(location, v[0], v[1], v[2]);\n    }",bvec4:"\n    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])\n    {\n        cv[0] = v[0];\n        cv[1] = v[1];\n        cv[2] = v[2];\n        cv[3] = v[3];\n\n        gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n    }",mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",samplerCube:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }",sampler2DArray:"\n    if (cv !== v)\n    {\n        cu.value = v;\n\n        gl.uniform1i(location, v);\n    }"},GLSL_TO_ARRAY_SETTERS={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function generateUniformsSync(e,t){var r;const i=["\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n    "];for(const n in e.uniforms){const s=t[n];if(!s){!0===(null==(r=e.uniforms[n])?void 0:r.group)&&(e.uniforms[n].ubo?i.push(`\n                        renderer.shader.syncUniformBufferGroup(uv.${n}, '${n}');\n                    `):i.push(`\n                        renderer.shader.syncUniformGroup(uv.${n}, syncData);\n                    `));continue}const o=e.uniforms[n];let a=!1;for(let e=0;e<uniformParsers.length;e++)if(uniformParsers[e].test(s,o)){i.push(uniformParsers[e].code(n,o)),a=!0;break}if(!a){const e=(1!==s.size||s.isArray?GLSL_TO_ARRAY_SETTERS:GLSL_TO_SINGLE_SETTERS_CACHED)[s.type].replace("location",`ud["${n}"].location`);i.push(`\n            cu = ud["${n}"];\n            cv = cu.value;\n            v = uv["${n}"];\n            ${e};`)}}return new Function("ud","uv","renderer","syncData",i.join("\n"))}const unknownContext={};let context=unknownContext,maxFragmentPrecision;function getTestContext(){if(context===unknownContext||null!=context&&context.isContextLost()){const e=settings.ADAPTER.createCanvas();let t;settings.PREFER_ENV>=ENV.WEBGL2&&(t=e.getContext("webgl2",{})),t||(t=e.getContext("webgl",{})||e.getContext("experimental-webgl",{}),t?t.getExtension("WEBGL_draw_buffers"):t=null),context=t}return context}function getMaxFragmentPrecision(){if(!maxFragmentPrecision){maxFragmentPrecision=PRECISION.MEDIUM;const e=getTestContext();if(e&&e.getShaderPrecisionFormat){const t=e.getShaderPrecisionFormat(e.FRAGMENT_SHADER,e.HIGH_FLOAT);t&&(maxFragmentPrecision=t.precision?PRECISION.HIGH:PRECISION.MEDIUM)}}return maxFragmentPrecision}function logPrettyShaderError(e,t){const r=e.getShaderSource(t).split("\n").map(((e,t)=>`${t}: ${e}`)),i=e.getShaderInfoLog(t),n=i.split("\n"),s={},o=n.map((e=>parseFloat(e.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1")))).filter((e=>!(!e||s[e]||(s[e]=!0,0)))),a=[""];o.forEach((e=>{r[e-1]=`%c${r[e-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")}));const l=r.join("\n");a[0]=l,console.error(i),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function logProgramError(e,t,r,i){e.getProgramParameter(t,e.LINK_STATUS)||(e.getShaderParameter(r,e.COMPILE_STATUS)||logPrettyShaderError(e,r),e.getShaderParameter(i,e.COMPILE_STATUS)||logPrettyShaderError(e,i),console.error("PixiJS Error: Could not initialize shader."),""!==e.getProgramInfoLog(t)&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(t)))}const GLSL_TO_SIZE={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function mapSize(e){return GLSL_TO_SIZE[e]}let GL_TABLE=null;const GL_TO_GLSL_TYPES={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function mapType(e,t){if(!GL_TABLE){const t=Object.keys(GL_TO_GLSL_TYPES);GL_TABLE={};for(let r=0;r<t.length;++r){const i=t[r];GL_TABLE[e[i]]=GL_TO_GLSL_TYPES[i]}}return GL_TABLE[t]}function setPrecision(e,t,r){if("precision"!==e.substring(0,9)){let i=t;return t===PRECISION.HIGH&&r!==PRECISION.HIGH&&(i=PRECISION.MEDIUM),`precision ${i} float;\n${e}`}return r!==PRECISION.HIGH&&"precision highp"===e.substring(0,15)?e.replace("precision highp","precision mediump"):e}let unsafeEval;function unsafeEvalSupported(){if("boolean"==typeof unsafeEval)return unsafeEval;try{unsafeEval=!0===new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")}catch(e){unsafeEval=!1}return unsafeEval}let UID$2=0;const nameCache={},_Program=class e{constructor(t,r,i="pixi-shader",n={}){this.extra={},this.id=UID$2++,this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=r||e.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,"#version"!==this.vertexSrc.substring(0,8)&&(i=i.replace(/\s+/g,"-"),nameCache[i]?(nameCache[i]++,i+=`-${nameCache[i]}`):nameCache[i]=1,this.vertexSrc=`#define SHADER_NAME ${i}\n${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${i}\n${this.fragmentSrc}`,this.vertexSrc=setPrecision(this.vertexSrc,e.defaultVertexPrecision,PRECISION.HIGH),this.fragmentSrc=setPrecision(this.fragmentSrc,e.defaultFragmentPrecision,getMaxFragmentPrecision())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return defaultVertex$3}static get defaultFragmentSrc(){return defaultFragment$2}static from(t,r,i){const n=t+r;let s=ProgramCache[n];return s||(ProgramCache[n]=s=new e(t,r,i)),s}};_Program.defaultVertexPrecision=PRECISION.HIGH,_Program.defaultFragmentPrecision=isMobile.apple.device?PRECISION.HIGH:PRECISION.MEDIUM;let Program=_Program,UID$1=0;class UniformGroup{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=UID$1++,this.static=!!t,this.ubo=!!r,e instanceof Buffer$1?(this.buffer=e,this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Buffer$1(new Float32Array(1)),this.buffer.type=BUFFER_TYPE.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(this.ubo)throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them");this.uniforms[e]=new UniformGroup(t,r)}static from(e,t,r){return new UniformGroup(e,t,r)}static uboFrom(e,t){return new UniformGroup(e,null==t||t,!0)}}class Shader{constructor(e,t){this.uniformBindCount=0,this.program=e,this.uniformGroup=t?t instanceof UniformGroup?t:new UniformGroup(t):new UniformGroup({}),this.disposeRunner=new Runner("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(const r in t.uniforms){const i=t.uniforms[r];if(!0===i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){const i=Program.from(e,t);return new Shader(i,r)}}class BatchShaderGenerator{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const t=new Int32Array(e);for(let r=0;r<e;r++)t[r]=r;this.defaultGroupCache[e]=UniformGroup.from({uSamplers:t},!0);let r=this.fragTemplate;r=r.replace(/%count%/gi,`${e}`),r=r.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Program(this.vertexSrc,r)}const t={tint:new Float32Array([1,1,1,1]),translationMatrix:new Matrix,default:this.defaultGroupCache[e]};return new Shader(this.programCache[e],t)}generateSampleSrc(e){let t="";t+="\n",t+="\n";for(let r=0;r<e;r++)r>0&&(t+="\nelse "),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+="\n{",t+=`\n\tcolor = texture2D(uSamplers[${r}], vTextureCoord);`,t+="\n}";return t+="\n",t+="\n",t}}class BatchTextureArray{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function canUploadSameBuffer(){return!isMobile.apple.device}function maxRecommendedTextures(e){let t=!0;const r=settings.ADAPTER.getNavigator();if(isMobile.tablet||isMobile.phone){if(isMobile.apple.device){const e=r.userAgent.match(/OS (\d+)_(\d+)?/);e&&parseInt(e[1],10)<11&&(t=!1)}if(isMobile.android.device){const e=r.userAgent.match(/Android\s([0-9.]*)/);e&&parseInt(e[1],10)<7&&(t=!1)}}return t?e:4}class ObjectRenderer{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var defaultFragment$1="varying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\nuniform sampler2D uSamplers[%count%];\n\nvoid main(void){\n    vec4 color;\n    %forloop%\n    gl_FragColor = color * vColor;\n}\n",defaultVertex$2="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform vec4 tint;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor * tint;\n}\n";const _BatchRenderer=class e extends ObjectRenderer{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=BatchGeometry,this.vertexSize=6,this.state=State.for2d(),this.size=4*e.defaultBatchSize,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){var e;return this._defaultMaxTextures=null!=(e=this._defaultMaxTextures)?e:maxRecommendedTextures(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){var e;return this._canUploadSameBuffer=null!=(e=this._canUploadSameBuffer)?e:canUploadSameBuffer(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return deprecation("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return defaultVertex$2}static get defaultFragmentTemplate(){return defaultFragment$1}setShaderGenerator({vertex:t=e.defaultVertexSrc,fragment:r=e.defaultFragmentTemplate}={}){this.shaderGenerator=new BatchShaderGenerator(t,r)}contextChange(){const t=this.renderer.gl;settings.PREFER_ENV===ENV.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),e.defaultMaxTextures),this.maxTextures=checkMaxIfStatementsInShader(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:r}=e,i=this.size/4,n=Math.floor(i/this.maxTextures)+1;for(;t.length<i;)t.push(new BatchDrawCall);for(;r.length<n;)r.push(new BatchTextureArray);for(let e=0;e<this.maxTextures;e++)this._tempBoundTextures[e]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:r}=this,i=e._textureArrayPool,n=this.renderer.batch,s=this._tempBoundTextures,o=this.renderer.textureGC.count;let a=++BaseTexture._globalBatch,l=0,h=i[0],c=0;n.copyBoundTextures(s,r);for(let e=0;e<this._bufferSize;++e){const u=t[e];t[e]=null,u._batchEnabled!==a&&(h.count>=r&&(n.boundArray(h,s,a,r),this.buildDrawCalls(h,c,e),c=e,h=i[++l],++a),u._batchEnabled=a,u.touched=o,h.elements[h.count++]=u)}h.count>0&&(n.boundArray(h,s,a,r),this.buildDrawCalls(h,c,this._bufferSize),++l,++a);for(let e=0;e<s.length;e++)s[e]=null;BaseTexture._globalBatch=a}buildDrawCalls(t,r,i){const{_bufferedElements:n,_attributeBuffer:s,_indexBuffer:o,vertexSize:a}=this,l=e._drawCallPool;let h=this._dcIndex,c=this._aIndex,u=this._iIndex,d=l[h];d.start=this._iIndex,d.texArray=t;for(let e=r;e<i;++e){const i=n[e],p=i._texture.baseTexture,f=premultiplyBlendMode[p.alphaMode?1:0][i.blendMode];n[e]=null,r<e&&d.blend!==f&&(d.size=u-d.start,r=e,d=l[++h],d.texArray=t,d.start=u),this.packInterleavedGeometry(i,s,o,c,u),c+=i.vertexData.length/2*a,u+=i.indices.length,d.blend=f}r<i&&(d.size=u-d.start,++h),this._dcIndex=h,this._aIndex=c,this._iIndex=u}bindAndClearTexArray(e){const t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:r,_indexBuffer:i}=this;e.canUploadSameBuffer?(t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(r.rawBinaryData),t[this._flushId]._indexBuffer.update(i),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:r,state:i}=this.renderer,n=e._drawCallPool;let s=null;for(let e=0;e<t;e++){const{texArray:t,type:o,size:a,start:l,blend:h}=n[e];s!==t&&(s=t,this.bindAndClearTexArray(t)),this.state.blendMode=h,i.set(this.state),r.drawElements(o,a,r.UNSIGNED_SHORT,2*l)}}flush(){0!==this._vertexCount&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),e.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){const t=nextPow2(Math.ceil(e/8)),r=log2(t),i=8*t;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._aBuffers[i];return n||(this._aBuffers[i]=n=new ViewableBuffer(i*this.vertexSize*4)),n}getIndexBuffer(e){const t=nextPow2(Math.ceil(e/12)),r=log2(t),i=12*t;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let n=this._iBuffers[r];return n||(this._iBuffers[r]=n=new Uint16Array(i)),n}packInterleavedGeometry(e,t,r,i,n){const{uint32View:s,float32View:o}=t,a=i/this.vertexSize,l=e.uvs,h=e.indices,c=e.vertexData,u=e._texture.baseTexture._batchLocation,d=Math.min(e.worldAlpha,1),p=Color.shared.setValue(e._tintRGB).toPremultiplied(d,e._texture.baseTexture.alphaMode>0);for(let e=0;e<c.length;e+=2)o[i++]=c[e],o[i++]=c[e+1],o[i++]=l[e],o[i++]=l[e+1],s[i++]=p,o[i++]=u;for(let e=0;e<h.length;e++)r[n++]=a+h[e]}};_BatchRenderer.defaultBatchSize=4096,_BatchRenderer.extension={name:"batch",type:ExtensionType.RendererPlugin},_BatchRenderer._drawCallPool=[],_BatchRenderer._textureArrayPool=[];let BatchRenderer=_BatchRenderer;extensions.add(BatchRenderer);var defaultFragment="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void){\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n",defaultVertex$1="attribute vec2 aVertexPosition;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nuniform vec4 inputSize;\nuniform vec4 outputFrame;\n\nvec4 filterVertexPosition( void )\n{\n    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;\n\n    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);\n}\n\nvec2 filterTextureCoord( void )\n{\n    return aVertexPosition * (outputFrame.zw * inputSize.zw);\n}\n\nvoid main(void)\n{\n    gl_Position = filterVertexPosition();\n    vTextureCoord = filterTextureCoord();\n}\n";const _Filter=class e extends Shader{constructor(t,r,i){super(Program.from(t||e.defaultVertexSrc,r||e.defaultFragmentSrc),i),this.padding=0,this.resolution=e.defaultResolution,this.multisample=e.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new State}apply(e,t,r,i,n){e.applyFilter(this,t,r,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return defaultVertex$1}static get defaultFragmentSrc(){return defaultFragment}};_Filter.defaultResolution=1,_Filter.defaultMultisample=MSAA_QUALITY.NONE;let Filter=_Filter;class BackgroundSystem{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Color(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:t,background:r,backgroundAlpha:i}=e,n=null!=r?r:t;void 0!==n&&(this.color=n),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}BackgroundSystem.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},BackgroundSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"background"},extensions.add(BackgroundSystem);class BatchSystem{constructor(e){this.renderer=e,this.emptyRenderer=new ObjectRenderer(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){const{boundTextures:r}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,r,i){const{elements:n,ids:s,count:o}=e;let a=0;for(let e=0;e<o;e++){const o=n[e],l=o._batchLocation;if(l>=0&&l<i&&t[l]===o)s[e]=l;else for(;a<i;){const i=t[a];if(!i||i._batchEnabled!==r||i._batchLocation!==a){s[e]=a,o._batchLocation=a,t[a]=o;break}a++}}}destroy(){this.renderer=null}}BatchSystem.extension={type:ExtensionType.RendererSystem,name:"batch"},extensions.add(BatchSystem);let CONTEXT_UID_COUNTER=0;class ContextSystem{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++}init(e){if(e.context)this.initFromContext(e.context);else{const t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=CONTEXT_UID_COUNTER++,this.renderer.runners.contextChange.emit(e);const t=this.renderer.view;void 0!==t.addEventListener&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(settings.PREFER_ENV>=ENV.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};1===this.webGLVersion?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):2===this.webGLVersion&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout((()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()}),0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,void 0!==e.removeEventListener&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}ContextSystem.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},ContextSystem.extension={type:ExtensionType.RendererSystem,name:"context"},extensions.add(ContextSystem);class Framebuffer{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Runner("disposeFramebuffer"),this.multisample=MSAA_QUALITY.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,mipmap:MIPMAP_MODES.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new BaseTexture(null,{scaleMode:SCALE_MODES.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:MIPMAP_MODES.OFF,format:FORMATS.DEPTH_COMPONENT,type:TYPES.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(e!==this.width||t!==this.height){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){const i=this.colorTextures[r],n=i.resolution;i.setSize(e/n,t/n)}if(this.depthTexture){const r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class BaseRenderTexture extends BaseTexture{constructor(e={}){var t,r;"number"==typeof e&&(e={width:arguments[0],height:arguments[1],scaleMode:arguments[2],resolution:arguments[3]}),e.width=null!=(t=e.width)?t:100,e.height=null!=(r=e.height)?r:100,null!=e.multisample||(e.multisample=MSAA_QUALITY.NONE),super(null,e),this.mipmap=MIPMAP_MODES.OFF,this.valid=!0,this._clear=new Color([0,0,0,0]),this.framebuffer=new Framebuffer(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class BaseImageResource extends Resource{constructor(e){const t=e;super(t.naturalWidth||t.videoWidth||t.displayWidth||t.width,t.naturalHeight||t.videoHeight||t.displayHeight||t.height),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){void 0!==r||t.startsWith("data:")?!1!==r&&(e.crossOrigin="string"==typeof r?r:"anonymous"):e.crossOrigin=determineCrossOrigin(t)}upload(e,t,r,i){const n=e.gl,s=t.realWidth,o=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||0===i.naturalWidth)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===ALPHA_MODES.UNPACK),this.noSubImage||t.target!==n.TEXTURE_2D||r.width!==s||r.height!==o?(r.width=s,r.height=o,n.texImage2D(t.target,0,r.internalFormat,t.format,r.type,i)):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t.format,r.type,i),!0}update(){if(this.destroyed)return;const e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}}class ImageResource extends BaseImageResource{constructor(e,t){var r;if(t=t||{},"string"==typeof e){const r=new Image;BaseImageResource.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(null!=(r=t.createBitmap)?r:settings.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.bitmap=null,this._load=null,!1!==t.autoLoad&&this.load()}load(e){return this._load||(void 0!==e&&(this.createBitmap=e),this._load=new Promise(((e,t)=>{const r=this.source;this.url=r.src;const i=()=>{this.destroyed||(r.onload=null,r.onerror=null,this.update(),this._load=null,this.createBitmap?e(this.process()):e(this))};r.complete&&r.src?i():(r.onload=i,r.onerror=e=>{t(e),this.onError.emit(e)})}))),this._load}process(){const e=this.source;if(null!==this._process)return this._process;if(null!==this.bitmap||!globalThis.createImageBitmap)return Promise.resolve(this);const t=globalThis.createImageBitmap,r=!e.crossOrigin||"anonymous"===e.crossOrigin;return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then((e=>e.blob())).then((r=>t(r,0,0,e.width,e.height,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"}))).then((e=>this.destroyed?Promise.reject():(this.bitmap=e,this.update(),this._process=null,Promise.resolve(this)))),this._process}upload(e,t,r){if("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let e=!0;const i=t._glTextures;for(const n in i){const s=i[n];if(s!==r&&s.dirtyId!==t.dirtyId){e=!1;break}}e&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&("string"==typeof e||e instanceof HTMLImageElement)}}class TextureUvs{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){const i=t.width,n=t.height;if(r){const t=e.width/2/i,s=e.height/2/n,o=e.x/i+t,a=e.y/n+s;r=groupD8.add(r,groupD8.NW),this.x0=o+t*groupD8.uX(r),this.y0=a+s*groupD8.uY(r),r=groupD8.add(r,2),this.x1=o+t*groupD8.uX(r),this.y1=a+s*groupD8.uY(r),r=groupD8.add(r,2),this.x2=o+t*groupD8.uX(r),this.y2=a+s*groupD8.uY(r),r=groupD8.add(r,2),this.x3=o+t*groupD8.uX(r),this.y3=a+s*groupD8.uY(r)}else this.x0=e.x/i,this.y0=e.y/n,this.x1=(e.x+e.width)/i,this.y1=e.y/n,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/n,this.x3=e.x/i,this.y3=(e.y+e.height)/n;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}}TextureUvs.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};const DEFAULT_UVS=new TextureUvs;function removeAllHandlers(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}class Texture extends EventEmitter$1{constructor(e,t,r,i,n,s,o){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new Rectangle(0,0,1,1)),e instanceof Texture&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=DEFAULT_UVS,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(n||0),!0===n)this._rotate=2;else if(this._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=s?new Point(s.x,s.y):new Point(0,0),this.defaultBorders=o,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:e}=this.baseTexture;null!=e&&e.url&&TextureCache[e.url]&&Texture.removeFromCache(e.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Texture.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){var e;const t=this._frame.clone(),r=this._frame===this.orig?t:this.orig.clone(),i=new Texture(this.baseTexture,!this.noFrame&&t,r,null==(e=this.trim)?void 0:e.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(i._frame=t),i}updateUvs(){this._uvs===DEFAULT_UVS&&(this._uvs=new TextureUvs),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=settings.STRICT_TEXTURE_CACHE){const i="string"==typeof e;let n=null;if(i)n=e;else if(e instanceof BaseTexture){if(!e.cacheId){const r=(null==t?void 0:t.pixiIdPrefix)||"pixiid";e.cacheId=`${r}-${uid()}`,BaseTexture.addToCache(e,e.cacheId)}n=e.cacheId}else{if(!e._pixiId){const r=(null==t?void 0:t.pixiIdPrefix)||"pixiid";e._pixiId=`${r}_${uid()}`}n=e._pixiId}let s=TextureCache[n];if(i&&r&&!s)throw new Error(`The cacheId "${n}" does not exist in TextureCache.`);return s||e instanceof BaseTexture?!s&&e instanceof BaseTexture&&(s=new Texture(e),Texture.addToCache(s,n)):(t.resolution||(t.resolution=getResolutionOfUrl(e)),s=new Texture(new BaseTexture(e,t)),s.baseTexture.cacheId=n,BaseTexture.addToCache(s.baseTexture,n),Texture.addToCache(s,n)),s}static fromURL(e,t){const r=Object.assign({autoLoad:!1},null==t?void 0:t.resourceOptions),i=Texture.from(e,Object.assign({resourceOptions:r},t),!1),n=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):n.load().then((()=>Promise.resolve(i)))}static fromBuffer(e,t,r,i){return new Texture(BaseTexture.fromBuffer(e,t,r,i))}static fromLoader(e,t,r,i){const n=new BaseTexture(e,Object.assign({scaleMode:BaseTexture.defaultOptions.scaleMode,resolution:getResolutionOfUrl(t)},i)),{resource:s}=n;s instanceof ImageResource&&(s.url=t);const o=new Texture(n);return r||(r=t),BaseTexture.addToCache(o.baseTexture,r),Texture.addToCache(o,r),r!==t&&(BaseTexture.addToCache(o.baseTexture,t),Texture.addToCache(o,t)),o.baseTexture.valid?Promise.resolve(o):new Promise((e=>{o.baseTexture.once("loaded",(()=>e(o)))}))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),TextureCache[t]&&TextureCache[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),TextureCache[t]=e)}static removeFromCache(e){if("string"==typeof e){const t=TextureCache[e];if(t){const r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete TextureCache[e],t}}else if(null!=e&&e.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)TextureCache[e.textureCacheIds[t]]===e&&delete TextureCache[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:t,y:r,width:i,height:n}=e,s=t+i>this.baseTexture.width,o=r+n>this.baseTexture.height;if(s||o){const e=s&&o?"and":"or",a=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,l=`Y: ${r} + ${n} = ${r+n} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${a} ${e} ${l}`)}this.valid=i&&n&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return Texture._EMPTY||(Texture._EMPTY=new Texture(new BaseTexture),removeAllHandlers(Texture._EMPTY),removeAllHandlers(Texture._EMPTY.baseTexture)),Texture._EMPTY}static get WHITE(){if(!Texture._WHITE){const e=settings.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),Texture._WHITE=new Texture(BaseTexture.from(e)),removeAllHandlers(Texture._WHITE),removeAllHandlers(Texture._WHITE.baseTexture)}return Texture._WHITE}}class RenderTexture extends Texture{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){const i=this.baseTexture.resolution,n=Math.round(e*i)/i,s=Math.round(t*i)/i;this.valid=n>0&&s>0,this._frame.width=this.orig.width=n,this._frame.height=this.orig.height=s,r&&this.baseTexture.resize(n,s),this.updateUvs()}setResolution(e){const{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new RenderTexture(new BaseRenderTexture(e))}}class RenderTexturePool{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,t,r=MSAA_QUALITY.NONE){const i=new BaseRenderTexture(Object.assign({width:e,height:t,resolution:1,multisample:r},this.textureOptions));return new RenderTexture(i)}getOptimalTexture(e,t,r=1,i=MSAA_QUALITY.NONE){let n;e=Math.max(Math.ceil(e*r-1e-6),1),t=Math.max(Math.ceil(t*r-1e-6),1),this.enableFullScreen&&e===this._pixelsWidth&&t===this._pixelsHeight?n=i>1?-i:-1:(n=((65535&(e=nextPow2(e)))<<16|65535&(t=nextPow2(t)))>>>0,i>1&&(n+=4294967296*i)),this.texturePool[n]||(this.texturePool[n]=[]);let s=this.texturePool[n].pop();return s||(s=this.createTexture(e,t,i)),s.filterPoolKey=n,s.setResolution(r),s}getFilterTexture(e,t,r){const i=this.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const t=e.filterPoolKey;e.filterFrame=null,this.texturePool[t].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=!1!==e)for(const e in this.texturePool){const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0)}this.texturePool={}}setScreenSize(e){if(e.width!==this._pixelsWidth||e.height!==this._pixelsHeight){this.enableFullScreen=e.width>0&&e.height>0;for(const e in this.texturePool){if(!(Number(e)<0))continue;const t=this.texturePool[e];if(t)for(let e=0;e<t.length;e++)t[e].destroy(!0);this.texturePool[e]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}RenderTexturePool.SCREEN_KEY=-1;class Quad extends Geometry{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class QuadUv extends Geometry{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Buffer$1(this.vertices),this.uvBuffer=new Buffer$1(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class FilterState{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=MSAA_QUALITY.NONE,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.bindingSourceFrame=new Rectangle,this.bindingDestinationFrame=new Rectangle,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const tempPoints=[new Point,new Point,new Point,new Point],tempMatrix$1=new Matrix;class FilterSystem{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new RenderTexturePool,this.statePool=[],this.quad=new Quad,this.quadUv=new QuadUv,this.tempRect=new Rectangle,this.activeState={},this.globalUniforms=new UniformGroup({outputFrame:new Rectangle,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){var r,i,n,s;const o=this.renderer,a=this.defaultFilterStack,l=this.statePool.pop()||new FilterState,h=o.renderTexture;let c,u;if(h.current){const e=h.current;c=e.resolution,u=e.multisample}else c=o.resolution,u=o.multisample;let d=t[0].resolution||c,p=null!=(r=t[0].multisample)?r:u,f=t[0].padding,_=t[0].autoFit,m=null==(i=t[0].legacy)||i;for(let e=1;e<t.length;e++){const r=t[e];d=Math.min(d,r.resolution||c),p=Math.min(p,null!=(n=r.multisample)?n:u),f=this.useMaxPadding?Math.max(f,r.padding):f+r.padding,_=_&&r.autoFit,m=m||null==(s=r.legacy)||s}1===a.length&&(this.defaultFilterStack[0].renderTexture=h.current),a.push(l),l.resolution=d,l.multisample=p,l.legacy=m,l.target=e,l.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),l.sourceFrame.pad(f);const g=this.tempRect.copyFrom(h.sourceFrame);o.projection.transform&&this.transformAABB(tempMatrix$1.copyFrom(o.projection.transform).invert(),g),_?(l.sourceFrame.fit(g),(l.sourceFrame.width<=0||l.sourceFrame.height<=0)&&(l.sourceFrame.width=0,l.sourceFrame.height=0)):l.sourceFrame.intersects(g)||(l.sourceFrame.width=0,l.sourceFrame.height=0),this.roundFrame(l.sourceFrame,h.current?h.current.resolution:o.resolution,h.sourceFrame,h.destinationFrame,o.projection.transform),l.renderTexture=this.getOptimalFilterTexture(l.sourceFrame.width,l.sourceFrame.height,d,p),l.filters=t,l.destinationFrame.width=l.renderTexture.width,l.destinationFrame.height=l.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=l.sourceFrame.width,y.height=l.sourceFrame.height,l.renderTexture.filterFrame=l.sourceFrame,l.bindingSourceFrame.copyFrom(h.sourceFrame),l.bindingDestinationFrame.copyFrom(h.destinationFrame),l.transform=o.projection.transform,o.projection.transform=null,h.bind(l.renderTexture,l.sourceFrame,y),o.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;const i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;const n=i.inputSize,s=i.inputPixel,o=i.inputClamp;if(n[0]=t.destinationFrame.width,n[1]=t.destinationFrame.height,n[2]=1/n[0],n[3]=1/n[1],s[0]=Math.round(n[0]*t.resolution),s[1]=Math.round(n[1]*t.resolution),s[2]=1/s[0],s[3]=1/s[1],o[0]=.5*s[2],o[1]=.5*s[3],o[2]=t.sourceFrame.width*n[2]-.5*s[2],o[3]=t.sourceFrame.height*n[3]-.5*s[3],t.legacy){const e=i.filterArea;e[0]=t.destinationFrame.width,e[1]=t.destinationFrame.height,e[2]=t.sourceFrame.x,e[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const a=e[e.length-1];if(this.renderer.framebuffer.blit(),1===r.length)r[0].apply(this,t.renderTexture,a.renderTexture,CLEAR_MODES.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let e=t.renderTexture,i=this.getOptimalFilterTexture(e.width,e.height,t.resolution);i.filterFrame=e.filterFrame;let n=0;for(n=0;n<r.length-1;++n){1===n&&t.multisample>1&&(i=this.getOptimalFilterTexture(e.width,e.height,t.resolution),i.filterFrame=e.filterFrame),r[n].apply(this,e,i,CLEAR_MODES.CLEAR,t);const s=e;e=i,i=s}r[n].apply(this,e,a.renderTexture,CLEAR_MODES.BLEND,t),n>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(e),this.returnFilterTexture(i)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=CLEAR_MODES.CLEAR){const{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,null==e?void 0:e.filterFrame){const t=this.tempRect;t.x=0,t.y=0,t.width=e.filterFrame.width,t.height=e.filterFrame.height,r.bind(e,e.filterFrame,t)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const n=1&i.stateId||this.forceClear;(t===CLEAR_MODES.CLEAR||t===CLEAR_MODES.BLIT&&n)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,i){const n=this.renderer;n.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,n.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),n.geometry.bind(this.quadUv),n.geometry.draw(DRAW_MODES.TRIANGLES)):(n.geometry.bind(this.quad),n.geometry.draw(DRAW_MODES.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){const{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:n}=t._texture,s=e.set(i.width,0,0,i.height,r.x,r.y),o=t.worldTransform.copyTo(Matrix.TEMP_MATRIX);return o.invert(),s.prepend(o),s.scale(1/n.width,1/n.height),s.translate(t.anchor.x,t.anchor.y),s}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,i=MSAA_QUALITY.NONE){return this.texturePool.getOptimalTexture(e,t,r,i)}getFilterTexture(e,t,r){if("number"==typeof e){const r=e;e=t,t=r}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||MSAA_QUALITY.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){const r=tempPoints[0],i=tempPoints[1],n=tempPoints[2],s=tempPoints[3];r.set(t.left,t.top),i.set(t.left,t.bottom),n.set(t.right,t.top),s.set(t.right,t.bottom),e.apply(r,r),e.apply(i,i),e.apply(n,n),e.apply(s,s);const o=Math.min(r.x,i.x,n.x,s.x),a=Math.min(r.y,i.y,n.y,s.y),l=Math.max(r.x,i.x,n.x,s.x),h=Math.max(r.y,i.y,n.y,s.y);t.x=o,t.y=a,t.width=l-o,t.height=h-a}roundFrame(e,t,r,i,n){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(n){const{a:e,b:t,c:r,d:i}=n;if((Math.abs(t)>1e-4||Math.abs(r)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4))return}(n=n?tempMatrix$1.copyFrom(n):tempMatrix$1.identity()).translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(n,e),e.ceil(t),this.transformAABB(n.invert(),e)}}}FilterSystem.extension={type:ExtensionType.RendererSystem,name:"filter"},extensions.add(FilterSystem);class GLFramebuffer{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=MSAA_QUALITY.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const tempRectangle=new Rectangle;class FramebufferSystem{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new Framebuffer(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Rectangle,this.hasMRT=!0,this.writeDepthTexture=!0,1===this.renderer.context.webGLVersion){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=e=>t.drawBuffersWEBGL(e):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){const{gl:i}=this;if(e){const n=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,n.framebuffer)),n.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,n.mipLevel=r),n.dirtyId!==e.dirtyId&&(n.dirtyId=e.dirtyId,n.dirtyFormat!==e.dirtyFormat?(n.dirtyFormat=e.dirtyFormat,n.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):n.dirtySize!==e.dirtySize&&(n.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let t=0;t<e.colorTextures.length;t++){const r=e.colorTextures[t];this.renderer.texture.unbind(r.parentTextureArray||r)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){const e=t.width>>r,i=t.height>>r,n=e/t.width;this.setViewport(t.x*n,t.y*n,e,i)}else{const t=e.width>>r,i=e.height>>r;this.setViewport(0,0,t,i)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,i){const n=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),(n.width!==r||n.height!==i||n.x!==e||n.y!==t)&&(n.x=e,n.y=t,n.width=r,n.height=i,this.gl.viewport(e,t,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,i,n=BUFFER_BITS.COLOR|BUFFER_BITS.DEPTH){const{gl:s}=this;s.clearColor(e,t,r,i),s.clear(n)}initFramebuffer(e){const{gl:t}=this,r=new GLFramebuffer(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){const{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){let i;t.bindRenderbuffer(t.RENDERBUFFER,r.stencil),i=1===this.renderer.context.webGLVersion?t.DEPTH_STENCIL:e.depth&&e.stencil?t.DEPTH24_STENCIL8:e.depth?t.DEPTH_COMPONENT24:t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,i,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,i,e.width,e.height)}const i=e.colorTextures;let n=i.length;t.drawBuffers||(n=Math.min(n,1));for(let s=0;s<n;s++){const n=i[s],o=n.parentTextureArray||n;this.renderer.texture.bind(o,0),0===s&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){const{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],n=e.colorTextures;let s=n.length;r.drawBuffers||(s=Math.min(s,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const o=[];for(let a=0;a<s;a++){const s=n[a],l=s.parentTextureArray||s;this.renderer.texture.bind(l,0),0===a&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,l._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+a,s.target,l._glTextures[this.CONTEXT_UID].texture,t),o.push(r.COLOR_ATTACHMENT0+a))}if(o.length>1&&r.drawBuffers(o),e.depthTexture&&this.writeDepthTexture){const i=e.depthTexture;this.renderer.texture.bind(i,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,i._glTextures[this.CONTEXT_UID].texture,t)}if(!e.stencil&&!e.depth||e.depthTexture&&this.writeDepthTexture)i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null);else{let t,n;i.stencil=i.stencil||r.createRenderbuffer(),1===this.renderer.context.webGLVersion?(t=r.DEPTH_STENCIL_ATTACHMENT,n=r.DEPTH_STENCIL):e.depth&&e.stencil?(t=r.DEPTH_STENCIL_ATTACHMENT,n=r.DEPTH24_STENCIL8):e.depth?(t=r.DEPTH_ATTACHMENT,n=r.DEPTH_COMPONENT24):(t=r.STENCIL_ATTACHMENT,n=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,n,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,n,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,t,r.RENDERBUFFER,i.stencil)}}canMultisampleFramebuffer(e){return 1!==this.renderer.context.webGLVersion&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:t}=this;let r=MSAA_QUALITY.NONE;if(e<=1||null===t)return r;for(let i=0;i<t.length;i++)if(t[i]<=e){r=t[i];break}return 1===r&&(r=MSAA_QUALITY.NONE),r}blit(e,t,r){const{current:i,renderer:n,gl:s,CONTEXT_UID:o}=this;if(2!==n.context.webGLVersion||!i)return;const a=i.glFramebuffers[o];if(!a)return;if(!e){if(!a.msaaBuffer)return;const t=i.colorTextures[0];if(!t)return;a.blitFramebuffer||(a.blitFramebuffer=new Framebuffer(i.width,i.height),a.blitFramebuffer.addColorTexture(0,t)),(e=a.blitFramebuffer).colorTextures[0]!==t&&(e.colorTextures[0]=t,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||((t=tempRectangle).width=i.width,t.height=i.height),r||(r=t);const l=t.width===r.width&&t.height===r.height;this.bind(e),s.bindFramebuffer(s.READ_FRAMEBUFFER,a.framebuffer),s.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,s.COLOR_BUFFER_BIT,l?s.NEAREST:s.LINEAR),s.bindFramebuffer(s.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){const r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];const n=this.managedFramebuffers.indexOf(e);n>=0&&this.managedFramebuffers.splice(n,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){const t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){const e=this.current;if(!e)return;const t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;const r=e.width,i=e.height,n=this.gl,s=t.stencil=n.createRenderbuffer();let o,a;n.bindRenderbuffer(n.RENDERBUFFER,s),1===this.renderer.context.webGLVersion?(o=n.DEPTH_STENCIL_ATTACHMENT,a=n.DEPTH_STENCIL):e.depth?(o=n.DEPTH_STENCIL_ATTACHMENT,a=n.DEPTH24_STENCIL8):(o=n.STENCIL_ATTACHMENT,a=n.STENCIL_INDEX8),t.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,t.multisample,a,r,i):n.renderbufferStorage(n.RENDERBUFFER,a,r,i),n.framebufferRenderbuffer(n.FRAMEBUFFER,o,n.RENDERBUFFER,s)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Rectangle}destroy(){this.renderer=null}}FramebufferSystem.extension={type:ExtensionType.RendererSystem,name:"framebuffer"},extensions.add(FramebufferSystem);const byteSizeMap={5126:4,5123:2,5121:1};class GeometrySystem{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,2!==t.webGLVersion){let t=this.renderer.context.extensions.vertexArrayObject;settings.PREFER_ENV===ENV.WEBGL_LEGACY&&(t=null),t?(e.createVertexArray=()=>t.createVertexArrayOES(),e.bindVertexArray=e=>t.bindVertexArrayOES(e),e.deleteVertexArray=e=>t.deleteVertexArrayOES(e)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(2!==t.webGLVersion){const t=e.getExtension("ANGLE_instanced_arrays");t?(e.vertexAttribDivisor=(e,r)=>t.vertexAttribDivisorANGLE(e,r),e.drawElementsInstanced=(e,r,i,n,s)=>t.drawElementsInstancedANGLE(e,r,i,n,s),e.drawArraysInstanced=(e,r,i,n)=>t.drawArraysInstancedANGLE(e,r,i,n)):this.hasInstance=!1}this.canUseUInt32ElementIndex=2===t.webGLVersion||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;const{gl:r}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],n=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},n=!0);const s=i[t.program.id]||this.initGeometryVao(e,t,n);this._activeGeometry=e,this._activeVao!==s&&(this._activeVao=s,this.hasVao?r.bindVertexArray(s):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];t.update(i)}}checkCompatibility(e,t){const r=e.attributes,i=t.attributeData;for(const e in i)if(!r[e])throw new Error(`shader and geometry incompatible, geometry missing the "${e}" attribute`)}getSignature(e,t){const r=e.attributes,i=t.attributeData,n=["g",e.id];for(const e in r)i[e]&&n.push(e,i[e].location);return n.join("-")}initGeometryVao(e,t,r=!0){const i=this.gl,n=this.CONTEXT_UID,s=this.renderer.buffer,o=t.program;o.glPrograms[n]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,o);const a=this.getSignature(e,o),l=e.glVertexArrayObjects[this.CONTEXT_UID];let h=l[a];if(h)return l[o.id]=h,h;const c=e.buffers,u=e.attributes,d={},p={};for(const e in c)d[e]=0,p[e]=0;for(const e in u)!u[e].size&&o.attributeData[e]?u[e].size=o.attributeData[e].size:u[e].size||console.warn(`PIXI Geometry attribute '${e}' size cannot be determined (likely the bound shader does not have the attribute)`),d[u[e].buffer]+=u[e].size*byteSizeMap[u[e].type];for(const e in u){const t=u[e],r=t.size;void 0===t.stride&&(d[t.buffer]===r*byteSizeMap[t.type]?t.stride=0:t.stride=d[t.buffer]),void 0===t.start&&(t.start=p[t.buffer],p[t.buffer]+=r*byteSizeMap[t.type])}h=i.createVertexArray(),i.bindVertexArray(h);for(let e=0;e<c.length;e++){const t=c[e];s.bind(t),r&&t._glBuffers[n].refCount++}return this.activateVao(e,o),l[o.id]=h,l[a]=h,i.bindVertexArray(null),s.unbind(BUFFER_TYPE.ARRAY_BUFFER),h}disposeGeometry(e,t){var r;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const i=e.glVertexArrayObjects[this.CONTEXT_UID],n=this.gl,s=e.buffers,o=null==(r=this.renderer)?void 0:r.buffer;if(e.disposeRunner.remove(this),i){if(o)for(let e=0;e<s.length;e++){const r=s[e]._glBuffers[this.CONTEXT_UID];r&&(r.refCount--,0===r.refCount&&!t&&o.dispose(s[e],t))}if(!t)for(const e in i)if("g"===e[0]){const t=i[e];this._activeVao===t&&this.unbind(),n.deleteVertexArray(t)}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){const r=this.gl,i=this.CONTEXT_UID,n=this.renderer.buffer,s=e.buffers,o=e.attributes;e.indexBuffer&&n.bind(e.indexBuffer);let a=null;for(const e in o){const l=o[e],h=s[l.buffer],c=h._glBuffers[i];if(t.attributeData[e]){a!==c&&(n.bind(h),a=c);const i=t.attributeData[e].location;if(r.enableVertexAttribArray(i),r.vertexAttribPointer(i,l.size,l.type||r.FLOAT,l.normalized,l.stride,l.start),l.instance){if(!this.hasInstance)throw new Error("geometry error, GPU Instancing is not supported on this device");r.vertexAttribDivisor(i,l.divisor)}}}}draw(e,t,r,i){const{gl:n}=this,s=this._activeGeometry;if(s.indexBuffer){const o=s.indexBuffer.data.BYTES_PER_ELEMENT,a=2===o?n.UNSIGNED_SHORT:n.UNSIGNED_INT;2===o||4===o&&this.canUseUInt32ElementIndex?s.instanced?n.drawElementsInstanced(e,t||s.indexBuffer.data.length,a,(r||0)*o,i||1):n.drawElements(e,t||s.indexBuffer.data.length,a,(r||0)*o):console.warn("unsupported index buffer type: uint32")}else s.instanced?n.drawArraysInstanced(e,r,t||s.getSize(),i||1):n.drawArrays(e,r,t||s.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}GeometrySystem.extension={type:ExtensionType.RendererSystem,name:"geometry"},extensions.add(GeometrySystem);const tempMat=new Matrix;class TextureMatrix{constructor(e,t){this._texture=e,this.mapCoord=new Matrix,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){void 0===t&&(t=e);const r=this.mapCoord;for(let i=0;i<e.length;i+=2){const n=e[i],s=e[i+1];t[i]=n*r.a+s*r.c+r.tx,t[i+1]=n*r.b+s*r.d+r.ty}return t}update(e){const t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;const r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);const i=t.orig,n=t.trim;n&&(tempMat.set(i.width/n.width,0,0,i.height/n.height,-n.x/n.width,-n.y/n.height),this.mapCoord.append(tempMat));const s=t.baseTexture,o=this.uClampFrame,a=this.clampMargin/s.resolution,l=this.clampOffset;return o[0]=(t._frame.x+a+l)/s.width,o[1]=(t._frame.y+a+l)/s.height,o[2]=(t._frame.x+t._frame.width-a+l)/s.width,o[3]=(t._frame.y+t._frame.height-a+l)/s.height,this.uClampOffset[0]=l/s.realWidth,this.uClampOffset[1]=l/s.realHeight,this.isSimple=t._frame.width===s.width&&t._frame.height===s.height&&0===t.rotate,!0}}var fragment$1="varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform float npmAlpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);\n\n    original *= (alphaMul * masky.r * alpha * clip);\n\n    gl_FragColor = original;\n}\n",vertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n";class SpriteMaskFilter extends Filter{constructor(e,t,r){let i=null;"string"!=typeof e&&void 0===t&&void 0===r&&(i=e,e=void 0,t=void 0,r=void 0),super(e||vertex,t||fragment$1,r),this.maskSprite=i,this.maskMatrix=new Matrix}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,i){const n=this._maskSprite,s=n._texture;s.valid&&(s.uvMatrix||(s.uvMatrix=new TextureMatrix(s,0)),s.uvMatrix.update(),this.uniforms.npmAlpha=s.baseTexture.alphaMode?0:1,this.uniforms.mask=s,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,n).prepend(s.uvMatrix.mapCoord),this.uniforms.alpha=n.worldAlpha,this.uniforms.maskClamp=s.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))}}class MaskData{constructor(e=null){this.type=MASK_TYPES.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=Filter.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=MASK_TYPES.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class MaskSystem{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){const e=this.maskDataPool.pop()||new MaskData;e.pooled=!0,e.maskObject=t,r=e}const i=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==MASK_TYPES.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.push(r);break;case MASK_TYPES.STENCIL:this.renderer.stencil.push(r);break;case MASK_TYPES.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case MASK_TYPES.COLOR:this.pushColorMask(r)}r.type===MASK_TYPES.SPRITE&&this.maskStack.push(r)}pop(e){const t=this.maskStack.pop();if(t&&t._target===e){if(t.enabled)switch(t.type){case MASK_TYPES.SCISSOR:this.renderer.scissor.pop(t);break;case MASK_TYPES.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case MASK_TYPES.SPRITE:this.popSpriteMask(t);break;case MASK_TYPES.COLOR:this.popColorMask(t)}if(t.reset(),t.pooled&&this.maskDataPool.push(t),0!==this.maskStack.length){const e=this.maskStack[this.maskStack.length-1];e.type===MASK_TYPES.SPRITE&&e._filters&&(e._filters[0].maskSprite=e.maskObject)}}}detect(e){const t=e.maskObject;t?t.isSprite?e.type=MASK_TYPES.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=MASK_TYPES.SCISSOR:e.type=MASK_TYPES.STENCIL:e.type=MASK_TYPES.COLOR}pushSpriteMask(e){const{maskObject:t}=e,r=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new SpriteMaskFilter])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;const n=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=n,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask(!!(1&r),!!(2&r),!!(4&r),!!(8&r))}popColorMask(e){const t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask(!!(1&r),!!(2&r),!!(4&r),!!(8&r))}destroy(){this.renderer=null}}MaskSystem.extension={type:ExtensionType.RendererSystem,name:"mask"},extensions.add(MaskSystem);class AbstractMaskSystem{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==r&&(0===i?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const tempMatrix=new Matrix,rectPool=[],_ScissorSystem=class e extends AbstractMaskSystem{constructor(e){super(e),this.glConst=settings.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){var t;if(e._scissorRectLocal)return;const r=e._scissorRect,{maskObject:i}=e,{renderer:n}=this,s=n.renderTexture,o=i.getBounds(!0,null!=(t=rectPool.pop())?t:new Rectangle);this.roundFrameToPixels(o,s.current?s.current.resolution:n.resolution,s.sourceFrame,s.destinationFrame,n.projection.transform),r&&o.fit(r),e._scissorRectLocal=o}static isMatrixRotated(e){if(!e)return!1;const{a:t,b:r,c:i,d:n}=e;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(n)>1e-4)}testScissor(t){const{maskObject:r}=t;if(!r.isFastRect||!r.isFastRect()||e.isMatrixRotated(r.worldTransform)||e.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const i=t._scissorRectLocal;return i.width>0&&i.height>0}roundFrameToPixels(t,r,i,n,s){e.isMatrixRotated(s)||((s=s?tempMatrix.copyFrom(s):tempMatrix.identity()).translate(-i.x,-i.y).scale(n.width/i.width,n.height/i.height).translate(n.x,n.y),this.renderer.filter.transformAABB(s,t),t.fit(n),t.x=Math.round(t.x*r),t.y=Math.round(t.y*r),t.width=Math.round(t.width*r),t.height=Math.round(t.height*r))}push(e){e._scissorRectLocal||this.calcScissorRect(e);const{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){const{gl:t}=this.renderer;e&&rectPool.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){const e=this.maskStack[this.maskStack.length-1]._scissorRect;let t;t=this.renderer.renderTexture.current?e.y:this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};_ScissorSystem.extension={type:ExtensionType.RendererSystem,name:"scissor"};let ScissorSystem=_ScissorSystem;extensions.add(ScissorSystem);class StencilSystem extends AbstractMaskSystem{constructor(e){super(e),this.glConst=settings.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const t=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;0===i&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;const n=e._colorMask;0!==n&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,0!==n&&(e._colorMask=n,r.colorMask(!!(1&n),!!(2&n),!!(4&n),!!(8&n))),this._useCurrent()}pop(e){const t=this.renderer.gl;if(0===this.getStackLength())t.disable(t.STENCIL_TEST);else{const r=0!==this.maskStack.length?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;0!==i&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,0!==i&&(r._colorMask=i,t.colorMask(!!(1&i),!!(2&i),!!(4&i),!!(8&i))),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}StencilSystem.extension={type:ExtensionType.RendererSystem,name:"stencil"},extensions.add(StencilSystem);class PluginSystem{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get:()=>(deprecation("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract)},prepare:{enumerable:!1,get:()=>(deprecation("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare)},interaction:{enumerable:!1,get:()=>(deprecation("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events)}})}init(){const e=this.rendererPlugins;for(const t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}PluginSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_plugin"},extensions.add(PluginSystem);class ProjectionSystem{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new Matrix,this.transform=null}update(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);const n=this.renderer;n.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,n.globalUniforms.update(),n.shader.shader&&n.shader.syncUniformGroup(n.shader.shader.uniforms.globals)}calculateProjection(e,t,r,i){const n=this.projectionMatrix,s=i?-1:1;n.identity(),n.a=1/t.width*2,n.d=s*(1/t.height*2),n.tx=-1-t.x*n.a,n.ty=-s-t.y*n.d}setTransform(e){}destroy(){this.renderer=null}}ProjectionSystem.extension={type:ExtensionType.RendererSystem,name:"projection"},extensions.add(ProjectionSystem);const tempTransform=new Transform,tempRect$1=new Rectangle;class GenerateTextureSystem{constructor(e){this.renderer=e,this._tempMatrix=new Matrix}generateTexture(e,t){const r=t||{},{region:i}=r,n=Vr(r,["region"]),s=(null==i?void 0:i.copyTo(tempRect$1))||e.getLocalBounds(tempRect$1,!0),o=n.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/o),s.height=Math.max(s.height,1/o),n.width=s.width,n.height=s.height,n.resolution=o,null!=n.multisample||(n.multisample=this.renderer.multisample);const a=RenderTexture.create(n);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=tempTransform,this.renderer.render(e,{renderTexture:a,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,a}destroy(){}}GenerateTextureSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"textureGenerator"},extensions.add(GenerateTextureSystem);const tempRect=new Rectangle,tempRect2=new Rectangle;class RenderTextureSystem{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Rectangle,this.destinationFrame=new Rectangle,this.viewportFrame=new Rectangle}contextChange(){var e;const t=null==(e=this.renderer)?void 0:e.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(t&&t.alpha&&t.premultipliedAlpha)}bind(e=null,t,r){const i=this.renderer;let n,s,o;this.current=e,e?(n=e.baseTexture,o=n.resolution,t||(tempRect.width=e.frame.width,tempRect.height=e.frame.height,t=tempRect),r||(tempRect2.x=e.frame.x,tempRect2.y=e.frame.y,tempRect2.width=t.width,tempRect2.height=t.height,r=tempRect2),s=n.framebuffer):(o=i.resolution,t||(tempRect.width=i._view.screen.width,tempRect.height=i._view.screen.height,t=tempRect),r||((r=tempRect).width=t.width,r.height=t.height));const a=this.viewportFrame;a.x=r.x*o,a.y=r.y*o,a.width=r.width*o,a.height=r.height*o,e||(a.y=i.view.height-(a.y+a.height)),a.ceil(),this.renderer.framebuffer.bind(s,a),this.renderer.projection.update(r,t,o,!s),e?this.renderer.mask.setMaskStack(n.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){const r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Color.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const n=this.destinationFrame,s=this.current?this.current.baseTexture:this.renderer._view.screen,o=n.width!==s.width||n.height!==s.height;if(o){let{x:e,y:t,width:r,height:i}=this.viewportFrame;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(e,t,r,i)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),o&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}RenderTextureSystem.extension={type:ExtensionType.RendererSystem,name:"renderTexture"},extensions.add(RenderTextureSystem);class GLProgram{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function getAttributeData(e,t){const r={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let n=0;n<i;n++){const i=t.getActiveAttrib(e,n);if(i.name.startsWith("gl_"))continue;const s=mapType(t,i.type),o={type:s,name:i.name,size:mapSize(s),location:t.getAttribLocation(e,i.name)};r[i.name]=o}return r}function getUniformData(e,t){const r={},i=t.getProgramParameter(e,t.ACTIVE_UNIFORMS);for(let n=0;n<i;n++){const i=t.getActiveUniform(e,n),s=i.name.replace(/\[.*?\]$/,""),o=!!i.name.match(/\[.*?\]$/),a=mapType(t,i.type);r[s]={name:s,index:n,type:a,size:i.size,isArray:o,value:defaultValue(a,i.size)}}return r}function generateProgram(e,t){var r;const i=compileShader(e,e.VERTEX_SHADER,t.vertexSrc),n=compileShader(e,e.FRAGMENT_SHADER,t.fragmentSrc),s=e.createProgram();e.attachShader(s,i),e.attachShader(s,n);const o=null==(r=t.extra)?void 0:r.transformFeedbackVaryings;if(o&&("function"!=typeof e.transformFeedbackVaryings?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):e.transformFeedbackVaryings(s,o.names,"separate"===o.bufferMode?e.SEPARATE_ATTRIBS:e.INTERLEAVED_ATTRIBS)),e.linkProgram(s),e.getProgramParameter(s,e.LINK_STATUS)||logProgramError(e,s,i,n),t.attributeData=getAttributeData(s,e),t.uniformData=getUniformData(s,e),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(t.vertexSrc)){const r=Object.keys(t.attributeData);r.sort(((e,t)=>e>t?1:-1));for(let i=0;i<r.length;i++)t.attributeData[r[i]].location=i,e.bindAttribLocation(s,i,r[i]);e.linkProgram(s)}e.deleteShader(i),e.deleteShader(n);const a={};for(const r in t.uniformData){const i=t.uniformData[r];a[r]={location:e.getUniformLocation(s,r),value:defaultValue(i.type,i.size)}}return new GLProgram(s,a)}function uboUpdate(e,t,r,i,n){r.buffer.update(n)}const UBO_TO_SINGLE_SETTERS={float:"\n        data[offset] = v;\n    ",vec2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n    ",vec3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n    ",vec4:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n        data[offset+3] = v[3];\n    ",mat2:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n\n        data[offset+4] = v[2];\n        data[offset+5] = v[3];\n    ",mat3:"\n        data[offset] = v[0];\n        data[offset+1] = v[1];\n        data[offset+2] = v[2];\n\n        data[offset + 4] = v[3];\n        data[offset + 5] = v[4];\n        data[offset + 6] = v[5];\n\n        data[offset + 8] = v[6];\n        data[offset + 9] = v[7];\n        data[offset + 10] = v[8];\n    ",mat4:"\n        for(var i = 0; i < 16; i++)\n        {\n            data[offset + i] = v[i];\n        }\n    "},GLSL_TO_STD40_SIZE={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:32,mat3:48,mat4:64};function createUBOElements(e){const t=e.map((e=>({data:e,offset:0,dataLen:0,dirty:0})));let r=0,i=0,n=0;for(let e=0;e<t.length;e++){const s=t[e];if(r=GLSL_TO_STD40_SIZE[s.data.type],s.data.size>1&&(r=Math.max(r,16)*s.data.size),s.dataLen=r,i%r!=0&&i<16){const e=i%r%16;i+=e,n+=e}i+r>16?(n=16*Math.ceil(n/16),s.offset=n,n+=r,i=r):(s.offset=n,i+=r,n+=r)}return n=16*Math.ceil(n/16),{uboElements:t,size:n}}function getUBOData(e,t){const r=[];for(const i in e)t[i]&&r.push(t[i]);return r.sort(((e,t)=>e.index-t.index)),r}function generateUniformBufferSync(e,t){if(!e.autoManage)return{size:0,syncFunc:uboUpdate};const r=getUBOData(e.uniforms,t),{uboElements:i,size:n}=createUBOElements(r),s=["\n    var v = null;\n    var v2 = null;\n    var cv = null;\n    var t = 0;\n    var gl = renderer.gl\n    var index = 0;\n    var data = buffer.data;\n    "];for(let t=0;t<i.length;t++){const r=i[t],n=e.uniforms[r.data.name],o=r.data.name;let a=!1;for(let e=0;e<uniformParsers.length;e++){const t=uniformParsers[e];if(t.codeUbo&&t.test(r.data,n)){s.push(`offset = ${r.offset/4};`,uniformParsers[e].codeUbo(r.data.name,n)),a=!0;break}}if(!a)if(r.data.size>1){const e=mapSize(r.data.type),t=Math.max(GLSL_TO_STD40_SIZE[r.data.type]/16,1),i=e/t,n=(4-i%4)%4;s.push(`\n                cv = ud.${o}.value;\n                v = uv.${o};\n                offset = ${r.offset/4};\n\n                t = 0;\n\n                for(var i=0; i < ${r.data.size*t}; i++)\n                {\n                    for(var j = 0; j < ${i}; j++)\n                    {\n                        data[offset++] = v[t++];\n                    }\n                    offset += ${n};\n                }\n\n                `)}else{const e=UBO_TO_SINGLE_SETTERS[r.data.type];s.push(`\n                cv = ud.${o}.value;\n                v = uv.${o};\n                offset = ${r.offset/4};\n                ${e};\n                `)}}return s.push("\n       renderer.buffer.update(buffer);\n    "),{size:n,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join("\n"))}}let UID=0;const defaultSyncData={textureCount:0,uboCount:0};class ShaderSystem{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=UID++}systemCheck(){if(!unsafeEvalSupported())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(defaultSyncData.textureCount=0,defaultSyncData.uboCount=0,this.syncUniformGroup(e.uniformGroup,defaultSyncData)),i}setUniforms(e){const t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){const r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){const t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=generateUniformsSync(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){const r=this.getGlProgram();if(!e.static||0!==e.dirtyId||!r.uniformGroups[e.id]){e.dirtyId=0;const i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,defaultSyncData,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const n=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,n,this.shader.uniformBindCount),this.shader.uniformBindCount++;const s=this.getSignature(e,this.shader.program.uniformData,"ubo");let o=this._uboCache[s];if(o||(o=this._uboCache[s]=generateUniformBufferSync(e,this.shader.program.uniformData)),e.autoManage){const t=new Float32Array(o.size/4);e.buffer.update(t)}return t.uniformGroups[e.id]=o.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){const i=e.uniforms,n=[`${r}-`];for(const e in i)n.push(e),t[e]&&n.push(t[e].type);return n.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const t=this.gl,r=e.program,i=generateProgram(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}ShaderSystem.extension={type:ExtensionType.RendererSystem,name:"shader"},extensions.add(ShaderSystem);class StartupSystem{constructor(e){this.renderer=e}run(e){const{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.0 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}}function mapWebGLBlendModesToPixi(e,t=[]){return t[BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.ADD]=[e.ONE,e.ONE],t[BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.NONE]=[0,0],t[BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SRC_IN]=[e.DST_ALPHA,e.ZERO],t[BLEND_MODES.SRC_OUT]=[e.ONE_MINUS_DST_ALPHA,e.ZERO],t[BLEND_MODES.SRC_ATOP]=[e.DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DST_OVER]=[e.ONE_MINUS_DST_ALPHA,e.ONE],t[BLEND_MODES.DST_IN]=[e.ZERO,e.SRC_ALPHA],t[BLEND_MODES.DST_OUT]=[e.ZERO,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.DST_ATOP]=[e.ONE_MINUS_DST_ALPHA,e.SRC_ALPHA],t[BLEND_MODES.XOR]=[e.ONE_MINUS_DST_ALPHA,e.ONE_MINUS_SRC_ALPHA],t[BLEND_MODES.SUBTRACT]=[e.ONE,e.ONE,e.ONE,e.ONE,e.FUNC_REVERSE_SUBTRACT,e.FUNC_ADD],t}StartupSystem.defaultOptions={hello:!1},StartupSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"startup"},extensions.add(StartupSystem);const BLEND=0,OFFSET=1,CULLING=2,DEPTH_TEST=3,WINDING=4,DEPTH_MASK=5,_StateSystem=class e{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=BLEND_MODES.NONE,this._blendEq=!1,this.map=[],this.map[BLEND]=this.setBlend,this.map[OFFSET]=this.setOffset,this.map[CULLING]=this.setCullFace,this.map[DEPTH_TEST]=this.setDepthTest,this.map[WINDING]=this.setFrontFace,this.map[DEPTH_MASK]=this.setDepthMask,this.checks=[],this.defaultState=new State,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=mapWebGLBlendModesToPixi(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)1&t&&this.map[r].call(this,!!(e.data&1<<r)),t>>=1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(t){this.updateCheck(e.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(e.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;const t=this.blendModes[e],r=this.gl;2===t.length?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),6===t.length?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){const r=this.checks.indexOf(e);t&&-1===r?this.checks.push(e):!t&&-1!==r&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};_StateSystem.extension={type:ExtensionType.RendererSystem,name:"state"};let StateSystem=_StateSystem;extensions.add(StateSystem);class SystemManager extends EventEmitter$1{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){var t;this.addRunners(...e.runners);const r=(null!=(t=e.priority)?t:[]).filter((t=>e.systems[t])),i=[...r,...Object.keys(e.systems).filter((e=>!r.includes(e)))];for(const t of i)this.addSystem(e.systems[t],t)}addRunners(...e){e.forEach((e=>{this.runners[e]=new Runner(e)}))}addSystem(e,t){const r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(const e in this.runners)this.runners[e].add(r);return this}emitWithCustomOptions(e,t){const r=Object.keys(this._systemsHash);e.items.forEach((i=>{const n=r.find((e=>this._systemsHash[e]===i));i[e.name](t[n])}))}destroy(){Object.values(this.runners).forEach((e=>{e.destroy()})),this._systemsHash={}}}const _TextureGCSystem=class e{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=e.defaultMaxIdle,this.checkCountMax=e.defaultCheckCountMax,this.mode=e.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const e=this.renderer.texture,t=e.managedTextures;let r=!1;for(let i=0;i<t.length;i++){const n=t[i];n.resource&&this.count-n.touched>this.maxIdle&&(e.destroyTexture(n,!0),t[i]=null,r=!0)}if(r){let e=0;for(let r=0;r<t.length;r++)null!==t[r]&&(t[e++]=t[r]);t.length=e}}unload(e){const t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let t=e.children.length-1;t>=0;t--)this.unload(e.children[t])}destroy(){this.renderer=null}};_TextureGCSystem.defaultMode=GC_MODES.AUTO,_TextureGCSystem.defaultMaxIdle=3600,_TextureGCSystem.defaultCheckCountMax=600,_TextureGCSystem.extension={type:ExtensionType.RendererSystem,name:"textureGC"};let TextureGCSystem=_TextureGCSystem;extensions.add(TextureGCSystem);class GLTexture{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=TYPES.UNSIGNED_BYTE,this.internalFormat=FORMATS.RGBA,this.samplerType=0}}function mapInternalFormatToSamplerType(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[e.RGB]:SAMPLER_TYPES.FLOAT,[e.RGBA]:SAMPLER_TYPES.FLOAT,[e.ALPHA]:SAMPLER_TYPES.FLOAT,[e.LUMINANCE]:SAMPLER_TYPES.FLOAT,[e.LUMINANCE_ALPHA]:SAMPLER_TYPES.FLOAT,[e.R8]:SAMPLER_TYPES.FLOAT,[e.R8_SNORM]:SAMPLER_TYPES.FLOAT,[e.RG8]:SAMPLER_TYPES.FLOAT,[e.RG8_SNORM]:SAMPLER_TYPES.FLOAT,[e.RGB8]:SAMPLER_TYPES.FLOAT,[e.RGB8_SNORM]:SAMPLER_TYPES.FLOAT,[e.RGB565]:SAMPLER_TYPES.FLOAT,[e.RGBA4]:SAMPLER_TYPES.FLOAT,[e.RGB5_A1]:SAMPLER_TYPES.FLOAT,[e.RGBA8]:SAMPLER_TYPES.FLOAT,[e.RGBA8_SNORM]:SAMPLER_TYPES.FLOAT,[e.RGB10_A2]:SAMPLER_TYPES.FLOAT,[e.RGB10_A2UI]:SAMPLER_TYPES.FLOAT,[e.SRGB8]:SAMPLER_TYPES.FLOAT,[e.SRGB8_ALPHA8]:SAMPLER_TYPES.FLOAT,[e.R16F]:SAMPLER_TYPES.FLOAT,[e.RG16F]:SAMPLER_TYPES.FLOAT,[e.RGB16F]:SAMPLER_TYPES.FLOAT,[e.RGBA16F]:SAMPLER_TYPES.FLOAT,[e.R32F]:SAMPLER_TYPES.FLOAT,[e.RG32F]:SAMPLER_TYPES.FLOAT,[e.RGB32F]:SAMPLER_TYPES.FLOAT,[e.RGBA32F]:SAMPLER_TYPES.FLOAT,[e.R11F_G11F_B10F]:SAMPLER_TYPES.FLOAT,[e.RGB9_E5]:SAMPLER_TYPES.FLOAT,[e.R8I]:SAMPLER_TYPES.INT,[e.R8UI]:SAMPLER_TYPES.UINT,[e.R16I]:SAMPLER_TYPES.INT,[e.R16UI]:SAMPLER_TYPES.UINT,[e.R32I]:SAMPLER_TYPES.INT,[e.R32UI]:SAMPLER_TYPES.UINT,[e.RG8I]:SAMPLER_TYPES.INT,[e.RG8UI]:SAMPLER_TYPES.UINT,[e.RG16I]:SAMPLER_TYPES.INT,[e.RG16UI]:SAMPLER_TYPES.UINT,[e.RG32I]:SAMPLER_TYPES.INT,[e.RG32UI]:SAMPLER_TYPES.UINT,[e.RGB8I]:SAMPLER_TYPES.INT,[e.RGB8UI]:SAMPLER_TYPES.UINT,[e.RGB16I]:SAMPLER_TYPES.INT,[e.RGB16UI]:SAMPLER_TYPES.UINT,[e.RGB32I]:SAMPLER_TYPES.INT,[e.RGB32UI]:SAMPLER_TYPES.UINT,[e.RGBA8I]:SAMPLER_TYPES.INT,[e.RGBA8UI]:SAMPLER_TYPES.UINT,[e.RGBA16I]:SAMPLER_TYPES.INT,[e.RGBA16UI]:SAMPLER_TYPES.UINT,[e.RGBA32I]:SAMPLER_TYPES.INT,[e.RGBA32UI]:SAMPLER_TYPES.UINT,[e.DEPTH_COMPONENT16]:SAMPLER_TYPES.FLOAT,[e.DEPTH_COMPONENT24]:SAMPLER_TYPES.FLOAT,[e.DEPTH_COMPONENT32F]:SAMPLER_TYPES.FLOAT,[e.DEPTH_STENCIL]:SAMPLER_TYPES.FLOAT,[e.DEPTH24_STENCIL8]:SAMPLER_TYPES.FLOAT,[e.DEPTH32F_STENCIL8]:SAMPLER_TYPES.FLOAT}:{[e.RGB]:SAMPLER_TYPES.FLOAT,[e.RGBA]:SAMPLER_TYPES.FLOAT,[e.ALPHA]:SAMPLER_TYPES.FLOAT,[e.LUMINANCE]:SAMPLER_TYPES.FLOAT,[e.LUMINANCE_ALPHA]:SAMPLER_TYPES.FLOAT,[e.DEPTH_STENCIL]:SAMPLER_TYPES.FLOAT},t}function mapTypeAndFormatToInternalFormat(e){let t;return t="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext?{[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:e.RGBA8,[FORMATS.RGB]:e.RGB8,[FORMATS.RG]:e.RG8,[FORMATS.RED]:e.R8,[FORMATS.RGBA_INTEGER]:e.RGBA8UI,[FORMATS.RGB_INTEGER]:e.RGB8UI,[FORMATS.RG_INTEGER]:e.RG8UI,[FORMATS.RED_INTEGER]:e.R8UI,[FORMATS.ALPHA]:e.ALPHA,[FORMATS.LUMINANCE]:e.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[TYPES.BYTE]:{[FORMATS.RGBA]:e.RGBA8_SNORM,[FORMATS.RGB]:e.RGB8_SNORM,[FORMATS.RG]:e.RG8_SNORM,[FORMATS.RED]:e.R8_SNORM,[FORMATS.RGBA_INTEGER]:e.RGBA8I,[FORMATS.RGB_INTEGER]:e.RGB8I,[FORMATS.RG_INTEGER]:e.RG8I,[FORMATS.RED_INTEGER]:e.R8I},[TYPES.UNSIGNED_SHORT]:{[FORMATS.RGBA_INTEGER]:e.RGBA16UI,[FORMATS.RGB_INTEGER]:e.RGB16UI,[FORMATS.RG_INTEGER]:e.RG16UI,[FORMATS.RED_INTEGER]:e.R16UI,[FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT16},[TYPES.SHORT]:{[FORMATS.RGBA_INTEGER]:e.RGBA16I,[FORMATS.RGB_INTEGER]:e.RGB16I,[FORMATS.RG_INTEGER]:e.RG16I,[FORMATS.RED_INTEGER]:e.R16I},[TYPES.UNSIGNED_INT]:{[FORMATS.RGBA_INTEGER]:e.RGBA32UI,[FORMATS.RGB_INTEGER]:e.RGB32UI,[FORMATS.RG_INTEGER]:e.RG32UI,[FORMATS.RED_INTEGER]:e.R32UI,[FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT24},[TYPES.INT]:{[FORMATS.RGBA_INTEGER]:e.RGBA32I,[FORMATS.RGB_INTEGER]:e.RGB32I,[FORMATS.RG_INTEGER]:e.RG32I,[FORMATS.RED_INTEGER]:e.R32I},[TYPES.FLOAT]:{[FORMATS.RGBA]:e.RGBA32F,[FORMATS.RGB]:e.RGB32F,[FORMATS.RG]:e.RG32F,[FORMATS.RED]:e.R32F,[FORMATS.DEPTH_COMPONENT]:e.DEPTH_COMPONENT32F},[TYPES.HALF_FLOAT]:{[FORMATS.RGBA]:e.RGBA16F,[FORMATS.RGB]:e.RGB16F,[FORMATS.RG]:e.RG16F,[FORMATS.RED]:e.R16F},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:e.RGB565},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:e.RGBA4},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:e.RGB5_A1},[TYPES.UNSIGNED_INT_2_10_10_10_REV]:{[FORMATS.RGBA]:e.RGB10_A2,[FORMATS.RGBA_INTEGER]:e.RGB10_A2UI},[TYPES.UNSIGNED_INT_10F_11F_11F_REV]:{[FORMATS.RGB]:e.R11F_G11F_B10F},[TYPES.UNSIGNED_INT_5_9_9_9_REV]:{[FORMATS.RGB]:e.RGB9_E5},[TYPES.UNSIGNED_INT_24_8]:{[FORMATS.DEPTH_STENCIL]:e.DEPTH24_STENCIL8},[TYPES.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[FORMATS.DEPTH_STENCIL]:e.DEPTH32F_STENCIL8}}:{[TYPES.UNSIGNED_BYTE]:{[FORMATS.RGBA]:e.RGBA,[FORMATS.RGB]:e.RGB,[FORMATS.ALPHA]:e.ALPHA,[FORMATS.LUMINANCE]:e.LUMINANCE,[FORMATS.LUMINANCE_ALPHA]:e.LUMINANCE_ALPHA},[TYPES.UNSIGNED_SHORT_5_6_5]:{[FORMATS.RGB]:e.RGB},[TYPES.UNSIGNED_SHORT_4_4_4_4]:{[FORMATS.RGBA]:e.RGBA},[TYPES.UNSIGNED_SHORT_5_5_5_1]:{[FORMATS.RGBA]:e.RGBA}},t}class TextureSystem{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new BaseTexture,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=mapTypeAndFormatToInternalFormat(e),this.samplerTypes=mapInternalFormatToSamplerType(e);const t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let e=0;e<t;e++)this.boundTextures[e]=null;this.emptyTextures={};const r=new GLTexture(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new GLTexture(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let t=0;t<6;t++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+t,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let e=0;e<this.boundTextures.length;e++)this.bind(null,e)}bind(e,t=0){const{gl:r}=this;if((null==(e=null==e?void 0:e.castToBaseTexture())?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let e=0;e<r.length;e++)r[e]===this.unknownTexture&&this.bind(null,e)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){const{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let r=e-1;r>=0;--r){const e=t[r];e&&e._glTextures[i].samplerType!==SAMPLER_TYPES.FLOAT&&this.renderer.texture.unbind(e)}}initTexture(e){const t=new GLTexture(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){var r,i,n;t.internalFormat=null!=(i=null==(r=this.internalFormats[e.type])?void 0:r[e.format])?i:e.format,t.samplerType=null!=(n=this.samplerTypes[t.internalFormat])?n:SAMPLER_TYPES.FLOAT,2===this.webGLVersion&&e.type===TYPES.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){var t;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const i=this.renderer;if(this.initTextureType(e,r),null==(t=e.resource)?void 0:t.upload(i,e,r))r.samplerType!==SAMPLER_TYPES.FLOAT&&(this.hasIntegerTextures=!0);else{const t=e.realWidth,n=e.realHeight,s=i.gl;(r.width!==t||r.height!==n||r.dirtyId<0)&&(r.width=t,r.height=n,s.texImage2D(e.target,0,r.internalFormat,t,n,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,t){const{gl:r}=this;if((e=e.castToBaseTexture())._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){const t=this.managedTextures.indexOf(e);-1!==t&&removeItems(this.managedTextures,t,1)}}updateTextureStyle(e){var t;const r=e._glTextures[this.CONTEXT_UID];r&&(e.mipmap!==MIPMAP_MODES.POW2&&2===this.webGLVersion||e.isPowerOfTwo?r.mipmap=e.mipmap>=1:r.mipmap=!1,2===this.webGLVersion||e.isPowerOfTwo?r.wrapMode=e.wrapMode:r.wrapMode=WRAP_MODES.CLAMP,null!=(t=e.resource)&&t.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){const r=this.gl;if(t.mipmap&&e.mipmap!==MIPMAP_MODES.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);const t=this.renderer.context.extensions.anisotropicFiltering;if(t&&e.anisotropicLevel>0&&e.scaleMode===SCALE_MODES.LINEAR){const i=Math.min(e.anisotropicLevel,r.getParameter(t.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,t.TEXTURE_MAX_ANISOTROPY_EXT,i)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===SCALE_MODES.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}}TextureSystem.extension={type:ExtensionType.RendererSystem,name:"texture"},extensions.add(TextureSystem);class TransformFeedbackSystem{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){const{gl:r,renderer:i}=this;t&&i.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:t,renderer:r,CONTEXT_UID:i}=this,n=t.createTransformFeedback();e._glTransformFeedbacks[i]=n,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,n);for(let n=0;n<e.buffers.length;n++){const s=e.buffers[n];s&&(r.buffer.update(s),s._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,n,s._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),n}disposeTransformFeedback(e,t){const r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const n=this.renderer.buffer;if(n)for(let r=0;r<e.buffers.length;r++){const i=e.buffers[r];if(!i)continue;const s=i._glBuffers[this.CONTEXT_UID];s&&(s.refCount--,0===s.refCount&&!t&&n.dispose(i,t))}r&&(t||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}TransformFeedbackSystem.extension={type:ExtensionType.RendererSystem,name:"transformFeedback"},extensions.add(TransformFeedbackSystem);class ViewSystem{constructor(e){this.renderer=e}init(e){this.screen=new Rectangle(0,0,e.width,e.height),this.element=e.view||settings.ADAPTER.createCanvas(),this.resolution=e.resolution||settings.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);const r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var t;e&&(null==(t=this.element.parentNode)||t.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}ViewSystem.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},ViewSystem.extension={type:[ExtensionType.RendererSystem,ExtensionType.CanvasRendererSystem],name:"_view"},extensions.add(ViewSystem),settings.PREFER_ENV=ENV.WEBGL2,settings.STRICT_TEXTURE_CACHE=!1,settings.RENDER_OPTIONS=Vt(Vt(Vt(Vt({},ContextSystem.defaultOptions),BackgroundSystem.defaultOptions),ViewSystem.defaultOptions),StartupSystem.defaultOptions),Object.defineProperties(settings,{WRAP_MODE:{get:()=>BaseTexture.defaultOptions.wrapMode,set(e){deprecation("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),BaseTexture.defaultOptions.wrapMode=e}},SCALE_MODE:{get:()=>BaseTexture.defaultOptions.scaleMode,set(e){deprecation("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),BaseTexture.defaultOptions.scaleMode=e}},MIPMAP_TEXTURES:{get:()=>BaseTexture.defaultOptions.mipmap,set(e){deprecation("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),BaseTexture.defaultOptions.mipmap=e}},ANISOTROPIC_LEVEL:{get:()=>BaseTexture.defaultOptions.anisotropicLevel,set(e){deprecation("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),BaseTexture.defaultOptions.anisotropicLevel=e}},FILTER_RESOLUTION:{get:()=>(deprecation("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),Filter.defaultResolution),set(e){Filter.defaultResolution=e}},FILTER_MULTISAMPLE:{get:()=>(deprecation("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),Filter.defaultMultisample),set(e){Filter.defaultMultisample=e}},SPRITE_MAX_TEXTURES:{get:()=>BatchRenderer.defaultMaxTextures,set(e){deprecation("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),BatchRenderer.defaultMaxTextures=e}},SPRITE_BATCH_SIZE:{get:()=>BatchRenderer.defaultBatchSize,set(e){deprecation("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),BatchRenderer.defaultBatchSize=e}},CAN_UPLOAD_SAME_BUFFER:{get:()=>BatchRenderer.canUploadSameBuffer,set(e){deprecation("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),BatchRenderer.canUploadSameBuffer=e}},GC_MODE:{get:()=>TextureGCSystem.defaultMode,set(e){deprecation("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),TextureGCSystem.defaultMode=e}},GC_MAX_IDLE:{get:()=>TextureGCSystem.defaultMaxIdle,set(e){deprecation("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),TextureGCSystem.defaultMaxIdle=e}},GC_MAX_CHECK_COUNT:{get:()=>TextureGCSystem.defaultCheckCountMax,set(e){deprecation("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),TextureGCSystem.defaultCheckCountMax=e}},PRECISION_VERTEX:{get:()=>Program.defaultVertexPrecision,set(e){deprecation("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Program.defaultVertexPrecision=e}},PRECISION_FRAGMENT:{get:()=>Program.defaultFragmentPrecision,set(e){deprecation("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Program.defaultFragmentPrecision=e}}});var UPDATE_PRIORITY=(e=>(e[e.INTERACTION=50]="INTERACTION",e[e.HIGH=25]="HIGH",e[e.NORMAL=0]="NORMAL",e[e.LOW=-25]="LOW",e[e.UTILITY=-50]="UTILITY",e))(UPDATE_PRIORITY||{});class TickerListener{constructor(e,t=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const t=this.next;return this.next=e?null:t,this.previous=null,t}}const _Ticker=class e{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new TickerListener(null,null,1/0),this.deltaMS=1/e.targetFPMS,this.elapsedMS=1/e.targetFPMS,this._tick=e=>{this._requestId=null,this.started&&(this.update(e),this.started&&null===this._requestId&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(e,t,r=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(e,t,r))}addOnce(e,t,r=UPDATE_PRIORITY.NORMAL){return this._addListener(new TickerListener(e,t,r,!0))}_addListener(e){let t=this._head.next,r=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(r);break}r=t,t=t.next}e.previous||e.connect(r)}else e.connect(r);return this._startIfPossible(),this}remove(e,t){let r=this._head.next;for(;r;)r=r.match(e,t)?r.destroy():r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let e=0,t=this._head;for(;t=t.next;)e++;return e}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let e=this._head.next;for(;e;)e=e.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){const e=t-this._lastFrame|0;if(e<this._minElapsedMS)return;this._lastFrame=t-e%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*e.targetFPMS;const i=this._head;let n=i.next;for(;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const r=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,r)/1e3,e.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(e){if(0===e)this._minElapsedMS=0;else{const t=Math.max(this.minFPS,e);this._minElapsedMS=1/(t/1e3)}}static get shared(){if(!e._shared){const t=e._shared=new e;t.autoStart=!0,t._protected=!0}return e._shared}static get system(){if(!e._system){const t=e._system=new e;t.autoStart=!0,t._protected=!0}return e._system}};_Ticker.targetFPMS=.06;let Ticker=_Ticker;Object.defineProperties(settings,{TARGET_FPMS:{get:()=>Ticker.targetFPMS,set(e){deprecation("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Ticker.targetFPMS=e}}});class TickerPlugin{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(e){this._ticker&&this._ticker.remove(this.render,this),this._ticker=e,e&&e.add(this.render,this,UPDATE_PRIORITY.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Ticker.shared:new Ticker,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}TickerPlugin.extension=ExtensionType.Application,extensions.add(TickerPlugin);const renderers=[];extensions.handleByList(ExtensionType.Renderer,renderers);var $defaultVertex="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}";const defaultVertex=$defaultVertex;class MultisampleSystem{constructor(e){this.renderer=e}contextChange(e){let t;if(1===this.renderer.context.webGLVersion){const r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{const r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=MSAA_QUALITY.HIGH?this.multisample=MSAA_QUALITY.HIGH:t>=MSAA_QUALITY.MEDIUM?this.multisample=MSAA_QUALITY.MEDIUM:t>=MSAA_QUALITY.LOW?this.multisample=MSAA_QUALITY.LOW:this.multisample=MSAA_QUALITY.NONE}destroy(){}}MultisampleSystem.extension={type:ExtensionType.RendererSystem,name:"_multisample"},extensions.add(MultisampleSystem);class GLBuffer{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class BufferSystem{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){const{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){const n=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,n.buffer)}}bindBufferRange(e,t,r){const{gl:i,CONTEXT_UID:n}=this;r=r||0;const s=e._glBuffers[n]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,s.buffer,256*r,256)}update(e){const{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{const r=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,r)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){const{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new GLBuffer(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}}BufferSystem.extension={type:ExtensionType.RendererSystem,name:"buffer"},extensions.add(BufferSystem);class ObjectRendererSystem{constructor(e){this.renderer=e}render(e,t){const r=this.renderer;let i,n,s,o;if(t&&(i=t.renderTexture,n=t.clear,s=t.transform,o=t.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=s,!r.context.isLost){if(i||(this.lastObjectRendered=e),!o){const t=e.enableTempParent();e.updateTransform(),e.disableTempParent(t)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(null!=n?n:r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(t.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ObjectRendererSystem.extension={type:ExtensionType.RendererSystem,name:"objectRenderer"},extensions.add(ObjectRendererSystem);const _Renderer=class e extends SystemManager{constructor(t){super(),this.type=RENDERER_TYPE.WEBGL,t=Object.assign({},settings.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new UniformGroup({projectionMatrix:new Matrix},!0);const r={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:e.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(r),"useContextAlpha"in t&&(deprecation("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&"notMultiplied"!==t.useContextAlpha,t.backgroundAlpha=!1===t.useContextAlpha?1:t.backgroundAlpha),this._plugin.rendererPlugins=e.__plugins,this.options=t,this.startup.run(this.options)}static test(e){return(null==e||!e.forceCanvas)&&isWebGLSupported()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return deprecation("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return deprecation("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return deprecation("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){deprecation("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){deprecation("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return deprecation("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};_Renderer.extension={type:ExtensionType.Renderer,priority:1},_Renderer.__plugins={},_Renderer.__systems={};let Renderer=_Renderer;extensions.handleByMap(ExtensionType.RendererPlugin,Renderer.__plugins),extensions.handleByMap(ExtensionType.RendererSystem,Renderer.__systems),extensions.add(Renderer);class AbstractMultiResource extends Resource{constructor(e,t){const{width:r,height:i}=t||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let t=0;t<e;t++){const e=new BaseTexture;this.items.push(e),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof Resource?this.addResourceAt(e[r],r):this.addResourceAt(autoDetectResource(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(null!==this.baseTexture)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map((e=>e.resource)).filter((e=>e)).map((e=>e.load()));return this._load=Promise.all(e).then((()=>{const{realWidth:e,realHeight:t}=this.items[0];return this.resize(e,t),this.update(),Promise.resolve(this)})),this._load}}class ArrayResource extends AbstractMultiResource{constructor(e,t){const{width:r,height:i}=t||{};let n,s;Array.isArray(e)?(n=e,s=e.length):s=e,super(s,{width:r,height:i}),n&&this.initFromArray(n,t)}addBaseTextureAt(e,t){if(!e.resource)throw new Error("ArrayResource does not support RenderTexture");return this.addResourceAt(e.resource,t),this}bind(e){super.bind(e),e.target=TARGETS.TEXTURE_2D_ARRAY}upload(e,t,r){const{length:i,itemDirtyIds:n,items:s}=this,{gl:o}=e;r.dirtyId<0&&o.texImage3D(o.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,t.format,r.type,null);for(let e=0;e<i;e++){const i=s[e];n[e]<i.dirtyId&&(n[e]=i.dirtyId,i.valid&&o.texSubImage3D(o.TEXTURE_2D_ARRAY,0,0,0,e,i.resource.width,i.resource.height,1,t.format,r.type,i.resource.source))}return!0}}class CanvasResource extends BaseImageResource{constructor(e){super(e)}static test(e){const{OffscreenCanvas:t}=globalThis;return!!(t&&e instanceof t)||globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const _CubeResource=class e extends AbstractMultiResource{constructor(t,r){const{width:i,height:n,autoLoad:s,linkBaseTexture:o}=r||{};if(t&&t.length!==e.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:i,height:n});for(let t=0;t<e.SIDES;t++)this.items[t].target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t;this.linkBaseTexture=!1!==o,t&&this.initFromArray(t,r),!1!==s&&this.load()}bind(e){super.bind(e),e.target=TARGETS.TEXTURE_CUBE_MAP}addBaseTextureAt(e,t,r){if(void 0===r&&(r=this.linkBaseTexture),!this.items[t])throw new Error(`Index ${t} is out of bounds`);if(!this.linkBaseTexture||e.parentTextureArray||Object.keys(e._glTextures).length>0){if(!e.resource)throw new Error("CubeResource does not support copying of renderTexture.");this.addResourceAt(e.resource,t)}else e.target=TARGETS.TEXTURE_CUBE_MAP_POSITIVE_X+t,e.parentTextureArray=this.baseTexture,this.items[t]=e;return e.valid&&!this.valid&&this.resize(e.realWidth,e.realHeight),this.items[t]=e,this}upload(t,r,i){const n=this.itemDirtyIds;for(let s=0;s<e.SIDES;s++){const e=this.items[s];(n[s]<e.dirtyId||i.dirtyId<r.dirtyId)&&(e.valid&&e.resource?(e.resource.upload(t,e,i),n[s]=e.dirtyId):n[s]<-1&&(t.gl.texImage2D(e.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),n[s]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===e.SIDES}};_CubeResource.SIDES=6;let CubeResource=_CubeResource;class ImageBitmapResource extends BaseImageResource{constructor(e,t){var r,i;let n,s,o;t=t||{},"string"==typeof e?(n=ImageBitmapResource.EMPTY,s=e,o=!0):(n=e,s=null,o=!1),super(n),this.url=s,this.crossOrigin=null==(r=t.crossOrigin)||r,this.alphaMode="number"==typeof t.alphaMode?t.alphaMode:null,this.ownsImageBitmap=null!=(i=t.ownsImageBitmap)?i:o,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise(((e,t)=>Yt(this,null,(function*(){if(null!==this.url)try{const t=yield settings.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const r=yield t.blob();if(this.destroyed)return;const i=yield createImageBitmap(r,{premultiplyAlpha:null===this.alphaMode||this.alphaMode===ALPHA_MODES.UNPACK?"premultiply":"none"});if(this.destroyed)return void i.close();this.source=i,this.update(),e(this)}catch(e){if(this.destroyed)return;t(e),this.onError.emit(e)}else e(this)}))))),this._load}upload(e,t,r){return this.source instanceof ImageBitmap?("number"==typeof this.alphaMode&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&("string"==typeof e||e instanceof ImageBitmap)}static get EMPTY(){var e;return ImageBitmapResource._EMPTY=null!=(e=ImageBitmapResource._EMPTY)?e:settings.ADAPTER.createCanvas(0,0),ImageBitmapResource._EMPTY}}const _SVGResource=class e extends BaseImageResource{constructor(e,t){t=t||{},super(settings.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,!1!==t.autoLoad&&this.load()}load(){return this._load||(this._load=new Promise((t=>{if(this._resolve=()=>{this.update(),t(this)},e.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}))),this._load}_loadSvg(){const e=new Image;BaseImageResource.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;const t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,n=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/r*t,n=this._overrideHeight||this._overrideWidth/t*r),i=Math.round(i),n=Math.round(n);const s=this.source;s.width=i,s.height=n,s._pixiId=`canvas_${uid()}`,s.getContext("2d").drawImage(e,0,0,t,r,0,0,i,n),this._resolve(),this._resolve=null}}static getSize(t){const r=e.SVG_SIZE.exec(t),i={};return r&&(i[r[1]]=Math.round(parseFloat(r[3])),i[r[5]]=Math.round(parseFloat(r[7]))),i}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,r){return"svg"===r||"string"==typeof t&&t.startsWith("data:image/svg+xml")||"string"==typeof t&&e.SVG_XML.test(t)}};_SVGResource.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,_SVGResource.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;let SVGResource=_SVGResource;class VideoFrameResource extends BaseImageResource{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}}const _VideoResource=class e extends BaseImageResource{constructor(t,r){if(r=r||{},!(t instanceof HTMLVideoElement)){const i=document.createElement("video");!1!==r.autoLoad&&i.setAttribute("preload","auto"),!1!==r.playsinline&&(i.setAttribute("webkit-playsinline",""),i.setAttribute("playsinline","")),!0===r.muted&&(i.setAttribute("muted",""),i.muted=!0),!0===r.loop&&i.setAttribute("loop",""),!1!==r.autoPlay&&i.setAttribute("autoplay",""),"string"==typeof t&&(t=[t]);const n=t[0].src||t[0];BaseImageResource.crossOrigin(i,n,r.crossorigin);for(let r=0;r<t.length;++r){const n=document.createElement("source");let{src:s,mime:o}=t[r];if(s=s||t[r],s.startsWith("data:"))o=s.slice(5,s.indexOf(";"));else if(!s.startsWith("blob:")){const t=s.split("?").shift().toLowerCase(),r=t.slice(t.lastIndexOf(".")+1);o=o||e.MIME_TYPES[r]||`video/${r}`}n.src=s,o&&(n.type=o),i.appendChild(n)}t=i}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=r.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=!1!==r.autoPlay,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),!1!==r.autoLoad&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){const e=Ticker.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;const e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise(((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())})),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){const e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){const e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);const t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();const e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),null===this._videoFrameRequestCallbackHandle&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(Ticker.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(null!==this._videoFrameRequestCallbackHandle&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(Ticker.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(t,r){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||e.TYPES.includes(r)}};_VideoResource.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],_VideoResource.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};let VideoResource=_VideoResource;INSTALLED.push(ImageBitmapResource,ImageResource,CanvasResource,VideoResource,VideoFrameResource,SVGResource,BufferResource,CubeResource,ArrayResource);var t="attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}",l$1="varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec3 originalColor;\nuniform vec3 newColor;\nuniform float epsilon;\nvoid main(void) {\n    vec4 currentColor = texture2D(uSampler, vTextureCoord);\n    vec3 colorDiff = originalColor - (currentColor.rgb / max(currentColor.a, 0.0000000001));\n    float colorDistance = length(colorDiff);\n    float doReplace = step(colorDistance, epsilon);\n    gl_FragColor = vec4(mix(currentColor.rgb, (newColor + colorDiff) * currentColor.a, doReplace), currentColor.a);\n}\n";let s$1=class extends Filter{constructor(e=16711680,r=0,i=.4){super(t,l$1),this._originalColor=16711680,this._newColor=0,this.uniforms.originalColor=new Float32Array(3),this.uniforms.newColor=new Float32Array(3),this.originalColor=e,this.newColor=r,this.epsilon=i}set originalColor(e){const t=this.uniforms.originalColor;"number"==typeof e?(hex2rgb(e,t),this._originalColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._originalColor=rgb2hex(t))}get originalColor(){return this._originalColor}set newColor(e){const t=this.uniforms.newColor;"number"==typeof e?(hex2rgb(e,t),this._newColor=e):(t[0]=e[0],t[1]=e[1],t[2]=e[2],this._newColor=rgb2hex(t))}get newColor(){return this._newColor}set epsilon(e){this.uniforms.epsilon=e}get epsilon(){return this.uniforms.epsilon}};const font18px=(e,t,r,i,n,s)=>new TextStyle({fontFamily:"Ubuntu",fontSize:.04*e,fontWeight:r?"bold":"normal",fill:t,stroke:"#4a1850",wordWrap:n,wordWrapWidth:s,align:i||"left"}),getFontStyles=e=>{var t=e,{fontWeight:r="normal",fill:i="#fff",wordWrap:n=!1,align:s="right",size:o=16,wordWrapWidth:a,width:l}=t,h=Vr(t,["fontWeight","fill","wordWrap","align","size","wordWrapWidth","width"]);const c={14:.038*l,12:.0333*l,16:.0445*l,18:.05*l},u=.333*l;return new TextStyle(Vt({fontFamily:"Ubuntu",fontSize:Math.round(c[o])||12,fontWeight:r,fill:i,stroke:"#4A1850",wordWrap:n,align:s||"left",wordWrapWidth:a||u},h))};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=_typeof(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function toPropertyKey(e){var t=toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _defineProperty(e,t,r){return(t=toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?Object(arguments[t]):{},i=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&i.push.apply(i,Object.getOwnPropertySymbols(r).filter((function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),i.forEach((function(t){_defineProperty(e,t,r[t])}))}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,toPropertyKey(i.key),i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _possibleConstructorReturn(e,t){if(t&&("object"===_typeof(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,t){return(_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_setPrototypeOf(e,t)}var consoleLogger={type:"logger",log:function(e){this.output("log",e)},warn:function(e){this.output("warn",e)},error:function(e){this.output("error",e)},output:function(e,t){console&&console[e]&&console[e].apply(console,t)}},Logger=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.init(t,r)}return _createClass(e,[{key:"init",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.prefix=t.prefix||"i18next:",this.logger=e||consoleLogger,this.options=t,this.debug=t.debug}},{key:"setDebug",value:function(e){this.debug=e}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"log","",!0)}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","",!0)}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"error","")}},{key:"deprecate",value:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(e,t,r,i){return i&&!this.debug?null:("string"==typeof e[0]&&(e[0]="".concat(r).concat(this.prefix," ").concat(e[0])),this.logger[t](e))}},{key:"create",value:function(t){return new e(this.logger,_objectSpread({},{prefix:"".concat(this.prefix,":").concat(t,":")},this.options))}}]),e}(),baseLogger=new Logger,EventEmitter=function(){function e(){_classCallCheck(this,e),this.observers={}}return _createClass(e,[{key:"on",value:function(e,t){var r=this;return e.split(" ").forEach((function(e){r.observers[e]=r.observers[e]||[],r.observers[e].push(t)})),this}},{key:"off",value:function(e,t){if(this.observers[e]){if(!t)return void delete this.observers[e];this.observers[e]=this.observers[e].filter((function(e){return e!==t}))}}},{key:"emit",value:function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];this.observers[e]&&[].concat(this.observers[e]).forEach((function(e){e.apply(void 0,r)})),this.observers["*"]&&[].concat(this.observers["*"]).forEach((function(t){t.apply(t,[e].concat(r))}))}}]),e}();function defer(){var e,t,r=new Promise((function(r,i){e=r,t=i}));return r.resolve=e,r.reject=t,r}function makeString(e){return null==e?"":""+e}function copy(e,t,r){e.forEach((function(e){t[e]&&(r[e]=t[e])}))}function getLastOfPath(e,t,r){function i(e){return e&&e.indexOf("###")>-1?e.replace(/###/g,"."):e}function n(){return!e||"string"==typeof e}for(var s="string"!=typeof t?[].concat(t):t.split(".");s.length>1;){if(n())return{};var o=i(s.shift());!e[o]&&r&&(e[o]=new r),e=Object.prototype.hasOwnProperty.call(e,o)?e[o]:{}}return n()?{}:{obj:e,k:i(s.shift())}}function setPath(e,t,r){var i=getLastOfPath(e,t,Object);i.obj[i.k]=r}function pushPath(e,t,r,i){var n=getLastOfPath(e,t,Object),s=n.obj,o=n.k;s[o]=s[o]||[],i&&(s[o]=s[o].concat(r)),i||s[o].push(r)}function getPath(e,t){var r=getLastOfPath(e,t),i=r.obj,n=r.k;if(i)return i[n]}function getPathWithDefaults(e,t,r){var i=getPath(e,r);return void 0!==i?i:getPath(t,r)}function deepExtend(e,t,r){for(var i in t)"__proto__"!==i&&"constructor"!==i&&(i in e?"string"==typeof e[i]||e[i]instanceof String||"string"==typeof t[i]||t[i]instanceof String?r&&(e[i]=t[i]):deepExtend(e[i],t[i],r):e[i]=t[i]);return e}function regexEscape(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(e){return"string"==typeof e?e.replace(/[&<>"'\/]/g,(function(e){return _entityMap[e]})):e}var isIE10="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1;function deepFind(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:".";if(e){if(e[t])return e[t];for(var i=t.split(r),n=e,s=0;s<i.length;++s){if("string"==typeof n[i[s]]&&s+1<i.length)return;if(void 0===n[i[s]]){for(var o=2,a=i.slice(s,s+o).join(r),l=n[a];void 0===l&&i.length>s+o;)o++,l=n[a=i.slice(s,s+o).join(r)];if(void 0===l)return;if("string"==typeof l)return l;if(a&&"string"==typeof l[a])return l[a];var h=i.slice(s+o).join(r);return h?deepFind(l,h,r):void 0}n=n[i[s]]}return n}}var ResourceStore=function(e){function t(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck(this,t),r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(r)),r.data=e||{},r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),void 0===r.options.ignoreJSONStructure&&(r.options.ignoreJSONStructure=!0),r}return _inherits(t,EventEmitter),_createClass(t,[{key:"addNamespaces",value:function(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}},{key:"removeNamespaces",value:function(e){var t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}},{key:"getResource",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=void 0!==i.keySeparator?i.keySeparator:this.options.keySeparator,s=void 0!==i.ignoreJSONStructure?i.ignoreJSONStructure:this.options.ignoreJSONStructure,o=[e,t];r&&"string"!=typeof r&&(o=o.concat(r)),r&&"string"==typeof r&&(o=o.concat(n?r.split(n):r)),e.indexOf(".")>-1&&(o=e.split("."));var a=getPath(this.data,o);return a||!s||"string"!=typeof r?a:deepFind(this.data&&this.data[e]&&this.data[e][t],r,n)}},{key:"addResource",value:function(e,t,r,i){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{silent:!1},s=this.options.keySeparator;void 0===s&&(s=".");var o=[e,t];r&&(o=o.concat(s?r.split(s):r)),e.indexOf(".")>-1&&(i=t,t=(o=e.split("."))[1]),this.addNamespaces(t),setPath(this.data,o,i),n.silent||this.emit("added",e,t,r,i)}},{key:"addResources",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{silent:!1};for(var n in r)("string"==typeof r[n]||"[object Array]"===Object.prototype.toString.apply(r[n]))&&this.addResource(e,t,n,r[n],{silent:!0});i.silent||this.emit("added",e,t,r)}},{key:"addResourceBundle",value:function(e,t,r,i,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{silent:!1},o=[e,t];e.indexOf(".")>-1&&(i=r,r=t,t=(o=e.split("."))[1]),this.addNamespaces(t);var a=getPath(this.data,o)||{};i?deepExtend(a,r,n):a=_objectSpread({},a,r),setPath(this.data,o,a),s.silent||this.emit("added",e,t,r)}},{key:"removeResourceBundle",value:function(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}},{key:"hasResourceBundle",value:function(e,t){return void 0!==this.getResource(e,t)}},{key:"getResourceBundle",value:function(e,t){return t||(t=this.options.defaultNS),"v1"===this.options.compatibilityAPI?_objectSpread({},{},this.getResource(e,t)):this.getResource(e,t)}},{key:"getDataByLanguage",value:function(e){return this.data[e]}},{key:"toJSON",value:function(){return this.data}}]),t}(),postProcessor={processors:{},addPostProcessor:function(e){this.processors[e.name]=e},handle:function(e,t,r,i,n){var s=this;return e.forEach((function(e){s.processors[e]&&(t=s.processors[e].process(t,r,i,n))})),t}},checkedLoadedFor={},Translator=function(e){function t(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return _classCallCheck(this,t),r=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(r)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,_assertThisInitialized(r)),r.options=i,void 0===r.options.keySeparator&&(r.options.keySeparator="."),r.logger=baseLogger.create("translator"),r}return _inherits(t,EventEmitter),_createClass(t,[{key:"changeLanguage",value:function(e){e&&(this.language=e)}},{key:"exists",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{interpolation:{}},r=this.resolve(e,t);return r&&void 0!==r.res}},{key:"extractFromKey",value:function(e,t){var r=void 0!==t.nsSeparator?t.nsSeparator:this.options.nsSeparator;void 0===r&&(r=":");var i=void 0!==t.keySeparator?t.keySeparator:this.options.keySeparator,n=t.ns||this.options.defaultNS;if(r&&e.indexOf(r)>-1){var s=e.match(this.interpolator.nestingRegexp);if(s&&s.length>0)return{key:e,namespaces:n};var o=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(o[0])>-1)&&(n=o.shift()),e=o.join(i)}return"string"==typeof n&&(n=[n]),{key:e,namespaces:n}}},{key:"translate",value:function(e,r,i){var n=this;if("object"!==_typeof(r)&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),r||(r={}),null==e)return"";Array.isArray(e)||(e=[String(e)]);var s=void 0!==r.keySeparator?r.keySeparator:this.options.keySeparator,o=this.extractFromKey(e[e.length-1],r),a=o.key,l=o.namespaces,h=l[l.length-1],c=r.lng||this.language,u=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(c&&"cimode"===c.toLowerCase()){if(u){var d=r.nsSeparator||this.options.nsSeparator;return h+d+a}return a}var p=this.resolve(e,r),f=p&&p.res,_=p&&p.usedKey||a,m=p&&p.exactUsedKey||a,g=Object.prototype.toString.apply(f),y=void 0!==r.joinArrays?r.joinArrays:this.options.joinArrays,v=!this.i18nFormat||this.i18nFormat.handleAsObject;if(v&&f&&"string"!=typeof f&&"boolean"!=typeof f&&"number"!=typeof f&&["[object Number]","[object Function]","[object RegExp]"].indexOf(g)<0&&("string"!=typeof y||"[object Array]"!==g)){if(!r.returnObjects&&!this.options.returnObjects)return this.logger.warn("accessing an object - but returnObjects options is not enabled!"),this.options.returnedObjectHandler?this.options.returnedObjectHandler(_,f,r):"key '".concat(a," (").concat(this.language,")' returned an object instead of string.");if(s){var E="[object Array]"===g,T=E?[]:{},b=E?m:_;for(var S in f)if(Object.prototype.hasOwnProperty.call(f,S)){var x="".concat(b).concat(s).concat(S);T[S]=this.translate(x,_objectSpread({},r,{joinArrays:!1,ns:l})),T[S]===x&&(T[S]=f[S])}f=T}}else if(v&&"string"==typeof y&&"[object Array]"===g)(f=f.join(y))&&(f=this.extendTranslation(f,e,r,i));else{var A=!1,P=!1,R=void 0!==r.count&&"string"!=typeof r.count,O=t.hasDefaultValue(r),w=R?this.pluralResolver.getSuffix(c,r.count):"",I=r["defaultValue".concat(w)]||r.defaultValue;!this.isValidLookup(f)&&O&&(A=!0,f=I),this.isValidLookup(f)||(P=!0,f=a);var C=O&&I!==f&&this.options.updateMissing;if(P||A||C){if(this.logger.log(C?"updateKey":"missingKey",c,h,a,C?I:f),s){var M=this.resolve(a,_objectSpread({},r,{keySeparator:!1}));M&&M.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var D=[],L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if("fallback"===this.options.saveMissingTo&&L&&L[0])for(var N=0;N<L.length;N++)D.push(L[N]);else"all"===this.options.saveMissingTo?D=this.languageUtils.toResolveHierarchy(r.lng||this.language):D.push(r.lng||this.language);var F=function(e,t,i){n.options.missingKeyHandler?n.options.missingKeyHandler(e,h,t,C?i:f,C,r):n.backendConnector&&n.backendConnector.saveMissing&&n.backendConnector.saveMissing(e,h,t,C?i:f,C,r),n.emit("missingKey",e,h,t,f)};this.options.saveMissing&&(this.options.saveMissingPlurals&&R?D.forEach((function(e){n.pluralResolver.getSuffixes(e).forEach((function(t){F([e],a+t,r["defaultValue".concat(t)]||I)}))})):F(D,a,I))}f=this.extendTranslation(f,e,r,p,i),P&&f===a&&this.options.appendNamespaceToMissingKey&&(f="".concat(h,":").concat(a)),P&&this.options.parseMissingKeyHandler&&(f=this.options.parseMissingKeyHandler(f))}return f}},{key:"extendTranslation",value:function(e,t,r,i,n){var s=this;if(this.i18nFormat&&this.i18nFormat.parse)e=this.i18nFormat.parse(e,r,i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init(_objectSpread({},r,{interpolation:_objectSpread({},this.options.interpolation,r.interpolation)}));var o,a=r.interpolation&&r.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;if(a){var l=e.match(this.interpolator.nestingRegexp);o=l&&l.length}var h=r.replace&&"string"!=typeof r.replace?r.replace:r;if(this.options.interpolation.defaultVariables&&(h=_objectSpread({},this.options.interpolation.defaultVariables,h)),e=this.interpolator.interpolate(e,h,r.lng||this.language,r),a){var c=e.match(this.interpolator.nestingRegexp);o<(c&&c.length)&&(r.nest=!1)}!1!==r.nest&&(e=this.interpolator.nest(e,(function(){for(var e=arguments.length,i=new Array(e),o=0;o<e;o++)i[o]=arguments[o];return n&&n[0]===i[0]&&!r.context?(s.logger.warn("It seems you are nesting recursively key: ".concat(i[0]," in key: ").concat(t[0])),null):s.translate.apply(s,i.concat([t]))}),r)),r.interpolation&&this.interpolator.reset()}var u=r.postProcess||this.options.postProcess,d="string"==typeof u?[u]:u;return null!=e&&d&&d.length&&!1!==r.applyPostProcessor&&(e=postProcessor.handle(d,e,t,this.options&&this.options.postProcessPassResolved?_objectSpread({i18nResolved:i},r):r,this)),e}},{key:"resolve",value:function(e){var t,r,i,n,s,o=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"string"==typeof e&&(e=[e]),e.forEach((function(e){if(!o.isValidLookup(t)){var l=o.extractFromKey(e,a),h=l.key;r=h;var c=l.namespaces;o.options.fallbackNS&&(c=c.concat(o.options.fallbackNS));var u=void 0!==a.count&&"string"!=typeof a.count,d=void 0!==a.context&&"string"==typeof a.context&&""!==a.context,p=a.lngs?a.lngs:o.languageUtils.toResolveHierarchy(a.lng||o.language,a.fallbackLng);c.forEach((function(e){o.isValidLookup(t)||(s=e,!checkedLoadedFor["".concat(p[0],"-").concat(e)]&&o.utils&&o.utils.hasLoadedNamespace&&!o.utils.hasLoadedNamespace(s)&&(checkedLoadedFor["".concat(p[0],"-").concat(e)]=!0,o.logger.warn('key "'.concat(r,'" for languages "').concat(p.join(", "),'" won\'t get resolved as namespace "').concat(s,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),p.forEach((function(r){if(!o.isValidLookup(t)){n=r;var s,l,c=h,p=[c];for(o.i18nFormat&&o.i18nFormat.addLookupKeys?o.i18nFormat.addLookupKeys(p,h,r,e,a):(u&&(s=o.pluralResolver.getSuffix(r,a.count)),u&&d&&p.push(c+s),d&&p.push(c+="".concat(o.options.contextSeparator).concat(a.context)),u&&p.push(c+=s));l=p.pop();)o.isValidLookup(t)||(i=l,t=o.getResource(r,e,l,a))}})))}))}})),{res:t,usedKey:r,exactUsedKey:i,usedLng:n,usedNS:s}}},{key:"isValidLookup",value:function(e){return!(void 0===e||!this.options.returnNull&&null===e||!this.options.returnEmptyString&&""===e)}},{key:"getResource",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(e,t,r,i):this.resourceStore.getResource(e,t,r,i)}}],[{key:"hasDefaultValue",value:function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&"defaultValue"===t.substring(0,12)&&void 0!==e[t])return!0;return!1}}]),t}();function capitalize(e){return e.charAt(0).toUpperCase()+e.slice(1)}var LanguageUtil=function(){function e(t){_classCallCheck(this,e),this.options=t,this.whitelist=this.options.supportedLngs||!1,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass(e,[{key:"getScriptPartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return null;var t=e.split("-");return 2===t.length||(t.pop(),"x"===t[t.length-1].toLowerCase())?null:this.formatLanguageCode(t.join("-"))}},{key:"getLanguagePartFromCode",value:function(e){if(!e||e.indexOf("-")<0)return e;var t=e.split("-");return this.formatLanguageCode(t[0])}},{key:"formatLanguageCode",value:function(e){if("string"==typeof e&&e.indexOf("-")>-1){var t=["hans","hant","latn","cyrl","cans","mong","arab"],r=e.split("-");return this.options.lowerCaseLng?r=r.map((function(e){return e.toLowerCase()})):2===r.length?(r[0]=r[0].toLowerCase(),r[1]=r[1].toUpperCase(),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=capitalize(r[1].toLowerCase()))):3===r.length&&(r[0]=r[0].toLowerCase(),2===r[1].length&&(r[1]=r[1].toUpperCase()),"sgn"!==r[0]&&2===r[2].length&&(r[2]=r[2].toUpperCase()),t.indexOf(r[1].toLowerCase())>-1&&(r[1]=capitalize(r[1].toLowerCase())),t.indexOf(r[2].toLowerCase())>-1&&(r[2]=capitalize(r[2].toLowerCase()))),r.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}},{key:"isWhitelisted",value:function(e){return this.logger.deprecate("languageUtils.isWhitelisted",'function "isWhitelisted" will be renamed to "isSupportedCode" in the next major - please make sure to rename it\'s usage asap.'),this.isSupportedCode(e)}},{key:"isSupportedCode",value:function(e){return("languageOnly"===this.options.load||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}},{key:"getBestMatchFromCodes",value:function(e){var t,r=this;return e?(e.forEach((function(e){if(!t){var i=r.formatLanguageCode(e);(!r.options.supportedLngs||r.isSupportedCode(i))&&(t=i)}})),!t&&this.options.supportedLngs&&e.forEach((function(e){if(!t){var i=r.getLanguagePartFromCode(e);if(r.isSupportedCode(i))return t=i;t=r.options.supportedLngs.find((function(e){if(0===e.indexOf(i))return e}))}})),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t):null}},{key:"getFallbackCodes",value:function(e,t){if(!e)return[];if("function"==typeof e&&(e=e(t)),"string"==typeof e&&(e=[e]),"[object Array]"===Object.prototype.toString.apply(e))return e;if(!t)return e.default||[];var r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}},{key:"toResolveHierarchy",value:function(e,t){var r=this,i=this.getFallbackCodes(t||this.options.fallbackLng||[],e),n=[],s=function(e){e&&(r.isSupportedCode(e)?n.push(e):r.logger.warn("rejecting language code not found in supportedLngs: ".concat(e)))};return"string"==typeof e&&e.indexOf("-")>-1?("languageOnly"!==this.options.load&&s(this.formatLanguageCode(e)),"languageOnly"!==this.options.load&&"currentOnly"!==this.options.load&&s(this.getScriptPartFromCode(e)),"currentOnly"!==this.options.load&&s(this.getLanguagePartFromCode(e))):"string"==typeof e&&s(this.formatLanguageCode(e)),i.forEach((function(e){n.indexOf(e)<0&&s(r.formatLanguageCode(e))})),n}}]),e}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","kk","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(e){return+(e>1)},2:function(e){return+(1!=e)},3:function(e){return 0},4:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},5:function(e){return 0==e?0:1==e?1:2==e?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},6:function(e){return 1==e?0:e>=2&&e<=4?1:2},7:function(e){return 1==e?0:e%10>=2&&e%10<=4&&(e%100<10||e%100>=20)?1:2},8:function(e){return 1==e?0:2==e?1:8!=e&&11!=e?2:3},9:function(e){return+(e>=2)},10:function(e){return 1==e?0:2==e?1:e<7?2:e<11?3:4},11:function(e){return 1==e||11==e?0:2==e||12==e?1:e>2&&e<20?2:3},12:function(e){return+(e%10!=1||e%100==11)},13:function(e){return+(0!==e)},14:function(e){return 1==e?0:2==e?1:3==e?2:3},15:function(e){return e%10==1&&e%100!=11?0:e%10>=2&&(e%100<10||e%100>=20)?1:2},16:function(e){return e%10==1&&e%100!=11?0:0!==e?1:2},17:function(e){return 1==e||e%10==1&&e%100!=11?0:1},18:function(e){return 0==e?0:1==e?1:2},19:function(e){return 1==e?0:0==e||e%100>1&&e%100<11?1:e%100>10&&e%100<20?2:3},20:function(e){return 1==e?0:0==e||e%100>0&&e%100<20?1:2},21:function(e){return e%100==1?1:e%100==2?2:e%100==3||e%100==4?3:0},22:function(e){return 1==e?0:2==e?1:(e<0||e>10)&&e%10==0?2:3}};function createRules(){var e={};return sets.forEach((function(t){t.lngs.forEach((function(r){e[r]={numbers:t.nr,plurals:_rulesPluralsTypes[t.fc]}}))})),e}var PluralResolver=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_classCallCheck(this,e),this.languageUtils=t,this.options=r,this.logger=baseLogger.create("pluralResolver"),this.rules=createRules()}return _createClass(e,[{key:"addRule",value:function(e,t){this.rules[e]=t}},{key:"getRule",value:function(e){return this.rules[e]||this.rules[this.languageUtils.getLanguagePartFromCode(e)]}},{key:"needsPlural",value:function(e){var t=this.getRule(e);return t&&t.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(e,t){return this.getSuffixes(e).map((function(e){return t+e}))}},{key:"getSuffixes",value:function(e){var t=this,r=this.getRule(e);return r?r.numbers.map((function(r){return t.getSuffix(e,r)})):[]}},{key:"getSuffix",value:function(e,t){var r=this,i=this.getRule(e);if(i){var n=i.noAbs?i.plurals(t):i.plurals(Math.abs(t)),s=i.numbers[n];this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]&&(2===s?s="plural":1===s&&(s=""));var o=function(){return r.options.prepend&&s.toString()?r.options.prepend+s.toString():s.toString()};return"v1"===this.options.compatibilityJSON?1===s?"":"number"==typeof s?"_plural_".concat(s.toString()):o():"v2"===this.options.compatibilityJSON||this.options.simplifyPluralSuffix&&2===i.numbers.length&&1===i.numbers[0]?o():this.options.prepend&&n.toString()?this.options.prepend+n.toString():n.toString()}return this.logger.warn("no plural rule found for: ".concat(e)),""}}]),e}(),Interpolator=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e),this.logger=baseLogger.create("interpolator"),this.options=t,this.format=t.interpolation&&t.interpolation.format||function(e){return e},this.init(t)}return _createClass(e,[{key:"init",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.interpolation||(e.interpolation={escapeValue:!0});var t=e.interpolation;this.escape=void 0!==t.escape?t.escape:escape$1,this.escapeValue=void 0===t.escapeValue||t.escapeValue,this.useRawValueToEscape=void 0!==t.useRawValueToEscape&&t.useRawValueToEscape,this.prefix=t.prefix?regexEscape(t.prefix):t.prefixEscaped||"{{",this.suffix=t.suffix?regexEscape(t.suffix):t.suffixEscaped||"}}",this.formatSeparator=t.formatSeparator?t.formatSeparator:t.formatSeparator||",",this.unescapePrefix=t.unescapeSuffix?"":t.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":t.unescapeSuffix||"",this.nestingPrefix=t.nestingPrefix?regexEscape(t.nestingPrefix):t.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=t.nestingSuffix?regexEscape(t.nestingSuffix):t.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=t.nestingOptionsSeparator?t.nestingOptionsSeparator:t.nestingOptionsSeparator||",",this.maxReplaces=t.maxReplaces?t.maxReplaces:1e3,this.alwaysFormat=void 0!==t.alwaysFormat&&t.alwaysFormat,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var e="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(e,"g");var t="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(t,"g");var r="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(r,"g")}},{key:"interpolate",value:function(e,t,r,i){var n,s,o,a=this,l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function h(e){return e.replace(/\$/g,"$$$$")}var c=function(e){if(e.indexOf(a.formatSeparator)<0){var n=getPathWithDefaults(t,l,e);return a.alwaysFormat?a.format(n,void 0,r,_objectSpread({},i,t,{interpolationkey:e})):n}var s=e.split(a.formatSeparator),o=s.shift().trim(),h=s.join(a.formatSeparator).trim();return a.format(getPathWithDefaults(t,l,o),h,r,_objectSpread({},i,t,{interpolationkey:o}))};this.resetRegExp();var u=i&&i.missingInterpolationHandler||this.options.missingInterpolationHandler,d=i&&i.interpolation&&i.interpolation.skipOnVariables||this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:function(e){return h(e)}},{regex:this.regexp,safeValue:function(e){return a.escapeValue?h(a.escape(e)):h(e)}}].forEach((function(t){for(o=0;n=t.regex.exec(e);){if(void 0===(s=c(n[1].trim())))if("function"==typeof u){var r=u(e,n,i);s="string"==typeof r?r:""}else{if(d){s=n[0];continue}a.logger.warn("missed to pass in variable ".concat(n[1]," for interpolating ").concat(e)),s=""}else"string"!=typeof s&&!a.useRawValueToEscape&&(s=makeString(s));if(e=e.replace(n[0],t.safeValue(s)),t.regex.lastIndex=0,++o>=a.maxReplaces)break}})),e}},{key:"nest",value:function(e,t){var r,i,n=this,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=_objectSpread({},s);function a(e,t){var r=this.nestingOptionsSeparator;if(e.indexOf(r)<0)return e;var i=e.split(new RegExp("".concat(r,"[ ]*{"))),n="{".concat(i[1]);e=i[0],n=(n=this.interpolate(n,o)).replace(/'/g,'"');try{o=JSON.parse(n),t&&(o=_objectSpread({},t,o))}catch(t){return this.logger.warn("failed parsing options string in nesting for key ".concat(e),t),"".concat(e).concat(r).concat(n)}return delete o.defaultValue,e}for(o.applyPostProcessor=!1,delete o.defaultValue;r=this.nestingRegexp.exec(e);){var l=[],h=!1;if(r[0].includes(this.formatSeparator)&&!/{.*}/.test(r[1])){var c=r[1].split(this.formatSeparator).map((function(e){return e.trim()}));r[1]=c.shift(),l=c,h=!0}if((i=t(a.call(this,r[1].trim(),o),o))&&r[0]===e&&"string"!=typeof i)return i;"string"!=typeof i&&(i=makeString(i)),i||(this.logger.warn("missed to resolve ".concat(r[1]," for nesting ").concat(e)),i=""),h&&(i=l.reduce((function(e,t){return n.format(e,t,s.lng,_objectSpread({},s,{interpolationkey:r[1].trim()}))}),i.trim())),e=e.replace(r[0],i),this.regexp.lastIndex=0}return e}}]),e}();function remove(e,t){for(var r=e.indexOf(t);-1!==r;)e.splice(r,1),r=e.indexOf(t)}var Connector=function(e){function t(e,r,i){var n,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return _classCallCheck(this,t),n=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(n)),n.backend=e,n.store=r,n.services=i,n.languageUtils=i.languageUtils,n.options=s,n.logger=baseLogger.create("backendConnector"),n.state={},n.queue=[],n.backend&&n.backend.init&&n.backend.init(i,s.backend,s),n}return _inherits(t,EventEmitter),_createClass(t,[{key:"queueLoad",value:function(e,t,r,i){var n=this,s=[],o=[],a=[],l=[];return e.forEach((function(e){var i=!0;t.forEach((function(t){var a="".concat(e,"|").concat(t);!r.reload&&n.store.hasResourceBundle(e,t)?n.state[a]=2:n.state[a]<0||(1===n.state[a]?o.indexOf(a)<0&&o.push(a):(n.state[a]=1,i=!1,o.indexOf(a)<0&&o.push(a),s.indexOf(a)<0&&s.push(a),l.indexOf(t)<0&&l.push(t)))})),i||a.push(e)})),(s.length||o.length)&&this.queue.push({pending:o,loaded:{},errors:[],callback:i}),{toLoad:s,pending:o,toLoadLanguages:a,toLoadNamespaces:l}}},{key:"loaded",value:function(e,t,r){var i=e.split("|"),n=i[0],s=i[1];t&&this.emit("failedLoading",n,s,t),r&&this.store.addResourceBundle(n,s,r),this.state[e]=t?-1:2;var o={};this.queue.forEach((function(r){pushPath(r.loaded,[n],s),remove(r.pending,e),t&&r.errors.push(t),0===r.pending.length&&!r.done&&(Object.keys(r.loaded).forEach((function(e){o[e]||(o[e]=[]),r.loaded[e].length&&r.loaded[e].forEach((function(t){o[e].indexOf(t)<0&&o[e].push(t)}))})),r.done=!0,r.errors.length?r.callback(r.errors):r.callback())})),this.emit("loaded",o),this.queue=this.queue.filter((function(e){return!e.done}))}},{key:"read",value:function(e,t,r){var i=this,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:350,o=arguments.length>5?arguments[5]:void 0;return e.length?this.backend[r](e,t,(function(a,l){a&&l&&n<5?setTimeout((function(){i.read.call(i,e,t,r,n+1,2*s,o)}),s):o(a,l)})):o(null,{})}},{key:"prepareLoading",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),n&&n();"string"==typeof e&&(e=this.languageUtils.toResolveHierarchy(e)),"string"==typeof t&&(t=[t]);var s=this.queueLoad(e,t,i,n);if(!s.toLoad.length)return s.pending.length||n(),null;s.toLoad.forEach((function(e){r.loadOne(e)}))}},{key:"load",value:function(e,t,r){this.prepareLoading(e,t,{},r)}},{key:"reload",value:function(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}},{key:"loadOne",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split("|"),n=i[0],s=i[1];this.read(n,s,"read",void 0,void 0,(function(i,o){i&&t.logger.warn("".concat(r,"loading namespace ").concat(s," for language ").concat(n," failed"),i),!i&&o&&t.logger.log("".concat(r,"loaded namespace ").concat(s," for language ").concat(n),o),t.loaded(e,i,o)}))}},{key:"saveMissing",value:function(e,t,r,i,n){var s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(t)?this.logger.warn('did not save key "'.concat(r,'" as the namespace "').concat(t,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!"):null==r||""===r||(this.backend&&this.backend.create&&this.backend.create(e,t,r,i,null,_objectSpread({},s,{isUpdate:n})),e&&e[0]&&this.store.addResource(e[0],t,r,i))}}]),t}();function get(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,whitelist:!1,nonExplicitWhitelist:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(e){var t={};if("object"===_typeof(e[1])&&(t=e[1]),"string"==typeof e[1]&&(t.defaultValue=e[1]),"string"==typeof e[2]&&(t.tDescription=e[2]),"object"===_typeof(e[2])||"object"===_typeof(e[3])){var r=e[3]||e[2];Object.keys(r).forEach((function(e){t[e]=r[e]}))}return t},interpolation:{escapeValue:!0,format:function(e,t,r,i){return e},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!1}}}function transformOptions(e){return"string"==typeof e.ns&&(e.ns=[e.ns]),"string"==typeof e.fallbackLng&&(e.fallbackLng=[e.fallbackLng]),"string"==typeof e.fallbackNS&&(e.fallbackNS=[e.fallbackNS]),e.whitelist&&(e.whitelist&&e.whitelist.indexOf("cimode")<0&&(e.whitelist=e.whitelist.concat(["cimode"])),e.supportedLngs=e.whitelist),e.nonExplicitWhitelist&&(e.nonExplicitSupportedLngs=e.nonExplicitWhitelist),e.supportedLngs&&e.supportedLngs.indexOf("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),e}function noop$2(){}var I18n=function(e){function t(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if(_classCallCheck(this,t),e=_possibleConstructorReturn(this,_getPrototypeOf(t).call(this)),isIE10&&EventEmitter.call(_assertThisInitialized(e)),e.options=transformOptions(r),e.services={},e.logger=baseLogger,e.modules={external:[]},i&&!e.isInitialized&&!r.isClone){if(!e.options.initImmediate)return e.init(r,i),_possibleConstructorReturn(e,_assertThisInitialized(e));setTimeout((function(){e.init(r,i)}),0)}return e}return _inherits(t,EventEmitter),_createClass(t,[{key:"init",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=arguments.length>1?arguments[1]:void 0;function i(e){return e?"function"==typeof e?new e:e:null}if("function"==typeof t&&(r=t,t={}),t.whitelist&&!t.supportedLngs&&this.logger.deprecate("whitelist",'option "whitelist" will be renamed to "supportedLngs" in the next major - please make sure to rename this option asap.'),t.nonExplicitWhitelist&&!t.nonExplicitSupportedLngs&&this.logger.deprecate("whitelist",'options "nonExplicitWhitelist" will be renamed to "nonExplicitSupportedLngs" in the next major - please make sure to rename this option asap.'),this.options=_objectSpread({},get(),this.options,transformOptions(t)),this.format=this.options.interpolation.format,r||(r=noop$2),!this.options.isClone){this.modules.logger?baseLogger.init(i(this.modules.logger),this.options):baseLogger.init(null,this.options);var n=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var s=this.services;s.logger=baseLogger,s.resourceStore=this.store,s.languageUtils=n,s.pluralResolver=new PluralResolver(n,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),s.interpolator=new Interpolator(this.options),s.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},s.backendConnector=new Connector(i(this.modules.backend),s.resourceStore,s,this.options),s.backendConnector.on("*",(function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];e.emit.apply(e,[t].concat(i))})),this.modules.languageDetector&&(s.languageDetector=i(this.modules.languageDetector),s.languageDetector.init(s,this.options.detection,this.options)),this.modules.i18nFormat&&(s.i18nFormat=i(this.modules.i18nFormat),s.i18nFormat.init&&s.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",(function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),n=1;n<r;n++)i[n-1]=arguments[n];e.emit.apply(e,[t].concat(i))})),this.modules.external.forEach((function(t){t.init&&t.init(e)}))}if(this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var o=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);o.length>0&&"dev"!==o[0]&&(this.options.lng=o[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach((function(t){e[t]=function(){var r;return(r=e.store)[t].apply(r,arguments)}})),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach((function(t){e[t]=function(){var r;return(r=e.store)[t].apply(r,arguments),e}}));var a=defer(),l=function(){var t=function(t,i){e.isInitialized&&e.logger.warn("init: i18next is already initialized. You should call init just once!"),e.isInitialized=!0,e.options.isClone||e.logger.log("initialized",e.options),e.emit("initialized",e.options),a.resolve(i),r(t,i)};if(e.languages&&"v1"!==e.options.compatibilityAPI&&!e.isInitialized)return t(null,e.t.bind(e));e.changeLanguage(e.options.lng,t)};return this.options.resources||!this.options.initImmediate?l():setTimeout(l,0),a}},{key:"loadResources",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$2,i="string"==typeof e?e:this.language;if("function"==typeof e&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if(i&&"cimode"===i.toLowerCase())return r();var n=[],s=function(e){e&&t.services.languageUtils.toResolveHierarchy(e).forEach((function(e){n.indexOf(e)<0&&n.push(e)}))};i?s(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach((function(e){return s(e)})),this.options.preload&&this.options.preload.forEach((function(e){return s(e)})),this.services.backendConnector.load(n,this.options.ns,r)}else r(null)}},{key:"reloadResources",value:function(e,t,r){var i=defer();return e||(e=this.languages),t||(t=this.options.ns),r||(r=noop$2),this.services.backendConnector.reload(e,t,(function(e){i.resolve(),r(e)})),i}},{key:"use",value:function(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return"backend"===e.type&&(this.modules.backend=e),("logger"===e.type||e.log&&e.warn&&e.error)&&(this.modules.logger=e),"languageDetector"===e.type&&(this.modules.languageDetector=e),"i18nFormat"===e.type&&(this.modules.i18nFormat=e),"postProcessor"===e.type&&postProcessor.addPostProcessor(e),"3rdParty"===e.type&&this.modules.external.push(e),this}},{key:"changeLanguage",value:function(e,t){var r=this;this.isLanguageChangingTo=e;var i=defer();this.emit("languageChanging",e);var n=function(e){var n="string"==typeof e?e:r.services.languageUtils.getBestMatchFromCodes(e);n&&(r.language||(r.language=n,r.languages=r.services.languageUtils.toResolveHierarchy(n)),r.translator.language||r.translator.changeLanguage(n),r.services.languageDetector&&r.services.languageDetector.cacheUserLanguage(n)),r.loadResources(n,(function(e){!function(e,n){n?(r.language=n,r.languages=r.services.languageUtils.toResolveHierarchy(n),r.translator.changeLanguage(n),r.isLanguageChangingTo=void 0,r.emit("languageChanged",n),r.logger.log("languageChanged",n)):r.isLanguageChangingTo=void 0,i.resolve((function(){return r.t.apply(r,arguments)})),t&&t(e,(function(){return r.t.apply(r,arguments)}))}(e,n)}))};return e||!this.services.languageDetector||this.services.languageDetector.async?!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect(n):n(e):n(this.services.languageDetector.detect()),i}},{key:"getFixedT",value:function(e,t){var r=this,i=function e(t,i){var n;if("object"!==_typeof(i)){for(var s=arguments.length,o=new Array(s>2?s-2:0),a=2;a<s;a++)o[a-2]=arguments[a];n=r.options.overloadTranslationOptionHandler([t,i].concat(o))}else n=_objectSpread({},i);return n.lng=n.lng||e.lng,n.lngs=n.lngs||e.lngs,n.ns=n.ns||e.ns,r.t(t,n)};return"string"==typeof e?i.lng=e:i.lngs=e,i.ns=t,i}},{key:"t",value:function(){var e;return this.translator&&(e=this.translator).translate.apply(e,arguments)}},{key:"exists",value:function(){var e;return this.translator&&(e=this.translator).exists.apply(e,arguments)}},{key:"setDefaultNamespace",value:function(e){this.options.defaultNS=e}},{key:"hasLoadedNamespace",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var i=this.languages[0],n=!!this.options&&this.options.fallbackLng,s=this.languages[this.languages.length-1];if("cimode"===i.toLowerCase())return!0;var o=function(e,r){var i=t.services.backendConnector.state["".concat(e,"|").concat(r)];return-1===i||2===i};if(r.precheck){var a=r.precheck(this,o);if(void 0!==a)return a}return!(!this.hasResourceBundle(i,e)&&this.services.backendConnector.backend&&(!o(i,e)||n&&!o(s,e)))}},{key:"loadNamespaces",value:function(e,t){var r=this,i=defer();return this.options.ns?("string"==typeof e&&(e=[e]),e.forEach((function(e){r.options.ns.indexOf(e)<0&&r.options.ns.push(e)})),this.loadResources((function(e){i.resolve(),t&&t(e)})),i):(t&&t(),Promise.resolve())}},{key:"loadLanguages",value:function(e,t){var r=defer();"string"==typeof e&&(e=[e]);var i=this.options.preload||[],n=e.filter((function(e){return i.indexOf(e)<0}));return n.length?(this.options.preload=i.concat(n),this.loadResources((function(e){r.resolve(),t&&t(e)})),r):(t&&t(),Promise.resolve())}},{key:"dir",value:function(e){return e||(e=this.languages&&this.languages.length>0?this.languages[0]:this.language),e?["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam"].indexOf(this.services.languageUtils.getLanguagePartFromCode(e))>=0?"rtl":"ltr":"rtl"}},{key:"createInstance",value:function(){return new t(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},arguments.length>1?arguments[1]:void 0)}},{key:"cloneInstance",value:function(){var e=this,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:noop$2,n=_objectSpread({},this.options,r,{isClone:!0}),s=new t(n);return["store","services","language"].forEach((function(t){s[t]=e[t]})),s.services=_objectSpread({},this.services),s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s.translator=new Translator(s.services,s.options),s.translator.on("*",(function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];s.emit.apply(s,[e].concat(r))})),s.init(n,i),s.translator.options=s.options,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}}]),t}(),i18next=new I18n;const languages={bg:{translation:{stats_tooltip_woodworks:"",h2h_history_empty_state:"           ",stats_shots_blocked:" ",stats_shots_off_target:"  ",h2h_draws:"",standings_live:" ",players_stats_players:"",player_stats_tab:"  ",error_body_text:"    . ,    .",player_stats_shots:" ",player_stats_shots_on_target:"  ",player_stats_xg:"",player_stats_fouls:"",player_stats_passes:"",player_stats_tackles:"",penalties_shootout:" ",awaiting_decision:"   ",crowd_trouble:"  ",drink_break:"",fire_in_stadium:"  ",floodlight_failure:"  ",game_suspended:"  ",object_thrown_on_pitch:",   ",referee_delay:"  ",referee_injured:"  ",referee_stop:" ",spectator_on_pitch:"  ",weather_problem:"  ",data_not_available:"  ",card_upgrade:" ",delay_due_to_var:"    VAR",goal_awarded:" ",goal_not_awarded:"   ",mistaken_identity:" ",penalty_awarded:" ",penalty_not_awarded:"   ",red_card_given:"  ",match_has_ended:" ",match_not_found:"   ",abusive_language:" ",aerials_won:"  ",all:"",argument:"",as_home:"-  ",assist:"",attack:"",attacking:"",attacks:"",avg_corners:" ",avg_goals_cancelled:"    ",avg_goals_scored:"    ",avg_possession:"   ",avg_shots_off_target:"  ",avg_shots_on_target:"  ",avg_yellow_cards:"     ",away:" ",ball_touch:"  ",big_chances:"",big_chances_missed:" ",blocked:"",blocked_pass:" ",clearances:"",coaches:"",corner:"",corners:"",crosses:"",crowd_interaction:"  ",d:"D",dangerous_attack:" ",dangerous_attacks:" ",dangerous_free_kicks:"  ",defence:"",defending:"",detailed_stats:" ",dispossession:"  ",dissent:"",draw:"",dribbles:"",duels_won:" ",encroachment:" ",end_game:"",end_of_extra_time_before_penalty:"   ",end_of_extra_time_first_half:"   ",end_of_extra_time_half_time:"  e  ",end_of_extra_time_second_half:"   ",end_of_first_half:"   ",end_of_half_time_period:"    ",end_of_penalty_shootout:"  ",end_of_second_half:"   ",end_of_second_half_before_extra_time:"   ",entering_field_unauthorized:"    ",excessive_celebration:" ",extra_time:" ",first_half_end:"   ",form:"",foul:"",fouls:"",free_kick:" ",free_kicks:" ",full_time:"",game_corners:"  ",games_played:" ",goal:"",goal_kick:"  ",goalkeeper_saves:"",goals:"",h2h:"H2h",half_1st:"1-",half_2nd:"2-",half_before_extra_time:"   ",half_before_penalties:"    ",half_time:"",handball:"  ",header:"  ",home:" ",incidents:"",information_not_ava:"   ",injury:"",injury_time:" ",interception:"  ",interceptions:" ",kick_off:" ",nd:"",l:"P",last:"",last_man_foul:"  ",latest:"",leaving_field_unauthorized:"   ",lineups:"",live_now:"  ",long_balls:" ",lose:"",match_end:"  ",match_start:" ",missing_players:" ",momentum:"",no_of_corners:"",not_retreating:"  ",off_target:"",offside:"",offsides:"",on_target:"",opponents:"",other:"",overall:"",overview:"",own_goal:"",p:"P",pass:"",passes_attempted:"  ",passes_completed:" ",passing_accuracy:"  ",penalties:"",penalty:"",penalty_missed:" ",penalty_save:" ",penalty_saved:" ",penalty_scored:" ",penalty_shootout:"  ",performance:"",persistent_infringement:" ",pitch:"",pitch_goal:"",possession:"",possession_lost:"  ",post:"",pre_game:" ",pre_match:" ",pressure_index:"  ",pts:"",reckless_offence:" ",recovery:"",red_card:" ",red_cards:" ",season_stats:"  ",second_half_start:"  ",second_yellow_card:"  ",serious_foul:" ",shot_off_target:"  ",shot_on_goal:"  ",shots_inside_box:"   ",shots_off_target:"  ",shots_on_target:"  ",shots_outside_box:"   ",simulation:"",spitting:"",st:"",standings:"",start_of_extra_time_before_penalty:"   ",start_of_extra_time_first_half:"   ",start_of_extra_time_half_time:"  - ",start_of_extra_time_second_half:"   ",start_of_first_half:"   ",start_of_half_time_period:"   ",start_of_penalty_shootout:"  ",start_of_second_half:"   ",start_of_second_half_before_extra_time:"      ",statistics:"",stats:" ",stats_aerials_won:"  ",stats_big_chances:" ",stats_big_chances_missed:"  ",stats_clearances:"",stats_corners:"",stats_crosses:"",stats_dribbles:"",stats_duels_won:" ",stats_fouls:"",stats_goalkeeper_saves:"",stats_interceptions:"",stats_long_balls:" ",stats_offsides:"",stats_passes_attempted:"  ",stats_passes_completed:" ",stats_passing_accuracy:"  ",stats_possession:" %",stats_possession_lost:"  ",stats_red_cards:"  ",stats_shots_inside_box:"   ",stats_shots_on_target:"  ",stats_shots_outside_box:"   ",stats_tackles:"",stats_total_shots:" ",stats_woodwork:"",stats_x_goals_live:"  ",stats_yellow_cards:" ",substitutes:"",substitution:"",substitution_due_to_injury:"  ",swap_player:" ",tackle:"",tackles:"",tactical_foul:" ",take_on:"  ",team_name:"  ",textgoals:"xGoals:    ,                 .",th:"",this_tournament:" ",throw_in:"",time_wasting:"  ",total:" ",total_shots:" ",unsporting_behaviour:" ",val_text:"    .         .",var_check:"VAR ",var_checking_goal:"VAR - ",var_checking_mistaken_id:"VAR -   ",var_checking_penalty_awarded:"VAR - ",var_checking_penalty_not_awarded:"VAR -  ",var_checking_red_card_not_awarded:"VAR -   ",var_ref_decision_cancelled:"VAR -     ",var_ref_decision_confirmed:"VAR -     ",violent_conduct:" ",w:"W",win:"",woodwork:"",x_goals:"  ",xg:"",yellow_card:" ",yellow_cards:" ",in:"",out:"",player:"",match_resumed:"  ",match_delay:"  ",penalty_scored_by:",  ",substitution_in:"  ",substitution_out:"  ",standing_header_matches_played_tooltip:" ",standing_header_wins_tooltip:"",standing_header_draws_tooltip:"",standing_header_losses_tooltip:"",standing_header_goals_tooltip:"",standing_header_points_tooltip:"",standing_header_matches_played:"M",standing_header_wins:"",standing_header_draws:"P",standing_header_losses:"",standing_header_goals:"",standing_header_points:"T",last_five_games:" 5 ",standings_teams:"",no_real_time_data:"      ."}},en:{translation:{stats_tooltip_woodworks:"Woodworks",h2h_history_empty_state:"There is no recorded match history or available comparison data between these two teams.",stats_shots_blocked:"Shots Blocked",stats_shots_off_target:"Shots Off target",h2h_draws:"Draws",standings_live:"Live",player_stats_tab:"Player Stats",players_stats_players:"Players",error_body_text:"Data is unavailable temporarily. Please try again soon.",player_stats_shots:"Total shots",player_stats_shots_on_target:"Shots On target",player_stats_xg:"xGoals",player_stats_fouls:"Fouls",player_stats_passes:"Passes",player_stats_tackles:"Tackles",penalties_shootout:"Penalties Shootout",awaiting_decision:"Awaiting decision",crowd_trouble:"Crowd trouble",drink_break:"Drink break (cooling break)",fire_in_stadium:"Fire in stadium",floodlight_failure:"Floodlight failure",game_suspended:"Game suspended",object_thrown_on_pitch:"Object thrown on pitch",referee_delay:"Referee delay",referee_injured:"Referee injured",referee_stop:"Referee stop",spectator_on_pitch:"Spectator on pitch",weather_problem:"Weather problem",data_not_available:"Data not available",card_upgrade:"Card Upgrade",delay_due_to_var:"Delay due to VAR",goal_awarded:"Goal Awarded",goal_not_awarded:"Goal Not Awarded",mistaken_identity:"Mistaken Identity",penalty_awarded:"Penalty Awarded",penalty_not_awarded:"Penalty Not Awarded",red_card_given:"Red Card Given",match_has_ended:"Match has ended",match_not_found:"Match not found",abusive_language:"Abusive Language",aerials_won:"Aerials Won",all:"All",argument:"Argument",as_home:"- Home",assist:"ssist",attack:"Attack",attacking:"Attacking",attacks:"Attacks",avg_corners:"Avg Corners",avg_goals_cancelled:"Avg Goals Conceded",avg_goals_scored:"Avg Goals Scored",avg_possession:"Avg Possession",avg_shots_off_target:"Avg Shots Off Target",avg_shots_on_target:"Avg Shots On Target",avg_yellow_cards:"Avg Yellow Cards",away:"Away",ball_touch:"Ball touch",big_chances:"Big Chances",big_chances_missed:"Big Chances Missed",blocked:"Blocked",blocked_pass:"Blocked pass",clearances:"Clearances",coaches:"Coaches",corner:"Corner",corners:"Corners",crosses:"Crosses",crowd_interaction:"Crowd Interaction",d:"D",dangerous_attack:"Dangerous attack",dangerous_attacks:"Dangerous attacks",dangerous_free_kicks:"Dangerous Free Kick",defence:"Defending",defending:"Defending",detailed_stats:"Detailed Stats",dispossession:"Dispossession",dissent:"Dissent",draw:"Draw",dribbles:"Dribbles",duels_won:"Duels Won",encroachment:"Encroachment",end_game:"End Game",end_of_extra_time_before_penalty:"End of Extra Time - Before Penalty",end_of_extra_time_first_half:"End of Extra Time First Half",end_of_extra_time_half_time:"Start of Extra Time Second Half",end_of_extra_time_second_half:"End of Extra Time Second Half",end_of_first_half:"Half Time",end_of_half_time_period:"End of Half Time Period",end_of_penalty_shootout:"End of Penalty Shootout",end_of_second_half:"End of Second Half",end_of_second_half_before_extra_time:"End of Second Half - Before Extra Time",entering_field_unauthorized:"Entering Field Unauthorized",excessive_celebration:"Excessive Celebration",extra_time:"Extra time",first_half_end:"First half ends",form:"Form",foul:"Foul",fouls:"Fouls",free_kick:"Free kick",free_kicks:"Free Kick",full_time:"Full Time",game_corners:"Game corners",games_played:"Games played",goal:"Goal",goal_kick:"Goal kick",goalkeeper_saves:"Goalkeeper Saves",goals:"Goals",h2h:"H2H",half_1st:"1st half",half_2nd:"2nd half",half_before_extra_time:"End of Second Half",half_before_penalties:"End of Extra Time Second Half",half_time:"Half Time",handball:"Handball",header:"Header",home:"Home",incidents:"Incidents",information_not_ava:"Not available",injury:"Injury",injury_time:"Injury Time",interception:"Interception",interceptions:"Interceptions",kick_off:"Kick off",l:"L",last:"Last",last_man_foul:"Last Man Foul",latest:"Latest",leaving_field_unauthorized:"Leaving Field Unauthorized",lineups:"Lineups",live_now:"Live now",long_balls:"Long Balls",lose:"Lose",match_end:"Match end",match_start:"Match start",missing_players:"Missing players",momentum:"Momentum",nd:"nd",no_of_corners:"Game corners",not_retreating:"Not Retreating",off_target:"Off target",offside:"Offside",offsides:"Offside",on_target:"On target",opponents:"Opponents",other:"Other",overall:"verall",overview:"Overview",own_goal:"Own Goal",p:"P",pass:"Pass",passes_attempted:"Passes Attempted",passes_completed:"Passes Completed",passing_accuracy:"Passing Accuracy",penalties:"Penalties",penalty:"Penalty",penalty_missed:"Penalty missed",penalty_save:"Penalty shot saved",penalty_saved:"Penalty Saved",penalty_scored:"Penalty Scored",penalty_shootout:"Start of Penalty Shootout",performance:"Performance",persistent_infringement:"Persistent Infringement",pitch:"Pitch",pitch_goal:"GOAL",possession:"Possession",possession_lost:"Possession Lost",post:"Post",pre_game:"Pre-game",pre_match:"Pre-match",pressure_index:"Pressure index",pts:"pts",reckless_offence:"Reckless Offence",recovery:"Recovery",red_card:"Red card",red_cards:"Red cards",season_stats:"Season stats",second_half_start:"Second half start",second_yellow_card:"Second Yellow Card",serious_foul:"Serious Foul",shot_off_target:"Shot off target",shot_on_goal:"Shot on goal",shots_inside_box:"Shots inside box",shots_off_target:"Shot off target",shots_on_target:"Shot on target",shots_outside_box:"Shots outside box",simulation:"Simulation",spitting:"Spitting",st:"st",standings:"Standings",start_of_extra_time_before_penalty:"Start of Extra Time - Before Penalty",start_of_extra_time_first_half:"Start of Extra Time First Half",start_of_extra_time_half_time:"Extra Time - Half Time",start_of_extra_time_second_half:"Start of Extra Time Second Half",start_of_first_half:"Start of First Half",start_of_half_time_period:"Start of Half Time Period",start_of_penalty_shootout:"Start of Penalty Shootout",start_of_second_half:"Start of Second Half",start_of_second_half_before_extra_time:"Start of Second half - Before Extra Time",statistics:"Statistics",stats:"Detailed Stats",stats_aerials_won:"Aerials Won",stats_big_chances:"Big Chances",stats_big_chances_missed:"Big Chances Missed",stats_clearances:"Clearances",stats_corners:"Corners",stats_crosses:"Crosses",stats_dribbles:"Dribbles",stats_duels_won:"Duels Won",stats_fouls:"Fouls",stats_goalkeeper_saves:"Goalkeeper Saves",stats_interceptions:"Interceptions",stats_long_balls:"Long Balls",stats_offsides:"Offsides",stats_passes_attempted:"Passes Attempted",stats_passes_completed:"Passes Completed",stats_passing_accuracy:"Passing Accuracy",stats_possession:"Possession %",stats_possession_lost:"Possession Lost",stats_red_cards:"Red Cards",stats_shots_inside_box:"Shots inside box",stats_shots_on_target:"On target",stats_shots_outside_box:"Shots outside box",stats_tackles:"Tackles",stats_total_shots:"Total shots",stats_woodwork:"Woodwork",stats_x_goals_live:"xGoals Live",stats_yellow_cards:"Yellow Cards",substitutes:"Substitutes",substitution:"Substitution",substitution_due_to_injury:"Substitution due to injury",swap_player:"Swap player",tackle:"Tackle",tackles:"Tackles",tactical_foul:"Tactical Foul",take_on:"Take on",team_name:"Team name",textgoals:"xGoals: expected goals are the number of goals expected to be scored based on where and how a shot was taken.",th:"th",this_tournament:"This Tournament",throw_in:"Throw in",time_wasting:"Time Wasting",total:"Total",total_shots:"Total shots",unsporting_behaviour:"Unsporting Behaviour",val_text:"This graph gives you insight into the course of the game. Peaks on the graph are showing the pressure of a team throughout the match.",var_check:"VAR Check",var_checking_goal:"VAR - Checking Goal Awarded",var_checking_mistaken_id:"VAR - Checking Mistaken Identity",var_checking_penalty_awarded:"VAR - Checking Penalty Awarded",var_checking_penalty_not_awarded:"VAR - Checking Penalty Not Awarded",var_checking_red_card_not_awarded:"VAR - Checking Red Card Not Awarded",var_ref_decision_cancelled:"VAR - Referee Decision Cancelled",var_ref_decision_confirmed:"VAR - Referee Decision Confirmed",violent_conduct:"Violent Conduct",w:"W",win:"Win",woodwork:"Woodwork",x_goals:"xG Live",xg:"xG",yellow_card:"Yellow card",yellow_cards:"Yellow Cards",in:"in",out:"out",player:"Player",match_resumed:"Match resumed",match_delay:"Match Delay",penalty_scored_by:"Penalty Scored by",substitution_in:"Substitution (In)",substitution_out:"Substitution (Out)",standing_header_matches_played_tooltip:"Matches Played",standing_header_wins_tooltip:"Wins",standing_header_draws_tooltip:"Draws",standing_header_losses_tooltip:"Losses",standing_header_goals_tooltip:"Goals",standing_header_points_tooltip:"Points",standing_header_matches_played:"MP",standing_header_wins:"W",standing_header_draws:"D",standing_header_losses:"L",standing_header_goals:"G",standing_header_points:"Pts",last_five_games:"Last 5 Games",standings_teams:"Teams",player_stats:"Player Stats",no_real_time_data:"Stats are not real time updated."}},de:{translation:{stats_tooltip_woodworks:"Torpfosten",h2h_history_empty_state:"Keine aufgezeichnete Spielhistorie oder verfgbare Vergleichsdaten zwischen diesen beiden Teams vorhanden.",stats_shots_blocked:"geblockte Schsse",stats_shots_off_target:"Schsse neben das Tor",h2h_draws:"Unentschieden ",standings_live:"Live",player_stats_tab:"Spieler-Statistiken",players_stats_players:"Spieler",error_body_text:"Die Daten sind vorbergehend nicht verfgbar. Bitte versuchen Sie es bald wieder.",player_stats_shots:"Schsse insgesamt",player_stats_shots_on_target:"Schsse aufs Tor",player_stats_xg:"xGoals",player_stats_fouls:"Fouls",player_stats_passes:"Psse",player_stats_tackles:"Tackles",penalties_shootout:"Penaltyschieen",awaiting_decision:"Ausstehende Entscheidung",crowd_trouble:"Zuschauerausschreitungen",drink_break:"Trinkpause",fire_in_stadium:"Feuer im Stadion",floodlight_failure:"Ausfall der Flutlichter",game_suspended:"Spiel unterbrochen",object_thrown_on_pitch:"Gegenstand aufs Spielfeld geworfen",referee_delay:"Schiedsrichter- Spielverzgerung",referee_injured:"Verletzter Schiedsrichter",referee_stop:"Schiedsrichter-Spielunterbrechung",spectator_on_pitch:"Zuschauer auf dem Spielfeld",weather_problem:"Wetterproblem",data_not_available:"Keine Daten verfgbar",card_upgrade:"Karte Hochgestuft",delay_due_to_var:"Verzgerung durch VAR",goal_awarded:"Tor Gegeben",goal_not_awarded:"Tor Nicht Gegeben",mistaken_identity:"Verwechslung",penalty_awarded:"Elfmeter Gegeben",penalty_not_awarded:"Elfmeter Nicht Gegeben",red_card_given:"Platzverweis Erteilt",match_has_ended:"Spiel beendet",match_not_found:"Spiel nicht gefunden",abusive_language:"Beleidigende uerungen",aerials_won:"Kopfballduelle gewonnen",all:"Alle",argument:"Rudelbildung",as_home:"- Heimteam",assist:"Vorlage",attack:"Angriff",attacking:"Im Angriff",attacks:"Angriffe  ",avg_corners:"Durchschnittliche Ecken pro Spiel",avg_goals_cancelled:"Durchschnittliche Gegentore pro Spiel",avg_goals_scored:"Durchschnittliche Tore pro Spiel",avg_possession:"Durchschnittlicher Besitz pro Spiel",avg_shots_off_target:"Durchschnittliche Torschsse pro Spiel",avg_shots_on_target:"Durchschnittliche Schsse aufs Tor pro Spiel",avg_yellow_cards:"Durchschnittliche gelbe Karten pro Spiel",away:"Auswrts",ball_touch:"Ballberhrung",big_chances:"Grochancen",big_chances_missed:"Verpasste Grochancen",blocked:"Blockiert",blocked_pass:"Blockierter Pass",clearances:"Blle geklrt",coaches:"Trainer",corner:"Ecke",corners:"Ecken  ",crosses:"Flanken",crowd_interaction:"Zuschauer-Interaktion",d:"U",dangerous_attack:"Gefhrlicher Angriff",dangerous_attacks:"Gefhrliche angriffe",dangerous_free_kicks:"Gefhrlicher Freisto",defence:"Verteidigen",defending:"Verteidigen",detailed_stats:"Detaillierte Statistiken",dispossession:"Ballverlust",dissent:"Widerspruch",draw:"Unentschieden",dribbles:"Dribblings",duels_won:"Zweikmpfe gewonnen",end_game:"Ende des Spiels",end_of_extra_time_before_penalty:"Ende der Nachspielzeit - vor dem Elfmeterschieen",end_of_extra_time_first_half:"Ende der ersten Hlfte der Verlngerung",end_of_extra_time_half_time:"Beginn der zweiten Hlfte der Verlngerung",end_of_extra_time_second_half:"Ende der zweiten Hlfte der Verlngerung",end_of_first_half:"Ende der ersten Hlfte",end_of_half_time_period:"Ende der Halbzeit",end_of_penalty_shootout:"Ende des Elfmeterschieens",end_of_second_half:"Ende der zweiten Hlfte",end_of_second_half_before_extra_time:"Ende der zweiten Hlfte - vor der Verlngerung",entering_field_unauthorized:"Betritt das Feld unerlaubt",encroachment:"Beim Elfmeter zu frh in den Strafraum vorgedrungen",excessive_celebration:"bermiger Jubel",extra_time:"Nachspielzeit",first_half_end:"Ende der ersten Hlfte",form:"Form",foul:"Foul",fouls:"Fouls",free_kick:"Freisto",free_kicks:"Freisto",full_time:"Spiel beendet",game_corners:"Ecken im Spiel",games_played:"Spiele gespielt",goal:"Tor",goal_kick:"Absto",goalkeeper_saves:"Paraden des Torhters",goals:"Tore",h2h:"H2h",half_1st:"1. Hlfte",half_2nd:"2. Hlfte",half_before_extra_time:"Ende der zweiten Hlfte",half_before_penalties:"Ende der zweiten Hlfte der Verlngerung",half_time:"Halbzeit",handball:"Handspiel",header:"Kopfball",home:"Heim",incidents:"Vorflle",information_not_ava:"Information nicht verfgbar",injury:"Verletzung",injury_time:"Nachspielzeit",interception:"Abfangen",interceptions:"Abgefangene Blle",kick_off:"Ansto",l:"N ",last:"Letzte",last_man_foul:"Foul als letzter Mann",latest:"Niederlage",leaving_field_unauthorized:"Verlsst das Feld ohne Erlaubnis",lineups:"Aufstellungen",live_now:"Jetzt live",long_balls:"Lange Blle",lose:"Verlieren",match_end:"Spielende ",match_start:"Spielbeginn",missing_players:"Fehlende Spieler",momentum:"Momentum",nd:"nd",no_of_corners:"Ecken im Spiel",not_retreating:"Hat sich nicht zurckgezogen",off_target:"Daneben",offside:"Abseits",offsides:"Abseits",on_target:"Auf das Tor",opponents:"Gegner",other:"Andere",overall:"Insgesamt",overview:"bersicht",own_goal:"Eigentor",p:"P",pass:"Pass",passes_attempted:"Passversuche",passes_completed:"Angekommene Psse",passing_accuracy:"Passgenauigkeit",penalties:"Elfmeter",penalty:"Elfmeter",penalty_missed:"Elfmeter vergeben",penalty_save:"Elfmeter gehalten",penalty_saved:"Elfmeter gehalten",penalty_scored:"Elfmeter verwandelt",penalty_shootout:"Beginn des Elfmeterschieens",performance:"Leistung",persistent_infringement:"Wiederholtes Foulspiel",pitch:"Platz",pitch_goal:"TOR",possession:"Ballbesitz",possession_lost:"Ballverluste",post:"Pfosten",pre_game:"Vor dem Spiel",pre_match:"Vor dem Spiel",pressure_index:"Druckindex",pts:"pts",reckless_offence:"Grobes Foul",recovery:"Balleroberung",red_card:"Rote Karte",red_cards:"Rote Karten",season_stats:"Statistik Saison",second_half_start:"Start der zweiten Hlfte",second_yellow_card:"Gelb-Rot",serious_foul:"Schweres Foulspiel",shot_off_target:"Schuss neben das Tor",shot_on_goal:"Schuss aufs Tor",shots_inside_box:"Schsse innerhalb des Strafraums",shots_off_target:"Schsse neben das Tor",shots_on_target:"Schsse aufs Tor",shots_outside_box:"Schsse auerhalb des Strafraums",simulation:"Simulation",spitting:"Spucken",standings:"Tabelle",start_of_extra_time_before_penalty:"Beginn der Verlngerung - vor dem Elfmeterschieen",start_of_extra_time_first_half:"Beginn der ersten Hlfte der Verlngerung",start_of_extra_time_half_time:"Beginn Halbzeit der Verlngerung",start_of_extra_time_second_half:"Beginn der zweiten Hlfte der Verlngerung",start_of_first_half:"Beginn der ersten Hlfte",start_of_half_time_period:"Beginn der Halbzeit",start_of_penalty_shootout:"Beginn des Elfmeterschieens",start_of_second_half:"Beginn der zweiten Hlfte",start_of_second_half_before_extra_time:"Beginn der zweiten Hlfte - vor der Verlngerung",statistics:"Statistiken",stats:"Statistiken",stats_aerials_won:"Kopfballduelle gewonnen",stats_big_chances:"Grochancen",stats_big_chances_missed:"Grochancen verpasst",stats_clearances:"Blle geklrt",stats_corners:"Ecken",stats_crosses:"Flanken",stats_dribbles:"Dribblings",stats_duels_won:"Zweikmpfe gewonnen",stats_fouls:"Fouls",stats_goalkeeper_saves:"Paraden des Torhters",stats_interceptions:"Abgefangene Blle",stats_long_balls:"Lange Blle",stats_offsides:"Abseitsstellungen",stats_passes_attempted:"Passversuche",stats_passes_completed:"Psse gespielt",stats_passing_accuracy:"Passgenauigkeit",stats_possession:"Ballbesitz %",stats_possession_lost:"Ballverluste",stats_red_cards:"Rote Karten",stats_shots_inside_box:"Schsse aus dem Strafraum",stats_shots_on_target:"aufs Tor",stats_shots_outside_box:"Schsse auerhalb des Strafraums",stats_tackles:"Tackles",stats_total_shots:"Schsse insgesamt",stats_woodwork:"Aluminium-Treffer",stats_x_goals_live:"xTore Live",stats_yellow_cards:"Gelbe Karten",substitutes:"Ersatzspieler",substitution:"Auswechslung",substitution_due_to_injury:"Ausgewechselt wegen Verletzung",swap_player:"Wechselt Spieler",tackle:"Tackle",tackles:"Gewonnene Zweikmpfe",tactical_foul:"Taktisches Foul",take_on:"Erfolgreiches Dribbling",team_name:"Teamname",textgoals:"xGoals: Die zu erwartenden Tore entspricht der Anzahl der Tore, basierend darauf, von wo der Torschuss gemacht wurde.",th:".",this_tournament:"dieses Turnier",throw_in:"Einwurf",time_wasting:"Zeitspiel",total:"Insgesamt",total_shots:"Schsse insgesamt",unsporting_behaviour:"Unsportliches Verhalten",val_text:"Diese Grafik gibt Ihnen einen Einblick in den Verlauf des Spiels. Die Spitzen in der Grafik werden angezeigt wenn eine Mannschaft die andere whrend des Spiels unter Druck setzt.",var_check:"VAR berprfung",var_checking_goal:"VAR - Tor wird berprft",var_checking_mistaken_id:"VAR - mgliche Spielerverwechslung wird berprft",var_checking_penalty_awarded:"VAR - Elfmeter wird berprft",var_checking_penalty_not_awarded:"VAR - Mglicher Elfmeter wird berprft",var_checking_red_card_not_awarded:"VAR - Mglicher Platzverweis wird berprft",var_ref_decision_cancelled:"VAR - Schiedsrichter-Entscheidung korrigiert",var_ref_decision_confirmed:"VAR - Schiedsrichter-Entscheidung besttigt",violent_conduct:"Gewltttiges Verhalten",w:"S",win:"Sieg",woodwork:"Pfosten / Latte",x_goals:"xG Live",xg:"xG",yellow_card:"Gelbe Karte",yellow_cards:"Gelbe Karten",in:"In",out:"Aus",player:"Spieler",match_resumed:"Spiel fortgesetzt",match_delay:"Spielverzgerung",penalty_scored_by:"Elfmeter geschossen von",substitution_in:"Einwechslung",substitution_out:"Auswechslung",standing_header_matches_played_tooltip:"Spiele Absolviert",standing_header_wins_tooltip:"Siege",standing_header_draws_tooltip:"Unentschieden",standing_header_losses_tooltip:"Niederlagen",standing_header_goals_tooltip:"Tore",standing_header_points_tooltip:"Punkte",standing_header_matches_played:"SA",standing_header_wins:"S",standing_header_draws:"U",standing_header_losses:"N",standing_header_goals:"T",standing_header_points:"PKT",last_five_games:"Letzte 5 Spiele",standings_teams:"Teams",no_real_time_data:"Statistiken beinhalten keine Echtzeit-Updates."}},el:{translation:{stats_tooltip_woodworks:"",h2h_history_empty_state:"             .",stats_shots_blocked:" ",stats_shots_off_target:"  ",h2h_draws:"",standings_live:"Live",player_stats_tab:" ",players_stats_players:"",error_body_text:"    .   ",player_stats_shots:" ",player_stats_shots_on_target:"  ",player_stats_xg:"xGoals",player_stats_fouls:"",player_stats_passes:"",player_stats_tackles:"",penalties_shootout:"  ",awaiting_decision:" ",crowd_trouble:"    ",drink_break:"  ",fire_in_stadium:"  ",floodlight_failure:"  ",game_suspended:" ",object_thrown_on_pitch:"    ",referee_delay:"  ",referee_injured:" ",referee_stop:"  ",spectator_on_pitch:"   ",weather_problem:" ",data_not_available:"  ",card_upgrade:" ",delay_due_to_var:"  VAR",goal_awarded:"  ",goal_not_awarded:"   ",mistaken_identity:"   ",penalty_awarded:" ",penalty_not_awarded:"  ",red_card_given:"  ",match_has_ended:" ",match_not_found:"   ",abusive_language:" ",aerials_won:"  ",all:"",argument:"",as_home:"- ",assist:"",attack:"",attacking:"",attacks:"E",avg_corners:"  ",avg_goals_cancelled:"   ",avg_goals_scored:"   ",avg_possession:"   ",avg_shots_off_target:"    ",avg_shots_on_target:"    ",avg_yellow_cards:"   ",away:"",ball_touch:"   ",big_chances:" ",big_chances_missed:"  ",blocked:" ",blocked_pass:" ",clearances:" ",coaches:"",corner:"",corners:"",crosses:"",crowd_interaction:"  ",d:"",dangerous_attack:" ",dangerous_attacks:" ",dangerous_free_kicks:" ",defence:"",defending:"",detailed_stats:" ",dispossession:" ",dissent:"K",draw:"",dribbles:"",duels_won:" ",encroachment:" ",end_game:" ",end_of_extra_time_before_penalty:"   ",end_of_extra_time_first_half:" 1  ",end_of_extra_time_half_time:" 2  ",end_of_extra_time_second_half:" 2  ",end_of_first_half:"",end_of_half_time_period:" 2 ",end_of_penalty_shootout:"  ",end_of_second_half:" 2 ",end_of_second_half_before_extra_time:" ",entering_field_unauthorized:"  ",excessive_celebration:"",extra_time:"",first_half_end:" 1 ",form:"",foul:"",fouls:"",free_kick:"",free_kicks:"",full_time:" ",game_corners:" ",games_played:" ",goal:"",goal_kick:"",goalkeeper_saves:" ",goals:"",h2h:"H2H",half_1st:"1 ",half_2nd:"2 ",half_before_extra_time:" 2 ",half_before_penalties:" 2  ",half_time:"",handball:"",header:"",home:"",incidents:"",information_not_ava:" ",injury:"",injury_time:"",interception:"",interceptions:"",kick_off:"",l:"",last:"",last_man_foul:"T ",latest:"",leaving_field_unauthorized:"  ",lineups:"",live_now:" ",long_balls:" ",lose:"",match_end:" ",match_start:" ",missing_players:"A",momentum:"Momentum",nd:"",no_of_corners:" ",not_retreating:" ",off_target:"  ",offside:"",offsides:"",on_target:"  ",opponents:"A",other:" ",overall:"",overview:"",own_goal:"",p:"",pass:"",passes_attempted:"",passes_completed:" ",passing_accuracy:"  (%)",penalties:"",penalty:"",penalty_missed:" ",penalty_save:" ",penalty_saved:" ",penalty_scored:" ",penalty_shootout:"   ",performance:"E",persistent_infringement:" ",pitch:"",pitch_goal:"GOAL",possession:"",possession_lost:" ",post:"",pre_game:"  ",pre_match:"  ",pressure_index:" ",pts:"",reckless_offence:" ",recovery:" ",red_card:" ",red_cards:" ",season_stats:" ",second_half_start:" 2 ",second_yellow_card:"2  ",serious_foul:" ",shot_off_target:"  ",shot_on_goal:"  ",shots_inside_box:"  ",shots_off_target:"  ",shots_on_target:"  ",shots_outside_box:"  ",simulation:" ()",spitting:"",st:"",standings:"",start_of_extra_time_before_penalty:" ",start_of_extra_time_first_half:" 1  ",start_of_extra_time_half_time:" ",start_of_extra_time_second_half:" 2  ",start_of_first_half:" 1 ",start_of_half_time_period:"",start_of_penalty_shootout:"   ",start_of_second_half:" 2 ",start_of_second_half_before_extra_time:" 2 ",statistics:"",stats:" ",stats_aerials_won:"  ",stats_big_chances:" ",stats_big_chances_missed:"  ",stats_clearances:" ",stats_corners:"",stats_crosses:"",stats_dribbles:"",stats_duels_won:" ",stats_fouls:"",stats_goalkeeper_saves:" ",stats_interceptions:"",stats_long_balls:" ",stats_offsides:"",stats_passes_attempted:"",stats_passes_completed:" ",stats_passing_accuracy:" ",stats_possession:" %",stats_possession_lost:" ",stats_red_cards:" ",stats_shots_inside_box:"  ",stats_shots_on_target:"  ",stats_shots_outside_box:"  ",stats_tackles:"",stats_total_shots:" ",stats_woodwork:"",stats_x_goals_live:"xGoals Live",stats_yellow_cards:" ",substitutes:"",substitution:"",substitution_due_to_injury:"  ",swap_player:"",tackle:"",tackles:"",tactical_foul:" ",take_on:"",team_name:" ",textgoals:"xGoals:          ,          .",th:"",this_tournament:"  ",throw_in:"",time_wasting:"",total:"",total_shots:" ",unsporting_behaviour:" ",val_text:"    ,         .",var_check:"VAR -  ",var_checking_goal:"VAR -  ",var_checking_mistaken_id:"VAR -  ",var_checking_penalty_awarded:"VAR -  ",var_checking_penalty_not_awarded:"VAR -  ",var_checking_red_card_not_awarded:"VAR -   ",var_ref_decision_cancelled:"VAR -  ",var_ref_decision_confirmed:"VAR -   ",violent_conduct:" ",w:"",win:"",woodwork:"",x_goals:"xG Live",xg:"xG",yellow_card:" ",yellow_cards:" ",in:"",out:"",player:"",match_resumed:" ",match_delay:" ",penalty_scored_by:"   ",substitution_in:" ()",substitution_out:" ()",standing_header_matches_played_tooltip:"",standing_header_wins_tooltip:"",standing_header_draws_tooltip:"",standing_header_losses_tooltip:"",standing_header_goals_tooltip:"",standing_header_points_tooltip:"",standing_header_matches_played:"",standing_header_wins:"",standing_header_draws:"",standing_header_losses:"",standing_header_goals:"",standing_header_points:"",last_five_games:" 5 ",standings_teams:"",no_real_time_data:"      ."}},pt:{translation:{stats_tooltip_woodworks:"Traves",h2h_history_empty_state:"No existe histrico do jogo ou dados comparativos disponveis entre estas duas equipas.",stats_shots_blocked:"Remates bloqueados",stats_shots_off_target:"Remates para fora",h2h_draws:"Empates",standings_live:"Ao vivo",player_stats_tab:"Estatsticas de jogadores",players_stats_players:"Jogadores",error_body_text:"Dados temporariamente indisponves. Por favor, tenta novamente mais tarde.",player_stats_shots:"Total de Remates",player_stats_shots_on_target:"Remates  baliza",player_stats_xg:"xGolos",player_stats_fouls:"Faltas",player_stats_passes:"Passes",player_stats_tackles:"Tackles",penalties_shootout:"Desempate por penltis",awaiting_decision:"Aguardando Deciso",crowd_trouble:"Atrito no pblico",drink_break:"Intervalo",fire_in_stadium:"Fogo no estdio",floodlight_failure:"Falha na placa de jogo",game_suspended:"Jogo suspenso",object_thrown_on_pitch:"Objeto projetado para campo ",referee_delay:"Atraso do rbitro",referee_injured:"rbitro lesionado",referee_stop:"Paragem do rbitro",spectator_on_pitch:"Espetador em campo",weather_problem:"Problema climtico",data_not_available:"Dados no disponveis",card_upgrade:"Atualizao do Carto",delay_due_to_var:"Atraso devido ao VAR",goal_awarded:"Golo Atribudo",goal_not_awarded:"Golo No Atribudo",mistaken_identity:"Confuso de Identidade Jogador",penalty_awarded:"Penlti Concedido",penalty_not_awarded:"Penlti No Concedido",red_card_given:"Carto Vermelho Dado",match_has_ended:"A partida terminou",match_not_found:"Jogo no encontrado",abusive_language:"Linguagem Abusiva",aerials_won:"Duelos areos ganhos",all:"Tudo",argument:"Discusses",as_home:"- Da casa",assist:"Assistncias",attack:"Ataque",attacking:"Atacante",attacks:"Ataques",avg_corners:"Mdia de Cantos por Jogo",avg_goals_cancelled:"Mdia de Golos Sofridos por Jogo",avg_goals_scored:"Mdia de Golos Marcados por Jogo",avg_possession:"Mdia de Posse de Bola",avg_shots_off_target:"Mdia de Remates para Fora por Jogo",avg_shots_on_target:"Mdia de Remates  Baliza por Jogo",avg_yellow_cards:"Mdia de Cartes Amarelos por Jogo",away:"Fora",ball_touch:"Toque na Bola",big_chances:"Melhores Oportunidades",big_chances_missed:"Melhores Oportunidades Falhadas",blocked:"Bloqueado",blocked_pass:"Passe bloqueado",clearances:"Alvios",coaches:"Treinadores",corner:"Canto",corners:"Cantos",crosses:"Cruzamentos",crowd_interaction:"Apoio dos Adeptos",d:"E",dangerous_attack:"Ataque perigoso",dangerous_attacks:"Ataques perigosos",dangerous_free_kicks:"Livre Direto Perigoso",defence:"Defesa",defending:"Defesa",detailed_stats:"Estatsticas Detalhadas",dispossession:"Perdas de Bola",dissent:"Divergncia",draw:"Empate",dribbles:"Fintas",duels_won:"Duelos ganhos",encroachment:"Invaso",end_game:"Final do Jogo",end_of_extra_time_before_penalty:"Fim do Prolongamento - Antes do Desempate por Penltis",end_of_extra_time_first_half:"Fim da 1 Parte do Prolongamento",end_of_extra_time_half_time:"Incio da 2 Parte do Prolongamento",end_of_extra_time_second_half:"Fim da 2 Parte do Prolongamento",end_of_first_half:"Final da 1 Parte",end_of_half_time_period:"Fim do Intervalo",end_of_penalty_shootout:"Fim do Desempate por Penltis",end_of_second_half:"Final da 2 Parte",end_of_second_half_before_extra_time:"Fim da 2 Parte - Antes do Prolongamento",entering_field_unauthorized:"Entrar no Campo Sem Autorizao",excessive_celebration:"Festejos Excessivos",extra_time:"Prolongamento",first_half_end:"Fim da 1 parte",form:"Forma",foul:"Falta",fouls:"Faltas",free_kick:"Livre",free_kicks:"Livre Direto",full_time:"Final",game_corners:"Cantos no Jogo",games_played:"Jogos",goal:"Golo",goal_kick:"Pontap de baliza",goalkeeper_saves:"Defesas do Guarda-Redes",goals:"Golos",h2h:"Frente a Frente",half_1st:"1 parte",half_2nd:"2 parte",half_before_extra_time:"Fim da 2 Parte",half_before_penalties:"Fim da 2 Parte do Prolongamento",half_time:"Intervalo",handball:"Andebol",header:"Cabeceamento",home:"Casa",incidents:"Indicentes",information_not_ava:"Informao no disponvel",injury:"Leso",injury_time:"Tempo de Compensao",interception:"Intercepo",interceptions:"Intercepes",kick_off:"Pontap de sada",l:"D",last:"ltimo",last_man_foul:"Falta do ltimo homem",latest:"Mais recentes",leaving_field_unauthorized:"Abandonar o Campo Sem Autorizao",lineups:"11 Inicial",live_now:"Ao Vivo",long_balls:"Passes longos",lose:"Derrota",match_end:"Fim do jogo",match_start:"Incio do jogo",missing_players:"Jogadores ausentes",momentum:"Momento",nd:"a",no_of_corners:"Cantos do Jogo",not_retreating:"No Retirou",off_target:"Fora da baliza",offside:"Fora de jogo",offsides:"Fora de Jogo",on_target:"Na baliza",opponents:"Adversrios",other:"Outro",overall:"Geral",overview:"Geral",own_goal:"Auto-Golo",p:"P",pass:"Passe",passes_attempted:"Passes",passes_completed:"Passes completos",passing_accuracy:"% de Passes",penalties:"Penltis",penalty:"Penlti",penalty_missed:"Penlti - Falhado",penalty_save:"Penldi defendido",penalty_saved:"Penlti - Defesa",penalty_scored:"Penlti - Golo",penalty_shootout:"Inicio do desempate por Penltis",performance:"Performance",persistent_infringement:"Faltas Sucessivas",pitch:"Campo",pitch_goal:"GOLO",possession:"Posse de Bola",possession_lost:"Perda de posse de bola",post:"Poste",pre_game:"Pr-Jogo",pre_match:"Pr-Jogo",pressure_index:"ndice de presso",pts:"pts",reckless_offence:"Falta Imprudente",recovery:"Recuperao",red_card:"Carto Vermelho",red_cards:"Carto Vermelho",season_stats:"Estatsticas da temporada",second_half_start:"Incio da 2 parte",second_yellow_card:"2 Carto Amarelo",serious_foul:"Falta Grave",shot_off_target:"Remate para fora",shot_on_goal:"Remate  baliza",shots_inside_box:"Remates dentro da rea",shots_off_target:"Remates para Fora",shots_on_target:"Remates  Baliza",shots_outside_box:"Remates fora da rea",simulation:"Simulao",spitting:"Cuspir",st:"a",standings:"Classificao",start_of_extra_time_before_penalty:"Incio do Prolongamento - Antes do Desempate por Penltis",start_of_extra_time_first_half:"Incio da 1 Parte do Prolongamento",start_of_extra_time_half_time:"Incio do Prolongamento da 1 Parte",start_of_extra_time_second_half:"Incio da 2 Parte do Prolongamento",start_of_first_half:"Incio da 1 Parte",start_of_half_time_period:"Incio do Intervalo",start_of_penalty_shootout:"Incio do Desempate por Penltis",start_of_second_half:"Incio da 2 Parte",start_of_second_half_before_extra_time:"Incio da 2 Parte - Antes do Prolongamento",statistics:"Estatsticas",stats:"Estatsticas Detalhadas",stats_aerials_won:"Bolas Areas Ganhas",stats_big_chances:"Oportunidades Perigosas",stats_big_chances_missed:"Oportunidades Perigosas Perdidas",stats_clearances:"Alvios",stats_corners:"Cantos no Jogo",stats_crosses:"Cruzamentos",stats_dribbles:"Fintas",stats_duels_won:"Duelos Ganhos",stats_fouls:"Faltas",stats_goalkeeper_saves:"Defesas do Guarda-Redes",stats_interceptions:"Intercepes",stats_long_balls:"Passes Longos",stats_offsides:"Foras de Jogo",stats_passes_attempted:"Passes",stats_passes_completed:"Passes Completos",stats_passing_accuracy:"% de Passes Certos",stats_possession:"% Posse de Bola",stats_possession_lost:"Perda de Posse de Bola",stats_red_cards:"Cartes Vermelhos",stats_shots_inside_box:"Remates dentro da rea",stats_shots_on_target:" baliza",stats_shots_outside_box:"Remates fora da rea",stats_tackles:"Carrinhos",stats_total_shots:"Total de Remates",stats_woodwork:"Poste / Barra",stats_x_goals_live:"xGolos ao Vivo",stats_yellow_cards:"Cartes Amarelos",substitutes:"Suplentes",substitution:"Substituio",substitution_due_to_injury:"Substituio por leso",swap_player:"Trocar jogador",tackle:"Tackle",tackles:"Tackles",tactical_foul:"Falta Ttica",take_on:"Fintas com Sucesso",team_name:"Equipa",textgoals:"xGolos: os golos previstos so os golos que  previsto serem marcados com base de onde e como os remates foram feitos.",th:"a",this_tournament:"este torneio",throw_in:"Lanamento lateral",time_wasting:"Queimar Tempo",total:"Total",total_shots:"Total de Remates",unsporting_behaviour:"Conduta anti-desportiva",val_text:"Este grfico d-lhe uma viso do decorrer do jogo. Os picos no grfico mostram a presso atacante de uma equipa ao longo do jogo.",var_check:"VAR - Em Anlise",var_checking_goal:"VAR - Golo Confirmado",var_checking_mistaken_id:"VAR - A Verificar Identidade do Jogador",var_checking_penalty_awarded:"VAR - Penlti Confirmado",var_checking_penalty_not_awarded:"VAR - Penlti Revertido",var_checking_red_card_not_awarded:"VAR - Carto Vermelho Revertido",var_ref_decision_cancelled:"VAR - Deciso do rbitro Revertida",var_ref_decision_confirmed:"VAR - Deciso do rbitro Confirmada",violent_conduct:"Conduta Violenta",w:"V",win:"Vencer",woodwork:"Barra",x_goals:"xGoals",xg:"xG",yellow_card:"Carto amarelo",yellow_cards:"Cartes Amarelos",in:"dentro",out:"fora",player:"Jogador",match_resumed:"Jogo retomado",match_delay:"Atraso no jogo",penalty_scored_by:"Penlti marcado por",substitution_in:"Substituio (Entra)",substitution_out:"Substituio (Sai)",standing_header_matches_played_tooltip:"Jogos Disputados",standing_header_wins_tooltip:"Vitrias",standing_header_draws_tooltip:"Empates",standing_header_losses_tooltip:"Derrotas",standing_header_goals_tooltip:"Golos",standing_header_points_tooltip:"Pontos",standing_header_matches_played:"JD",standing_header_wins:"V",standing_header_draws:"E",standing_header_losses:"D",standing_header_goals:"G",standing_header_points:"PTS",last_five_games:"ltimos 5 jogos",standings_teams:"Equipas",no_real_time_data:"As estatsticas no refletem alteraes em tempo real."}},pt_BR:{translation:{stats_tooltip_woodworks:"Traves",h2h_history_empty_state:"No h histrico de partidas ou dados comparativos disponveis entre essas duas equipes.",stats_shots_blocked:"Chutes bloqueados",stats_shots_off_target:"Chutes fora do gol",h2h_draws:"Empates",standings_live:"Ao vivo",player_stats_tab:"Estatsticas dos jogadores",players_stats_players:"Jogadores",error_body_text:"Temporariamente, no h dados disponveis. Por favor, tente novamente em breve",player_stats_shots:"Total de chutes",player_stats_shots_on_target:"Chutes no gol",player_stats_xg:"xGols",player_stats_fouls:"Faltas",player_stats_passes:"Passes",player_stats_tackles:"Desarmes",penalties_shootout:"Disputa de pnaltis",awaiting_decision:"Aguardando Deciso",crowd_trouble:"Atrito no pblico",drink_break:"Pausa de Hidratao",fire_in_stadium:"Fogo no estdio",floodlight_failure:"Falha no holofote",game_suspended:"Jogo suspenso",object_thrown_on_pitch:"Objeto jogado no gramado",referee_delay:"Atraso do rbitro",referee_injured:"rbitro lesionado",referee_stop:"Parada do rbitro",spectator_on_pitch:"Torcedor no gramado",weather_problem:"Problema climtico",data_not_available:"Dados no disponveis",card_upgrade:"Atualizao do Carto",delay_due_to_var:"Atraso por conta do VAR",goal_awarded:"Gol Concedido",goal_not_awarded:"Gol No Concedido",mistaken_identity:"Confuso de Identidade Jogador",penalty_awarded:"Pnalti Concedido",penalty_not_awarded:"Pnalti No Concedido",red_card_given:"Carto Vermelho Dado",match_has_ended:"A partida terminou",match_not_found:"Partida no encontrada",abusive_language:"Linguagem imprpria",aerials_won:"Recuperao de bola area",all:"Tudo",argument:"Disputa",as_home:"- Mandante",assist:"Assistncia",attack:"Ataque",attacking:"Atacante",attacks:"Ataques",avg_corners:"Mdia de escanteios por jogo",avg_goals_cancelled:"Mdia de gols sofridos por jogo",avg_goals_scored:"Mdia de gols marcados por jogo",avg_possession:"Mdia de Posse de bola por jogo",avg_shots_off_target:"Mdia de chutes fora do gol por jogo",avg_shots_on_target:"Mdia de chutes no gol por jogo",avg_yellow_cards:"Mdia de cartes amarelos por jogo",away:"Visitante",ball_touch:"Toque na bola",big_chances:"Maiores chances",big_chances_missed:"Maiores chances perdidas",blocked:"Bloqueado",blocked_pass:"Passe bloqueado",clearances:"Salvar a bola",coaches:"Treinadores",corner:"Escanteio",corners:"Escanteios",crosses:"Cruzamentos",crowd_interaction:"Apoio da torcida",d:"E",dangerous_attack:"Ataque perigoso",dangerous_attacks:"Ataques perigosos",dangerous_free_kicks:"Falta perigosa",defence:"Defendido",defending:"Defesa",detailed_stats:"Estatsticas detalhadas",dispossession:"Recuperar a bola",dissent:"Divergncia",draw:"Empate",dribbles:"Dribles",duels_won:"Recuperao de bola",encroachment:"Invaso",end_game:"Fim de jogo",end_of_extra_time_before_penalty:"Fim da prorrogao - Antes dos pnaltis",end_of_extra_time_first_half:"Fim do 1 tempo da prorrogao",end_of_extra_time_half_time:"Incio do 2 tempo da Prorrogao",end_of_extra_time_second_half:"Fim do 2 tempo da prorrogao",end_of_first_half:"Fim do 1 tempo",end_of_half_time_period:"Fim do Intervalo",end_of_penalty_shootout:"Fim da cobrana de pnaltis",end_of_second_half:"Fim do  2 tempo",end_of_second_half_before_extra_time:"Fim do 2 tempo - Antes da prorrogao",entering_field_unauthorized:"Entrar mo campo sem autorizao",excessive_celebration:"Torcida faz a festa",extra_time:"Acrscimos",first_half_end:"Fim do 1 tempo",form:"Formato",foul:"Falta",fouls:"Faltas",free_kick:"Falta",free_kicks:"Falta",full_time:"Final",game_corners:"Escanteios no jogo",games_played:"Jogos disputados",goal:"Gol",goal_kick:"Chute para o gol",goalkeeper_saves:"Defesas do goleiro",goals:"Gols",h2h:"H2h",half_1st:"1 parte",half_2nd:"2 parte",half_before_extra_time:"Fim do 2 tempo",half_before_penalties:"Fim do 2 tempo da Prorrogao",half_time:"Intervalo",handball:"Handebol",header:"Cabeada",home:"Casa",incidents:"Incidentes",information_not_ava:"Informao no disponvel",injury:"Leso",injury_time:"Prorrogao",interception:"Intercepo",interceptions:"Interceptaes ",kick_off:"Pontap inicial",l:"D",last:"ltimo",last_man_foul:"Falta do ltimo homem",latest:"Mais recentes",leaving_field_unauthorized:"Deixar o campo sem autorizao",lineups:"Escalao",live_now:"Ao vivo",long_balls:"Passes longos",lose:"Derrota",match_end:"Final de jogo",match_start:"Incio do jogo",missing_players:"Jogadores ausentes",momentum:"Momento",nd:"nd",no_of_corners:"Escanteios do jogo",not_retreating:"No avana",off_target:"Fora do gol",offside:"Impedimento",offsides:"Impedimento",on_target:"No gol",opponents:"Adversrios",other:"Outro",overall:"Geral",overview:"Geral",own_goal:"Gol contra",p:"pts",pass:"Passe",passes_attempted:"Passes",passes_completed:"Passes completos",passing_accuracy:"% de Passes",penalties:"Pnaltis",penalty:"Pnalti",penalty_missed:"Pnalti falhado",penalty_save:"Pnalti defendido",penalty_saved:"Pnalti defendido",penalty_scored:"Pnalti marcado",penalty_shootout:"Incio das cobranas de pnalti",performance:"Performance",persistent_infringement:"Faltas consecutivas",pitch:"campo",pitch_goal:"Gol",possession:"Posse de bola",possession_lost:"Perder a posse de bola",post:"Trave",pre_game:"Pr jogo",pre_match:"Pr jogo",pressure_index:"ndice de presso",pts:"pts",reckless_offence:"Linguagem imprpria",recovery:"Recuperao",red_card:"Carto Vermelho",red_cards:"Cartes vermelhos",season_stats:"Estatsticas da temporada",second_half_start:"Incio do 2 tempo",second_yellow_card:"Segundo carto amarelo",serious_foul:"Falta grave",shot_off_target:"Chute fora do gol",shot_on_goal:"Chute para o gol",shots_inside_box:"Chutes de dentro da rea",shots_off_target:"Chutes fora do gol",shots_on_target:"Chutes no gol",shots_outside_box:"Chutes de fora da rea",simulation:"Simulao",spitting:"Spitting",st:"st",standings:" classificao",start_of_extra_time_before_penalty:"Incio da Prorrogao - Antes da cobrana de pnaltis",start_of_extra_time_first_half:"Incio do 1 tempo da prorrogao",start_of_extra_time_half_time:"Incio da 1 parte da prorrogao",start_of_extra_time_second_half:"Incio do 2 tempo da prorrogao",start_of_first_half:"Incio do 1 tempo",start_of_half_time_period:"Incio do 2 tempo",start_of_penalty_shootout:"Incio da cobrana de pnaltis",start_of_second_half:"Incio do 2 tempo",start_of_second_half_before_extra_time:"Incio do 2 tempo - Antes da prorrogao",statistics:"estatsticas",stats:"Estatsticas detalhadas",stats_aerials_won:"Bolas areas",stats_big_chances:"Grandes chances",stats_big_chances_missed:"Grandes chances perdidas",stats_clearances:"Afastar a bola",stats_corners:"Escanteios",stats_crosses:"Cruzamentos",stats_dribbles:"Dribles",stats_duels_won:"Vitria no duelo",stats_fouls:"Faltas",stats_goalkeeper_saves:"Defendido pelo goleiro",stats_interceptions:"Intercepes",stats_long_balls:"Bolas longas",stats_offsides:"Impedimentos",stats_passes_attempted:"Passes",stats_passes_completed:"Passes completos",stats_passing_accuracy:"Preciso de passes",stats_possession:"Posse de bola %",stats_possession_lost:"Perda de posse de bola",stats_red_cards:"Cartes vermelhos",stats_shots_inside_box:"Chutes de dentro da rea",stats_shots_on_target:"No gol",stats_shots_outside_box:"Chutes de fora da rea",stats_tackles:"Desarmes",stats_total_shots:"Total de chutes",stats_woodwork:"Trave",stats_x_goals_live:"xGols ao vivo",stats_yellow_cards:"Cartoes amarelos",substitutes:"Reservas",substitution:"Substituio",substitution_due_to_injury:"Substituio por contuso",swap_player:"Substituiio de jogador",tackle:"Desarme",tackles:"Desarmes",tactical_foul:"Falta ttica",take_on:"Driblar com sucesso",team_name:"Nome da equipe",textgoals:"xGols: so o nmero de gols previstos com base no local e na forma como o chute foi feito",th:"th",this_tournament:"este torneio",throw_in:"Lateral",time_wasting:"Fazendo cera",total:"Total",total_shots:"Total de chutes",unsporting_behaviour:"Conduta anti-desportiva",val_text:"Este grfico fornece uma viso geral do andamento do jogo. Os picos no grfico mostram a presso de uma equipe durante a partida.",var_check:"Checagem VAR",var_checking_goal:"VAR- Checagem de gol marcado",var_checking_mistaken_id:"VAR- Checagem de identidade do jogador",var_checking_penalty_awarded:"VAR- Checagem de pnalti marcado",var_checking_penalty_not_awarded:"VAR- Checagem de pnalti no marcado",var_checking_red_card_not_awarded:"VAR- Checagem de carto vermelho no marcado",var_ref_decision_cancelled:"VAR - Deciso do juz anulada",var_ref_decision_confirmed:"VAR - Deciso do juz confirmada",violent_conduct:"Conduta violenta",w:"V",win:"Vitria",woodwork:"Trave",x_goals:"xG Ao vivo",xg:"xG",yellow_card:"Carto amarelo",yellow_cards:"Cartes amarelos",in:"dentro",out:"fora",player:"Jogador",match_resumed:"Partida retomada",match_delay:"Atraso na partida",penalty_scored_by:"Pnalti marcado por",substitution_in:"Substituio (Entra)",substitution_out:"Substituio (Sai)",standing_header_matches_played_tooltip:"Jogos Disputados",standing_header_wins_tooltip:"Vitrias",standing_header_draws_tooltip:"Empates",standing_header_losses_tooltip:"Derrotas",standing_header_goals_tooltip:"Golos",standing_header_points_tooltip:"Pontos",standing_header_matches_played:"JD",standing_header_wins:"V",standing_header_draws:"E",standing_header_losses:"D",standing_header_goals:"G",standing_header_points:"PTS",last_five_games:"ltimos 5 jogos",standings_teams:"Equipes",no_real_time_data:"As estatsticas no refletem mudanas em tempo real."}},ro:{translation:{stats_tooltip_woodworks:"Bare",h2h_history_empty_state:"Nu exist un istoric al meciurilor sau date de comparaie disponibile ntre aceste dou echipe.",stats_shots_blocked:"uturi blocate",stats_shots_off_target:"uturi pe lng poart",h2h_draws:"Egaluri",standings_live:"Live",player_stats_tab:"Statistici Juctor",players_stats_players:"Juctori",error_body_text:"Momentan, nu sunt date disponibile. ncearc din nou n curnd.",player_stats_shots:"Total uturi",player_stats_shots_on_target:"uturi pe poart",player_stats_xg:"Predicie Goluri",player_stats_fouls:"Faulturi",player_stats_passes:"Pase",player_stats_tackles:"Tackling-uri",penalties_shootout:"Lovituri de departajare",awaiting_decision:"Asteptare Decizie",crowd_trouble:"Probleme cu Publicul",drink_break:"Pauza de hidratare",fire_in_stadium:"Incendiu pe Stadion",floodlight_failure:"Defectiune Nocturna",game_suspended:"Joc Suspendat",object_thrown_on_pitch:"Obiect aruncat pe teren",referee_delay:"Intarziere cauzata de arbitru",referee_injured:"Arbitru accidentat",referee_stop:"Oprire a arbitrului",spectator_on_pitch:"Spectator pe teren",weather_problem:"Probleme atmosferice",data_not_available:"Informaiile nu sunt disponibile",card_upgrade:"Upgrade Cartonas",delay_due_to_var:"Intarziere din cauza VAR",goal_awarded:"Gol Acordat",goal_not_awarded:"Gol Neacordat",mistaken_identity:"Identitate Gresita",penalty_awarded:"Penalti Acordat",penalty_not_awarded:"Penalti Neacordat",red_card_given:"Cartonas Rosu Acordat",match_has_ended:"Meciul s-a ncheiat",match_not_found:"Meciul nu a fost gsit",abusive_language:"Limbaj inadecvat",aerials_won:"Dueluri aeriene ctigate",all:"Toate",argument:"Controvers",as_home:"- Gazde",assist:"Pas de gol",attack:"Atac",attacking:"Atac",attacks:"Atacuri",avg_corners:"Cornere medii pe meci",avg_goals_cancelled:"Medie goluri primite pe meci",avg_goals_scored:"Medie goluri marcate pe meci",avg_possession:"Posesie medie pe meci",avg_shots_off_target:"Medie uturi n afara porii",avg_shots_on_target:"Medie uturi pe poart",avg_yellow_cards:"Media cartonaelor galbene pe meci",away:"Deplasare",ball_touch:"Atingere de balon",big_chances:"anse mari",big_chances_missed:"anse mari ratate",blocked:"Blocat",blocked_pass:"Pas blocat",clearances:"Degajri",coaches:"Antrenori",corner:"Corner",corners:"Cornere",crosses:"Centrri",crowd_interaction:"Interaciune cu publicul",d:"E",dangerous_attack:"Atac periculos",dangerous_attacks:"Atacuri periculoase",dangerous_free_kicks:"Lovitur liber periculoas",defence:"Aprare",defending:"Aprare",detailed_stats:"Statistici detaliate",dispossession:"Mingi pierdute",dissent:"Contradicie",draw:"Egal",dribbles:"Driblinguri",duels_won:"Dueluri ctigate",encroachment:"nclcare a regulamentului",end_game:"Sfritul jocului",end_of_extra_time_before_penalty:"Finalul Prelungirilor - nainte de Penalty-uri",end_of_extra_time_first_half:"Sfritul primei reprize de prelungiri",end_of_extra_time_half_time:"Start a doua Repriz de Prelunigire",end_of_extra_time_second_half:"Sfritul celei de-a doua reprize de prelungiri",end_of_first_half:"Finalul Primei Reprize",end_of_half_time_period:"Finalul Pauzei",end_of_penalty_shootout:"Finalul loviturilor de departajare",end_of_second_half:"Finalul Reprizei a Doua",end_of_second_half_before_extra_time:"Finalul Reprizei a Doua - naintea Prelungirilor",entering_field_unauthorized:"Intrare pe teren fr aprobare",excessive_celebration:"Celebrare excesiv",extra_time:"Reprize de prelungire",first_half_end:"Finalul primei reprize",form:"Form",foul:"Fault",fouls:"Faulturi",free_kick:"Lovitur liber",free_kicks:"Lovitur liber",full_time:"Final de meci",game_corners:"Cornere meci",games_played:"Meciuri jucate",goal:"Gol",goal_kick:"Degajare",goalkeeper_saves:"Intervenii Portar",goals:"Goluri",h2h:"H2H",half_1st:"Prima repriz",half_2nd:"A doua repriz",half_before_extra_time:"Sfritul reprizei a doua",half_before_penalties:"Sfritul celei de-a doua reprize de prelungire",half_time:"Pauz",handball:"Hen",header:"Lovitur de cap",home:"Acas",incidents:"Incidente",information_not_ava:"Informatia nu este disponibil",injury:"Accidentare",injury_time:"Minute de prelungire",interception:"Intercepie",interceptions:"Intercepii",kick_off:"Lovitura de ncepere",l:"",last:"Ultimul",last_man_foul:"Fault de ultim aprtor",latest:"Ultimul",leaving_field_unauthorized:"Prsirea terenului fr aprobare",lineups:"Echipele",live_now:"Live acum",long_balls:"Mingi lungi",lose:"nfrngere",match_end:"Finalul meciului",match_start:"Startul meciului",missing_players:"Juctori lips",momentum:"Moment",nd:"nd",no_of_corners:"Cornere n meci",not_retreating:"Nu se retrage",off_target:"n afara cadrului porii",offside:"Ofsaid",offsides:"Ofsaid",on_target:"Pe poart",opponents:"Adversari",other:"Altele",overall:"Per total",overview:"Prezentare General",own_goal:"Autogol",p:"J",pass:"Pas",passes_attempted:"Pase ncercate",passes_completed:"Pase complete",passing_accuracy:"Acurateea paselor",penalties:"Penalty-uri",penalty:"Penalty",penalty_missed:"Penalty ratat",penalty_save:"Penalty aprat",penalty_saved:"Penalty salvat",penalty_scored:"Penalty transformat",penalty_shootout:"nceputul loviturilor de departajare",performance:"Performan",persistent_infringement:"nclcare constant a regulamentului",pitch:"Teren",pitch_goal:"GOL",possession:"Posesie",possession_lost:"Posesie pierdut",post:"Bar",pre_game:"nainte de meci",pre_match:"nainte de meci",pressure_index:"Indicele de presiune",pts:"pct",reckless_offence:"Limbaj vulgar",recovery:"Recuperare",red_card:"Cartona rou",red_cards:"Cartonae roii",season_stats:"Statistici sezon",second_half_start:"Startul reprizei a doua",second_yellow_card:"Al doilea cartona galben",serious_foul:"Fault serios",shot_off_target:"ut pe lng poart",shot_on_goal:"ut pe poart",shots_inside_box:"uturi din interiorul careului",shots_off_target:"uturi pe lng poart",shots_on_target:"uturi de poart",shots_outside_box:"uturi din afara careului",simulation:"Simulare",spitting:"Scuipat",st:"st",standings:"Clasament",start_of_extra_time_before_penalty:"nceputul reprizelor de prelungire - naintea penalty-urilor",start_of_extra_time_first_half:"nceputul primei reprize de prelungiri",start_of_extra_time_half_time:"Pauza dintre reprizele de prelungiri",start_of_extra_time_second_half:"nceputul reprizei a doua de prelungiri",start_of_first_half:"nceputul primei reprize",start_of_half_time_period:"nceputul pauzei",start_of_penalty_shootout:"nceputul loviturilor de departajare",start_of_second_half:"nceputul celei de-a doua reprize",start_of_second_half_before_extra_time:"nceputul reprizei a doua - naintea prelungirilor",statistics:"Statistici",stats:"Statistici detaliate",stats_aerials_won:"Dueluri Aeriene Ctigate",stats_big_chances:"anse mari",stats_big_chances_missed:"anse mari ratate",stats_clearances:"Degajri",stats_corners:"Cornere",stats_crosses:"Centrri",stats_dribbles:"Driblinguri",stats_duels_won:"Dueluri Ctigate",stats_fouls:"Faulturi",stats_goalkeeper_saves:"Intervenii Portar",stats_interceptions:"Intercepii",stats_long_balls:"Mingi lungi",stats_offsides:"Ofsaiduri",stats_passes_attempted:"Pase ncercate",stats_passes_completed:"Pase complete",stats_passing_accuracy:"Acurateea paselor",stats_possession:"Posesie %",stats_possession_lost:"Posesie pierdut",stats_red_cards:"Cartonae roii",stats_shots_inside_box:"uturi din interiorul careului",stats_shots_on_target:"Pe poart",stats_shots_outside_box:"uturi din afara careului",stats_tackles:"Tackling-uri",stats_total_shots:"Total uturi",stats_woodwork:"Bar",stats_x_goals_live:"Predicie Goluri LIVE",stats_yellow_cards:"Cartonae galbene",substitutes:"nlocuitori",substitution:"Schimbare",substitution_due_to_injury:"nlocuire din cauza accidentrii",swap_player:"Schimbare juctor",tackle:"Atac la minge",tackles:"Tackling-uri",tactical_foul:"Fault tactic",take_on:"Dribblinguri reuite",team_name:"Numele echipei",textgoals:"xGoluri: golurile ateptate sunt numrul de goluri preconizate a fi marcate n funcie de unde i cum a fost plasat utul. ",th:"th",this_tournament:"acest turneu",throw_in:"Aruncare de la margine",time_wasting:"Tragere de timp",total:"Total",total_shots:"Total uturi",unsporting_behaviour:"Comportament nesportiv",val_text:"Acest grafic i ofer informaii n timpul jocului. Pe grafic este afiat presiunea unei echipe pe tot parcursul meciului.",var_check:"Se verific VAR",var_checking_goal:"VAR - Verificare Gol Acordat",var_checking_mistaken_id:"VAR - Revizuire decizie",var_checking_penalty_awarded:"VAR - Verificare Penalty Acordat",var_checking_penalty_not_awarded:"VAR - Verificare Acordare Penalty - Neacordat",var_checking_red_card_not_awarded:"VAR - Verificare acordare Cartona Rou - Neacordat",var_ref_decision_cancelled:"VAR - Decizia arbitrului a fost anulat",var_ref_decision_confirmed:"VAR - Decizia arbitrului a fost confirmat",violent_conduct:"Comportament violent",w:"V",win:"Victorie",woodwork:"Bar",x_goals:"xG LIVE",xg:"xG",yellow_card:"Cartona galben",yellow_cards:"Cartonae galbene",in:"intrare",out:"ieire",player:"Juctor",match_resumed:"Meci reluat",match_delay:"Meci ntrziat",penalty_scored_by:"Penalty marcat de",substitution_in:"Intr n joc",substitution_out:"Iese din joc",standing_header_matches_played_tooltip:"Meciuri Jucate",standing_header_wins_tooltip:"Victorii",standing_header_draws_tooltip:"Egaluri",standing_header_losses_tooltip:"nfrngeri",standing_header_goals_tooltip:"Goluri",standing_header_points_tooltip:"Puncte",standing_header_matches_played:"MJ",standing_header_wins:"V",standing_header_draws:"E",standing_header_losses:"",standing_header_goals:"G",standing_header_points:"PCT",last_five_games:"Ultimele 5 Meciuri",standings_teams:"Echipe",no_real_time_data:"Statisticile nu reflect schimbrile n timp real."}},cs:{translation:{stats_tooltip_woodworks:"Tyka",h2h_history_empty_state:"Pro srovnn tchto dvou tm nen k dispozici dn historie ani daje",stats_shots_blocked:"Stely zablokovan",stats_shots_off_target:"Stely mimo brnu",h2h_draws:"Remzy",standings_live:"Live",player_stats_tab:"Statistiky hr",players_stats_players:"Hri",error_body_text:"Data jsou doasn nedostupn. Zkuste to prosm brzy znovu",player_stats_shots:"Celkov poet stel",player_stats_shots_on_target:"Stely na brnu",player_stats_xg:"xGoals",player_stats_fouls:"Fauly",player_stats_passes:"Pihrvky",player_stats_tackles:"Tackles",penalties_shootout:"Samostatn njezdy",awaiting_decision:"ek se na rozhodnut ",crowd_trouble:"Pote v hlediti",drink_break:"Pauza na pit",fire_in_stadium:"Ohe na stadionu",floodlight_failure:"Nefunkn svtla",game_suspended:"Peruen hra",object_thrown_on_pitch:"Nco bylo vhozeno na hit",referee_delay:"Zpodn rozhodho",referee_injured:"Zrann rozhodho",referee_stop:"Zastaven rozhodho",spectator_on_pitch:"Divk na hiti",weather_problem:"Pote s poasm",data_not_available:"daje nejsou k dispozici",card_upgrade:"Aktualizace Karty",delay_due_to_var:"Zpodn kvli VAR",goal_awarded:"Uznan Gl",goal_not_awarded:"Odvolan Gl",mistaken_identity:"Zmna Identity Hre",penalty_awarded:"Bude Nazen Penalta",penalty_not_awarded:"Nebude Nazen Penalta",red_card_given:"Bude erven Karta",match_has_ended:"Zpas skonil",match_not_found:"Zpas nenalezen",abusive_language:"Vulgrn jazyk",aerials_won:"Vyhran vzdun souboje",all:"Ve",argument:"Argument",as_home:"Domc",assist:"Asistence",attack:"tok",attacking:"to",attacks:"toky",avg_corners:"Prmrn poet roh",avg_goals_cancelled:"Prmrn poet zruench gl",avg_goals_scored:"Prmrn poet gl",avg_possession:"Prmrn dren me",avg_shots_off_target:"Prmrn poet stel mimo brnu",avg_shots_on_target:"Prmrn poet stel na brnu",avg_yellow_cards:"Prmrn poet lutch karet",away:"Host",ball_touch:"Doteky me",big_chances:"Velk ance",big_chances_missed:"Nepromnn velk ance",blocked:"Zablokovno",blocked_pass:"Zablokovan pihrvka",clearances:"Odkopy",coaches:"Treni",corner:"Roh",corners:"Rohy",crosses:"Centry",crowd_interaction:"Interakce s divky",d:"D",dangerous_attack:"Nebezpen tok",dangerous_attacks:"Nebezpen toky",dangerous_free_kicks:"Nebezpen trestn kopy",defence:"Obrana",defending:"Brn",detailed_stats:"Detailn statistiky",dispossession:"Ztrta me",dissent:"Nesouhlas",draw:"Remza",dribbles:"Driblingy",duels_won:"Vyhran souboje",encroachment:"Vniknut do zem",end_game:"Konec zpasu",end_of_extra_time_before_penalty:"Konec prodlouen - nsleduj penalty",end_of_extra_time_first_half:"Konec 1. sti prodlouen",end_of_extra_time_half_time:"Konec pestvky v prodlouen",end_of_extra_time_second_half:"Konec 2. sti prodlouen",end_of_first_half:"Konec 1. poloasu",end_of_half_time_period:"Konec poloasov pestvky",end_of_penalty_shootout:"Konec penaltovho rozstelu",end_of_second_half:"Konec 2. poloasu",end_of_second_half_before_extra_time:"Konec 2. poloasu - nsleduje prodlouen",entering_field_unauthorized:"Vniknut na hit",excessive_celebration:"Nevhodn oslava glu",extra_time:"Prodlouen",first_half_end:"1. poloas skonil",form:"Forma",foul:"Faul",fouls:"Fauly",free_kick:"Trestn kop",free_kicks:"Trestn kopy",full_time:"Konec zpasu",game_corners:"Rohy v zpasu",games_played:"Odehran zpasy",goal:"Gl",goal_kick:"Odkop od brny",goalkeeper_saves:"Zkroky",goals:"Gly",h2h:"H2H",half_1st:"1. poloas",half_2nd:"2. poloas",half_before_extra_time:"Pestvka ped prodlouenm",half_before_penalties:"Pestvka ped penaltami",half_time:"Poloas",handball:"Ruka",header:"Hlavika",home:"Domc",incidents:"Incidenty",information_not_ava:"Informace nejsou dostupn",injury:"Zrann",injury_time:"Nastaven",interception:"Zisk ",interceptions:"Zisky",kick_off:"Vkop",l:"L",last:"Posledn",last_man_foul:"Faul poslednho hre",latest:"Posledn",leaving_field_unauthorized:"Nepovolen oputn hit",lineups:"Sestavy",live_now:"Nyn",long_balls:"Dlouh me",lose:"Prohra",match_end:"Zpas skonil",match_start:"Zpas zaal",missing_players:"Chybjc hri",momentum:"Momentum",nd:".",no_of_corners:"Poet roh",not_retreating:"Neustupuj",off_target:"Mimo branku",offside:"Ofsajd",offsides:"Ofsajdy",on_target:"Na brnu",opponents:"Soupei",other:"Jin",overall:"Celkov",overview:"Pehled",own_goal:"Vlastn gl",p:"P",pass:"Pihrvka",passes_attempted:"Pihrvky",passes_completed:"spn pihrvky",passing_accuracy:"spnost pihrvek",penalties:"Penalty",penalty:"Penalta",penalty_missed:"Nepromnn penalta",penalty_save:"Chycen penalta",penalty_saved:"Chycen penalta",penalty_scored:"Promnn penalta",penalty_shootout:"Penaltov rozstel",performance:"Vkon",persistent_infringement:"Trval poruovn",pitch:"Hit",pitch_goal:"Gl",possession:"Dren me",possession_lost:"Ztrta me",post:"Ty",pre_game:"Pre-game",pre_match:"Pre-match",pressure_index:"Index tlaku",pts:"B",reckless_offence:"Hrub faul",recovery:"Zptn zskn balnu",red_card:"erven karta",red_cards:"erven karty",season_stats:"Seznn statistiky",second_half_start:"Zatek 2. poloasu",second_yellow_card:"2. lut karta",serious_foul:"Vn faul",shot_off_target:"Stela mimo brnu",shot_on_goal:"Stela na brnu",shots_inside_box:"Stely zevnit vpna",shots_off_target:"Stely mimo brnu",shots_on_target:"Stely na brnu",shots_outside_box:"Stely zpoza vpna",simulation:"Simulace",spitting:"Plivn",st:".",standings:"Poad",start_of_extra_time_before_penalty:"Zatek prodlouen - nsledovat budou penalty",start_of_extra_time_first_half:"Zatek 1. poloasu prodlouen",start_of_extra_time_half_time:"Zatek 1. poloasu prodlouen",start_of_extra_time_second_half:"Zatek 2. poloasu prodlouen",start_of_first_half:"Zatek 1. poloasu",start_of_half_time_period:"Zatek poloasov pestvky",start_of_penalty_shootout:"Zatek penaltovho rozstelu",start_of_second_half:"Zatek 2. poloasu",start_of_second_half_before_extra_time:"Zatek 2. poloasu - nsledovat bude prodlouen",statistics:"Statistiky",stats:"Detailn statistiky",stats_aerials_won:"Vyhran hlavikov souboje",stats_big_chances:"Velk ance",stats_big_chances_missed:"Nepromnn velk ance",stats_clearances:"Odkopy",stats_corners:"Rohy",stats_crosses:"Centry",stats_dribbles:"Driblingy",stats_duels_won:"Vyhran souboje",stats_fouls:"Fauly",stats_goalkeeper_saves:"Zkroky golmana",stats_interceptions:"Zisky me",stats_long_balls:"Dlouh me",stats_offsides:"Ofsajdy",stats_passes_attempted:"Pihrvky",stats_passes_completed:"spn pihrvky",stats_passing_accuracy:"spnost pihrvek",stats_possession:"Dren me %",stats_possession_lost:"Zrta me",stats_red_cards:"erven karty",stats_shots_inside_box:"Stely zevnit vpna",stats_shots_on_target:"Stely na brnu",stats_shots_outside_box:"Stely zpoza vpna",stats_tackles:"Tackles",stats_total_shots:"Celkov poet stel",stats_woodwork:"Ty",stats_x_goals_live:"xGoals live",stats_yellow_cards:"lut karty",substitutes:"Nhradnci",substitution:"Stdn",substitution_due_to_injury:"Stdn kvli zrann",swap_player:"Vystdan hr",tackle:"Obran zkrok",tackles:"Obrann zkroky",tactical_foul:"Taktick faul",take_on:"spn kliky",team_name:"Jmno tmu",textgoals:"oekvan gly (expected goals) je poet gl, kter by mly bt vsteleny na zklad toho, kde a jak byla stela provedena.",th:".",this_tournament:"Tento turnaj",throw_in:"Vhazovn",time_wasting:"Zdrovn",total:"Celkov",total_shots:"Celkov poet stel",unsporting_behaviour:"Nesportovn chovn",val_text:"Tento graf vm poskytne pehled o prbhu hry. Vrcholy na grafu ukazuj tlak tmu v prbhu zpasu. ",var_check:"Kontrola VAR",var_checking_goal:"VAR - kontrola glu",var_checking_mistaken_id:"VAR - kontrola sprvn identity",var_checking_penalty_awarded:"VAR - kontrola penalty",var_checking_penalty_not_awarded:"VAR - kontrola neudlen penalty",var_checking_red_card_not_awarded:"VAR - kontrola erven karty",var_ref_decision_cancelled:"VAR - Zruen rozhodnut rozhodho",var_ref_decision_confirmed:"VAR - Potvrzen rozhodnut rozhodho",violent_conduct:"Nsiln chovn",w:"V",win:"Vtzstv",woodwork:"Tyka",x_goals:"xG Live",xg:"xG Live",yellow_card:"lut karta",yellow_cards:"lut karty",in:"in ",out:"out",player:"Hr",match_resumed:"Zpas obnoven",match_delay:"Zpas zpodn",penalty_scored_by:"Penaltu promnil",substitution_in:"Stdn (do hry)",substitution_out:"Stdn (ze hry)",standing_header_matches_played_tooltip:"Odehran Zpasy",standing_header_wins_tooltip:"Vhry",standing_header_draws_tooltip:"Remzy",standing_header_losses_tooltip:"Prohry",standing_header_goals_tooltip:"Gly",standing_header_points_tooltip:"Body",standing_header_matches_played:"OZ",standing_header_wins:"V",standing_header_draws:"R",standing_header_losses:"P",standing_header_goals:"G",standing_header_points:"B",last_five_games:"Poslednch 5 zpas",standings_teams:"Tmy",no_real_time_data:"Statistiky neodrej zmny v relnm ase."}},es:{translation:{stats_tooltip_woodworks:"Palos",h2h_history_empty_state:"No hay registros del historial de partidos ni datos de comparacin disponibles entre estos dos equipos",stats_shots_blocked:"Tiros Bloqueados",stats_shots_off_target:"Tiros Desviados",h2h_draws:"Empates",standings_live:"En Vivo",player_stats_tab:"Estadsticas de Jugadores",players_stats_players:"Jugadores",error_body_text:"No hay informacin disponible en este momento. Por favor, volver a intentarlo en breve.",player_stats_shots:"Tiros totales",player_stats_shots_on_target:"Tiros al objetivo",player_stats_xg:"xGoals",player_stats_fouls:"Faltas",player_stats_passes:"Pases",player_stats_tackles:"Tacleos",penalties_shootout:"Tanda de penaltis",awaiting_decision:"Esperando decisin",crowd_trouble:"Problemas de multitud",drink_break:"Pausa de hidratacin",fire_in_stadium:"Fuego en el estadio",floodlight_failure:"Falla de reflector",game_suspended:"Juego suspendido",object_thrown_on_pitch:"Objeto lanzado al campo",referee_delay:"Demora del rbitro",referee_injured:"rbitro lesionado",referee_stop:"Parada del rbitro",spectator_on_pitch:"Espectador en el campo",weather_problem:"Problema climtico",data_not_available:"Datos no disponibles",card_upgrade:"Actualizacin de Tarjeta",delay_due_to_var:"Retraso debido al VAR",goal_awarded:"Gol Concedido",goal_not_awarded:"Gol No Concedido",mistaken_identity:"Jugador Equivocado",penalty_awarded:"Penal Concedido",penalty_not_awarded:"Penal No Concedido",red_card_given:"Tarjeta Roja Mostrada",match_has_ended:"El partido ha terminado",match_not_found:"Partido no encontrado",abusive_language:"Lenguaje Abusivo ",aerials_won:"Duelos Areos Ganados",all:"Todo",argument:"Discusin",as_home:"- Local",assist:"Asistencia",attack:"Ataque",attacking:"Atacante",attacks:"Ataques",avg_corners:"Promedio de Tiros de Esquina",avg_goals_cancelled:"Promedio de Goles Concedidos",avg_goals_scored:"Promedio de Goles Anotados",avg_possession:"Promedio de Posesin",avg_shots_off_target:"Promedio de Tiros Desviados",avg_shots_on_target:"Promedio de Tiros al Arco",avg_yellow_cards:"Promedio de Tarjetas Amarillas",away:"Visitante",ball_touch:"Toque de baln ",big_chances:"Grandes Oportunidades",big_chances_missed:"Grandes Oportunidades Perdidas",blocked:"Bloqueado",blocked_pass:"Pase interceptado",clearances:"Despejes",coaches:"Entrenadores",corner:"Tiro de Esquina",corners:"Tiros de Esquina",crosses:"Centros",crowd_interaction:"Interaccin del Pblico",d:"E",dangerous_attack:"Ataque peligroso",dangerous_attacks:"Ataques peligrosos",dangerous_free_kicks:"Tiro Libre Peligroso",defence:"Defensor",defending:"Defensor",detailed_stats:"Estadsticas Detalladas",dispossession:"Despejes",dissent:"Desacuerdo",draw:"Empates",dribbles:"Regates",duels_won:"Duelos Ganados",encroachment:"Invasin",end_game:"Final del Partido",end_of_extra_time_before_penalty:"Final del Tiempo Extra - Antes de los Penales",end_of_extra_time_first_half:"Final de la Primera Mitad del Tiempo Extra",end_of_extra_time_half_time:"Inicio de la Segunda Mitad del Tiempo Extra",end_of_extra_time_second_half:"Final de la Segunda Mitad del Tiempo Extra",end_of_first_half:"Medio Tiempo",end_of_half_time_period:"Final del Medio Tiempo",end_of_penalty_shootout:"Final de la Tanda de Penales",end_of_second_half:"Final del Segundo Tiempo",end_of_second_half_before_extra_time:"Final del Segundo Tiempo - Antes del Tiempo Extra",entering_field_unauthorized:"Ingreso al Campo de Juego Sin Autorizacin",excessive_celebration:"Celebracin Excesiva",extra_time:"Tiempo extra",first_half_end:"Final del primer tiempo",form:"Forma",foul:"Falta",fouls:"Faltas",free_kick:"Tiro libre",free_kicks:"Tiro Libre",full_time:"Tiempo Completo",game_corners:"Tiros de esquina del partido",games_played:"Partidos jugados",goal:"Gol",goal_kick:"Saque de arco",goalkeeper_saves:"Atajadas del Portero",goals:"Goles",h2h:"H2H",half_1st:"1er tiempo",half_2nd:"2do tiempo",half_before_extra_time:"Final del Segundo Tiempo",half_before_penalties:"Final de la Segunda Mitad del Tiempo Extra",half_time:"Medio Tiempo",handball:"Mano",header:"Cabeza",home:"Local",incidents:"Incidente",information_not_ava:"No disponible",injury:"Lesin",injury_time:"Tiempo de Descuento",interception:"Intercepcin",interceptions:"Intercepciones",kick_off:"Saque inicial",l:"P",last:"ltimo",last_man_foul:"Falta del ltimo Hombre",latest:"Ms reciente",leaving_field_unauthorized:"Abandonar el Campo sin Autorizacin",lineups:"Alineaciones",live_now:"En vivo ahora",long_balls:"Pases Largos",lose:"Perdidos",match_end:"Final del partido",match_start:"Inicio del partido",missing_players:"Jugadores ausentes",momentum:"Momento",nd:"",no_of_corners:"Saques de esquina del partido",not_retreating:"No Retrocede",off_target:"Desviado",offside:"Offside",offsides:"Offside",on_target:"Al objetivo",opponents:"Oponentes",other:"Otro",overall:"General",overview:"Resumen",own_goal:"Autogol",p:"P",pass:"Pase",passes_attempted:"Pases Intentados",passes_completed:"Pases Completados",passing_accuracy:"Presicin en Pases",penalties:"Penales",penalty:"Penal",penalty_missed:"Penal fallado",penalty_save:"Penal atajado",penalty_saved:"Penal Atajado",penalty_scored:"Penal Anotado",penalty_shootout:"Inicio de la Tanda de Penales",performance:"Rendimiento",persistent_infringement:"Infraccin Persistente",pitch:"Cancha",pitch_goal:"GOL",possession:"Posesin",possession_lost:"Posesin Perdida",post:"Poste",pre_game:"Previo al juego",pre_match:"Previo al partido",pressure_index:"ndice de presin",pts:"pts",reckless_offence:"Ofensiva Imprudente",recovery:"Recuperacin",red_card:"Tarjeta roja",red_cards:"Tarjetas rojas",season_stats:"Estadsticas de la temporada",second_half_start:"Inicio del segundo tiempo",second_yellow_card:"Segunda Tarjeta Amarilla",serious_foul:"Falta Grave",shot_off_target:"Tiro desviado",shot_on_goal:"Tiro al objetivo",shots_inside_box:"Tiro dentro del rea",shots_off_target:"Tiro desviado",shots_on_target:"Tiro al objetivo",shots_outside_box:"Tiro dentro del rea",simulation:"Simulacin",spitting:"Escupir",st:"",standings:"Clasificacin",start_of_extra_time_before_penalty:"Inicio del Tiempo Extra - Antes de los Penales",start_of_extra_time_first_half:"Inicio de la Primera Mitad del Tiempo Extra ",start_of_extra_time_half_time:"Tiempo Extra - Medio Tiempo",start_of_extra_time_second_half:"Inicio de la Segunda Mitad del Tiempo Extra",start_of_first_half:"Inicio de la Primera Mitad",start_of_half_time_period:"Inicio del Primer Tiempo",start_of_penalty_shootout:"Inicio de la Tanda de Penales",start_of_second_half:"Inicio del Segundo Tiempo",start_of_second_half_before_extra_time:"Inicio de la Segunda Mitad - Antes del Tiempo Extra",statistics:"Estadsticas",stats:"Estadsticas Detalladas",stats_aerials_won:"Duelos Areos Ganados",stats_big_chances:"Grandes Oportunidades",stats_big_chances_missed:"Grandes Oportunidades Perdidas",stats_clearances:"Despejes",stats_corners:"Saques de esquina",stats_crosses:"Centros",stats_dribbles:"Regates",stats_duels_won:"Duelos Ganados",stats_fouls:"Faltas",stats_goalkeeper_saves:"Atajadas del Portero",stats_interceptions:"Intercepciones",stats_long_balls:"Pases Largos",stats_offsides:"Offsides",stats_passes_attempted:"Pases Intentados",stats_passes_completed:"Pases Completados",stats_passing_accuracy:"Precisin en Pases",stats_possession:"Posesin %",stats_possession_lost:"Posesin Perdida",stats_red_cards:"Tarjetas Rojas",stats_shots_inside_box:"Tiro dentro del rea",stats_shots_on_target:"Al objetivo",stats_shots_outside_box:"Tiros fuera del arco",stats_tackles:"Tacleos",stats_total_shots:"Total de Tiros",stats_woodwork:"Palo",stats_x_goals_live:"xGoals En Vivo",stats_yellow_cards:"Tarjetas Amarillas",substitutes:"Suplentes",substitution:"Cambio",substitution_due_to_injury:"Cambio debido a una lesin",swap_player:"Cambiar de jugador",tackle:"Barrida",tackles:"Barridas",tactical_foul:"Falta Tctica",take_on:"Pasar",team_name:"Nombre del equipo",textgoals:"los goles esperados son el nmero de goles que se espera que sean anotados de acuerdo a dnde y cmo se realiz un tiro.",th:"",this_tournament:"Este Torneo",throw_in:"Saque de banda",time_wasting:"Tiempo perdido",total:"Total",total_shots:"Tiros totales",unsporting_behaviour:"Conducta antideportiva",val_text:"Esta grfica te da una idea del curso del juego. Los picos en la grfica indican la presin de un equipo a lo largo del partido.",var_check:"Revisin del VAR",var_checking_goal:"VAR - Revisin de Gol Concedido",var_checking_mistaken_id:"VAR - Revisin de Identidad Equivocada",var_checking_penalty_awarded:"VAR - Revisin de Penal Concedido ",var_checking_penalty_not_awarded:"VAR - Revisin de Penal No Concedido ",var_checking_red_card_not_awarded:"VAR - Revisin de Tarjeta Roja No Mostrada ",var_ref_decision_cancelled:"VAR - Decisin del rbitro Anulada",var_ref_decision_confirmed:"VAR - Decisin del rbitro Confirmada",violent_conduct:"Conducta Violenta",w:"G",win:"Ganados",woodwork:"Palo",x_goals:"xG En Vivo",xg:"xG",yellow_card:"Tarjeta amarilla",yellow_cards:"Tarjetas Amarillas",in:"dentro",out:"fuera",player:"Jugador",match_resumed:"Resumen del Partido",match_delay:"Retraso del Partido",penalty_scored_by:"Penalti anotado por",substitution_in:"Cambio (Entra)",substitution_out:"Cambio (Sale)",standing_header_matches_played_tooltip:"Partidos Jugados",standing_header_wins_tooltip:"Ganados",standing_header_draws_tooltip:"Empates",standing_header_losses_tooltip:"Perdidos",standing_header_goals_tooltip:"Goles",standing_header_points_tooltip:"Puntos",standing_header_matches_played:"PJ",standing_header_wins:"G",standing_header_draws:"E",standing_header_losses:"P",standing_header_goals:"G",standing_header_points:"PTS",last_five_games:"ltimos 5 partidos",standings_teams:"Equipos",no_real_time_data:"Las estadsticas no reflejan cambios en tiempo real."}}};i18next.init({lng:"en",debug:!1,resources:languages,fallbackLng:"en",parseMissingKeyHandler:e=>(console.warn("Missing translations for",e),"")});const Translate=e=>i18next.t(e),ChangeLanguage=e=>{i18next.changeLanguage(e)};var EVENT_TYPES=(e=>(e[e.PASS=0]="PASS",e[e.SHOT_ON_TARGET=1]="SHOT_ON_TARGET",e[e.SHOT_OFF_TARGET=2]="SHOT_OFF_TARGET",e[e.FREE_KICK=3]="FREE_KICK",e[e.OFFSIDE=4]="OFFSIDE",e[e.PENALTY=5]="PENALTY",e[e.SUBSTITUTION=6]="SUBSTITUTION",e[e.INJURY=7]="INJURY",e[e.GOAL=8]="GOAL",e[e.RED_CARD=9]="RED_CARD",e[e.YELLOW_CARD=10]="YELLOW_CARD",e[e.WOODWORK=11]="WOODWORK",e[e.CORNER=12]="CORNER",e[e.GOAL_KICK=13]="GOAL_KICK",e[e.THROW_IN=14]="THROW_IN",e[e.VAR=15]="VAR",e[e.PERIOD_STARTED=16]="PERIOD_STARTED",e[e.PERIOD_ENDED=17]="PERIOD_ENDED",e[e.INJURY_TIME_ANNOUNCED=18]="INJURY_TIME_ANNOUNCED",e[e.GAME_ENDED=19]="GAME_ENDED",e[e.PENALTY_SAVED=20]="PENALTY_SAVED",e[e.PENALTY_SCORED=21]="PENALTY_SCORED",e[e.PENALTY_MISSED=22]="PENALTY_MISSED",e[e.KICK_OFF=23]="KICK_OFF",e[e.DELAY_START=24]="DELAY_START",e[e.DELAY_END=25]="DELAY_END",e[e.PENALTY_OUTCOME_SHOOTOUT=-1]="PENALTY_OUTCOME_SHOOTOUT",e[e.UPDATE_JERSEY_COLORS=26]="UPDATE_JERSEY_COLORS",e))(EVENT_TYPES||{});const pitchFlashEvents=[6,7,9,10,8,21],pitchMaskedEvents=[3,4,13,14],pitchForcedDelayEvents=[1,2],pitchForcedDelayEventsTimeMS={1:3e3,2:3e3},EVENTS_WITH_OVERLAY_BACKGROUND=[10,9,6,8,7,11,15,23,16,17,18,24,25,1,2,20,22,21,5],EVENTS_WITHOUT_FIELD_LOGO=[10,9,8,7,6,18,15,23,24,25,16,17,21],COLORS={LINE_COLOR:4426862,COLOR_FIELD:1403184},FIELD_LINES_NAMES={TOUCHLINE:"touchline",PENALTY:"penalty",CORNER_ARCS:"cornerArcs",MIDDLE_AREA:"middleArea",STRIPES:"stripes",SMALL_CIRCLE:"smallCircle",SPRITE_CONTAINER:"spriteContainer",LEFT_PENALTY_CONTAINER:"leftPenaltyContainer",RIGHT_PENALTY_CONTAINER:"rightPenaltyContainer",TOP_MIDDLE_LINE:"topMiddleLine",MIDDLE_CIRCLE:"middleCircle"},ATTACK_SHADOW_COMPONENTS={ATTACK_SHADOW:"attackShadow",ATTACK_SHADOW_RECT:"attackShadowRect",ATTACK_SHADOW_ARROWS:"attackShadowArrows"},DEFAULT_JERSEY_COLORS={HOME:7171437,AWAY:16777215},DEFAULT_JERSEY_COLORS_HEXA={HOME:"#6d6d6d",AWAY:"#ffffff"},PADDING_MULTIPLIER=.02;var ALIGNMENT_MODES=(e=>(e.HORIZONTAL="horizontal",e.LEFT="left",e.RIGHT="right",e.TOP="top",e.BOTTOM="bottom",e))(ALIGNMENT_MODES||{}),AXES=(e=>(e.HORIZONTAL="x",e.VERTICAL="y",e))(AXES||{});const CHILD_NAMES_PER_INCIDENT={THROW_IN:{BALL:"throwInBall",MASK:"throwInMask"}};var TEAMS=(e=>(e.HOME="home",e.AWAY="away",e))(TEAMS||{}),Direction=(e=>(e.INWARDS="inwards",e.OUTWARDS="outwards",e))(Direction||{}),LISTENER_ACTIONS=(e=>(e.REGISTER="register",e.UNREGISTER="unregister",e))(LISTENER_ACTIONS||{});const MAX_RETRIES_COUNT=5,CONNECTION_RETRY_INTERVAL_MS=6e3,TAB_INACTIVITY_THRESHOLD_SECONDS=6e4,VISIBILITY_DELAY_MS=5e3,getFieldPadding=e=>e*PADDING_MULTIPLIER,widthProportionalSpacing=({referenceWidth:e=930,referenceAdjustment:t=17,outerContainerWidth:r})=>t/e*r,centerY=(e,t)=>(t-e)/2,detectCollisionAndReposition=(e,t)=>{const r=getFieldPadding(e),i=.02*e;let n=!1;return t.x<r&&(t.x=r+i,n=!0),t.x+t.width>e-r&&(t.x=e-r-t.width-i,n=!0),n},delay$1=e=>new Promise((t=>setTimeout(t,e))),centerObject=(e,t,r)=>{e.x=t/2-e.width/2,e.y=r/2-e.height/2},initComponentsConfig=e=>({bounceAnimationDefaults:createBounceAnimationWithDefaults(e)}),convertHexFormat=e=>null!=e&&e.startsWith("#")?"0x"+e.slice(1):e,createColorBarTextureContainer=({color:e,width:t,initialHeight:r=1,radius:i})=>{const n=new Graphics;return n.updateHeight=r=>{n.clear(),n.beginFill(e).drawRoundedRect(0,0,t,r,i).endFill()},n.updateHeight(r),n},createAlignedTextsContainer=({primaryText:e,secondaryText:t,spacing:r,alignmentMode:i})=>{const n=new Container$1;return n.addChild(e,t),handleAlignment(e,t,r,i),n},createTeamEventDetailsContainer=({texture:e,textContainer:t,margin:r,alignmentMode:i,width:n})=>{const s=new Container$1,{textureX:o,containerX:a}=calculateXPositions({alignmentMode:i,textureWidth:e?e.width:0,containerWidth:t.width,spacing:r});e&&s.addChild(positionTexture(e,o)),s.addChild(positionContainer(t,a));const l=widthProportionalSpacing({outerContainerWidth:n});e&&i!==ALIGNMENT_MODES.TOP&&(null==e||e.updateHeight((null==s?void 0:s.height)+l));const h=e?Math.max(e.height,t.height):t.height;i===ALIGNMENT_MODES.TOP?adjustForTopAlignment({texture:e,container:t,relativeAdditionalHeight:l}):adjustForOtherAlignments({texture:e,container:t,maxHeight:h});const c=s.getBounds();return t.height>c.height&&(t.height=c.height),s},convertPercentageCoordsToPixels=(e,t,r)=>{const i=getFieldPadding(t);return{cx:(null==e?void 0:e.x)*(t-2*i)/100+i,cy:r-2*i-(null==e?void 0:e.y)*(r-2*i)/100+i}},drawAndPositionBall=({width:e,color:t,coords:r,height:i})=>{const{cx:n,cy:s}=convertPercentageCoordsToPixels(r,e,i),o=new Graphics;return o.beginFill(16777215).drawCircle(0,0,.012*e).closePath(),o.beginFill(t).drawCircle(0,0,.008*e).closePath(),o.x=n,o.y=s,o},fadeInObjects=(e,t,r)=>new Promise((i=>{const n=Date.now();t.forEach((e=>e.alpha=0));const s=()=>{const o=Date.now()-n,a=Math.min(o/r,1);t.forEach((e=>e.alpha=a)),1===a&&(e.ticker.remove(s),i())};e.ticker.add(s)})),normilizeStringForTranslation=e=>e.toLowerCase().split(" ").join("_"),addChildrenToContainer=(e,t)=>{e.addChild(...t)},adjustContainerWidth=(e,t,r=1)=>{e.width+=t*r},animateFadeInObjects=(e,t,r)=>Yt(void 0,null,(function*(){yield fadeInObjects(e,t,r)})),getAnimationBounceDefaults=e=>({intensity:widthProportionalSpacing({outerContainerWidth:e}),decayFactor:.6,velocity:widthProportionalSpacing({referenceWidth:930,referenceAdjustment:2.1,outerContainerWidth:e})}),cubicEaseOut=e=>--e*e*e+1,fadeIn=(e,t)=>new Promise((r=>{let i=0;const n=s=>{i+=s;const o=Math.min(i/t,1);e.alpha=cubicEaseOut(o),o>=1&&(Ticker$1.shared.remove(n),r(null))};Ticker$1.shared.add(n)})),hasCollisionWithMask=(e,t,r,i,n)=>{const s=r+n,o=t+i,a=(t,r,i,n)=>{for(let s=t;s<=r;s+=1){const t=i?{x:s,y:n}:{x:n,y:s};if(e.containsPoint(t))return!0}return!1},l=a(t,o,!0,r),h=a(t,o,!0,s),c=a(r,s,!1,t),u=a(r,s,!1,o);return l||h||c||u},replaceScoreAnimation=({oldTexture:e,newTexture:t,container:r,pitchHeight:i,delta:n,tickerToStop:s,tickerToStart:o})=>{e.y+=5.6*n,t.y+=5.6*n,r.addChild(t),e.y>i/10&&(e.visible=!1),t.y>=0&&(t.y=0,s.stop(),o.start())},setBounceEffect=({texture:e,delta:t,progress:r,bounceMultiplier:i=9,onComplete:n,finalPositionY:s})=>{(r+=t)<=6||(r<=15?e.y-=8*t/i:r<=24?e.y+=16*t/i:r<=33?e.y-=13*t/i:r<=42?e.y+=7.5*t/i:r<=51?e.y-=2.5*t/i:r<=60?e.y=s:n&&n())},toggleOverlayAndLogo=({eventType:e,width:t,height:r,app:i,isInitialUIState:n=!1})=>{const s=e&&EVENTS_WITH_OVERLAY_BACKGROUND.includes(e)||n,o=e&&EVENTS_WITHOUT_FIELD_LOGO.includes(e)||n;toggleCanvasOverlay({width:t,height:r,app:i,applyOverlay:s}),toggleFieldLogo({app:i,showLogo:!o})},toggleFieldLogo=({app:e,showLogo:t})=>{const r=e.stage.getChildByName(FIELD_LINES_NAMES.SPRITE_CONTAINER,!0),i=e.stage.getChildByName(FIELD_LINES_NAMES.SMALL_CIRCLE,!0);if(t)return r.visible=!0,void(i.visible=!0);const n=new Ticker$1;n.add((()=>{const t=e.stage.getChildByName("overlay",!0);null!=t&&t.animationComplete&&(r.visible=!1,i.visible=!1,n.stop())})),n.start()},toggleCanvasOverlay=({width:e,height:t,app:r,applyOverlay:i})=>{const n=r.stage.getChildByName("overlay",!0);if(n instanceof Graphics&&r.stage.removeChild(n),!i)return;const s=new Graphics;s.name="overlay",s.animationComplete=!1,s.beginFill(0).drawRect(0,0,e,t).endFill();const o=new Ticker$1;let a=0,l=0;o.add((()=>{a++,l+=.32/60,s.alpha=l,a>=60&&(o.stop(),s.animationComplete=!0)})),o.start(),r.stage.addChild(s)},fadeInCardContainer=e=>{const t=new Ticker$1;e.alpha=0;let r=0,i=0;t.add((()=>{i++,r+=1/80,e.alpha=r,i>=80&&(e.alpha=1,t.stop())})),t.start()},calculateXPositions=({alignmentMode:e,textureWidth:t,containerWidth:r,spacing:i})=>{let n,s;switch(e){case ALIGNMENT_MODES.RIGHT:n=r+i,s=0;break;case ALIGNMENT_MODES.LEFT:n=0,s=t+i;break;case ALIGNMENT_MODES.TOP:const e=(t+r+i)/2;n=e-t/2,s=e-r/2}return{textureX:n,textureY:void 0,containerX:s,containerY:void 0}},setHorizontalAlignmentMode=e=>e?ALIGNMENT_MODES.RIGHT:ALIGNMENT_MODES.LEFT,handleAlignment=(e,t,r,i)=>{switch(i){case ALIGNMENT_MODES.RIGHT:e.anchor.set(1,0),e.x=Math.max(t.width,e.width),t.anchor.set(1,0),t.x=e.x,t.y=e.height+r;break;case ALIGNMENT_MODES.LEFT:e.anchor.set(0,0),e.x=0,t.anchor.set(0,0),t.x=0,t.y=e.height+r;break;case ALIGNMENT_MODES.TOP:const i=Math.max(e.width,t.width),n=e.height+t.height+r,s=n/2;e.x=(i-e.width)/2,t.x=(i-t.width)/2,e.y=s-n/2,t.y=e.y+e.height+r}},positionTexture=(e,t)=>(e.x=t,e),positionContainer=(e,t,r=0)=>(e.x=t,e.y=r,e),adjustForTopAlignment=({texture:e,container:t,relativeAdditionalHeight:r})=>{e?(e.y=0,t.y=e.height+r):t.y=r},adjustForOtherAlignments=({texture:e,container:t,maxHeight:r})=>{e&&e.height<r?e.y=centerY(e.height,r):t.y=centerY(t.height,r)},handleOverlay=(e,t)=>new Promise((r=>{const i=new Ticker$1;i.add((()=>{const n=t.stage.getChildByName("overlay",!0);e.visible=!1,null!=n&&n.animationComplete&&(i.stop(),e.visible=!0,fadeInCardContainer(e),r())})),i.start()})),animateBounceAlongAxis=({container:e,targetPosition:t,axis:r,intensity:i=0,decayFactor:n=0,velocity:s,isHome:o=!1})=>new Promise((a=>{let l=r===AXES.HORIZONTAL?!o:i>0,h=i;const c=new Ticker$1;let u=0;const d=s?Math.abs(h)/s:Math.abs(h);c.add((i=>{try{if(u+=i,u>=d){if(l=!l,h*=n,Math.abs(h)<1)return c.stop(),r===AXES.HORIZONTAL?e.x=t:e.y=t,void a();u=0}const s=u/d;let o=0;o=l?-Math.abs(h)*s:Math.abs(h)*s,r===AXES.HORIZONTAL?e.x=t+o:e.y=t+o}catch(e){c.stop()}})),c.start()})),drawEventDetails=({width:e,eventNameText:t,teamNameText:r,isHome:i,color:n})=>{const s=createAlignedTextsContainer({primaryText:t,secondaryText:r,spacing:.008*e,alignmentMode:setHorizontalAlignmentMode(i)}),o={texture:createColorBarTextureContainer({color:n,width:.01*e,radius:8}),textContainer:s,margin:.015*e,alignmentMode:setHorizontalAlignmentMode(i),width:e};return createTeamEventDetailsContainer(o)},verticalAnimationBounce=(e,t,r)=>new Promise((i=>{const n=new Ticker$1,s=new Ticker$1;let o=0;const a=r,l=a+t;n.add((r=>{try{o+=r;const i=o/20;if(i>=.95)return n.stop(),void s.start();const a=l-2*t*Math.abs(Math.sin(i*Math.PI));e.y=a}catch(e){n.stop()}})),s.add((t=>{e.y-=1.5*t,e.y<=a&&(e.y=a,s.stop(),i())})),n.start()})),renderCenterPitchEventDetails=({width:e,icon:t,heightOfPitch:r,app:i,textToTranslate:n,additionalText:s})=>{t.width=.072*e,t.height=.072*e;const o=Translate(n),a={texture:t,textContainer:new Text(`${o} ${s||""}`,getFontStyles({size:14,width:e,fontWeight:"bold"})),margin:.008*e,alignmentMode:ALIGNMENT_MODES.TOP,width:e},l=createTeamEventDetailsContainer(a);l.x=e/2-l.width/2-2*getFieldPadding(e),o||(l.x=e/2-t.width/2,t.x=0);const h=r/2-l.height/2;return{panel:l,handleAnimationsInSequence:()=>Yt(void 0,null,(function*(){yield handleOverlay(l,i);const t=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:26,outerContainerWidth:e});verticalAnimationBounce(l,t,h)}))}},createBounceAnimationWithDefaults=e=>{const t=getAnimationBounceDefaults(e);return e=>animateBounceAlongAxis(Vt(Vt({},t),e))},getPenaltyLineBounds=({rootContainer:e,selectRightPenalty:t})=>{const r=t?FIELD_LINES_NAMES.RIGHT_PENALTY_CONTAINER:FIELD_LINES_NAMES.LEFT_PENALTY_CONTAINER,i=null==e?void 0:e.getChildByName(r,!0);if(!i)throw new Error("Penalty line not found on the stage.");return i.getBounds()},bounceTextureWithText=({icon:e,primaryText:t,secondaryText:r,container:i,app:n,width:s,height:o})=>{const a={texture:e,textContainer:createAlignedTextsContainer({primaryText:t,secondaryText:r,spacing:.008*s,alignmentMode:ALIGNMENT_MODES.TOP}),margin:.008*s,alignmentMode:ALIGNMENT_MODES.TOP,width:s},l=createTeamEventDetailsContainer(a);i.addChild(l),l.x=s/2-l.width/2-e.width/1.8;const h=o/2-l.height/2;l.y=h,Yt(void 0,null,(function*(){yield handleOverlay(l,n);const e=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:18,outerContainerWidth:s});verticalAnimationBounce(l,e,h)}))},adjustTeamNamePosition=(e,t,r,i,n)=>{const s=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:25,outerContainerWidth:i});n===TEAMS.HOME?e.x=t.x-e.width-s:n===TEAMS.AWAY&&(e.x=t.x+t.width+s),e.y=t.y+r/2-e.height/2},animateTShirts=e=>Yt(void 0,[e],(function*({tShirtsContainer:e,tShirtChildren:t,mainContainer:r,canvasWidth:i,canvasHeight:n,bounceDecayFactor:s}){addChildrenToContainer(e,t),adjustContainerWidth(e,t[1].width,2),centerObject(e,i,n),r.addChild(e),yield createBounceAnimationWithDefaults(i)({container:e,targetPosition:e.y,axis:AXES.VERTICAL,decayFactor:s})})),animateTeamNames=e=>Yt(void 0,[e],(function*({mainContainer:e,homeTeamNameElement:t,awayTeamNameElement:r,tShirtsContainer:i,circleHeight:n,canvasWidth:s,appInstance:o}){addChildrenToContainer(e,[t,r]),adjustTeamNamePosition(t,i,n,s,TEAMS.HOME),adjustTeamNamePosition(r,i,n,s,TEAMS.AWAY),yield animateFadeInObjects(o,[t,r],300)})),Start=({width:e,container:t,homeColor:r,awayColor:i,heightOfPitch:n,teams:s,app:o,sprites:a,bounceAnimationDefaults:l})=>{var h;toggleOverlayAndLogo({width:e,height:n,app:o,isInitialUIState:!0});const c={size:12,width:e,fontWeight:"bold",wordWrap:!0,wordWrapWidth:widthProportionalSpacing({referenceWidth:360,referenceAdjustment:92,outerContainerWidth:e}),align:"left"},u=e=>new Text(e,getFontStyles(c)),d=u(s[0]),p=u(s[1]),f=a.versus;f.width=.03*e,f.height=.04*e;let _=a.bodyTshirtHome,m=a.strokeTshirtHome;const g=new s$1(16719390,+r,.3);let y=a.bodyTshirtAway,v=a.strokeTshirtAway;const E=new s$1(16719390,+i,.3),T=null==(h=o.stage)?void 0:h.getChildByName(FIELD_LINES_NAMES.MIDDLE_CIRCLE,!0),{width:b,height:S}=T.getBounds()||{},x=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:20,outerContainerWidth:e}),A=new Container$1,P=new Graphics;P.drawRect(0,0,b+x,S).endFill(),m.width=.05*e,m.height=.09*e,_.width=.05*e,_.height=.09*e,_.filters=[g];const R=A.y+S/2;_.y=R-_.height/2,m.y=R-m.height/2,v.width=.05*e,v.height=.09*e,y.width=.05*e,y.height=.09*e,y.filters=[E],y.y=R-y.height/2,v.y=R-v.height/2,y.x=A.x+P.width-y.width,v.x=A.x+P.width-v.width,f.x=e/2-f.width/2;const O=n/2-f.height/2;return f.y=O,Yt(void 0,null,(function*(){yield handleOverlay(t,o),t.addChild(f),yield l({container:f,targetPosition:O,axis:AXES.VERTICAL,decayFactor:.4}),yield delay$1(1e3),animateTShirts({tShirtsContainer:A,tShirtChildren:[P,_,m,y,v],mainContainer:t,canvasWidth:e,canvasHeight:n,bounceDecayFactor:.4}),yield delay$1(1e3),animateTeamNames({mainContainer:t,homeTeamNameElement:d,awayTeamNameElement:p,tShirtsContainer:A,circleHeight:S,canvasWidth:e,appInstance:o})})),t},KickOff=({width:e,app:t,heightOfPitch:r,sprites:i})=>{const n=new Container$1,{panel:s,handleAnimationsInSequence:o}=renderCenterPitchEventDetails({width:e,icon:i.whistle,heightOfPitch:r,app:t,textToTranslate:"kick_off"});return n.addChild(s),o(),n},createConeMask=({coneWidth:e,triangleBaseAngle:t,cx:r,cy:i,height:n,width:s,isHome:o,isThrowIn:a=!1})=>{const l=new Graphics,h=Math.tan(t)*(n/2),c=getFieldPadding(s),u=o?s-c:c;l.beginFill(16777215),l.moveTo(r,i),l.lineTo(u,n/2+h),l.lineTo(u,n/2-h),l.endFill();const d=new Graphics;return d.beginFill(16777215).drawCircle(r,i,e).closePath(),a?d:l},createGradientCircle=(e,t,r)=>{const i=2*e,n=document.createElement("canvas");n.width=i,n.height=i;const s=n.getContext("2d"),o=i/2,a=i/2,l=null==s?void 0:s.createRadialGradient(o,a,0,o,a,e);null==l||l.addColorStop(0,"rgba(0, 0, 0, 0.32)"),null==l||l.addColorStop(1,"rgba(0, 0, 0, 0)"),s&&s.fillStyle&&(s.fillStyle=l||"",s.arc(o,a,e,0,2*Math.PI),s.fill());const h=Texture$1.from(n),c=new Sprite(h);return c.x=t,c.y=r,c.anchor.set(.5),c},animateCircles=({cx:e,cy:t,radius:r,width:i,speedMultiplier:n=.008})=>{const s=new Graphics,o=new Graphics,a=new Graphics,l=new Ticker$1,h=new Ticker$1,c=new Ticker$1,u=new Ticker$1,d=new Container$1;let p=0,f=0,_=0;const m=i*n,g=.014*i,y=()=>{l.start(),h.start(),c.start()};let v;return l.add((i=>{p+=i*m,s.clear(),s.beginFill(0,.08).drawCircle(e,t,p).closePath(),p>=r/3&&l.stop()})),h.add((i=>{f+=i*m,o.clear(),o.beginFill(0,.04).drawCircle(e,t,f).closePath(),f>=r/1.5&&h.stop()})),c.add((i=>{_+=i*m,a.clear(),a.beginFill(0,.02).drawCircle(e,t,_).closePath(),_>=r&&(l.stop(),h.stop(),c.stop(),v=setTimeout((()=>{u.start()}),600))})),u.add((r=>{const i=r*g;p-=i,f-=i,_-=i,s.clear(),o.clear(),a.clear(),s.beginFill(0,.08).drawCircle(e,t,p).closePath(),o.beginFill(0,.04).drawCircle(e,t,f).closePath(),a.beginFill(0,.02).drawCircle(e,t,_).closePath(),_<=0&&(u.stop(),y())})),y(),d.addChild(a,o,s),d.once("removed",(()=>{v&&clearTimeout(v),l.destroy(),h.destroy(),c.destroy(),u.destroy()})),d},FreeKick=({width:e,ball_position:t,color:r,heightOfPitch:i,isHome:n,incidentActor:s})=>{const o=new Text(Translate("free_kick"),getFontStyles({size:14,width:e,fontWeight:"bold"})),a=new Text(s,getFontStyles({size:12,width:e,wordWrap:!0,align:n?"right":"left"})),l=drawEventDetails({width:e,eventNameText:o,teamNameText:a,isHome:n,color:r}),h=new Container$1,c=.4*e,u=Math.PI/5,{cx:d,cy:p}=convertPercentageCoordsToPixels(t,e,i),f=createGradientCircle(c,d,p),_=drawAndPositionBall({width:e,color:r,coords:t,height:i}),{width:m,height:g}=_.getBounds(),y=createConeMask({triangleBaseAngle:u,coneWidth:2*c,cx:d,cy:p,height:i,width:e,isHome:n}),v=animateCircles({cx:d,cy:p,radius:c,width:e});f.mask=y,v.mask=y,h.addChild(l,f,y,v,_);const E=.02*e,T=l.height+g,b=n?p-T:p-l.height-g;let S=0,x=0;x=T<=b+g?b:p+g;const A=d-l.width>=0,P=d+l.width<=e;let R,O,w,I;n&&(R=getFieldPadding(e)+E,O=d-l.width,S=d>e/2||A?O+widthProportionalSpacing({referenceWidth:930,referenceAdjustment:4,outerContainerWidth:e}):R),n||(w=d,I=((e,t,r,i)=>e-t-r-i)(e,getFieldPadding(e),E,l.width),S=d>e/2&&!P?I:w-widthProportionalSpacing({referenceWidth:930,referenceAdjustment:4,outerContainerWidth:e}));const C=()=>hasCollisionWithMask(y,S,x,l.width,l.height);for(;C()&&Math.abs(d-S)<l.width;)p<i/2?x+=g:x-=g;for(;C()&&Math.abs(p-x)<l.height;)d<e/2?S+=m+g:S-=l.width+g;return l.x=S,l.y=x,h};class FadingGraphics extends Graphics{constructor(){super(...arguments),pn(this,"animationComplete",!1)}fadeIn(e,t=""){this.alpha=0,this.animationComplete=!1;const r=new Ticker$1;r.add((i=>{var n;const s=i/.06,o=null==(n=this.parent)?void 0:n.getChildByName(t);(1===(null==o?void 0:o.alpha)||!o)&&(this.alpha+=s/e),this.alpha>1&&(this.alpha=1,r.stop(),this.animationComplete=!0)})),r.start()}}const drawMiddleLine=({fieldWidth:e,fieldHeight:t,lineWidth:r,radius:i})=>{const n=new Graphics,s=new Graphics,o=new Container$1,a=getFieldPadding(e),l=e/2;return n.lineStyle(r,COLORS.LINE_COLOR,1).moveTo(l,a).lineTo(l,t/2-i).endFill(),n.name=FIELD_LINES_NAMES.TOP_MIDDLE_LINE,s.lineStyle(r,COLORS.LINE_COLOR,1).moveTo(l,t/2+i).lineTo(l,t-a).endFill(),o.addChild(n,s),o},drawTouchline=({fieldWidth:e,fieldHeight:t,lineWidth:r})=>{const i=new FadingGraphics,n=getFieldPadding(e);return i.fadeIn(300),i.name=FIELD_LINES_NAMES.TOUCHLINE,i.lineStyle(r,COLORS.LINE_COLOR).drawRoundedRect(n,n,e-2*n,t-2*n,.01*e).endFill()},drawPenaltyArea=({fieldWidth:e,fieldHeight:t,lineWidth:r})=>{const i=new FadingGraphics,n=e/4,s=t/2,o=getFieldPadding(e),a=.01*e;return i.lineStyle(r,COLORS.LINE_COLOR,1).moveTo(o,s-.125*e).lineTo(n-.15*e,s-.125*e).arc(n-.14*e,s-.115*e,a,4.5,.15).arc(n-.14*e,s+.115*e,a,-.2,1.8).moveTo(o,s+.125*e).lineTo(n-.14*e,s+.125*e).endFill(),i.lineStyle(r,COLORS.LINE_COLOR,1).moveTo(o,s-.062*e).lineTo(n-.2*e,s-.062*e).arc(n-.2*e,s-.052*e,a,4.5,.15).arc(n-.2*e,s+.052*e,a,-.2,1.8).moveTo(o,s+.062*e).lineTo(n-.2*e,s+.062*e).endFill(),i.lineStyle(r,COLORS.LINE_COLOR,1).beginFill(COLORS.LINE_COLOR,1).drawCircle(.09*e,s,.004*e).endFill(),i.lineStyle(r,COLORS.LINE_COLOR).arc(.095*e,s,.05*e,5.25,1).endFill(),i.fadeIn(300,FIELD_LINES_NAMES.CORNER_ARCS),i.name=FIELD_LINES_NAMES.PENALTY,i},drawCornerArcs=({fieldWidth:e,fieldHeight:t,lineWidth:r})=>{const i=new FadingGraphics;return i.lineStyle(r,COLORS.LINE_COLOR).arc(e-.025*e,.025*e,.025*e,1.4,3.3).endFill(),i.lineStyle(r,COLORS.LINE_COLOR).arc(e-.025*e,t-.025*e,.025*e,3,4.9).endFill(),i.lineStyle(r,COLORS.LINE_COLOR).arc(.025*e,t-.025*e,.025*e,4.5,.15).endFill(),i.lineStyle(r,COLORS.LINE_COLOR).arc(.025*e,.025*e,.025*e,-.2,1.8).endFill(),i.fadeIn(300,FIELD_LINES_NAMES.TOUCHLINE),i.name=FIELD_LINES_NAMES.CORNER_ARCS,i},drawMiddleArea=({fieldWidth:e,fieldHeight:t,lineWidth:r,sprite:i})=>{const n=new FadingGraphics,s=new Graphics,o=new Container$1,a=new Graphics,l=new Graphics,h=.06*e,c=h/1.4;l.beginFill(COLORS.LINE_COLOR).lineStyle(r,COLORS.LINE_COLOR,1).drawCircle(e/2,t/2,.08*h).endFill();const u=drawMiddleLine({fieldWidth:e,fieldHeight:t,lineWidth:r,radius:h});return s.lineStyle(r,COLORS.LINE_COLOR,1).drawCircle(e/2,t/2,h).endFill(),s.name=FIELD_LINES_NAMES.MIDDLE_CIRCLE,i.width=c,i.height=c,a.beginFill(COLORS.COLOR_FIELD),a.drawRect(0,0,c,2*c),a.endFill(),i.y=(a.height-i.height)/2,a.addChild(i),o.addChild(a),o.x=(e-o.width)/2,o.y=(t-o.height)/2,n.addChild(s,u,l,o),n.fadeIn(300,FIELD_LINES_NAMES.PENALTY),l.name=FIELD_LINES_NAMES.SMALL_CIRCLE,o.name=FIELD_LINES_NAMES.SPRITE_CONTAINER,n.name=FIELD_LINES_NAMES.MIDDLE_AREA,n},drawStripes=({fieldWidth:e,fieldHeight:t})=>{const r=new FadingGraphics,i=getFieldPadding(e);r.fadeIn(300,FIELD_LINES_NAMES.MIDDLE_AREA),r.name=FIELD_LINES_NAMES.STRIPES;const n=(e-2*i)/12,s=e=>e?1048575:COLORS.COLOR_FIELD,o=e=>e?.04:1;for(let e=0;e<12;e++){const a=e%2==0;let l=s(a),h=o(a);if(e>=6){const t=e%2!=0;l=s(t),h=o(t)}r.beginFill(l,h),r.drawRect(i+e*n,i,n,t-2*i),r.endFill()}return r},createThrowInBallMask=(e,t)=>{const r=new Graphics,i=e.stage.getChildByName(CHILD_NAMES_PER_INCIDENT.THROW_IN.BALL,!0);return r.beginFill(16777215).drawCircle(0,0,.012*t).closePath(),r.x=i.x,r.y=i.y,r.name=CHILD_NAMES_PER_INCIDENT.THROW_IN.MASK,r},destroyTextureByName=({app:e,container:t,textureName:r})=>{const i=e.stage.getChildByName(r,!0);i&&t.removeChild(i)},drawOffsideLines=({heightOfPitch:e,cx:t,container:r,app:i,isHome:n,width:s})=>{const o=new Graphics,a=new FadingGraphics,l=new Ticker$1,h=new Ticker$1,c=new Ticker$1;let u=0,d=!1;const p=.026*e,f=.026*e,_=f+.026*e,m=Math.ceil(e/_),g=e/2;o.lineStyle(1,16777215);const y=new Graphics;y.lineStyle(1,16777215),l.add((e=>{u+=e*p,y.moveTo(t,g).lineTo(t,g-u),y.moveTo(t,g).lineTo(t,g+u),u>=g&&(l.stop(),d=!0)}));for(let e=0;e<m;e++)o.moveTo(t,e*_),o.lineTo(t,e*_+f);return a.name="overlay",a.beginFill(0,.32),n?a.drawRect(0,0,t,e):a.drawRect(t,0,s-t,e),a.endFill(),a.fadeIn(800),h.add((()=>{const e=i.stage.getChildByName("overlay",!0);null!=e&&e.animationComplete&&(l.start(),r.addChild(y),h.stop())})),h.start(),c.add((()=>{d&&(r.removeChild(y),r.addChild(o),c.stop())})),c.start(),a},Offside=({width:e,ball_position:t,teamName:r,color:i,heightOfPitch:n,app:s,isHome:o})=>{const a=new Container$1,{cx:l}=convertPercentageCoordsToPixels(t,e,n),h=new Text(r,getFontStyles({size:12,width:e})),c=drawOffsideLines({heightOfPitch:n,cx:l,container:a,app:s,isHome:o,width:e}),u=new Text(Translate("offsides"),getFontStyles({size:14,width:e,fontWeight:"bold"})),d=widthProportionalSpacing({referenceWidth:360,referenceAdjustment:16,outerContainerWidth:e}),p=drawEventDetails({width:e,eventNameText:u,teamNameText:h,isHome:o,color:i});return p.x=o?l-p.width-d:l+d,p.y=n/2-p.height/2,a.addChild(c,p),a};var fragment="varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n";class AlphaFilter extends Filter{constructor(e=1){super(defaultVertex,fragment,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const createGradientGraphic=()=>{const e=document.createElement("canvas");e.width=256,e.height=1;const t=e.getContext("2d"),r=null==t?void 0:t.createLinearGradient(0,0,256,0);null==r||r.addColorStop(0,"rgba(255, 255, 255, 1)"),null==r||r.addColorStop(1,"rgba(255, 255, 255, 0.0)"),t&&t.fillStyle&&(t.fillStyle=r||"",t.fillRect(0,0,256,1));const i=Texture$1.from(e);return new Sprite(i)},positionLineTexture=(e,t,r,i,n,s)=>{e.position.set(t,i),e.width=Math.sqrt(Vi(r-t,2)+Vi(n-i,2)),e.height=s,e.rotation=Math.atan2(n-i,r-t),e.anchor.set(0,.5)},drawBallMovementLines=({fieldWidth:e,cx2:t,cy2:r,cx3:i,cy3:n,cx4:s,cy4:o,cx5:a,cy5:l,cx6:h,cy6:c})=>{const u=new Graphics,d=new Container$1,p=.0055*e,f=.003*e,_=16777215,m=createGradientGraphic();m.alpha=.8,positionLineTexture(m,t,i,r,n,f);const g=createGradientGraphic();g.alpha=.6,positionLineTexture(g,i,s,n,o,f);const y=createGradientGraphic();y.alpha=.4,positionLineTexture(y,s,a,o,l,f);const v=createGradientGraphic();return v.alpha=.2,positionLineTexture(v,a,h,l,c,f),u.beginFill(_,1).drawCircle(t,r,p).endFill().beginFill(_,.8).drawCircle(i,n,p).endFill().beginFill(_,.6).drawCircle(s,o,p).endFill().beginFill(_,.4).drawCircle(a,l,p).endFill().beginFill(_,.2).drawCircle(h,c,p).endFill(),d.addChild(m,g,y,v,u),d},setupAttackShadow=e=>{var t,r;const{app:i,isHome:n,padding:s,width:o,heightOfPitch:a,ball_position:l}=e;let h=i.stage.getChildByName(ATTACK_SHADOW_COMPONENTS.ATTACK_SHADOW,!0),c=null==(t=h.getChildByName)?void 0:t.call(h,ATTACK_SHADOW_COMPONENTS.ATTACK_SHADOW_ARROWS,!0),u=null==(r=h.getChildByName)?void 0:r.call(h,ATTACK_SHADOW_COMPONENTS.ATTACK_SHADOW_RECT,!0);h.pivot.y=0,h.rotation=n?0:Math.PI,h.x=n?s:o,h.y=n?s:a-s,u.x=n?0:s,l&&(u.width=adjustAttackShadowRectWidth({isHome:n,ball_position:l,width:o,heightOfPitch:a,attackShadowArrows:c,padding:s}));const d=.00101*o;return c.x=n?u.width-d:u.width+s-d,{attackShadow:h,attackShadowRect:u,attackShadowArrows:c}},adjustAttackShadowRectWidth=({isHome:e,ball_position:t,width:r,heightOfPitch:i,attackShadowArrows:n,padding:s})=>{let o=!1;const{cx:a}=convertPercentageCoordsToPixels(t,r,i);if(e){if(t.x>50)return o=a+n.width>r,o?r-n.width-2*s:a}else{const{cx:e}=convertPercentageCoordsToPixels(t,r,i);if(t.x<50)return o=n.width-e>s,o?r-n.width-2*s:r-e}return.5*r},handleAttackTrigger=({isSameTeam:e,attackShadow:t,attackShadowMove:r,container:i,title:n,dangerousAttackShadowOpacity:s,is_dangerous_attack:o})=>{n.filters=[new AlphaFilter(1)],e&&(n.filters=[new AlphaFilter(0)],i.addChild(n)),t.visible=!0,r.start();const a=new AlphaFilter(1);a.resolution=5,t.filters=[a],o&&s.start()},AttackRunning=({width:e,color:t,team:r,is_possession:i,is_attack:n,is_dangerous_attack:s,lastOne:o,heightOfPitch:a,lastEvent:l,app:h,isHome:c,incidentActor:u})=>{var d,p,f,_;const m=getFieldPadding(e),g=new Container$1,y=new Container$1,v=new Text(u,getFontStyles({size:12,width:e,wordWrap:!0,align:c?"right":"left"})),E=new Text(Translate(s?"dangerous_attack":i?"possession":"attack"),getFontStyles({size:14,width:e,fontWeight:"bold"})),T=createColorBarTextureContainer({color:t,width:.01*e,radius:8}),b=createAlignedTextsContainer({primaryText:E,secondaryText:v,spacing:.008*e,alignmentMode:setHorizontalAlignmentMode(c)}),S=new Ticker$1,x=new Ticker$1,A=new Ticker$1,{attackShadow:P,attackShadowRect:R,attackShadowArrows:O}=setupAttackShadow({app:h,isHome:c,padding:m,width:e,heightOfPitch:a});let w=null==(p=(d=h.stage).getChildByName)?void 0:p.call(d,"possesionShadow",!0);const I={texture:T,textContainer:b,margin:.015*e,alignmentMode:setHorizontalAlignmentMode(c),width:e},C=createTeamEventDetailsContainer(I),M=.035*e;y.x=c?e/2-C.width-M:e/2+M,y.y=a/2-C.height/2,y.addChild(C),o!==r?(i&&(w.visible=!0,w.x=c?m:.5*e,x.start()),n&&(P.filters=[new AlphaFilter(1)],P.visible=!0,S.start()),s&&(A.start(),P.visible=!0,S.start())):(i&&(w.visible=!0,w.x=c?m:.5*e,w.filters=[new AlphaFilter(1)]),n&&(P.filters=[new AlphaFilter(1)],P.visible=!0,(null==(f=null==l?void 0:l.event_data)?void 0:f.is_attack)!==n?S.start():y.x=c?.3*e:.4*e),s&&(A.start(),P.filters=[new AlphaFilter(1)],P.visible=!0,(null==(_=null==l?void 0:l.event_data)?void 0:_.is_dangerous_attack)!==s?S.start():y.x=c?.485*e:.18*e));let D=.008*e/1.2;S.add((()=>(()=>{if(n&&(R.width=.6*e,c?(O.x=R.width-.00101*e,P.x=m):(O.x=R.width-.001*e+m,P.x=e)),n?P.width<.75*e-2*m-D:P.width<e-2*m-D)return c?(P.x+=D,R.width+=D,R.x-=D,void(y.x+=D)):(P.x-=D,y.x-=D,R.x-=D,void(R.width+=D));S.stop()})()));let L=1;A.add((()=>{const e=new AlphaFilter(L);e.resolution=5,P.filters=[e],L+=.05,L>=1.5&&A.stop()}));let N=0;return x.add((()=>{N+=.03,w.filters=[new AlphaFilter(N)],N>=1&&x.stop()})),g.addChild(y),g},Attack=({width:e,ball_position_end:t,ball_position:r,color:i,team:n,is_possession:s,is_attack:o,is_dangerous_attack:a,lastOne:l,dotSecuence:h,throttle:c,heightOfPitch:u,app:d,isHome:p,incidentActor:f})=>{var _,m;const g=getFieldPadding(e);let y=.55*e;const{cx:v,cy:E}=convertPercentageCoordsToPixels(t,e,u);let T=v,b=E;const S=new Container$1,x=new Container$1,A=new Text(f,getFontStyles({size:12,width:e,wordWrap:!0,align:p?"right":"left"})),P=new Text(Translate(a?"dangerous_attack":s?"possession":"attack"),getFontStyles({size:14,width:e,fontWeight:"bold"})),R=createColorBarTextureContainer({color:i,width:.01*e,radius:8}),O=createAlignedTextsContainer({primaryText:P,secondaryText:A,spacing:.008*e,alignmentMode:setHorizontalAlignmentMode(p)}),w=new Ticker$1,I=new Ticker$1,C=new Ticker$1,M=new Ticker$1,D=new Ticker$1,L=new Ticker$1,{attackShadow:N,attackShadowRect:F,attackShadowArrows:k}=setupAttackShadow({app:d,isHome:p,padding:g,width:e,heightOfPitch:u,ball_position:r});let B=null==(m=(_=d.stage).getChildByName)?void 0:m.call(_,"possesionShadow",!0);const $=A.width>P.width?A.width:P.width,U=.015*e,G=R.width+$+U,H=A.height+P.height,V=p?(e-g)/4-G/2:e-e/4-g-G/2,j=.25*e-.5*H,Y={texture:R,textContainer:O,margin:U,alignmentMode:setHorizontalAlignmentMode(p),width:e},W=createTeamEventDetailsContainer(Y);s?T>=V&&T<=V+G&&b>=j&&b<=j+H?(x.x=V,x.y=j+H+g):(x.x=V,x.y=j):(x.x=p?y-G-g:y+g,x.y=j),x.addChild(W),l!=n?(s&&(B.x=p?g:.5*e,B.visible=!0,C.start(),x.filters=[new AlphaFilter(0)],I.start(),S.addChild(x)),(o||a)&&handleAttackTrigger({isSameTeam:!0,attackShadow:N,attackShadowMove:w,container:S,title:x,dangerousAttackShadowOpacity:M,is_dangerous_attack:a})):((o||a)&&handleAttackTrigger({isSameTeam:!1,attackShadow:N,attackShadowMove:w,container:S,title:x,dangerousAttackShadowOpacity:M,is_dangerous_attack:a}),s&&(B.x=p?g:.5*e,B.visible=!0,S.addChild(x)));let X=1;M.add((()=>{const e=new AlphaFilter(X);e.resolution=5,N.filters=[e],X+=.05,X>=1.5&&M.stop()}));const z=new Ticker$1;let K=0;z.add((()=>{K+=.01,x.filters=[new AlphaFilter(K)],K>=1&&(x.filters=[],z.stop())})),C.add((()=>{K+=.03,B.filters=[new AlphaFilter(K)],K>=1&&C.stop()}));const q=new Graphics,Q=new Container$1;if(s||o||a){const{cx:r,cy:n}=convertPercentageCoordsToPixels(h[1],e,u),{cx:o,cy:a}=convertPercentageCoordsToPixels(h[2],e,u),{cx:l,cy:d}=convertPercentageCoordsToPixels(h[3],e,u),{cx:f,cy:_}=convertPercentageCoordsToPixels(h[4],e,u),{cx:m,cy:y}=convertPercentageCoordsToPixels(h[5],e,u);Q.addChild(q);const E=drawBallMovementLines({fieldWidth:e,cx2:r,cy2:n,cx3:o,cy3:a,cx4:l,cy4:d,cx5:f,cy5:_,cx6:m,cy6:y});S.addChild(E);let A=0;t&&S.addChild(Q),I.add((()=>{S.children.length>0&&(A+=.8*c,p?(B.x+B.width>=.45*e&&(I.stop(),S.addChild(x),z.start()),B.x+=A):B.x<=.5*e?(B.x=.5*e,I.stop(),S.addChild(x),z.start()):B.x-=A)})),L.add((()=>{if(Q.children.length>0){const t=1+2*Math.sin(.004*L.lastTime);q.clear(),q.lineStyle({width:0,cap:LINE_CAP.ROUND,join:LINE_JOIN.ROUND,color:16777215}),q.beginFill(16777215,.2),q.drawCircle(0,0,.01*e*t),q.closePath(),q.beginFill(16777215),q.drawCircle(0,0,.012*e),q.closePath(),q.beginFill(i),q.drawCircle(0,0,.008*e),q.closePath()}})),S.once("removed",(()=>{L.stop()})),Q.x=r||T,Q.y=n||b;let P=r,R=n,O=T,C=b;s||(x.x=p?P-G-g:P+g);const M=createGradientGraphic();let $=.008*e/1.2;const U=()=>{if(p){if(N.width<e-2*g-$&&N.width+$<-g+v+k.width)return N.x+=$,F.width+=$,F.x-=$,void(x.x+=$)}else if(N.width<e-2*g-$&&N.width+$<e-2*g-v+k.width)return N.x-=$,x.x-=$,F.x-=$,void(F.width+=$);detectCollisionAndReposition(e,x),w.stop(),S.addChild(x),z.start()};w.add((()=>{U()})),D.add((()=>{if(0===Q.children.length)return;const t=.008*e,r=O-Q.x,i=C-Q.y,n=Math.sqrt(r*r+i*i);if(n<=t)D.stop(),L.start();else{const o=r/n,a=i/n;Q.x+=o*t,Q.y+=a*t,!s&&(x.x<g||x.x+G+g<O)&&(x.x+=o*t),positionLineTexture(M,Q.x,P,Q.y,R,.003*e),S.addChild(M,Q)}}))}return D.start(),S},ShotOutcome=({width:e,app:t,event:r,color:i,heightOfPitch:n,bounceAnimationDefaults:s,isHome:o,incidentActor:a})=>{const l={[EVENT_TYPES.SHOT_ON_TARGET]:Translate("shots_on_target"),[EVENT_TYPES.SHOT_OFF_TARGET]:Translate("shots_off_target")},h=new Text(l[r],getFontStyles({size:14,width:e,fontWeight:"bold"})),c=new Text(a,getFontStyles({size:12,width:e})),u=new Container$1,d=drawEventDetails({width:e,eventNameText:h,teamNameText:c,isHome:o,color:i});u.addChild(d);const p=getPenaltyLineBounds({rootContainer:t.stage,selectRightPenalty:o}),f=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:57,outerContainerWidth:e});return d.x=o?p.x-d.width+f:p.x+p.width-f,d.y=(n-d.height)/2,s({container:d,targetPosition:d.x,axis:AXES.HORIZONTAL,isHome:o}),u},getThrowInCoords=(e,t)=>{if(!e)return t?{x:35,y:0}:{x:65,y:0};const{x:r,y:i}=e;return{x:r,y:i<50?0:100}},ThrowIn=e=>Yt(void 0,[e],(function*({width:e,color:t,teamName:r,ball_position:i,heightOfPitch:n,bounceAnimationDefaults:s,isHome:o}){const a=new Container$1,l=getThrowInCoords(i,o),h=.22*e,c=Math.PI/2,{cx:u,cy:d}=convertPercentageCoordsToPixels(l,e,n),p=createGradientCircle(h,u,d),f=drawAndPositionBall({width:e,color:t,coords:l,height:n}),_=createConeMask({triangleBaseAngle:c,coneWidth:2*h,cx:u,cy:d,height:n,width:e,isHome:o,isThrowIn:!0}),m=animateCircles({cx:u,cy:d,radius:h,width:e}),g=new Text(Translate("throw_in"),getFontStyles({size:14,width:e,fontWeight:"bold"})),y=new Text(r,getFontStyles({size:12,width:e})),v=drawEventDetails({width:e,eventNameText:g,teamNameText:y,isHome:o,color:t});v.x=u-v.width/2,v.y=n/2-v.height/2,detectCollisionAndReposition(e,v),f.name=CHILD_NAMES_PER_INCIDENT.THROW_IN.BALL;const E=widthProportionalSpacing({outerContainerWidth:e}),T=d<n/2;return s({container:v,targetPosition:v.y,axis:AXES.VERTICAL,intensity:T?-1*E:E}),p.mask=_,m.mask=_,a.addChild(p,_,m,f,v),a})),positionEventDetails=(e,t,r,i)=>{const n=i.stage.getChildByName(FIELD_LINES_NAMES.TOP_MIDDLE_LINE,!0).getBounds().height/2-e.height/2+getFieldPadding(r);e.y=n,e.x=t?r/4-e.width/2:r-r/4-e.width/2},GoalKick=({width:e,color:t,teamName:r,heightOfPitch:i,app:n,bounceAnimationDefaults:s,isHome:o})=>{const a=new Container$1,l=o?{x:4.5,y:50}:{x:95.5,y:50},h=.7*e,c=Math.PI/6,{cx:u,cy:d}=convertPercentageCoordsToPixels(l,e,i),p=createGradientCircle(h,u,d),f=drawAndPositionBall({width:e,color:t,coords:l,height:i}),_=createConeMask({triangleBaseAngle:c,coneWidth:2*h,cx:u,cy:d,height:i,width:e,isHome:o}),m=animateCircles({cx:u,cy:d,radius:h,width:e}),g=new Text(Translate("goal_kick"),getFontStyles({size:14,width:e,fontWeight:"bold"})),y=new Text(r,getFontStyles({size:12,width:e,wordWrap:!0,align:o?"right":"left"})),v=drawEventDetails({width:e,eventNameText:g,teamNameText:y,isHome:o,color:t});positionEventDetails(v,o,e,n);const E=widthProportionalSpacing({outerContainerWidth:e});return s({container:v,targetPosition:v.y,axis:AXES.VERTICAL,intensity:-1*E}),p.mask=_,m.mask=_,a.addChild(p,_,m,f,v),a},Corner=e=>Yt(void 0,[e],(function*({width:e,color:t,ball_position:r,heightOfPitch:i,teamName:n,app:s,bounceAnimationDefaults:o,isHome:a}){var l;const h=new Text(n,getFontStyles({size:12,width:e,wordWrap:!0,align:a?"right":"left"})),c=new Text(Translate("corner"),getFontStyles({size:14,width:e,fontWeight:"bold"})),u=drawEventDetails({width:e,eventNameText:c,teamNameText:h,isHome:a,color:t}),d=new Container$1,{cx:p,cy:f}=convertPercentageCoordsToPixels(r,e,i),_=p>e/2,m=f<=i/2,g=convertPercentageCoordsToPixels({x:_?100:0,y:m?100:0},e,i),y=.4*e,v=createGradientCircle(y,g.cx,g.cy),E=drawAndPositionBall({width:e,color:t,coords:{x:_?100:0,y:m?100:0},height:i}),T=new Graphics;T.beginFill(16777215).moveTo(g.cx,g.cy);let b=0,S=0;_&&m?(b=e/1.38,S=i/1.58):!_&&m?(b=e/3.6,S=i/1.58):_||m?_&&!m&&(b=e/1.5,S=i/4.2):(b=e/3,S=i/4.2),_?(T.lineTo(b,S),T.lineTo(e-getFieldPadding(e),m?i-getFieldPadding(e):i/6-getFieldPadding(e))):(T.lineTo(getFieldPadding(e),m?i:i/6),T.lineTo(b,S));const x=animateCircles({cx:g.cx,cy:g.cy,radius:y,width:e});v.mask=T,x.mask=T,d.addChild(u);const A=getPenaltyLineBounds({rootContainer:s.stage,selectRightPenalty:_}),P=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:50,outerContainerWidth:e}),R=(null==(l=s.stage)?void 0:l.getChildByName(FIELD_LINES_NAMES.TOP_MIDDLE_LINE,!0)).getBounds();u.x=_?A.x-u.width-P:A.x+A.width+P,u.y=m?R.height/2-u.height/2+getFieldPadding(e):i-R.height/2-getFieldPadding(e)-u.height/2;const O=widthProportionalSpacing({outerContainerWidth:e}),w=m?-1*O:O;return Yt(void 0,null,(function*(){yield o({container:u,targetPosition:u.y,axis:AXES.VERTICAL,intensity:w,decayFactor:.4}),setTimeout((()=>Yt(void 0,null,(function*(){d.addChild(v,T,x,E),yield fadeInObjects(s,[v,E,T,x],500)}))),300)})),d})),Cards=({app:e,width:t,event:r,reason:i,sprites:n,heightOfPitch:s,incidentActor:o})=>{const a=new Container$1,l=r===EVENT_TYPES.YELLOW_CARD,h=l?n.yellowCard:n.redCard;h.width=.046*t,h.height=.064*t;const c=new Text(o,getFontStyles({size:12,width:t})),u=new Text("",getFontStyles({fontWeight:"bold",size:14,width:t}));if(i){let e=normilizeStringForTranslation(i);u.text=Translate(e)}else u.text=Translate(l?"yellow_card":"red_card");return bounceTextureWithText({icon:h,primaryText:u,secondaryText:c,container:a,app:e,width:t,height:s}),a},animateScorerText=({scorerContainer:e,height:t})=>{const r=new Ticker$1;e.y=t;let i=0;const n=.75*t;r.add((()=>{e.y-=i,i+=.2,e.y<=n&&(e.y=n,i*=-.3)})),r.start(),e.once("removed",(()=>{r.destroy()}))},renderScorer=({app:e,width:t,height:r,name:i,isPlayer:n})=>{const s=new Container$1,o=new Text(i,getFontStyles({size:14,width:t,fontWeight:"bold"}));if(o.anchor.set(.5),o.x=t/2,s.addChild(o),n){const e=new Text("Scorer",getFontStyles({size:12,width:t}));e.anchor.set(.5),e.x=t/2,e.y=.1*r,s.addChild(e)}return animateScorerText({scorerContainer:s,height:r}),e.stage.addChild(s),s};var lottie$1={exports:{}};(function(module,exports){var V;"undefined"!=typeof navigator&&(V=function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(e){_useWebWorker=!!e},getWebWorker=function(){return _useWebWorker},setLocationHref=function(e){locationHref=e},getLocationHref=function(){return locationHref};function createTag(e){return document.createElement(e)}function extendPrototype(e,t){var r,i,n=e.length;for(r=0;r<n;r+=1)for(var s in i=e[r].prototype)Object.prototype.hasOwnProperty.call(i,s)&&(t.prototype[s]=i[s])}function getDescriptor(e,t){return Object.getOwnPropertyDescriptor(e,t)}function createProxyFunction(e){function t(){}return t.prototype=e,t}var audioControllerFactory=function(){function e(e){this.audios=[],this.audioFactory=e,this._volume=1,this._isMuted=!1}return e.prototype={addAudio:function(e){this.audios.push(e)},pause:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].pause()},resume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].resume()},setRate:function(e){var t,r=this.audios.length;for(t=0;t<r;t+=1)this.audios[t].setRate(e)},createAudio:function(e){return this.audioFactory?this.audioFactory(e):window.Howl?new window.Howl({src:[e]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(e){this.audioFactory=e},setVolume:function(e){this._volume=e,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var e,t=this.audios.length;for(e=0;e<t;e+=1)this.audios[e].volume(this._volume*(this._isMuted?0:1))}},function(){return new e}}(),createTypedArray=function(){function e(e,t){var r,i=0,n=[];switch(e){case"int16":case"uint8c":r=1;break;default:r=1.1}for(i=0;i<t;i+=1)n.push(r);return n}return"function"==typeof Uint8ClampedArray&&"function"==typeof Float32Array?function(t,r){return"float32"===t?new Float32Array(r):"int16"===t?new Int16Array(r):"uint8c"===t?new Uint8ClampedArray(r):e(t,r)}:e}();function createSizedArray(e){return Array.apply(null,{length:e})}function _typeof$6(e){return(_typeof$6="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var e,t=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],r=t.length;for(e=0;e<r;e+=1)BMMath[t[e]]=Math[t[e]]})(),BMMath.random=Math.random,BMMath.abs=function(e){if("object"===_typeof$6(e)&&e.length){var t,r=createSizedArray(e.length),i=e.length;for(t=0;t<i;t+=1)r[t]=Math.abs(e[t]);return r}return Math.abs(e)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(e){e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.display="block",e.style.transformOrigin="0 0",e.style.webkitTransformOrigin="0 0",e.style.backfaceVisibility="visible",e.style.webkitBackfaceVisibility="visible",e.style.transformStyle="preserve-3d",e.style.webkitTransformStyle="preserve-3d",e.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(e,t,r,i){this.type=e,this.currentTime=t,this.totalTime=r,this.direction=i<0?-1:1}function BMCompleteEvent(e,t){this.type=e,this.direction=t<0?-1:1}function BMCompleteLoopEvent(e,t,r,i){this.type=e,this.currentLoop=r,this.totalLoops=t,this.direction=i<0?-1:1}function BMSegmentStartEvent(e,t,r){this.type=e,this.firstFrame=t,this.totalFrames=r}function BMDestroyEvent(e,t){this.type=e,this.target=t}function BMRenderFrameErrorEvent(e,t){this.type="renderFrameError",this.nativeError=e,this.currentTime=t}function BMConfigErrorEvent(e){this.type="configError",this.nativeError=e}var createElementID=function(){var e=0;return function(){return idPrefix$1+"__lottie_element_"+(e+=1)}}();function HSVtoRGB(e,t,r){var i,n,s,o,a,l,h,c;switch(l=r*(1-t),h=r*(1-(a=6*e-(o=Math.floor(6*e)))*t),c=r*(1-(1-a)*t),o%6){case 0:i=r,n=c,s=l;break;case 1:i=h,n=r,s=l;break;case 2:i=l,n=r,s=c;break;case 3:i=l,n=h,s=r;break;case 4:i=c,n=l,s=r;break;case 5:i=r,n=l,s=h}return[i,n,s]}function RGBtoHSV(e,t,r){var i,n=Math.max(e,t,r),s=Math.min(e,t,r),o=n-s,a=0===n?0:o/n,l=n/255;switch(n){case s:i=0;break;case e:i=t-r+o*(t<r?6:0),i/=6*o;break;case t:i=r-e+2*o,i/=6*o;break;case r:i=e-t+4*o,i/=6*o}return[i,a,l]}function addSaturationToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[1]+=t,r[1]>1?r[1]=1:r[1]<=0&&(r[1]=0),HSVtoRGB(r[0],r[1],r[2])}function addBrightnessToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[2]+=t,r[2]>1?r[2]=1:r[2]<0&&(r[2]=0),HSVtoRGB(r[0],r[1],r[2])}function addHueToRGB(e,t){var r=RGBtoHSV(255*e[0],255*e[1],255*e[2]);return r[0]+=t/360,r[0]>1?r[0]-=1:r[0]<0&&(r[0]+=1),HSVtoRGB(r[0],r[1],r[2])}var rgbToHex=function(){var e,t,r=[];for(e=0;e<256;e+=1)t=e.toString(16),r[e]=1===t.length?"0"+t:t;return function(e,t,i){return e<0&&(e=0),t<0&&(t=0),i<0&&(i=0),"#"+r[e]+r[t]+r[i]}}(),setSubframeEnabled=function(e){subframeEnabled=!!e},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(e){expressionsPlugin=e},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(e){expressionsInterfaces=e},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(e){defaultCurveSegments=e},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(e){idPrefix$1=e};function createNS(e){return document.createElementNS(svgNS,e)}function _typeof$5(e){return(_typeof$5="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var dataManager=function(){var e,t,r=1,i=[],n={onmessage:function(){},postMessage:function(t){e({data:t})}},s={postMessage:function(e){n.onmessage({data:e})}};function o(){t||((t=function(t){if(window.Worker&&window.Blob&&getWebWorker()){var r=new Blob(["var _workerSelf = self; self.onmessage = ",t.toString()],{type:"text/javascript"}),i=URL.createObjectURL(r);return new Worker(i)}return e=t,n}((function(e){if(s.dataManager||(s.dataManager=function(){function e(n,s){var o,a,l,h,u,d,p=n.length;for(a=0;a<p;a+=1)if("ks"in(o=n[a])&&!o.completed){if(o.completed=!0,o.hasMask){var f=o.masksProperties;for(h=f.length,l=0;l<h;l+=1)if(f[l].pt.k.i)i(f[l].pt.k);else for(d=f[l].pt.k.length,u=0;u<d;u+=1)f[l].pt.k[u].s&&i(f[l].pt.k[u].s[0]),f[l].pt.k[u].e&&i(f[l].pt.k[u].e[0])}0===o.ty?(o.layers=t(o.refId,s),e(o.layers,s)):4===o.ty?r(o.shapes):5===o.ty&&c(o)}}function t(e,t){var r=function(e,t){for(var r=0,i=t.length;r<i;){if(t[r].id===e)return t[r];r+=1}return null}(e,t);return r?r.layers.__used?JSON.parse(JSON.stringify(r.layers)):(r.layers.__used=!0,r.layers):null}function r(e){var t,n,s;for(t=e.length-1;t>=0;t-=1)if("sh"===e[t].ty)if(e[t].ks.k.i)i(e[t].ks.k);else for(s=e[t].ks.k.length,n=0;n<s;n+=1)e[t].ks.k[n].s&&i(e[t].ks.k[n].s[0]),e[t].ks.k[n].e&&i(e[t].ks.k[n].e[0]);else"gr"===e[t].ty&&r(e[t].it)}function i(e){var t,r=e.i.length;for(t=0;t<r;t+=1)e.i[t][0]+=e.v[t][0],e.i[t][1]+=e.v[t][1],e.o[t][0]+=e.v[t][0],e.o[t][1]+=e.v[t][1]}function n(e,t){var r=t?t.split("."):[100,100,100];return e[0]>r[0]||!(r[0]>e[0])&&(e[1]>r[1]||!(r[1]>e[1])&&(e[2]>r[2]||!(r[2]>e[2])&&null))}var s=function(){var e=[4,4,14];function t(e){var t=e.t.d;e.t.d={k:[{s:t,t:0}]}}function r(e){var r,i=e.length;for(r=0;r<i;r+=1)5===e[r].ty&&t(e[r])}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var i,s=t.assets.length;for(i=0;i<s;i+=1)t.assets[i].layers&&r(t.assets[i].layers)}}}(),o=function(){var e=[4,7,99];return function(t){if(t.chars&&!n(e,t.v)){var i,s=t.chars.length;for(i=0;i<s;i+=1){var o=t.chars[i];o.data&&o.data.shapes&&(r(o.data.shapes),o.data.ip=0,o.data.op=99999,o.data.st=0,o.data.sr=1,o.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},t.chars[i].t||(o.data.shapes.push({ty:"no"}),o.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),a=function(){var e=[5,7,15];function t(e){var t=e.t.p;"number"==typeof t.a&&(t.a={a:0,k:t.a}),"number"==typeof t.p&&(t.p={a:0,k:t.p}),"number"==typeof t.r&&(t.r={a:0,k:t.r})}function r(e){var r,i=e.length;for(r=0;r<i;r+=1)5===e[r].ty&&t(e[r])}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var i,s=t.assets.length;for(i=0;i<s;i+=1)t.assets[i].layers&&r(t.assets[i].layers)}}}(),l=function(){var e=[4,1,9];function t(e){var r,i,n,s=e.length;for(r=0;r<s;r+=1)if("gr"===e[r].ty)t(e[r].it);else if("fl"===e[r].ty||"st"===e[r].ty)if(e[r].c.k&&e[r].c.k[0].i)for(n=e[r].c.k.length,i=0;i<n;i+=1)e[r].c.k[i].s&&(e[r].c.k[i].s[0]/=255,e[r].c.k[i].s[1]/=255,e[r].c.k[i].s[2]/=255,e[r].c.k[i].s[3]/=255),e[r].c.k[i].e&&(e[r].c.k[i].e[0]/=255,e[r].c.k[i].e[1]/=255,e[r].c.k[i].e[2]/=255,e[r].c.k[i].e[3]/=255);else e[r].c.k[0]/=255,e[r].c.k[1]/=255,e[r].c.k[2]/=255,e[r].c.k[3]/=255}function r(e){var r,i=e.length;for(r=0;r<i;r+=1)4===e[r].ty&&t(e[r].shapes)}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var i,s=t.assets.length;for(i=0;i<s;i+=1)t.assets[i].layers&&r(t.assets[i].layers)}}}(),h=function(){var e=[4,4,18];function t(e){var r,i,n;for(r=e.length-1;r>=0;r-=1)if("sh"===e[r].ty)if(e[r].ks.k.i)e[r].ks.k.c=e[r].closed;else for(n=e[r].ks.k.length,i=0;i<n;i+=1)e[r].ks.k[i].s&&(e[r].ks.k[i].s[0].c=e[r].closed),e[r].ks.k[i].e&&(e[r].ks.k[i].e[0].c=e[r].closed);else"gr"===e[r].ty&&t(e[r].it)}function r(e){var r,i,n,s,o,a,l=e.length;for(i=0;i<l;i+=1){if((r=e[i]).hasMask){var h=r.masksProperties;for(s=h.length,n=0;n<s;n+=1)if(h[n].pt.k.i)h[n].pt.k.c=h[n].cl;else for(a=h[n].pt.k.length,o=0;o<a;o+=1)h[n].pt.k[o].s&&(h[n].pt.k[o].s[0].c=h[n].cl),h[n].pt.k[o].e&&(h[n].pt.k[o].e[0].c=h[n].cl)}4===r.ty&&t(r.shapes)}}return function(t){if(n(e,t.v)&&(r(t.layers),t.assets)){var i,s=t.assets.length;for(i=0;i<s;i+=1)t.assets[i].layers&&r(t.assets[i].layers)}}}();function c(e){0===e.t.a.length&&e.t.p}var u={completeData:function(r){r.__complete||(l(r),s(r),o(r),a(r),h(r),e(r.layers,r.assets),function(r,i){if(r){var n=0,s=r.length;for(n=0;n<s;n+=1)1===r[n].t&&(r[n].data.layers=t(r[n].data.refId,i),e(r[n].data.layers,i))}}(r.chars,r.assets),r.__complete=!0)}};return u.checkColors=l,u.checkChars=o,u.checkPathProperties=a,u.checkShapes=h,u.completeLayers=e,u}()),s.assetLoader||(s.assetLoader=function(){function e(e){var t=e.getResponseHeader("content-type");return t&&"json"===e.responseType&&-1!==t.indexOf("json")||e.response&&"object"===_typeof$5(e.response)?e.response:e.response&&"string"==typeof e.response?JSON.parse(e.response):e.responseText?JSON.parse(e.responseText):null}return{load:function(t,r,i,n){var s,o=new XMLHttpRequest;try{o.responseType="json"}catch(e){}o.onreadystatechange=function(){if(4===o.readyState)if(200===o.status)s=e(o),i(s);else try{s=e(o),i(s)}catch(e){n&&n(e)}};try{o.open(["G","E","T"].join(""),t,!0)}catch(e){o.open(["G","E","T"].join(""),r+"/"+t,!0)}o.send()}}}()),"loadAnimation"===e.data.type)s.assetLoader.load(e.data.path,e.data.fullPath,(function(t){s.dataManager.completeData(t),s.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){s.postMessage({id:e.data.id,status:"error"})}));else if("complete"===e.data.type){var t=e.data.animation;s.dataManager.completeData(t),s.postMessage({id:e.data.id,payload:t,status:"success"})}else"loadData"===e.data.type&&s.assetLoader.load(e.data.path,e.data.fullPath,(function(t){s.postMessage({id:e.data.id,payload:t,status:"success"})}),(function(){s.postMessage({id:e.data.id,status:"error"})}))}))).onmessage=function(e){var t=e.data,r=t.id,n=i[r];i[r]=null,"success"===t.status?n.onComplete(t.payload):n.onError&&n.onError()})}function a(e,t){var n="processId_"+(r+=1);return i[n]={onComplete:e,onError:t},n}return{loadAnimation:function(e,r,i){o();var n=a(r,i);t.postMessage({type:"loadAnimation",path:e,fullPath:window.location.origin+window.location.pathname,id:n})},loadData:function(e,r,i){o();var n=a(r,i);t.postMessage({type:"loadData",path:e,fullPath:window.location.origin+window.location.pathname,id:n})},completeAnimation:function(e,r,i){o();var n=a(r,i);t.postMessage({type:"complete",animation:e,id:n})}}}(),ImagePreloader=function(){var e=function(){var e=createTag("canvas");e.width=1,e.height=1;var t=e.getContext("2d");return t.fillStyle="rgba(0,0,0,0)",t.fillRect(0,0,1,1),e}();function t(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function r(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function i(e,t,r){var i="";if(e.e)i=e.p;else if(t){var n=e.p;-1!==n.indexOf("images/")&&(n=n.split("/")[1]),i=t+n}else i=r,i+=e.u?e.u:"",i+=e.p;return i}function n(e){var t=0,r=setInterval(function(){(e.getBBox().width||t>500)&&(this._imageLoaded(),clearInterval(r)),t+=1}.bind(this),50)}function s(e){var t={assetData:e},r=i(e,this.assetsPath,this.path);return dataManager.loadData(r,function(e){t.img=e,this._footageLoaded()}.bind(this),function(){t.img={},this._footageLoaded()}.bind(this)),t}function o(){this._imageLoaded=t.bind(this),this._footageLoaded=r.bind(this),this.testImageLoaded=n.bind(this),this.createFootageData=s.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return o.prototype={loadAssets:function(e,t){this.imagesLoadedCb=t;var r,i=e.length;for(r=0;r<i;r+=1)e[r].layers||(e[r].t&&"seq"!==e[r].t?3===e[r].t&&(this.totalFootages+=1,this.images.push(this.createFootageData(e[r]))):(this.totalImages+=1,this.images.push(this._createImageData(e[r]))))},setAssetsPath:function(e){this.assetsPath=e||""},setPath:function(e){this.path=e||""},loadedImages:function(){return this.totalImages===this.loadedAssets},loadedFootages:function(){return this.totalFootages===this.loadedFootagesCount},destroy:function(){this.imagesLoadedCb=null,this.images.length=0},getAsset:function(e){for(var t=0,r=this.images.length;t<r;){if(this.images[t].assetData===e)return this.images[t].img;t+=1}return null},createImgData:function(t){var r=i(t,this.assetsPath,this.path),n=createTag("img");n.crossOrigin="anonymous",n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=e,this._imageLoaded()}.bind(this),!1),n.src=r;var s={img:n,assetData:t};return s},createImageData:function(t){var r=i(t,this.assetsPath,this.path),n=createNS("image");isSafari?this.testImageLoaded(n):n.addEventListener("load",this._imageLoaded,!1),n.addEventListener("error",function(){s.img=e,this._imageLoaded()}.bind(this),!1),n.setAttributeNS("http://www.w3.org/1999/xlink","href",r),this._elementHelper.append?this._elementHelper.append(n):this._elementHelper.appendChild(n);var s={img:n,assetData:t};return s},imageLoaded:t,footageLoaded:r,setCacheType:function(e,t){"svg"===e?(this._elementHelper=t,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}},o}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(e,t){if(this._cbs[e])for(var r=this._cbs[e],i=0;i<r.length;i+=1)r[i](t)},addEventListener:function(e,t){return this._cbs[e]||(this._cbs[e]=[]),this._cbs[e].push(t),function(){this.removeEventListener(e,t)}.bind(this)},removeEventListener:function(e,t){if(t){if(this._cbs[e]){for(var r=0,i=this._cbs[e].length;r<i;)this._cbs[e][r]===t&&(this._cbs[e].splice(r,1),r-=1,i-=1),r+=1;this._cbs[e].length||(this._cbs[e]=null)}}else this._cbs[e]=null}};var markerParser=function(){function e(e){for(var t,r=e.split("\r\n"),i={},n=0,s=0;s<r.length;s+=1)2===(t=r[s].split(":")).length&&(i[t[0]]=t[1].trim(),n+=1);if(0===n)throw new Error;return i}return function(t){for(var r=[],i=0;i<t.length;i+=1){var n=t[i],s={time:n.tm,duration:n.dr};try{s.payload=JSON.parse(t[i].cm)}catch(r){try{s.payload=e(t[i].cm)}catch(e){s.payload={name:t[i].cm}}}r.push(s)}return r}}(),ProjectInterface=function(){function e(e){this.compositions.push(e)}return function(){function t(e){for(var t=0,r=this.compositions.length;t<r;){if(this.compositions[t].data&&this.compositions[t].data.nm===e)return this.compositions[t].prepareFrame&&this.compositions[t].data.xt&&this.compositions[t].prepareFrame(this.currentFrame),this.compositions[t].compInterface;t+=1}return null}return t.compositions=[],t.currentFrame=0,t.registerComposition=e,t}}(),renderers={},registerRenderer=function(e,t){renderers[e]=t};function getRenderer(e){return renderers[e]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var e in renderers)if(renderers[e])return e;return""}function _typeof$4(e){return(_typeof$4="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(e){(e.wrapper||e.container)&&(this.wrapper=e.wrapper||e.container);var t="svg";e.animType?t=e.animType:e.renderer&&(t=e.renderer);var r=getRenderer(t);this.renderer=new r(this,e.rendererSettings),this.imagePreloader.setCacheType(t,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=t,""===e.loop||null===e.loop||void 0===e.loop||!0===e.loop?this.loop=!0:!1===e.loop?this.loop=!1:this.loop=parseInt(e.loop,10),this.autoplay=!("autoplay"in e)||e.autoplay,this.name=e.name?e.name:"",this.autoloadSegments=!Object.prototype.hasOwnProperty.call(e,"autoloadSegments")||e.autoloadSegments,this.assetsPath=e.assetsPath,this.initialSegment=e.initialSegment,e.audioFactory&&this.audioController.setAudioFactory(e.audioFactory),e.animationData?this.setupAnimation(e.animationData):e.path&&(-1!==e.path.lastIndexOf("\\")?this.path=e.path.substr(0,e.path.lastIndexOf("\\")+1):this.path=e.path.substr(0,e.path.lastIndexOf("/")+1),this.fileName=e.path.substr(e.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(e.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(e){dataManager.completeAnimation(e,this.configAnimation)},AnimationItem.prototype.setData=function(e,t){t&&"object"!==_typeof$4(t)&&(t=JSON.parse(t));var r={wrapper:e,animationData:t},i=e.attributes;r.path=i.getNamedItem("data-animation-path")?i.getNamedItem("data-animation-path").value:i.getNamedItem("data-bm-path")?i.getNamedItem("data-bm-path").value:i.getNamedItem("bm-path")?i.getNamedItem("bm-path").value:"",r.animType=i.getNamedItem("data-anim-type")?i.getNamedItem("data-anim-type").value:i.getNamedItem("data-bm-type")?i.getNamedItem("data-bm-type").value:i.getNamedItem("bm-type")?i.getNamedItem("bm-type").value:i.getNamedItem("data-bm-renderer")?i.getNamedItem("data-bm-renderer").value:i.getNamedItem("bm-renderer")?i.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var n=i.getNamedItem("data-anim-loop")?i.getNamedItem("data-anim-loop").value:i.getNamedItem("data-bm-loop")?i.getNamedItem("data-bm-loop").value:i.getNamedItem("bm-loop")?i.getNamedItem("bm-loop").value:"";"false"===n?r.loop=!1:"true"===n?r.loop=!0:""!==n&&(r.loop=parseInt(n,10));var s=i.getNamedItem("data-anim-autoplay")?i.getNamedItem("data-anim-autoplay").value:i.getNamedItem("data-bm-autoplay")?i.getNamedItem("data-bm-autoplay").value:!i.getNamedItem("bm-autoplay")||i.getNamedItem("bm-autoplay").value;r.autoplay="false"!==s,r.name=i.getNamedItem("data-name")?i.getNamedItem("data-name").value:i.getNamedItem("data-bm-name")?i.getNamedItem("data-bm-name").value:i.getNamedItem("bm-name")?i.getNamedItem("bm-name").value:"","false"===(i.getNamedItem("data-anim-prerender")?i.getNamedItem("data-anim-prerender").value:i.getNamedItem("data-bm-prerender")?i.getNamedItem("data-bm-prerender").value:i.getNamedItem("bm-prerender")?i.getNamedItem("bm-prerender").value:"")&&(r.prerender=!1),r.path?this.setParams(r):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(e){e.op>this.animationData.op&&(this.animationData.op=e.op,this.totalFrames=Math.floor(e.op-this.animationData.ip));var t,r,i=this.animationData.layers,n=i.length,s=e.layers,o=s.length;for(r=0;r<o;r+=1)for(t=0;t<n;){if(i[t].id===s[r].id){i[t]=s[r];break}t+=1}if((e.chars||e.fonts)&&(this.renderer.globalData.fontManager.addChars(e.chars),this.renderer.globalData.fontManager.addFonts(e.fonts,this.renderer.globalData.defs)),e.assets)for(n=e.assets.length,t=0;t<n;t+=1)this.animationData.assets.push(e.assets[t]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(e){this.animationData=e;var t=getExpressionsPlugin();t&&t.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var e=this.animationData.segments;if(!e||0===e.length||!this.autoloadSegments)return this.trigger("data_ready"),void(this.timeCompleted=this.totalFrames);var t=e.shift();this.timeCompleted=t.time*this.frameRate;var r=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(r,this.includeLayers.bind(this),function(){this.trigger("data_failed")}.bind(this))},AnimationItem.prototype.loadSegments=function(){this.animationData.segments||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(e){if(this.renderer)try{this.animationData=e,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(e),e.assets||(e.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(e.assets),this.markers=markerParser(e.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(e){this.triggerConfigError(e)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||"canvas"!==this.renderer.rendererType)&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var e=getExpressionsPlugin();e&&e.initExpressions(this),this.renderer.initItems(),setTimeout(function(){this.trigger("DOMLoaded")}.bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(e,t){var r="number"==typeof e?e:void 0,i="number"==typeof t?t:void 0;this.renderer.updateContainerSize(r,i)},AnimationItem.prototype.setSubframe=function(e){this.isSubframeEnabled=!!e},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!1!==this.isLoaded&&this.renderer)try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(e){this.triggerRenderFrameError(e)}},AnimationItem.prototype.play=function(e){e&&this.name!==e||!0===this.isPaused&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(e){e&&this.name!==e||!1===this.isPaused&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(e){e&&this.name!==e||(!0===this.isPaused?this.play():this.pause())},AnimationItem.prototype.stop=function(e){e&&this.name!==e||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(e){for(var t,r=0;r<this.markers.length;r+=1)if((t=this.markers[r]).payload&&t.payload.name===e)return t;return null},AnimationItem.prototype.goToAndStop=function(e,t,r){if(!r||this.name===r){var i=Number(e);if(isNaN(i)){var n=this.getMarkerData(e);n&&this.goToAndStop(n.time,!0)}else t?this.setCurrentRawFrameValue(e):this.setCurrentRawFrameValue(e*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(e,t,r){if(!r||this.name===r){var i=Number(e);if(isNaN(i)){var n=this.getMarkerData(e);n&&(n.duration?this.playSegments([n.time,n.time+n.duration],!0):this.goToAndStop(n.time,!0))}else this.goToAndStop(i,t,r);this.play()}},AnimationItem.prototype.advanceTime=function(e){if(!0!==this.isPaused&&!1!==this.isLoaded){var t=this.currentRawFrame+e*this.frameModifier,r=!1;t>=this.totalFrames-1&&this.frameModifier>0?this.loop&&this.playCount!==this.loop?t>=this.totalFrames?(this.playCount+=1,this.checkSegments(t%this.totalFrames)||(this.setCurrentRawFrameValue(t%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(t):this.checkSegments(t>this.totalFrames?t%this.totalFrames:0)||(r=!0,t=this.totalFrames-1):t<0?this.checkSegments(t%this.totalFrames)||(!this.loop||this.playCount--<=0&&!0!==this.loop?(r=!0,t=0):(this.setCurrentRawFrameValue(this.totalFrames+t%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0)):this.setCurrentRawFrameValue(t),r&&(this.setCurrentRawFrameValue(t),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(e,t){this.playCount=0,e[1]<e[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=e[0]-e[1],this.timeCompleted=this.totalFrames,this.firstFrame=e[1],this.setCurrentRawFrameValue(this.totalFrames-.001-t)):e[1]>e[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=e[1]-e[0],this.timeCompleted=this.totalFrames,this.firstFrame=e[0],this.setCurrentRawFrameValue(.001+t)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(e,t){var r=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<e?r=e:this.currentRawFrame+this.firstFrame>t&&(r=t-e)),this.firstFrame=e,this.totalFrames=t-e,this.timeCompleted=this.totalFrames,-1!==r&&this.goToAndStop(r,!0)},AnimationItem.prototype.playSegments=function(e,t){if(t&&(this.segments.length=0),"object"===_typeof$4(e[0])){var r,i=e.length;for(r=0;r<i;r+=1)this.segments.push(e[r])}else this.segments.push(e);this.segments.length&&t&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(e){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),e&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(e){return!!this.segments.length&&(this.adjustSegment(this.segments.shift(),e),!0)},AnimationItem.prototype.destroy=function(e){e&&this.name!==e||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(e){this.currentRawFrame=e,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(e){this.playSpeed=e,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(e){this.playDirection=e<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(e){this.loop=e},AnimationItem.prototype.setVolume=function(e,t){t&&this.name!==t||this.audioController.setVolume(e)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(e){e&&this.name!==e||this.audioController.mute()},AnimationItem.prototype.unmute=function(e){e&&this.name!==e||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(e){var t="";if(e.e)t=e.p;else if(this.assetsPath){var r=e.p;-1!==r.indexOf("images/")&&(r=r.split("/")[1]),t=this.assetsPath+r}else t=this.path,t+=e.u?e.u:"",t+=e.p;return t},AnimationItem.prototype.getAssetData=function(e){for(var t=0,r=this.assets.length;t<r;){if(e===this.assets[t].id)return this.assets[t];t+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(e){return e?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(e,t,r){try{this.renderer.getElementByPath(e).updateDocumentData(t,r)}catch(e){}},AnimationItem.prototype.trigger=function(e){if(this._cbs&&this._cbs[e])switch(e){case"enterFrame":this.triggerEvent(e,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(e,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(e,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(e,new BMCompleteEvent(e,this.frameMult));break;case"segmentStart":this.triggerEvent(e,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(e,new BMDestroyEvent(e,this));break;default:this.triggerEvent(e)}"enterFrame"===e&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(e,this.currentFrame,this.totalFrames,this.frameMult)),"loopComplete"===e&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(e,this.loop,this.playCount,this.frameMult)),"complete"===e&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(e,this.frameMult)),"segmentStart"===e&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(e,this.firstFrame,this.totalFrames)),"destroy"===e&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(e,this))},AnimationItem.prototype.triggerRenderFrameError=function(e){var t=new BMRenderFrameErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)},AnimationItem.prototype.triggerConfigError=function(e){var t=new BMConfigErrorEvent(e,this.currentFrame);this.triggerEvent("error",t),this.onError&&this.onError.call(this,t)};var animationManager=function(){var e={},t=[],r=0,i=0,n=0,s=!0,o=!1;function a(e){for(var r=0,n=e.target;r<i;)t[r].animation===n&&(t.splice(r,1),r-=1,i-=1,n.isPaused||c()),r+=1}function l(e,r){if(!e)return null;for(var n=0;n<i;){if(t[n].elem===e&&null!==t[n].elem)return t[n].animation;n+=1}var s=new AnimationItem;return u(s,e),s.setData(e,r),s}function h(){n+=1,f()}function c(){n-=1}function u(e,r){e.addEventListener("destroy",a),e.addEventListener("_active",h),e.addEventListener("_idle",c),t.push({elem:r,animation:e}),i+=1}function d(e){var a,l=e-r;for(a=0;a<i;a+=1)t[a].animation.advanceTime(l);r=e,n&&!o?window.requestAnimationFrame(d):s=!0}function p(e){r=e,window.requestAnimationFrame(d)}function f(){!o&&n&&s&&(window.requestAnimationFrame(p),s=!1)}return e.registerAnimation=l,e.loadAnimation=function(e){var t=new AnimationItem;return u(t,null),t.setParams(e),t},e.setSpeed=function(e,r){var n;for(n=0;n<i;n+=1)t[n].animation.setSpeed(e,r)},e.setDirection=function(e,r){var n;for(n=0;n<i;n+=1)t[n].animation.setDirection(e,r)},e.play=function(e){var r;for(r=0;r<i;r+=1)t[r].animation.play(e)},e.pause=function(e){var r;for(r=0;r<i;r+=1)t[r].animation.pause(e)},e.stop=function(e){var r;for(r=0;r<i;r+=1)t[r].animation.stop(e)},e.togglePause=function(e){var r;for(r=0;r<i;r+=1)t[r].animation.togglePause(e)},e.searchAnimations=function(e,t,r){var i,n=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),s=n.length;for(i=0;i<s;i+=1)r&&n[i].setAttribute("data-bm-type",r),l(n[i],e);if(t&&0===s){r||(r="svg");var o=document.getElementsByTagName("body")[0];o.innerText="";var a=createTag("div");a.style.width="100%",a.style.height="100%",a.setAttribute("data-bm-type",r),o.appendChild(a),l(a,e)}},e.resize=function(){var e;for(e=0;e<i;e+=1)t[e].animation.resize()},e.goToAndStop=function(e,r,n){var s;for(s=0;s<i;s+=1)t[s].animation.goToAndStop(e,r,n)},e.destroy=function(e){var r;for(r=i-1;r>=0;r-=1)t[r].animation.destroy(e)},e.freeze=function(){o=!0},e.unfreeze=function(){o=!1,f()},e.setVolume=function(e,r){var n;for(n=0;n<i;n+=1)t[n].animation.setVolume(e,r)},e.mute=function(e){var r;for(r=0;r<i;r+=1)t[r].animation.mute(e)},e.unmute=function(e){var r;for(r=0;r<i;r+=1)t[r].animation.unmute(e)},e.getRegisteredAnimations=function(){var e,r=t.length,i=[];for(e=0;e<r;e+=1)i.push(t[e].animation);return i},e}(),BezierFactory=function(){var e={getBezierEasing:function(e,r,i,n,s){var o=s||("bez_"+e+"_"+r+"_"+i+"_"+n).replace(/\./g,"p");if(t[o])return t[o];var a=new c([e,r,i,n]);return t[o]=a,a}},t={},r=11,i=1/(r-1),n="function"==typeof Float32Array;function s(e,t){return 1-3*t+3*e}function o(e,t){return 3*t-6*e}function a(e){return 3*e}function l(e,t,r){return((s(t,r)*e+o(t,r))*e+a(t))*e}function h(e,t,r){return 3*s(t,r)*e*e+2*o(t,r)*e+a(t)}function c(e){this._p=e,this._mSampleValues=n?new Float32Array(r):new Array(r),this._precomputed=!1,this.get=this.get.bind(this)}return c.prototype={get:function(e){var t=this._p[0],r=this._p[1],i=this._p[2],n=this._p[3];return this._precomputed||this._precompute(),t===r&&i===n?e:0===e?0:1===e?1:l(this._getTForX(e),r,n)},_precompute:function(){var e=this._p[0],t=this._p[1],r=this._p[2],i=this._p[3];this._precomputed=!0,(e!==t||r!==i)&&this._calcSampleValues()},_calcSampleValues:function(){for(var e=this._p[0],t=this._p[2],n=0;n<r;++n)this._mSampleValues[n]=l(n*i,e,t)},_getTForX:function(e){for(var t=this._p[0],n=this._p[2],s=this._mSampleValues,o=0,a=1,c=r-1;a!==c&&s[a]<=e;++a)o+=i;var u=o+(e-s[--a])/(s[a+1]-s[a])*i,d=h(u,t,n);return d>=.001?function(e,t,r,i){for(var n=0;n<4;++n){var s=h(t,r,i);if(0===s)return t;t-=(l(t,r,i)-e)/s}return t}(e,u,t,n):0===d?u:function(e,t,r,i,n){var s,o,a=0;do{(s=l(o=t+(r-t)/2,i,n)-e)>0?r=o:t=o}while(Math.abs(s)>1e-7&&++a<10);return o}(e,o,o+i,t,n)}},e}(),pooling={double:function(e){return e.concat(createSizedArray(e.length))}},poolFactory=function(e,t,r){var i=0,n=e,s=createSizedArray(n);return{newElement:function(){return i?s[i-=1]:t()},release:function(e){i===n&&(s=pooling.double(s),n*=2),r&&r(e),s[i]=e,i+=1}}},bezierLengthPool=poolFactory(8,(function(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}})),segmentsLengthPool=poolFactory(8,(function(){return{lengths:[],totalLength:0}}),(function(e){var t,r=e.lengths.length;for(t=0;t<r;t+=1)bezierLengthPool.release(e.lengths[t]);e.lengths.length=0}));function bezFunction(){var e=Math;function t(e,t,r,i,n,s){var o=e*i+t*n+r*s-n*i-s*e-r*t;return o>-.001&&o<.001}var r=function(e,t,r,i){var n,s,o,a,l,h,c=getDefaultCurveSegments(),u=0,d=[],p=[],f=bezierLengthPool.newElement();for(o=r.length,n=0;n<c;n+=1){for(l=n/(c-1),h=0,s=0;s<o;s+=1)a=bmPow(1-l,3)*e[s]+3*bmPow(1-l,2)*l*r[s]+3*(1-l)*bmPow(l,2)*i[s]+bmPow(l,3)*t[s],d[s]=a,null!==p[s]&&(h+=bmPow(d[s]-p[s],2)),p[s]=d[s];h&&(u+=h=bmSqrt(h)),f.percents[n]=l,f.lengths[n]=u}return f.addedLength=u,f};function i(e){this.segmentLength=0,this.points=new Array(e)}function n(e,t){this.partialLength=e,this.point=t}var s=function(){var e={};return function(r,s,o,a){var l=(r[0]+"_"+r[1]+"_"+s[0]+"_"+s[1]+"_"+o[0]+"_"+o[1]+"_"+a[0]+"_"+a[1]).replace(/\./g,"p");if(!e[l]){var h,c,u,d,p,f,_,m=getDefaultCurveSegments(),g=0,y=null;2===r.length&&(r[0]!==s[0]||r[1]!==s[1])&&t(r[0],r[1],s[0],s[1],r[0]+o[0],r[1]+o[1])&&t(r[0],r[1],s[0],s[1],s[0]+a[0],s[1]+a[1])&&(m=2);var v=new i(m);for(u=o.length,h=0;h<m;h+=1){for(_=createSizedArray(u),p=h/(m-1),f=0,c=0;c<u;c+=1)d=bmPow(1-p,3)*r[c]+3*bmPow(1-p,2)*p*(r[c]+o[c])+3*(1-p)*bmPow(p,2)*(s[c]+a[c])+bmPow(p,3)*s[c],_[c]=d,null!==y&&(f+=bmPow(_[c]-y[c],2));g+=f=bmSqrt(f),v.points[h]=new n(f,_),y=_}v.segmentLength=g,e[l]=v}return e[l]}}();function o(e,t){var r=t.percents,i=t.lengths,n=r.length,s=bmFloor((n-1)*e),o=e*t.addedLength,a=0;if(s===n-1||0===s||o===i[s])return r[s];for(var l=i[s]>o?-1:1,h=!0;h;)if(i[s]<=o&&i[s+1]>o?(a=(o-i[s])/(i[s+1]-i[s]),h=!1):s+=l,s<0||s>=n-1){if(s===n-1)return r[s];h=!1}return r[s]+(r[s+1]-r[s])*a}var a=createTypedArray("float32",8);return{getSegmentsLength:function(e){var t,i=segmentsLengthPool.newElement(),n=e.c,s=e.v,o=e.o,a=e.i,l=e._length,h=i.lengths,c=0;for(t=0;t<l-1;t+=1)h[t]=r(s[t],s[t+1],o[t],a[t+1]),c+=h[t].addedLength;return n&&l&&(h[t]=r(s[t],s[0],o[t],a[0]),c+=h[t].addedLength),i.totalLength=c,i},getNewSegment:function(t,r,i,n,s,l,h){s<0?s=0:s>1&&(s=1);var c,u=o(s,h),d=o(l=l>1?1:l,h),p=t.length,f=1-u,_=1-d,m=f*f*f,g=u*f*f*3,y=u*u*f*3,v=u*u*u,E=f*f*_,T=u*f*_+f*u*_+f*f*d,b=u*u*_+f*u*d+u*f*d,S=u*u*d,x=f*_*_,A=u*_*_+f*d*_+f*_*d,P=u*d*_+f*d*d+u*_*d,R=u*d*d,O=_*_*_,w=d*_*_+_*d*_+_*_*d,I=d*d*_+_*d*d+d*_*d,C=d*d*d;for(c=0;c<p;c+=1)a[4*c]=e.round(1e3*(m*t[c]+g*i[c]+y*n[c]+v*r[c]))/1e3,a[4*c+1]=e.round(1e3*(E*t[c]+T*i[c]+b*n[c]+S*r[c]))/1e3,a[4*c+2]=e.round(1e3*(x*t[c]+A*i[c]+P*n[c]+R*r[c]))/1e3,a[4*c+3]=e.round(1e3*(O*t[c]+w*i[c]+I*n[c]+C*r[c]))/1e3;return a},getPointInSegment:function(t,r,i,n,s,a){var l=o(s,a),h=1-l;return[e.round(1e3*(h*h*h*t[0]+(l*h*h+h*l*h+h*h*l)*i[0]+(l*l*h+h*l*l+l*h*l)*n[0]+l*l*l*r[0]))/1e3,e.round(1e3*(h*h*h*t[1]+(l*h*h+h*l*h+h*h*l)*i[1]+(l*l*h+h*l*l+l*h*l)*n[1]+l*l*l*r[1]))/1e3]},buildBezierData:s,pointOnLine2D:t,pointOnLine3D:function(r,i,n,s,o,a,l,h,c){if(0===n&&0===a&&0===c)return t(r,i,s,o,l,h);var u,d=e.sqrt(e.pow(s-r,2)+e.pow(o-i,2)+e.pow(a-n,2)),p=e.sqrt(e.pow(l-r,2)+e.pow(h-i,2)+e.pow(c-n,2)),f=e.sqrt(e.pow(l-s,2)+e.pow(h-o,2)+e.pow(c-a,2));return(u=d>p?d>f?d-p-f:f-p-d:f>p?f-p-d:p-d-f)>-1e-4&&u<1e-4}}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(e,t){var r,i=this.offsetTime;"multidimensional"===this.propType&&(r=createTypedArray("float32",this.pv.length));for(var n,s,o,a=t.lastIndex,l=a,h=this.keyframes.length-1,c=!0;c;){if(n=this.keyframes[l],s=this.keyframes[l+1],l===h-1&&e>=s.t-i){n.h&&(n=s),a=0;break}if(s.t-i>e){a=l;break}l<h-1?l+=1:(a=0,c=!1)}o=this.keyframesMetadata[l]||{};var u,d,p,f,_,m,g,y=s.t-i,v=n.t-i;if(n.to){o.bezierData||(o.bezierData=bez.buildBezierData(n.s,s.s||n.e,n.to,n.ti));var E=o.bezierData;if(e>=y||e<v){var T=e>=y?E.points.length-1:0;for(d=E.points[T].point.length,u=0;u<d;u+=1)r[u]=E.points[T].point[u]}else{o.__fnct?m=o.__fnct:(m=BezierFactory.getBezierEasing(n.o.x,n.o.y,n.i.x,n.i.y,n.n).get,o.__fnct=m),p=m((e-v)/(y-v));var b,S=E.segmentLength*p,x=t.lastFrame<e&&t._lastKeyframeIndex===l?t._lastAddedLength:0;for(_=t.lastFrame<e&&t._lastKeyframeIndex===l?t._lastPoint:0,c=!0,f=E.points.length;c;){if(x+=E.points[_].partialLength,0===S||0===p||_===E.points.length-1){for(d=E.points[_].point.length,u=0;u<d;u+=1)r[u]=E.points[_].point[u];break}if(S>=x&&S<x+E.points[_+1].partialLength){for(b=(S-x)/E.points[_+1].partialLength,d=E.points[_].point.length,u=0;u<d;u+=1)r[u]=E.points[_].point[u]+(E.points[_+1].point[u]-E.points[_].point[u])*b;break}_<f-1?_+=1:c=!1}t._lastPoint=_,t._lastAddedLength=x-E.points[_].partialLength,t._lastKeyframeIndex=l}}else{var A,P,R,O,w;if(h=n.s.length,g=s.s||n.e,this.sh&&1!==n.h)e>=y?(r[0]=g[0],r[1]=g[1],r[2]=g[2]):e<=v?(r[0]=n.s[0],r[1]=n.s[1],r[2]=n.s[2]):quaternionToEuler(r,slerp(createQuaternion(n.s),createQuaternion(g),(e-v)/(y-v)));else for(l=0;l<h;l+=1)1!==n.h&&(e>=y?p=1:e<v?p=0:(n.o.x.constructor===Array?(o.__fnct||(o.__fnct=[]),o.__fnct[l]?m=o.__fnct[l]:(A=void 0===n.o.x[l]?n.o.x[0]:n.o.x[l],P=void 0===n.o.y[l]?n.o.y[0]:n.o.y[l],R=void 0===n.i.x[l]?n.i.x[0]:n.i.x[l],O=void 0===n.i.y[l]?n.i.y[0]:n.i.y[l],m=BezierFactory.getBezierEasing(A,P,R,O).get,o.__fnct[l]=m)):o.__fnct?m=o.__fnct:(A=n.o.x,P=n.o.y,R=n.i.x,O=n.i.y,m=BezierFactory.getBezierEasing(A,P,R,O).get,n.keyframeMetadata=m),p=m((e-v)/(y-v)))),g=s.s||n.e,w=1===n.h?n.s[l]:n.s[l]+(g[l]-n.s[l])*p,"multidimensional"===this.propType?r[l]=w:r=w}return t.lastIndex=a,r}function slerp(e,t,r){var i,n,s,o,a,l=[],h=e[0],c=e[1],u=e[2],d=e[3],p=t[0],f=t[1],_=t[2],m=t[3];return(n=h*p+c*f+u*_+d*m)<0&&(n=-n,p=-p,f=-f,_=-_,m=-m),1-n>1e-6?(i=Math.acos(n),s=Math.sin(i),o=Math.sin((1-r)*i)/s,a=Math.sin(r*i)/s):(o=1-r,a=r),l[0]=o*h+a*p,l[1]=o*c+a*f,l[2]=o*u+a*_,l[3]=o*d+a*m,l}function quaternionToEuler(e,t){var r=t[0],i=t[1],n=t[2],s=t[3],o=Math.atan2(2*i*s-2*r*n,1-2*i*i-2*n*n),a=Math.asin(2*r*i+2*n*s),l=Math.atan2(2*r*s-2*i*n,1-2*r*r-2*n*n);e[0]=o/degToRads,e[1]=a/degToRads,e[2]=l/degToRads}function createQuaternion(e){var t=e[0]*degToRads,r=e[1]*degToRads,i=e[2]*degToRads,n=Math.cos(t/2),s=Math.cos(r/2),o=Math.cos(i/2),a=Math.sin(t/2),l=Math.sin(r/2),h=Math.sin(i/2);return[a*l*o+n*s*h,a*s*o+n*l*h,n*l*o-a*s*h,n*s*o-a*l*h]}function getValueAtCurrentTime(){var e=this.comp.renderedFrame-this.offsetTime,t=this.keyframes[0].t-this.offsetTime,r=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(e===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=r&&e>=r||this._caching.lastFrame<t&&e<t))){this._caching.lastFrame>=e&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var i=this.interpolateValue(e,this._caching);this.pv=i}return this._caching.lastFrame=e,this.pv}function setVValue(e){var t;if("unidimensional"===this.propType)t=e*this.mult,mathAbs(this.v-t)>1e-5&&(this.v=t,this._mdf=!0);else for(var r=0,i=this.v.length;r<i;)t=e[r]*this.mult,mathAbs(this.v[r]-t)>1e-5&&(this.v[r]=t,this._mdf=!0),r+=1}function processEffectsSequence(){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length){if(this.lock)return void this.setVValue(this.pv);this.lock=!0,this._mdf=this._isFirstFrame;var e,t=this.effectsSequence.length,r=this.kf?this.pv:this.data.k;for(e=0;e<t;e+=1)r=this.effectsSequence[e](r);this.setVValue(r),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function ValueProperty(e,t,r,i){this.propType="unidimensional",this.mult=r||1,this.data=t,this.v=r?t.k*r:t.k,this.pv=t.k,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(e,t,r,i){this.propType="multidimensional",this.mult=r||1,this.data=t,this._mdf=!1,this.elem=e,this.container=i,this.comp=e.comp,this.k=!1,this.kf=!1,this.frameId=-1;var n,s=t.k.length;for(this.v=createTypedArray("float32",s),this.pv=createTypedArray("float32",s),this.vel=createTypedArray("float32",s),n=0;n<s;n+=1)this.v[n]=t.k[n]*this.mult,this.pv[n]=t.k[n];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(e,t,r,i){this.propType="unidimensional",this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=t,this.mult=r||1,this.elem=e,this.container=i,this.comp=e.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(e,t,r,i){this.propType="multidimensional";var n,s,o,a,l,h=t.k.length;for(n=0;n<h-1;n+=1)t.k[n].to&&t.k[n].s&&t.k[n+1]&&t.k[n+1].s&&(s=t.k[n].s,o=t.k[n+1].s,a=t.k[n].to,l=t.k[n].ti,(2===s.length&&!(s[0]===o[0]&&s[1]===o[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],s[0]+a[0],s[1]+a[1])&&bez.pointOnLine2D(s[0],s[1],o[0],o[1],o[0]+l[0],o[1]+l[1])||3===s.length&&!(s[0]===o[0]&&s[1]===o[1]&&s[2]===o[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],s[0]+a[0],s[1]+a[1],s[2]+a[2])&&bez.pointOnLine3D(s[0],s[1],s[2],o[0],o[1],o[2],o[0]+l[0],o[1]+l[1],o[2]+l[2]))&&(t.k[n].to=null,t.k[n].ti=null),s[0]===o[0]&&s[1]===o[1]&&0===a[0]&&0===a[1]&&0===l[0]&&0===l[1]&&(2===s.length||s[2]===o[2]&&0===a[2]&&0===l[2])&&(t.k[n].to=null,t.k[n].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=t,this.keyframes=t.k,this.keyframesMetadata=[],this.offsetTime=e.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=r||1,this.elem=e,this.container=i,this.comp=e.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var c=t.k[0].s.length;for(this.v=createTypedArray("float32",c),this.pv=createTypedArray("float32",c),n=0;n<c;n+=1)this.v[n]=initFrame,this.pv[n]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",c)},this.addEffect=addEffect}var PropertyFactory={getProp:function(e,t,r,i,n){var s;if(t.sid&&(t=e.globalData.slotManager.getProp(t)),t.k.length)if("number"==typeof t.k[0])s=new MultiDimensionalProperty(e,t,i,n);else switch(r){case 0:s=new KeyframedValueProperty(e,t,i,n);break;case 1:s=new KeyframedMultidimensionalProperty(e,t,i,n)}else s=new ValueProperty(e,t,i,n);return s.effectsSequence.length&&n.addDynamicProperty(s),s}};function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&(this.dynamicProperties.push(e),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var e,t=this.dynamicProperties.length;for(e=0;e<t;e+=1)this.dynamicProperties[e].getValue(),this.dynamicProperties[e]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(e){this.container=e,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=poolFactory(8,(function(){return createTypedArray("float32",2)}));function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(e,t){this.c=e,this.setLength(t);for(var r=0;r<t;)this.v[r]=pointPool.newElement(),this.o[r]=pointPool.newElement(),this.i[r]=pointPool.newElement(),r+=1},ShapePath.prototype.setLength=function(e){for(;this._maxLength<e;)this.doubleArrayLength();this._length=e},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(e,t,r,i,n){var s;switch(this._length=Math.max(this._length,i+1),this._length>=this._maxLength&&this.doubleArrayLength(),r){case"v":s=this.v;break;case"i":s=this.i;break;case"o":s=this.o;break;default:s=[]}(!s[i]||s[i]&&!n)&&(s[i]=pointPool.newElement()),s[i][0]=e,s[i][1]=t},ShapePath.prototype.setTripleAt=function(e,t,r,i,n,s,o,a){this.setXYAt(e,t,"v",o,a),this.setXYAt(r,i,"o",o,a),this.setXYAt(n,s,"i",o,a)},ShapePath.prototype.reverse=function(){var e=new ShapePath;e.setPathData(this.c,this._length);var t=this.v,r=this.o,i=this.i,n=0;this.c&&(e.setTripleAt(t[0][0],t[0][1],i[0][0],i[0][1],r[0][0],r[0][1],0,!1),n=1);var s,o=this._length-1,a=this._length;for(s=n;s<a;s+=1)e.setTripleAt(t[o][0],t[o][1],i[o][0],i[o][1],r[o][0],r[o][1],s,!1),o-=1;return e},ShapePath.prototype.length=function(){return this._length};var shapePool=(ie=poolFactory(4,(function(){return new ShapePath}),(function(e){var t,r=e._length;for(t=0;t<r;t+=1)pointPool.release(e.v[t]),pointPool.release(e.i[t]),pointPool.release(e.o[t]),e.v[t]=null,e.i[t]=null,e.o[t]=null;e._length=0,e.c=!1})),ie.clone=function(e){var t,r=ie.newElement(),i=void 0===e._length?e.v.length:e._length;for(r.setLength(i),r.c=e.c,t=0;t<i;t+=1)r.setTripleAt(e.v[t][0],e.v[t][1],e.o[t][0],e.o[t][1],e.i[t][0],e.i[t][1],t);return r},ie),ie;function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(e){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=e,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var e;for(e=0;e<this._length;e+=1)shapePool.release(this.shapes[e]);this._length=0};var shapeCollectionPool=function(){var e={newShapeCollection:function(){return t?i[t-=1]:new ShapeCollection},release:function(e){var n,s=e._length;for(n=0;n<s;n+=1)shapePool.release(e.shapes[n]);e._length=0,t===r&&(i=pooling.double(i),r*=2),i[t]=e,t+=1}},t=0,r=4,i=createSizedArray(r);return e}(),ShapePropertyFactory=function(){var e=-999999;function t(e,t,r){var i,n,s,o,a,l,h,c,u,d=r.lastIndex,p=this.keyframes;if(e<p[0].t-this.offsetTime)i=p[0].s[0],s=!0,d=0;else if(e>=p[p.length-1].t-this.offsetTime)i=p[p.length-1].s?p[p.length-1].s[0]:p[p.length-2].e[0],s=!0;else{for(var f,_,m,g=d,y=p.length-1,v=!0;v&&(f=p[g],!((_=p[g+1]).t-this.offsetTime>e));)g<y-1?g+=1:v=!1;if(m=this.keyframesMetadata[g]||{},d=g,!(s=1===f.h)){if(e>=_.t-this.offsetTime)c=1;else if(e<f.t-this.offsetTime)c=0;else{var E;m.__fnct?E=m.__fnct:(E=BezierFactory.getBezierEasing(f.o.x,f.o.y,f.i.x,f.i.y).get,m.__fnct=E),c=E((e-(f.t-this.offsetTime))/(_.t-this.offsetTime-(f.t-this.offsetTime)))}n=_.s?_.s[0]:f.e[0]}i=f.s[0]}for(l=t._length,h=i.i[0].length,r.lastIndex=d,o=0;o<l;o+=1)for(a=0;a<h;a+=1)u=s?i.i[o][a]:i.i[o][a]+(n.i[o][a]-i.i[o][a])*c,t.i[o][a]=u,u=s?i.o[o][a]:i.o[o][a]+(n.o[o][a]-i.o[o][a])*c,t.o[o][a]=u,u=s?i.v[o][a]:i.v[o][a]+(n.v[o][a]-i.v[o][a])*c,t.v[o][a]=u}function r(){var t=this.comp.renderedFrame-this.offsetTime,r=this.keyframes[0].t-this.offsetTime,i=this.keyframes[this.keyframes.length-1].t-this.offsetTime,n=this._caching.lastFrame;return n!==e&&(n<r&&t<r||n>i&&t>i)||(this._caching.lastIndex=n<t?this._caching.lastIndex:0,this.interpolateShape(t,this.pv,this._caching)),this._caching.lastFrame=t,this.pv}function i(){this.paths=this.localShapeCollection}function n(e){(function(e,t){if(e._length!==t._length||e.c!==t.c)return!1;var r,i=e._length;for(r=0;r<i;r+=1)if(e.v[r][0]!==t.v[r][0]||e.v[r][1]!==t.v[r][1]||e.o[r][0]!==t.o[r][0]||e.o[r][1]!==t.o[r][1]||e.i[r][0]!==t.i[r][0]||e.i[r][1]!==t.i[r][1])return!1;return!0})(this.v,e)||(this.v=shapePool.clone(e),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function s(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length)return void(this._mdf=!1);if(this.lock)return void this.setVValue(this.pv);var e;this.lock=!0,this._mdf=!1,e=this.kf?this.pv:this.data.ks?this.data.ks.k:this.data.pt.k;var t,r=this.effectsSequence.length;for(t=0;t<r;t+=1)e=this.effectsSequence[t](e);this.setVValue(e),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function o(e,t,r){this.propType="shape",this.comp=e.comp,this.container=e,this.elem=e,this.data=t,this.k=!1,this.kf=!1,this._mdf=!1;var n=3===r?t.pt.k:t.ks.k;this.v=shapePool.clone(n),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=i,this.effectsSequence=[]}function a(e){this.effectsSequence.push(e),this.container.addDynamicProperty(this)}function l(t,n,s){this.propType="shape",this.comp=t.comp,this.elem=t,this.container=t,this.offsetTime=t.data.st,this.keyframes=3===s?n.pt.k:n.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var o=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,o),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=e,this.reset=i,this._caching={lastFrame:e,lastIndex:0},this.effectsSequence=[r.bind(this)]}o.prototype.interpolateShape=t,o.prototype.getValue=s,o.prototype.setVValue=n,o.prototype.addEffect=a,l.prototype.getValue=s,l.prototype.interpolateShape=t,l.prototype.setVValue=n,l.prototype.addEffect=a;var h=function(){var e=roundCorner;function t(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=t.d,this.elem=e,this.comp=e.comp,this.frameId=-1,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return t.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var t=this.p.v[0],r=this.p.v[1],i=this.s.v[0]/2,n=this.s.v[1]/2,s=3!==this.d,o=this.v;o.v[0][0]=t,o.v[0][1]=r-n,o.v[1][0]=s?t+i:t-i,o.v[1][1]=r,o.v[2][0]=t,o.v[2][1]=r+n,o.v[3][0]=s?t-i:t+i,o.v[3][1]=r,o.i[0][0]=s?t-i*e:t+i*e,o.i[0][1]=r-n,o.i[1][0]=s?t+i:t-i,o.i[1][1]=r-n*e,o.i[2][0]=s?t+i*e:t-i*e,o.i[2][1]=r+n,o.i[3][0]=s?t-i:t+i,o.i[3][1]=r+n*e,o.o[0][0]=s?t+i*e:t-i*e,o.o[0][1]=r-n,o.o[1][0]=s?t+i:t-i,o.o[1][1]=r+n*e,o.o[2][0]=s?t-i*e:t+i*e,o.o[2][1]=r+n,o.o[3][0]=s?t-i:t+i,o.o[3][1]=r-n*e}},extendPrototype([DynamicPropertyContainer],t),t}(),c=function(){function e(e,t){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=e,this.comp=e.comp,this.data=t,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),1===t.sy?(this.ir=PropertyFactory.getProp(e,t.ir,0,0,this),this.is=PropertyFactory.getProp(e,t.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(e,t.pt,0,0,this),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,degToRads,this),this.or=PropertyFactory.getProp(e,t.or,0,0,this),this.os=PropertyFactory.getProp(e,t.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return e.prototype={reset:i,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var e,t,r,i,n=2*Math.floor(this.pt.v),s=2*Math.PI/n,o=!0,a=this.or.v,l=this.ir.v,h=this.os.v,c=this.is.v,u=2*Math.PI*a/(2*n),d=2*Math.PI*l/(2*n),p=-Math.PI/2;p+=this.r.v;var f=3===this.data.d?-1:1;for(this.v._length=0,e=0;e<n;e+=1){r=o?h:c,i=o?u:d;var _=(t=o?a:l)*Math.cos(p),m=t*Math.sin(p),g=0===_&&0===m?0:m/Math.sqrt(_*_+m*m),y=0===_&&0===m?0:-_/Math.sqrt(_*_+m*m);_+=+this.p.v[0],m+=+this.p.v[1],this.v.setTripleAt(_,m,_-g*i*r*f,m-y*i*r*f,_+g*i*r*f,m+y*i*r*f,e,!0),o=!o,p+=s*f}},convertPolygonToPath:function(){var e,t=Math.floor(this.pt.v),r=2*Math.PI/t,i=this.or.v,n=this.os.v,s=2*Math.PI*i/(4*t),o=.5*-Math.PI,a=3===this.data.d?-1:1;for(o+=this.r.v,this.v._length=0,e=0;e<t;e+=1){var l=i*Math.cos(o),h=i*Math.sin(o),c=0===l&&0===h?0:h/Math.sqrt(l*l+h*h),u=0===l&&0===h?0:-l/Math.sqrt(l*l+h*h);l+=+this.p.v[0],h+=+this.p.v[1],this.v.setTripleAt(l,h,l-c*s*n*a,h-u*s*n*a,l+c*s*n*a,h+u*s*n*a,e,!0),o+=r*a}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],e),e}(),u=function(){function e(e,t){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=e,this.comp=e.comp,this.frameId=-1,this.d=t.d,this.initDynamicPropertyContainer(e),this.p=PropertyFactory.getProp(e,t.p,1,0,this),this.s=PropertyFactory.getProp(e,t.s,1,0,this),this.r=PropertyFactory.getProp(e,t.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return e.prototype={convertRectToPath:function(){var e=this.p.v[0],t=this.p.v[1],r=this.s.v[0]/2,i=this.s.v[1]/2,n=bmMin(r,i,this.r.v),s=n*(1-roundCorner);this.v._length=0,2===this.d||1===this.d?(this.v.setTripleAt(e+r,t-i+n,e+r,t-i+n,e+r,t-i+s,0,!0),this.v.setTripleAt(e+r,t+i-n,e+r,t+i-s,e+r,t+i-n,1,!0),0!==n?(this.v.setTripleAt(e+r-n,t+i,e+r-n,t+i,e+r-s,t+i,2,!0),this.v.setTripleAt(e-r+n,t+i,e-r+s,t+i,e-r+n,t+i,3,!0),this.v.setTripleAt(e-r,t+i-n,e-r,t+i-n,e-r,t+i-s,4,!0),this.v.setTripleAt(e-r,t-i+n,e-r,t-i+s,e-r,t-i+n,5,!0),this.v.setTripleAt(e-r+n,t-i,e-r+n,t-i,e-r+s,t-i,6,!0),this.v.setTripleAt(e+r-n,t-i,e+r-s,t-i,e+r-n,t-i,7,!0)):(this.v.setTripleAt(e-r,t+i,e-r+s,t+i,e-r,t+i,2),this.v.setTripleAt(e-r,t-i,e-r,t-i+s,e-r,t-i,3))):(this.v.setTripleAt(e+r,t-i+n,e+r,t-i+s,e+r,t-i+n,0,!0),0!==n?(this.v.setTripleAt(e+r-n,t-i,e+r-n,t-i,e+r-s,t-i,1,!0),this.v.setTripleAt(e-r+n,t-i,e-r+s,t-i,e-r+n,t-i,2,!0),this.v.setTripleAt(e-r,t-i+n,e-r,t-i+n,e-r,t-i+s,3,!0),this.v.setTripleAt(e-r,t+i-n,e-r,t+i-s,e-r,t+i-n,4,!0),this.v.setTripleAt(e-r+n,t+i,e-r+n,t+i,e-r+s,t+i,5,!0),this.v.setTripleAt(e+r-n,t+i,e+r-s,t+i,e+r-n,t+i,6,!0),this.v.setTripleAt(e+r,t+i-n,e+r,t+i-n,e+r,t+i-s,7,!0)):(this.v.setTripleAt(e-r,t-i,e-r+s,t-i,e-r,t-i,1,!0),this.v.setTripleAt(e-r,t+i,e-r,t+i-s,e-r,t+i,2,!0),this.v.setTripleAt(e+r,t+i,e+r-s,t+i,e+r,t+i,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:i},extendPrototype([DynamicPropertyContainer],e),e}(),d={getShapeProp:function(e,t,r){var i;return 3===r||4===r?i=(3===r?t.pt:t.ks).k.length?new l(e,t,r):new o(e,t,r):5===r?i=new u(e,t):6===r?i=new h(e,t):7===r&&(i=new c(e,t)),i.k&&e.addDynamicProperty(i),i},getConstructorFunction:function(){return o},getKeyframedConstructorFunction:function(){return l}};return d}(),Matrix=function(){var e=Math.cos,t=Math.sin,r=Math.tan,i=Math.round;function n(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function s(r){if(0===r)return this;var i=e(r),n=t(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function o(r){if(0===r)return this;var i=e(r),n=t(r);return this._t(1,0,0,0,0,i,-n,0,0,n,i,0,0,0,0,1)}function a(r){if(0===r)return this;var i=e(r),n=t(r);return this._t(i,0,n,0,0,1,0,0,-n,0,i,0,0,0,0,1)}function l(r){if(0===r)return this;var i=e(r),n=t(r);return this._t(i,-n,0,0,n,i,0,0,0,0,1,0,0,0,0,1)}function h(e,t){return this._t(1,t,e,1,0,0)}function c(e,t){return this.shear(r(e),r(t))}function u(i,n){var s=e(n),o=t(n);return this._t(s,o,0,0,-o,s,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,r(i),1,0,0,0,0,1,0,0,0,0,1)._t(s,-o,0,0,o,s,0,0,0,0,1,0,0,0,0,1)}function d(e,t,r){return!r&&0!==r&&(r=1),1===e&&1===t&&1===r?this:this._t(e,0,0,0,0,t,0,0,0,0,r,0,0,0,0,1)}function p(e,t,r,i,n,s,o,a,l,h,c,u,d,p,f,_){return this.props[0]=e,this.props[1]=t,this.props[2]=r,this.props[3]=i,this.props[4]=n,this.props[5]=s,this.props[6]=o,this.props[7]=a,this.props[8]=l,this.props[9]=h,this.props[10]=c,this.props[11]=u,this.props[12]=d,this.props[13]=p,this.props[14]=f,this.props[15]=_,this}function f(e,t,r){return r=r||0,0!==e||0!==t||0!==r?this._t(1,0,0,0,0,1,0,0,0,0,1,0,e,t,r,1):this}function _(e,t,r,i,n,s,o,a,l,h,c,u,d,p,f,_){var m=this.props;if(1===e&&0===t&&0===r&&0===i&&0===n&&1===s&&0===o&&0===a&&0===l&&0===h&&1===c&&0===u)return m[12]=m[12]*e+m[15]*d,m[13]=m[13]*s+m[15]*p,m[14]=m[14]*c+m[15]*f,m[15]*=_,this._identityCalculated=!1,this;var g=m[0],y=m[1],v=m[2],E=m[3],T=m[4],b=m[5],S=m[6],x=m[7],A=m[8],P=m[9],R=m[10],O=m[11],w=m[12],I=m[13],C=m[14],M=m[15];return m[0]=g*e+y*n+v*l+E*d,m[1]=g*t+y*s+v*h+E*p,m[2]=g*r+y*o+v*c+E*f,m[3]=g*i+y*a+v*u+E*_,m[4]=T*e+b*n+S*l+x*d,m[5]=T*t+b*s+S*h+x*p,m[6]=T*r+b*o+S*c+x*f,m[7]=T*i+b*a+S*u+x*_,m[8]=A*e+P*n+R*l+O*d,m[9]=A*t+P*s+R*h+O*p,m[10]=A*r+P*o+R*c+O*f,m[11]=A*i+P*a+R*u+O*_,m[12]=w*e+I*n+C*l+M*d,m[13]=w*t+I*s+C*h+M*p,m[14]=w*r+I*o+C*c+M*f,m[15]=w*i+I*a+C*u+M*_,this._identityCalculated=!1,this}function m(e){var t=e.props;return this.transform(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])}function g(){return this._identityCalculated||(this._identity=!(1!==this.props[0]||0!==this.props[1]||0!==this.props[2]||0!==this.props[3]||0!==this.props[4]||1!==this.props[5]||0!==this.props[6]||0!==this.props[7]||0!==this.props[8]||0!==this.props[9]||1!==this.props[10]||0!==this.props[11]||0!==this.props[12]||0!==this.props[13]||0!==this.props[14]||1!==this.props[15]),this._identityCalculated=!0),this._identity}function y(e){for(var t=0;t<16;){if(e.props[t]!==this.props[t])return!1;t+=1}return!0}function v(e){var t;for(t=0;t<16;t+=1)e.props[t]=this.props[t];return e}function E(e){var t;for(t=0;t<16;t+=1)this.props[t]=e[t]}function T(e,t,r){return{x:e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],y:e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],z:e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}}function b(e,t,r){return e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12]}function S(e,t,r){return e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13]}function x(e,t,r){return e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]}function A(){var e=this.props[0]*this.props[5]-this.props[1]*this.props[4],t=this.props[5]/e,r=-this.props[1]/e,i=-this.props[4]/e,n=this.props[0]/e,s=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/e,o=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/e,a=new Matrix;return a.props[0]=t,a.props[1]=r,a.props[4]=i,a.props[5]=n,a.props[12]=s,a.props[13]=o,a}function P(e){return this.getInverseMatrix().applyToPointArray(e[0],e[1],e[2]||0)}function R(e){var t,r=e.length,i=[];for(t=0;t<r;t+=1)i[t]=P(e[t]);return i}function O(e,t,r){var i=createTypedArray("float32",6);if(this.isIdentity())i[0]=e[0],i[1]=e[1],i[2]=t[0],i[3]=t[1],i[4]=r[0],i[5]=r[1];else{var n=this.props[0],s=this.props[1],o=this.props[4],a=this.props[5],l=this.props[12],h=this.props[13];i[0]=e[0]*n+e[1]*o+l,i[1]=e[0]*s+e[1]*a+h,i[2]=t[0]*n+t[1]*o+l,i[3]=t[0]*s+t[1]*a+h,i[4]=r[0]*n+r[1]*o+l,i[5]=r[0]*s+r[1]*a+h}return i}function w(e,t,r){return this.isIdentity()?[e,t,r]:[e*this.props[0]+t*this.props[4]+r*this.props[8]+this.props[12],e*this.props[1]+t*this.props[5]+r*this.props[9]+this.props[13],e*this.props[2]+t*this.props[6]+r*this.props[10]+this.props[14]]}function I(e,t){if(this.isIdentity())return e+","+t;var r=this.props;return Math.round(100*(e*r[0]+t*r[4]+r[12]))/100+","+Math.round(100*(e*r[1]+t*r[5]+r[13]))/100}function C(){for(var e=0,t=this.props,r="matrix3d(";e<16;)r+=i(1e4*t[e])/1e4,r+=15===e?")":",",e+=1;return r}function M(e){return e<1e-6&&e>0||e>-1e-6&&e<0?i(1e4*e)/1e4:e}function D(){var e=this.props;return"matrix("+M(e[0])+","+M(e[1])+","+M(e[4])+","+M(e[5])+","+M(e[12])+","+M(e[13])+")"}return function(){this.reset=n,this.rotate=s,this.rotateX=o,this.rotateY=a,this.rotateZ=l,this.skew=c,this.skewFromAxis=u,this.shear=h,this.scale=d,this.setTransform=p,this.translate=f,this.transform=_,this.multiply=m,this.applyToPoint=T,this.applyToX=b,this.applyToY=S,this.applyToZ=x,this.applyToPointArray=w,this.applyToTriplePoints=O,this.applyToPointStringified=I,this.toCSS=C,this.to2dCSS=D,this.clone=v,this.cloneFromProps=E,this.equals=y,this.inversePoints=R,this.inversePoint=P,this.getInverseMatrix=A,this._t=this.transform,this.isIdentity=g,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(e){return(_typeof$3="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var lottie={};function setLocation(e){setLocationHref(e)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(e){setSubframeEnabled(e)}function setPrefix(e){setIdPrefix(e)}function loadAnimation(e){return animationManager.loadAnimation(e)}function setQuality(e){if("string"==typeof e)switch(e){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10)}else!isNaN(e)&&e>1&&setDefaultCurveSegments(e)}function inBrowser(){return"undefined"!=typeof navigator}function installPlugin(e,t){"expressions"===e&&setExpressionsPlugin(t)}function getFactory(e){switch(e){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}function checkReady(){"complete"===document.readyState&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(e){for(var t=queryString.split("&"),r=0;r<t.length;r+=1){var i=t[r].split("=");if(decodeURIComponent(i[0])==e)return decodeURIComponent(i[1])}return null}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";var queryString="",scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer");var readyStateCheckInterval=setInterval(checkReady,100);try{"object"!==_typeof$3(exports)&&(window.bodymovin=lottie)}catch(I){}var ShapeModifiers=(I={},V={},I.registerModifier=function(e,t){V[e]||(V[e]=t)},I.getModifier=function(e,t,r){return new V[e](t,r)},I),I,V;function ShapeModifier(){}function TrimModifier(){}function PuckerAndBloatModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(e){if(!this.closed){e.sh.container.addDynamicProperty(e.sh);var t={shape:e.sh,data:e,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(t),this.addShapeToModifier(t),this._isAnimated&&e.setAsAnimated()}},ShapeModifier.prototype.init=function(e,t){this.shapes=[],this.elem=e,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier),extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(e,t){this.s=PropertyFactory.getProp(e,t.s,0,.01,this),this.e=PropertyFactory.getProp(e,t.e,0,.01,this),this.o=PropertyFactory.getProp(e,t.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=t.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(e){e.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(e,t,r,i,n){var s=[];t<=1?s.push({s:e,e:t}):e>=1?s.push({s:e-1,e:t-1}):(s.push({s:e,e:1}),s.push({s:0,e:t-1}));var o,a,l=[],h=s.length;for(o=0;o<h;o+=1)if(!((a=s[o]).e*n<i||a.s*n>i+r)){var c,u;c=a.s*n<=i?0:(a.s*n-i)/r,u=a.e*n>=i+r?1:(a.e*n-i)/r,l.push([c,u])}return l.length||l.push([0,0]),l},TrimModifier.prototype.releasePathsData=function(e){var t,r=e.length;for(t=0;t<r;t+=1)segmentsLengthPool.release(e[t]);return e.length=0,e},TrimModifier.prototype.processShapes=function(e){var t,r;if(this._mdf||e){var i=this.o.v%360/360;if(i<0&&(i+=1),(t=this.s.v>1?1+i:this.s.v<0?0+i:this.s.v+i)>(r=this.e.v>1?1+i:this.e.v<0?0+i:this.e.v+i)){var n=t;t=r,r=n}t=1e-4*Math.round(1e4*t),r=1e-4*Math.round(1e4*r),this.sValue=t,this.eValue=r}else t=this.sValue,r=this.eValue;var s,o,a,l,h,c,u,d=this.shapes.length,p=0;if(r===t)for(o=0;o<d;o+=1)this.shapes[o].localShapeCollection.releaseShapes(),this.shapes[o].shape._mdf=!0,this.shapes[o].shape.paths=this.shapes[o].localShapeCollection,this._mdf&&(this.shapes[o].pathsData.length=0);else if(1===r&&0===t||0===r&&1===t){if(this._mdf)for(o=0;o<d;o+=1)this.shapes[o].pathsData.length=0,this.shapes[o].shape._mdf=!0}else{var f,_,m=[];for(o=0;o<d;o+=1)if((f=this.shapes[o]).shape._mdf||this._mdf||e||2===this.m){if(l=(s=f.shape.paths)._length,u=0,!f.shape._mdf&&f.pathsData.length)u=f.totalShapeLength;else{for(h=this.releasePathsData(f.pathsData),a=0;a<l;a+=1)c=bez.getSegmentsLength(s.shapes[a]),h.push(c),u+=c.totalLength;f.totalShapeLength=u,f.pathsData=h}p+=u,f.shape._mdf=!0}else f.shape.paths=f.localShapeCollection;var g,y=t,v=r,E=0;for(o=d-1;o>=0;o-=1)if((f=this.shapes[o]).shape._mdf){for((_=f.localShapeCollection).releaseShapes(),2===this.m&&d>1?(g=this.calculateShapeEdges(t,r,f.totalShapeLength,E,p),E+=f.totalShapeLength):g=[[y,v]],l=g.length,a=0;a<l;a+=1){y=g[a][0],v=g[a][1],m.length=0,v<=1?m.push({s:f.totalShapeLength*y,e:f.totalShapeLength*v}):y>=1?m.push({s:f.totalShapeLength*(y-1),e:f.totalShapeLength*(v-1)}):(m.push({s:f.totalShapeLength*y,e:f.totalShapeLength}),m.push({s:0,e:f.totalShapeLength*(v-1)}));var T=this.addShapes(f,m[0]);if(m[0].s!==m[0].e){if(m.length>1)if(f.shape.paths.shapes[f.shape.paths._length-1].c){var b=T.pop();this.addPaths(T,_),T=this.addShapes(f,m[1],b)}else this.addPaths(T,_),T=this.addShapes(f,m[1]);this.addPaths(T,_)}}f.shape.paths=_}}},TrimModifier.prototype.addPaths=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)t.addShape(e[r])},TrimModifier.prototype.addSegment=function(e,t,r,i,n,s,o){n.setXYAt(t[0],t[1],"o",s),n.setXYAt(r[0],r[1],"i",s+1),o&&n.setXYAt(e[0],e[1],"v",s),n.setXYAt(i[0],i[1],"v",s+1)},TrimModifier.prototype.addSegmentFromArray=function(e,t,r,i){t.setXYAt(e[1],e[5],"o",r),t.setXYAt(e[2],e[6],"i",r+1),i&&t.setXYAt(e[0],e[4],"v",r),t.setXYAt(e[3],e[7],"v",r+1)},TrimModifier.prototype.addShapes=function(e,t,r){var i,n,s,o,a,l,h,c,u=e.pathsData,d=e.shape.paths.shapes,p=e.shape.paths._length,f=0,_=[],m=!0;for(r?(a=r._length,c=r._length):(r=shapePool.newElement(),a=0,c=0),_.push(r),i=0;i<p;i+=1){for(l=u[i].lengths,r.c=d[i].c,s=d[i].c?l.length:l.length+1,n=1;n<s;n+=1)if(f+(o=l[n-1]).addedLength<t.s)f+=o.addedLength,r.c=!1;else{if(f>t.e){r.c=!1;break}t.s<=f&&t.e>=f+o.addedLength?(this.addSegment(d[i].v[n-1],d[i].o[n-1],d[i].i[n],d[i].v[n],r,a,m),m=!1):(h=bez.getNewSegment(d[i].v[n-1],d[i].v[n],d[i].o[n-1],d[i].i[n],(t.s-f)/o.addedLength,(t.e-f)/o.addedLength,l[n-1]),this.addSegmentFromArray(h,r,a,m),m=!1,r.c=!1),f+=o.addedLength,a+=1}if(d[i].c&&l.length){if(o=l[n-1],f<=t.e){var g=l[n-1].addedLength;t.s<=f&&t.e>=f+g?(this.addSegment(d[i].v[n-1],d[i].o[n-1],d[i].i[0],d[i].v[0],r,a,m),m=!1):(h=bez.getNewSegment(d[i].v[n-1],d[i].v[0],d[i].o[n-1],d[i].i[0],(t.s-f)/g,(t.e-f)/g,l[n-1]),this.addSegmentFromArray(h,r,a,m),m=!1,r.c=!1)}else r.c=!1;f+=o.addedLength,a+=1}if(r._length&&(r.setXYAt(r.v[c][0],r.v[c][1],"i",c),r.setXYAt(r.v[r._length-1][0],r.v[r._length-1][1],"o",r._length-1)),f>t.e)break;i<p-1&&(r=shapePool.newElement(),m=!0,_.push(r),a=0)}return _},extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(e,t){var r=t/100,i=[0,0],n=e._length,s=0;for(s=0;s<n;s+=1)i[0]+=e.v[s][0],i[1]+=e.v[s][1];i[0]/=n,i[1]/=n;var o,a,l,h,c,u,d=shapePool.newElement();for(d.c=e.c,s=0;s<n;s+=1)o=e.v[s][0]+(i[0]-e.v[s][0])*r,a=e.v[s][1]+(i[1]-e.v[s][1])*r,l=e.o[s][0]+(i[0]-e.o[s][0])*-r,h=e.o[s][1]+(i[1]-e.o[s][1])*-r,c=e.i[s][0]+(i[0]-e.i[s][0])*-r,u=e.i[s][1]+(i[1]-e.i[s][1])*-r,d.setTripleAt(o,a,l,h,c,u,s);return d},PuckerAndBloatModifier.prototype.processShapes=function(e){var t,r,i,n,s,o,a=this.shapes.length,l=this.amount.v;if(0!==l)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(o.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)o.addShape(this.processPath(t[i],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var e=[0,0];function t(e,t,r){if(this.elem=e,this.frameId=-1,this.propType="transform",this.data=t,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(r||e),t.p&&t.p.s?(this.px=PropertyFactory.getProp(e,t.p.x,0,0,this),this.py=PropertyFactory.getProp(e,t.p.y,0,0,this),t.p.z&&(this.pz=PropertyFactory.getProp(e,t.p.z,0,0,this))):this.p=PropertyFactory.getProp(e,t.p||{k:[0,0,0]},1,0,this),t.rx){if(this.rx=PropertyFactory.getProp(e,t.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(e,t.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(e,t.rz,0,degToRads,this),t.or.k[0].ti){var i,n=t.or.k.length;for(i=0;i<n;i+=1)t.or.k[i].to=null,t.or.k[i].ti=null}this.or=PropertyFactory.getProp(e,t.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(e,t.r||{k:0},0,degToRads,this);t.sk&&(this.sk=PropertyFactory.getProp(e,t.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(e,t.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(e,t.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(e,t.s||{k:[100,100,100]},1,.01,this),t.o?this.o=PropertyFactory.getProp(e,t.o,0,.01,e):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}return t.prototype={applyToMatrix:function(e){var t=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||t,this.a&&e.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&e.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&e.skewFromAxis(-this.sk.v,this.sa.v),this.r?e.rotate(-this.r.v):e.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?e.translate(this.px.v,this.py.v,-this.pz.v):e.translate(this.px.v,this.py.v,0):e.translate(this.p.v[0],this.p.v[1],-this.p.v[2])},getValue:function(t){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||t){var r;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var i,n;if(r=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(i=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/r,0),n=this.p.getValueAtTime(this.p.keyframes[0].t/r,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(i=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/r,0),n=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/r,0)):(i=this.p.pv,n=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/r,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){i=[],n=[];var s=this.px,o=this.py;s._caching.lastFrame+s.offsetTime<=s.keyframes[0].t?(i[0]=s.getValueAtTime((s.keyframes[0].t+.01)/r,0),i[1]=o.getValueAtTime((o.keyframes[0].t+.01)/r,0),n[0]=s.getValueAtTime(s.keyframes[0].t/r,0),n[1]=o.getValueAtTime(o.keyframes[0].t/r,0)):s._caching.lastFrame+s.offsetTime>=s.keyframes[s.keyframes.length-1].t?(i[0]=s.getValueAtTime(s.keyframes[s.keyframes.length-1].t/r,0),i[1]=o.getValueAtTime(o.keyframes[o.keyframes.length-1].t/r,0),n[0]=s.getValueAtTime((s.keyframes[s.keyframes.length-1].t-.01)/r,0),n[1]=o.getValueAtTime((o.keyframes[o.keyframes.length-1].t-.01)/r,0)):(i=[s.pv,o.pv],n[0]=s.getValueAtTime((s._caching.lastFrame+s.offsetTime-.01)/r,s.offsetTime),n[1]=o.getValueAtTime((o._caching.lastFrame+o.offsetTime-.01)/r,o.offsetTime))}else i=n=e;this.v.rotate(-Math.atan2(i[1]-n[1],i[0]-n[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}},precalculateMatrix:function(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length&&(this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1,!this.s.effectsSequence.length)){if(this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2,this.sk){if(this.sk.effectsSequence.length||this.sa.effectsSequence.length)return;this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3}this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}},autoOrient:function(){}},extendPrototype([DynamicPropertyContainer],t),t.prototype.addDynamicProperty=function(e){this._addDynamicProperty(e),this.elem.addDynamicProperty(e),this._isDirty=!0},t.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty,{getTransformProperty:function(e,r,i){return new t(e,r,i)}}}();function RepeaterModifier(){}function RoundCornersModifier(){}function floatEqual(e,t){return 1e5*Math.abs(e-t)<=Math.min(Math.abs(e),Math.abs(t))}function floatZero(e){return Math.abs(e)<=1e-5}function lerp(e,t,r){return e*(1-r)+t*r}function lerpPoint(e,t,r){return[lerp(e[0],t[0],r),lerp(e[1],t[1],r)]}function quadRoots(e,t,r){if(0===e)return[];var i=t*t-4*e*r;if(i<0)return[];var n=-t/(2*e);if(0===i)return[n];var s=Math.sqrt(i)/(2*e);return[n-s,n+s]}function polynomialCoefficients(e,t,r,i){return[3*t-e-3*r+i,3*e-6*t+3*r,-3*e+3*t,e]}function singlePoint(e){return new PolynomialBezier(e,e,e,e,!1)}function PolynomialBezier(e,t,r,i,n){n&&pointEqual(e,t)&&(t=lerpPoint(e,i,1/3)),n&&pointEqual(r,i)&&(r=lerpPoint(e,i,2/3));var s=polynomialCoefficients(e[0],t[0],r[0],i[0]),o=polynomialCoefficients(e[1],t[1],r[1],i[1]);this.a=[s[0],o[0]],this.b=[s[1],o[1]],this.c=[s[2],o[2]],this.d=[s[3],o[3]],this.points=[e,t,r,i]}function extrema(e,t){var r=e.points[0][t],i=e.points[e.points.length-1][t];if(r>i){var n=i;i=r,r=n}for(var s=quadRoots(3*e.a[t],2*e.b[t],e.c[t]),o=0;o<s.length;o+=1)if(s[o]>0&&s[o]<1){var a=e.point(s[o])[t];a<r?r=a:a>i&&(i=a)}return{min:r,max:i}}function intersectData(e,t,r){var i=e.boundingBox();return{cx:i.cx,cy:i.cy,width:i.width,height:i.height,bez:e,t:(t+r)/2,t1:t,t2:r}}function splitData(e){var t=e.bez.split(.5);return[intersectData(t[0],e.t1,e.t),intersectData(t[1],e.t,e.t2)]}function boxIntersect(e,t){return 2*Math.abs(e.cx-t.cx)<e.width+t.width&&2*Math.abs(e.cy-t.cy)<e.height+t.height}function intersectsImpl(e,t,r,i,n,s){if(boxIntersect(e,t)){if(r>=s||e.width<=i&&e.height<=i&&t.width<=i&&t.height<=i)return void n.push([e.t,t.t]);var o=splitData(e),a=splitData(t);intersectsImpl(o[0],a[0],r+1,i,n,s),intersectsImpl(o[0],a[1],r+1,i,n,s),intersectsImpl(o[1],a[0],r+1,i,n,s),intersectsImpl(o[1],a[1],r+1,i,n,s)}}function crossProduct(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function lineIntersection(e,t,r,i){var n=[e[0],e[1],1],s=[t[0],t[1],1],o=[r[0],r[1],1],a=[i[0],i[1],1],l=crossProduct(crossProduct(n,s),crossProduct(o,a));return floatZero(l[2])?null:[l[0]/l[2],l[1]/l[2]]}function polarOffset(e,t,r){return[e[0]+Math.cos(t)*r,e[1]-Math.sin(t)*r]}function pointDistance(e,t){return Math.hypot(e[0]-t[0],e[1]-t[1])}function pointEqual(e,t){return floatEqual(e[0],t[0])&&floatEqual(e[1],t[1])}function ZigZagModifier(){}function setPoint(e,t,r,i,n,s,o){var a=r-Math.PI/2,l=r+Math.PI/2,h=t[0]+Math.cos(r)*i*n,c=t[1]-Math.sin(r)*i*n;e.setTripleAt(h,c,h+Math.cos(a)*s,c-Math.sin(a)*s,h+Math.cos(l)*o,c-Math.sin(l)*o,e.length())}function getPerpendicularVector(e,t){var r=[t[0]-e[0],t[1]-e[1]],i=.5*-Math.PI;return[Math.cos(i)*r[0]-Math.sin(i)*r[1],Math.sin(i)*r[0]+Math.cos(i)*r[1]]}function getProjectingAngle(e,t){var r=0===t?e.length()-1:t-1,i=(t+1)%e.length(),n=getPerpendicularVector(e.v[r],e.v[i]);return Math.atan2(0,1)-Math.atan2(n[1],n[0])}function zigZagCorner(e,t,r,i,n,s,o){var a=getProjectingAngle(t,r),l=t.v[r%t._length],h=t.v[0===r?t._length-1:r-1],c=t.v[(r+1)%t._length],u=2===s?Math.sqrt(Math.pow(l[0]-h[0],2)+Math.pow(l[1]-h[1],2)):0,d=2===s?Math.sqrt(Math.pow(l[0]-c[0],2)+Math.pow(l[1]-c[1],2)):0;setPoint(e,t.v[r%t._length],a,o,i,d/(2*(n+1)),u/(2*(n+1)))}function zigZagSegment(e,t,r,i,n,s){for(var o=0;o<i;o+=1){var a=(o+1)/(i+1),l=2===n?Math.sqrt(Math.pow(t.points[3][0]-t.points[0][0],2)+Math.pow(t.points[3][1]-t.points[0][1],2)):0,h=t.normalAngle(a);setPoint(e,t.point(a),h,s,r,l/(2*(i+1)),l/(2*(i+1))),s=-s}return s}function linearOffset(e,t,r){var i=Math.atan2(t[0]-e[0],t[1]-e[1]);return[polarOffset(e,i,r),polarOffset(t,i,r)]}function offsetSegment(e,t){var r,i,n,s,o,a,l;r=(l=linearOffset(e.points[0],e.points[1],t))[0],i=l[1],n=(l=linearOffset(e.points[1],e.points[2],t))[0],s=l[1],o=(l=linearOffset(e.points[2],e.points[3],t))[0],a=l[1];var h=lineIntersection(r,i,n,s);null===h&&(h=i);var c=lineIntersection(o,a,n,s);return null===c&&(c=o),new PolynomialBezier(r,h,c,a)}function joinLines(e,t,r,i,n){var s=t.points[3],o=r.points[0];if(3===i||pointEqual(s,o))return s;if(2===i){var a=-t.tangentAngle(1),l=-r.tangentAngle(0)+Math.PI,h=lineIntersection(s,polarOffset(s,a+Math.PI/2,100),o,polarOffset(o,a+Math.PI/2,100)),c=h?pointDistance(h,s):pointDistance(s,o)/2,u=polarOffset(s,a,2*c*roundCorner);return e.setXYAt(u[0],u[1],"o",e.length()-1),u=polarOffset(o,l,2*c*roundCorner),e.setTripleAt(o[0],o[1],o[0],o[1],u[0],u[1],e.length()),o}var d=lineIntersection(pointEqual(s,t.points[2])?t.points[0]:t.points[2],s,o,pointEqual(o,r.points[1])?r.points[3]:r.points[1]);return d&&pointDistance(d,s)<n?(e.setTripleAt(d[0],d[1],d[0],d[1],d[0],d[1],e.length()),d):s}function getIntersection(e,t){var r=e.intersections(t);return r.length&&floatEqual(r[0][0],1)&&r.shift(),r.length?r[0]:null}function pruneSegmentIntersection(e,t){var r=e.slice(),i=t.slice(),n=getIntersection(e[e.length-1],t[0]);return n&&(r[e.length-1]=e[e.length-1].split(n[0])[0],i[0]=t[0].split(n[1])[1]),e.length>1&&t.length>1&&(n=getIntersection(e[0],t[t.length-1]))?[[e[0].split(n[0])[0]],[t[t.length-1].split(n[1])[1]]]:[r,i]}function pruneIntersections(e){for(var t,r=1;r<e.length;r+=1)t=pruneSegmentIntersection(e[r-1],e[r]),e[r-1]=t[0],e[r]=t[1];return e.length>1&&(t=pruneSegmentIntersection(e[e.length-1],e[0]),e[e.length-1]=t[0],e[0]=t[1]),e}function offsetSegmentSplit(e,t){var r,i,n,s,o=e.inflectionPoints();if(0===o.length)return[offsetSegment(e,t)];if(1===o.length||floatEqual(o[1],1))return r=(n=e.split(o[0]))[0],i=n[1],[offsetSegment(r,t),offsetSegment(i,t)];r=(n=e.split(o[0]))[0];var a=(o[1]-o[0])/(1-o[0]);return s=(n=n[1].split(a))[0],i=n[1],[offsetSegment(r,t),offsetSegment(s,t),offsetSegment(i,t)]}function OffsetPathModifier(){}function getFontProperties(e){for(var t,r=e.fStyle?e.fStyle.split(" "):[],i="normal",n="normal",s=r.length,o=0;o<s;o+=1)switch(t=r[o].toLowerCase(),t){case"italic":n="italic";break;case"bold":i="700";break;case"black":i="900";break;case"medium":i="500";break;case"regular":case"normal":i="400";break;case"light":case"thin":i="200"}return{style:n,weight:e.fWeight||i}}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(e,t.c,0,null,this),this.o=PropertyFactory.getProp(e,t.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(e,t.tr,this),this.so=PropertyFactory.getProp(e,t.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(e,t.tr.eo,0,.01,this),this.data=t,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(e,t,r,i,n,s){var o=s?-1:1,a=i.s.v[0]+(1-i.s.v[0])*(1-n),l=i.s.v[1]+(1-i.s.v[1])*(1-n);e.translate(i.p.v[0]*o*n,i.p.v[1]*o*n,i.p.v[2]),t.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),t.rotate(-i.r.v*o*n),t.translate(i.a.v[0],i.a.v[1],i.a.v[2]),r.translate(-i.a.v[0],-i.a.v[1],i.a.v[2]),r.scale(s?1/a:a,s?1/l:l),r.translate(i.a.v[0],i.a.v[1],i.a.v[2])},RepeaterModifier.prototype.init=function(e,t,r,i){for(this.elem=e,this.arr=t,this.pos=r,this.elemsData=i,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(e),this.initModifierProperties(e,t[r]);r>0;)r-=1,this._elements.unshift(t[r]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t]._processed=!1,"gr"===e[t].ty&&this.resetElements(e[t].it)},RepeaterModifier.prototype.cloneElements=function(e){var t=JSON.parse(JSON.stringify(e));return this.resetElements(t),t},RepeaterModifier.prototype.changeGroupRender=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)e[r]._render=t,"gr"===e[r].ty&&this.changeGroupRender(e[r].it,t)},RepeaterModifier.prototype.processShapes=function(e){var t,r,i,n,s,o=!1;if(this._mdf||e){var a,l=Math.ceil(this.c.v);if(this._groups.length<l){for(;this._groups.length<l;){var h={it:this.cloneElements(this._elements),ty:"gr"};h.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,h),this._groups.splice(0,0,h),this._currentCopies+=1}this.elem.reloadShapes(),o=!0}for(s=0,i=0;i<=this._groups.length-1;i+=1){if(a=s<l,this._groups[i]._render=a,this.changeGroupRender(this._groups[i].it,a),!a){var c=this.elemsData[i].it,u=c[c.length-1];0!==u.transform.op.v?(u.transform.op._mdf=!0,u.transform.op.v=0):u.transform.op._mdf=!1}s+=1}this._currentCopies=l;var d=this.o.v,p=d%1,f=d>0?Math.floor(d):Math.ceil(d),_=this.pMatrix.props,m=this.rMatrix.props,g=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var y,v,E=0;if(d>0){for(;E<f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),E+=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,p,!1),E+=p)}else if(d<0){for(;E>f;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),E-=1;p&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-p,!0),E-=p)}for(i=1===this.data.m?0:this._currentCopies-1,n=1===this.data.m?1:-1,s=this._currentCopies;s;){if(v=(r=(t=this.elemsData[i].it)[t.length-1].transform.mProps.v.props).length,t[t.length-1].transform.mProps._mdf=!0,t[t.length-1].transform.op._mdf=!0,t[t.length-1].transform.op.v=1===this._currentCopies?this.so.v:this.so.v+(this.eo.v-this.so.v)*(i/(this._currentCopies-1)),0!==E){for((0!==i&&1===n||i!==this._currentCopies-1&&-1===n)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(m[0],m[1],m[2],m[3],m[4],m[5],m[6],m[7],m[8],m[9],m[10],m[11],m[12],m[13],m[14],m[15]),this.matrix.transform(g[0],g[1],g[2],g[3],g[4],g[5],g[6],g[7],g[8],g[9],g[10],g[11],g[12],g[13],g[14],g[15]),this.matrix.transform(_[0],_[1],_[2],_[3],_[4],_[5],_[6],_[7],_[8],_[9],_[10],_[11],_[12],_[13],_[14],_[15]),y=0;y<v;y+=1)r[y]=this.matrix.props[y];this.matrix.reset()}else for(this.matrix.reset(),y=0;y<v;y+=1)r[y]=this.matrix.props[y];E+=1,s-=1,i+=n}}else for(s=this._currentCopies,i=0,n=1;s;)r=(t=this.elemsData[i].it)[t.length-1].transform.mProps.v.props,t[t.length-1].transform.mProps._mdf=!1,t[t.length-1].transform.op._mdf=!1,s-=1,i+=n;return o},RepeaterModifier.prototype.addShape=function(){},extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(e,t.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(e,t){var r=shapePool.newElement();r.c=e.c;var i,n,s,o,a,l,h,c,u,d,p,f,_,m=e._length,g=0;for(i=0;i<m;i+=1)n=e.v[i],o=e.o[i],s=e.i[i],n[0]===o[0]&&n[1]===o[1]&&n[0]===s[0]&&n[1]===s[1]?0!==i&&i!==m-1||e.c?(a=0===i?e.v[m-1]:e.v[i-1],h=(l=Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)))?Math.min(l/2,t)/l:0,c=f=n[0]+(a[0]-n[0])*h,u=_=n[1]-(n[1]-a[1])*h,d=c-(c-n[0])*roundCorner,p=u-(u-n[1])*roundCorner,r.setTripleAt(c,u,d,p,f,_,g),g+=1,a=i===m-1?e.v[0]:e.v[i+1],h=(l=Math.sqrt(Math.pow(n[0]-a[0],2)+Math.pow(n[1]-a[1],2)))?Math.min(l/2,t)/l:0,c=d=n[0]+(a[0]-n[0])*h,u=p=n[1]+(a[1]-n[1])*h,f=c-(c-n[0])*roundCorner,_=u-(u-n[1])*roundCorner,r.setTripleAt(c,u,d,p,f,_,g),g+=1):(r.setTripleAt(n[0],n[1],o[0],o[1],s[0],s[1],g),g+=1):(r.setTripleAt(e.v[i][0],e.v[i][1],e.o[i][0],e.o[i][1],e.i[i][0],e.i[i][1],g),g+=1);return r},RoundCornersModifier.prototype.processShapes=function(e){var t,r,i,n,s,o,a=this.shapes.length,l=this.rd.v;if(0!==l)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(o.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)o.addShape(this.processPath(t[i],l));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},PolynomialBezier.prototype.point=function(e){return[((this.a[0]*e+this.b[0])*e+this.c[0])*e+this.d[0],((this.a[1]*e+this.b[1])*e+this.c[1])*e+this.d[1]]},PolynomialBezier.prototype.derivative=function(e){return[(3*e*this.a[0]+2*this.b[0])*e+this.c[0],(3*e*this.a[1]+2*this.b[1])*e+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(e){var t=this.derivative(e);return Math.atan2(t[1],t[0])},PolynomialBezier.prototype.normalAngle=function(e){var t=this.derivative(e);return Math.atan2(t[0],t[1])},PolynomialBezier.prototype.inflectionPoints=function(){var e=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(e))return[];var t=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/e,r=t*t-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/e;if(r<0)return[];var i=Math.sqrt(r);return floatZero(i)?i>0&&i<1?[t]:[]:[t-i,t+i].filter((function(e){return e>0&&e<1}))},PolynomialBezier.prototype.split=function(e){if(e<=0)return[singlePoint(this.points[0]),this];if(e>=1)return[this,singlePoint(this.points[this.points.length-1])];var t=lerpPoint(this.points[0],this.points[1],e),r=lerpPoint(this.points[1],this.points[2],e),i=lerpPoint(this.points[2],this.points[3],e),n=lerpPoint(t,r,e),s=lerpPoint(r,i,e),o=lerpPoint(n,s,e);return[new PolynomialBezier(this.points[0],t,n,o,!0),new PolynomialBezier(o,s,i,this.points[3],!0)]},PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var e=this.bounds();return{left:e.x.min,right:e.x.max,top:e.y.min,bottom:e.y.max,width:e.x.max-e.x.min,height:e.y.max-e.y.min,cx:(e.x.max+e.x.min)/2,cy:(e.y.max+e.y.min)/2}},PolynomialBezier.prototype.intersections=function(e,t,r){void 0===t&&(t=2),void 0===r&&(r=7);var i=[];return intersectsImpl(intersectData(this,0,1),intersectData(e,0,1),0,t,i,r),i},PolynomialBezier.shapeSegment=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[t],e.o[t],e.i[r],e.v[r],!0)},PolynomialBezier.shapeSegmentInverted=function(e,t){var r=(t+1)%e.length();return new PolynomialBezier(e.v[r],e.i[r],e.o[t],e.v[t],!0)},extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(e,t.s,0,null,this),this.frequency=PropertyFactory.getProp(e,t.r,0,null,this),this.pointsType=PropertyFactory.getProp(e,t.pt,0,null,this),this._isAnimated=0!==this.amplitude.effectsSequence.length||0!==this.frequency.effectsSequence.length||0!==this.pointsType.effectsSequence.length},ZigZagModifier.prototype.processPath=function(e,t,r,i){var n=e._length,s=shapePool.newElement();if(s.c=e.c,e.c||(n-=1),0===n)return s;var o=-1,a=PolynomialBezier.shapeSegment(e,0);zigZagCorner(s,e,0,t,r,i,o);for(var l=0;l<n;l+=1)o=zigZagSegment(s,a,t,r,i,-o),a=l!==n-1||e.c?PolynomialBezier.shapeSegment(e,(l+1)%n):null,zigZagCorner(s,e,l+1,t,r,i,o);return s},ZigZagModifier.prototype.processShapes=function(e){var t,r,i,n,s,o,a=this.shapes.length,l=this.amplitude.v,h=Math.max(0,Math.round(this.frequency.v)),c=this.pointsType.v;if(0!==l)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(o.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)o.addShape(this.processPath(t[i],l,h,c));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)},extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(e,t){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(e,t.a,0,null,this),this.miterLimit=PropertyFactory.getProp(e,t.ml,0,null,this),this.lineJoin=t.lj,this._isAnimated=0!==this.amount.effectsSequence.length},OffsetPathModifier.prototype.processPath=function(e,t,r,i){var n=shapePool.newElement();n.c=e.c;var s=e.length();e.c||(s-=1);var o,a,l,h=[];for(o=0;o<s;o+=1)l=PolynomialBezier.shapeSegment(e,o),h.push(offsetSegmentSplit(l,t));if(!e.c)for(o=s-1;o>=0;o-=1)l=PolynomialBezier.shapeSegmentInverted(e,o),h.push(offsetSegmentSplit(l,t));h=pruneIntersections(h);var c=null,u=null;for(o=0;o<h.length;o+=1){var d=h[o];for(u&&(c=joinLines(n,u,d[0],r,i)),u=d[d.length-1],a=0;a<d.length;a+=1)l=d[a],c&&pointEqual(l.points[0],c)?n.setXYAt(l.points[1][0],l.points[1][1],"o",n.length()-1):n.setTripleAt(l.points[0][0],l.points[0][1],l.points[1][0],l.points[1][1],l.points[0][0],l.points[0][1],n.length()),n.setTripleAt(l.points[3][0],l.points[3][1],l.points[3][0],l.points[3][1],l.points[2][0],l.points[2][1],n.length()),c=l.points[3]}return h.length&&joinLines(n,u,h[0][0],r,i),n},OffsetPathModifier.prototype.processShapes=function(e){var t,r,i,n,s,o,a=this.shapes.length,l=this.amount.v,h=this.miterLimit.v,c=this.lineJoin;if(0!==l)for(r=0;r<a;r+=1){if(o=(s=this.shapes[r]).localShapeCollection,s.shape._mdf||this._mdf||e)for(o.releaseShapes(),s.shape._mdf=!0,t=s.shape.paths.shapes,n=s.shape.paths._length,i=0;i<n;i+=1)o.addShape(this.processPath(t[i],l,c,h));s.shape.paths=s.localShapeCollection}this.dynamicProperties.length||(this._mdf=!1)};var FontManager=function(){var e={w:0,size:0,shapes:[],data:{shapes:[]}},t=[];t=t.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var r=127988,i=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function n(e,t){var r=createTag("span");r.setAttribute("aria-hidden",!0),r.style.fontFamily=t;var i=createTag("span");i.innerText="giItT1WQy@!-/#",r.style.position="absolute",r.style.left="-10000px",r.style.top="-10000px",r.style.fontSize="300px",r.style.fontVariant="normal",r.style.fontStyle="normal",r.style.fontWeight="normal",r.style.letterSpacing="0",r.appendChild(i),document.body.appendChild(r);var n=i.offsetWidth;return i.style.fontFamily=function(e){var t,r=e.split(","),i=r.length,n=[];for(t=0;t<i;t+=1)"sans-serif"!==r[t]&&"monospace"!==r[t]&&n.push(r[t]);return n.join(",")}(e)+", "+t,{node:i,w:n,parent:r}}function s(e,t){var r,i=document.body&&t?"svg":"canvas",n=getFontProperties(e);if("svg"===i){var s=createNS("text");s.style.fontSize="100px",s.setAttribute("font-family",e.fFamily),s.setAttribute("font-style",n.style),s.setAttribute("font-weight",n.weight),s.textContent="1",e.fClass?(s.style.fontFamily="inherit",s.setAttribute("class",e.fClass)):s.style.fontFamily=e.fFamily,t.appendChild(s),r=s}else{var o=new OffscreenCanvas(500,500).getContext("2d");o.font=n.style+" "+n.weight+" 100px "+e.fFamily,r=o}return{measureText:function(e){return"svg"===i?(r.textContent=e,r.getComputedTextLength()):r.measureText(e).width}}}function o(e){var t=0,r=e.charCodeAt(0);if(r>=55296&&r<=56319){var i=e.charCodeAt(1);i>=56320&&i<=57343&&(t=1024*(r-55296)+i-56320+65536)}return t}function a(e){var t=o(e);return t>=127462&&t<=127487}var l=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};return l.isModifier=function(e,t){var r=e.toString(16)+t.toString(16);return-1!==i.indexOf(r)},l.isZeroWidthJoiner=function(e){return 8205===e},l.isFlagEmoji=function(e){return a(e.substr(0,2))&&a(e.substr(2,2))},l.isRegionalCode=a,l.isCombinedCharacter=function(e){return-1!==t.indexOf(e)},l.isRegionalFlag=function(e,t){var i=o(e.substr(t,2));if(i!==r)return!1;var n=0;for(t+=2;n<5;){if((i=o(e.substr(t,2)))<917601||i>917626)return!1;n+=1,t+=2}return 917631===o(e.substr(t,2))},l.isVariationSelector=function(e){return 65039===e},l.BLACK_FLAG_CODE_POINT=r,l.prototype={addChars:function(e){if(e){this.chars||(this.chars=[]);var t,r,i,n=e.length,s=this.chars.length;for(t=0;t<n;t+=1){for(r=0,i=!1;r<s;)this.chars[r].style===e[t].style&&this.chars[r].fFamily===e[t].fFamily&&this.chars[r].ch===e[t].ch&&(i=!0),r+=1;i||(this.chars.push(e[t]),s+=1)}}},addFonts:function(e,t){if(e){if(this.chars)return this.isLoaded=!0,void(this.fonts=e.list);if(!document.body)return this.isLoaded=!0,e.list.forEach((function(e){e.helper=s(e),e.cache={}})),void(this.fonts=e.list);var r,i=e.list,o=i.length,a=o;for(r=0;r<o;r+=1){var l,h,c=!0;if(i[r].loaded=!1,i[r].monoCase=n(i[r].fFamily,"monospace"),i[r].sansCase=n(i[r].fFamily,"sans-serif"),i[r].fPath){if("p"===i[r].fOrigin||3===i[r].origin){if((l=document.querySelectorAll('style[f-forigin="p"][f-family="'+i[r].fFamily+'"], style[f-origin="3"][f-family="'+i[r].fFamily+'"]')).length>0&&(c=!1),c){var u=createTag("style");u.setAttribute("f-forigin",i[r].fOrigin),u.setAttribute("f-origin",i[r].origin),u.setAttribute("f-family",i[r].fFamily),u.type="text/css",u.innerText="@font-face {font-family: "+i[r].fFamily+"; font-style: normal; src: url('"+i[r].fPath+"');}",t.appendChild(u)}}else if("g"===i[r].fOrigin||1===i[r].origin){for(l=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),h=0;h<l.length;h+=1)-1!==l[h].href.indexOf(i[r].fPath)&&(c=!1);if(c){var d=createTag("link");d.setAttribute("f-forigin",i[r].fOrigin),d.setAttribute("f-origin",i[r].origin),d.type="text/css",d.rel="stylesheet",d.href=i[r].fPath,document.body.appendChild(d)}}else if("t"===i[r].fOrigin||2===i[r].origin){for(l=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),h=0;h<l.length;h+=1)i[r].fPath===l[h].src&&(c=!1);if(c){var p=createTag("link");p.setAttribute("f-forigin",i[r].fOrigin),p.setAttribute("f-origin",i[r].origin),p.setAttribute("rel","stylesheet"),p.setAttribute("href",i[r].fPath),t.appendChild(p)}}}else i[r].loaded=!0,a-=1;i[r].helper=s(i[r],t),i[r].cache={},this.fonts.push(i[r])}0===a?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}else this.isLoaded=!0},getCharData:function(t,r,i){for(var n=0,s=this.chars.length;n<s;){if(this.chars[n].ch===t&&this.chars[n].style===r&&this.chars[n].fFamily===i)return this.chars[n];n+=1}return("string"==typeof t&&13!==t.charCodeAt(0)||!t)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",t,r,i)),e},getFontByName:function(e){for(var t=0,r=this.fonts.length;t<r;){if(this.fonts[t].fName===e)return this.fonts[t];t+=1}return this.fonts[0]},measureText:function(e,t,r){var i=this.getFontByName(t),n=e;if(!i.cache[n]){var s=i.helper;if(" "===e){var o=s.measureText("|"+e+"|"),a=s.measureText("||");i.cache[n]=(o-a)/100}else i.cache[n]=s.measureText(e)/100}return i.cache[n]*r},checkLoadedFonts:function(){var e,t,r,i=this.fonts.length,n=i;for(e=0;e<i;e+=1)this.fonts[e].loaded?n-=1:"n"===this.fonts[e].fOrigin||0===this.fonts[e].origin?this.fonts[e].loaded=!0:(t=this.fonts[e].monoCase.node,r=this.fonts[e].monoCase.w,t.offsetWidth!==r?(n-=1,this.fonts[e].loaded=!0):(t=this.fonts[e].sansCase.node,r=this.fonts[e].sansCase.w,t.offsetWidth!==r&&(n-=1,this.fonts[e].loaded=!0)),this.fonts[e].loaded&&(this.fonts[e].sansCase.parent.parentNode.removeChild(this.fonts[e].sansCase.parent),this.fonts[e].monoCase.parent.parentNode.removeChild(this.fonts[e].monoCase.parent)));0!==n&&Date.now()-this.initTime<5e3?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)},setIsLoaded:function(){this.isLoaded=!0}},l}();function SlotManager(e){this.animationData=e}function slotFactory(e){return new SlotManager(e)}function RenderableElement(){}SlotManager.prototype.getProp=function(e){return this.animationData.slots&&this.animationData.slots[e.sid]?Object.assign(e,this.animationData.slots[e.sid].p):e},RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(e){-1===this.renderableComponents.indexOf(e)&&this.renderableComponents.push(e)},removeRenderableComponent:function(e){-1!==this.renderableComponents.indexOf(e)&&this.renderableComponents.splice(this.renderableComponents.indexOf(e),1)},prepareRenderableFrame:function(e){this.checkLayerLimits(e)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(e){this.data.ip-this.data.st<=e&&this.data.op-this.data.st>e?!0!==this.isInRange&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):!1!==this.isInRange&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var e,t=this.renderableComponents.length;for(e=0;e<t;e+=1)this.renderableComponents[e].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return 5===this.data.ty?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var e={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(t){return e[t]||""}}();function SliderEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function AngleEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function ColorEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function PointEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,1,0,r)}function LayerIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function MaskIndexEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function CheckboxEffect(e,t,r){this.p=PropertyFactory.getProp(t,e.v,0,0,r)}function NoValueEffect(){this.p={}}function EffectsManager(e,t){var r=e.ef||[];this.effectElements=[];var i,n,s=r.length;for(i=0;i<s;i+=1)n=new GroupEffect(r[i],t),this.effectElements.push(n)}function GroupEffect(e,t){this.init(e,t)}function BaseElement(){}function FrameElement(){}function FootageElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.footageData=t.imageLoader.getAsset(this.assetData),this.initBaseData(e,t,r)}function AudioElement(e,t,r){this.initFrame(),this.initRenderable(),this.assetData=t.getAssetData(e.refId),this.initBaseData(e,t,r),this._isPlaying=!1,this._canPlay=!1;var i=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(i),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,e.au&&e.au.lv?e.au.lv:{k:[100]},1,.01,this)}function BaseRenderer(){}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(e,t){this.data=e,this.effectElements=[],this.initDynamicPropertyContainer(t);var r,i,n=this.data.ef.length,s=this.data.ef;for(r=0;r<n;r+=1){switch(i=null,s[r].ty){case 0:i=new SliderEffect(s[r],t,this);break;case 1:i=new AngleEffect(s[r],t,this);break;case 2:i=new ColorEffect(s[r],t,this);break;case 3:i=new PointEffect(s[r],t,this);break;case 4:case 7:i=new CheckboxEffect(s[r],t,this);break;case 10:i=new LayerIndexEffect(s[r],t,this);break;case 11:i=new MaskIndexEffect(s[r],t,this);break;case 5:i=new EffectsManager(s[r],t);break;default:i=new NoValueEffect(s[r])}i&&this.effectElements.push(i)}},BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var e=0,t=this.data.masksProperties.length;e<t;){if("n"!==this.data.masksProperties[e].mode&&!1!==this.data.masksProperties[e].cl)return!0;e+=1}return!1},initExpressions:function(){var e=getExpressionInterfaces();if(e){var t=e("layer"),r=e("effects"),i=e("shape"),n=e("text"),s=e("comp");this.layerInterface=t(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var o=r.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(o),0===this.data.ty||this.data.xt?this.compInterface=s(this):4===this.data.ty?(this.layerInterface.shapeInterface=i(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):5===this.data.ty&&(this.layerInterface.textInterface=n(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var e=getBlendMode(this.data.bm);(this.baseElement||this.layerElement).style["mix-blend-mode"]=e},initBaseData:function(e,t,r){this.globalData=t,this.comp=r,this.data=e,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}},FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(e,t){var r,i=this.dynamicProperties.length;for(r=0;r<i;r+=1)(t||this._isParent&&"transform"===this.dynamicProperties[r].propType)&&(this.dynamicProperties[r].getValue(),this.dynamicProperties[r]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(e){-1===this.dynamicProperties.indexOf(e)&&this.dynamicProperties.push(e)}},FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var e=getExpressionInterfaces();if(e){var t=e("footage");this.layerInterface=t(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData},AudioElement.prototype.prepareFrame=function(e){if(this.prepareRenderableFrame(e,!0),this.prepareProperties(e,!0),this.tm._placeholder)this._currentTime=e/this.data.sr;else{var t=this.tm.v;this._currentTime=t}this._volume=this.lv.v[0];var r=this._volume*this._volumeMultiplier;this._previousVolume!==r&&(this._previousVolume=r,this.audio.volume(r))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(e){this.audio.rate(e)},AudioElement.prototype.volume=function(e){this._volumeMultiplier=e,this._previousVolume=e*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){},BaseRenderer.prototype.checkLayers=function(e){var t,r,i=this.layers.length;for(this.completeLayers=!0,t=i-1;t>=0;t-=1)this.elements[t]||(r=this.layers[t]).ip-r.st<=e-this.layers[t].st&&r.op-r.st>e-this.layers[t].st&&this.buildItem(t),this.completeLayers=!!this.elements[t]&&this.completeLayers;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(e){switch(e.ty){case 2:return this.createImage(e);case 0:return this.createComp(e);case 1:return this.createSolid(e);case 3:default:return this.createNull(e);case 4:return this.createShape(e);case 5:return this.createText(e);case 6:return this.createAudio(e);case 13:return this.createCamera(e);case 15:return this.createFootage(e)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(e){return new AudioElement(e,this.globalData,this)},BaseRenderer.prototype.createFootage=function(e){return new FootageElement(e,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.buildItem(e);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(e){this.completeLayers=!1;var t,r,i=e.length,n=this.layers.length;for(t=0;t<i;t+=1)for(r=0;r<n;){if(this.layers[r].id===e[t].id){this.layers[r]=e[t];break}r+=1}},BaseRenderer.prototype.setProjectInterface=function(e){this.globalData.projectInterface=e},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(e,t,r){for(var i=this.elements,n=this.layers,s=0,o=n.length;s<o;)n[s].ind==t&&(i[s]&&!0!==i[s]?(r.push(i[s]),i[s].setAsParent(),void 0!==n[s].parent?this.buildElementParenting(e,n[s].parent,r):e.setHierarchy(r)):(this.buildItem(s),this.addPendingElement(e))),s+=1},BaseRenderer.prototype.addPendingElement=function(e){this.pendingElements.push(e)},BaseRenderer.prototype.searchExtraCompositions=function(e){var t,r=e.length;for(t=0;t<r;t+=1)if(e[t].xt){var i=this.createComp(e[t]);i.initExpressions(),this.globalData.projectInterface.registerComposition(i)}},BaseRenderer.prototype.getElementById=function(e){var t,r=this.elements.length;for(t=0;t<r;t+=1)if(this.elements[t].data.ind===e)return this.elements[t];return null},BaseRenderer.prototype.getElementByPath=function(e){var t,r=e.shift();if("number"==typeof r)t=this.elements[r];else{var i,n=this.elements.length;for(i=0;i<n;i+=1)if(this.elements[i].data.nm===r){t=this.elements[i];break}}return 0===e.length?t:t.getElementByPath(e)},BaseRenderer.prototype.setupGlobalData=function(e,t){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(e),this.globalData.fontManager.addChars(e.chars),this.globalData.fontManager.addFonts(e.fonts,t),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=e.fr,this.globalData.nm=e.nm,this.globalData.compSize={w:e.w,h:e.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}function MaskElement(e,t,r){this.data=e,this.element=t,this.globalData=r,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var i,n=this.globalData.defs,s=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(s),this.solidPath="";var o,a,l,h,c,u,d,p=this.masksProperties,f=0,_=[],m=createElementID(),g="clipPath",y="clip-path";for(i=0;i<s;i+=1)if(("a"!==p[i].mode&&"n"!==p[i].mode||p[i].inv||100!==p[i].o.k||p[i].o.x)&&(g="mask",y="mask"),"s"!==p[i].mode&&"i"!==p[i].mode||0!==f?h=null:((h=createNS("rect")).setAttribute("fill","#ffffff"),h.setAttribute("width",this.element.comp.data.w||0),h.setAttribute("height",this.element.comp.data.h||0),_.push(h)),o=createNS("path"),"n"===p[i].mode)this.viewData[i]={op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),elem:o,lastPath:""},n.appendChild(o);else{var v;if(f+=1,o.setAttribute("fill","s"===p[i].mode?"#000000":"#ffffff"),o.setAttribute("clip-rule","nonzero"),0!==p[i].x.k?(g="mask",y="mask",d=PropertyFactory.getProp(this.element,p[i].x,0,null,this.element),v=createElementID(),(c=createNS("filter")).setAttribute("id",v),(u=createNS("feMorphology")).setAttribute("operator","erode"),u.setAttribute("in","SourceGraphic"),u.setAttribute("radius","0"),c.appendChild(u),n.appendChild(c),o.setAttribute("stroke","s"===p[i].mode?"#000000":"#ffffff")):(u=null,d=null),this.storedData[i]={elem:o,x:d,expan:u,lastPath:"",lastOperator:"",filterId:v,lastRadius:0},"i"===p[i].mode){l=_.length;var E=createNS("g");for(a=0;a<l;a+=1)E.appendChild(_[a]);var T=createNS("mask");T.setAttribute("mask-type","alpha"),T.setAttribute("id",m+"_"+f),T.appendChild(o),n.appendChild(T),E.setAttribute("mask","url("+getLocationHref()+"#"+m+"_"+f+")"),_.length=0,_.push(E)}else _.push(o);p[i].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[i]={elem:o,lastPath:"",op:PropertyFactory.getProp(this.element,p[i].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,p[i],3),invRect:h},this.viewData[i].prop.k||this.drawPath(p[i],this.viewData[i].prop.v,this.viewData[i])}for(this.maskElement=createNS(g),s=_.length,i=0;i<s;i+=1)this.maskElement.appendChild(_[i]);f>0&&(this.maskElement.setAttribute("id",m),this.element.maskedElement.setAttribute(y,"url("+getLocationHref()+"#"+m+")"),n.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}TransformElement.prototype={initTransform:function(){var e=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:e,localMat:e,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var e,t=this.finalTransform.mat,r=0,i=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;r<i;){if(this.hierarchy[r].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}r+=1}if(this.finalTransform._matMdf)for(e=this.finalTransform.mProp.v.props,t.cloneFromProps(e),r=0;r<i;r+=1)t.multiply(this.hierarchy[r].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var e=0,t=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;e<t;)this.localTransforms[e]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[e]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),e+=1;if(this.finalTransform._localMatMdf){var r=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(r),e=1;e<t;e+=1){var i=this.localTransforms[e].matrix;r.multiply(i)}r.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var n=this.finalTransform.localOpacity;for(e=0;e<t;e+=1)n*=.01*this.localTransforms[e].opacity;this.finalTransform.localOpacity=n}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var e=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(e.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var t=0,r=e.length;for(t=0;t<r;t+=1)this.localTransforms.push(e[t])}}},globalToLocal:function(e){var t=[];t.push(this.finalTransform);for(var r=!0,i=this.comp;r;)i.finalTransform?(i.data.hasMask&&t.splice(0,0,i.finalTransform),i=i.comp):r=!1;var n,s,o=t.length;for(n=0;n<o;n+=1)s=t[n].mat.applyToPointArray(0,0,0),e=[e[0]-s[0],e[1]-s[1],0];return e},mHelper:new Matrix},MaskElement.prototype.getMaskProperty=function(e){return this.viewData[e].prop},MaskElement.prototype.renderFrame=function(e){var t,r=this.element.finalTransform.mat,i=this.masksProperties.length;for(t=0;t<i;t+=1)if((this.viewData[t].prop._mdf||e)&&this.drawPath(this.masksProperties[t],this.viewData[t].prop.v,this.viewData[t]),(this.viewData[t].op._mdf||e)&&this.viewData[t].elem.setAttribute("fill-opacity",this.viewData[t].op.v),"n"!==this.masksProperties[t].mode&&(this.viewData[t].invRect&&(this.element.finalTransform.mProp._mdf||e)&&this.viewData[t].invRect.setAttribute("transform",r.getInverseMatrix().to2dCSS()),this.storedData[t].x&&(this.storedData[t].x._mdf||e))){var n=this.storedData[t].expan;this.storedData[t].x.v<0?("erode"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="erode",this.storedData[t].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[t].filterId+")")),n.setAttribute("radius",-this.storedData[t].x.v)):("dilate"!==this.storedData[t].lastOperator&&(this.storedData[t].lastOperator="dilate",this.storedData[t].elem.setAttribute("filter",null)),this.storedData[t].elem.setAttribute("stroke-width",2*this.storedData[t].x.v))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var e="M0,0 ";return e+=" h"+this.globalData.compSize.w,e+=" v"+this.globalData.compSize.h,(e+=" h-"+this.globalData.compSize.w)+" v-"+this.globalData.compSize.h+" "},MaskElement.prototype.drawPath=function(e,t,r){var i,n,s=" M"+t.v[0][0]+","+t.v[0][1];for(n=t._length,i=1;i<n;i+=1)s+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[i][0]+","+t.i[i][1]+" "+t.v[i][0]+","+t.v[i][1];if(t.c&&n>1&&(s+=" C"+t.o[i-1][0]+","+t.o[i-1][1]+" "+t.i[0][0]+","+t.i[0][1]+" "+t.v[0][0]+","+t.v[0][1]),r.lastPath!==s){var o="";r.elem&&(t.c&&(o=e.inv?this.solidPath+s:s),r.elem.setAttribute("d",o)),r.lastPath=s}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var e={createFilter:function(e,t){var r=createNS("filter");return r.setAttribute("id",e),!0!==t&&(r.setAttribute("filterUnits","objectBoundingBox"),r.setAttribute("x","0%"),r.setAttribute("y","0%"),r.setAttribute("width","100%"),r.setAttribute("height","100%")),r},createAlphaToLuminanceFilter:function(){var e=createNS("feColorMatrix");return e.setAttribute("type","matrix"),e.setAttribute("color-interpolation-filters","sRGB"),e.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),e}};return e}(),featureSupport=function(){var e={maskType:!0,svgLumaHidden:!0,offscreenCanvas:"undefined"!=typeof OffscreenCanvas};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(e.maskType=!1),/firefox/i.test(navigator.userAgent)&&(e.svgLumaHidden=!1),e}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(e){var t,r,i="SourceGraphic",n=e.data.ef?e.data.ef.length:0,s=createElementID(),o=filtersFactory.createFilter(s,!0),a=0;for(this.filters=[],t=0;t<n;t+=1){r=null;var l=e.data.ef[t].ty;registeredEffects$1[l]&&(r=new(0,registeredEffects$1[l].effect)(o,e.effectsManager.effectElements[t],e,idPrefix+a,i),i=idPrefix+a,registeredEffects$1[l].countsAsEffect&&(a+=1)),r&&this.filters.push(r)}a&&(e.globalData.defs.appendChild(o),e.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+s+")")),this.filters.length&&e.addRenderableComponent(this)}function registerEffect$1(e,t,r){registeredEffects$1[e]={effect:t,countsAsEffect:r}}function SVGBaseElement(){}function HierarchyElement(){}function RenderableDOMElement(){}function IImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.assetData&&this.assetData.sid&&(this.assetData=t.slotManager.getProp(this.assetData)),this.initElement(e,t,r),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}function ProcessedElement(e,t){this.elem=e,this.pos=t}function IShapeElement(){}SVGEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},SVGEffects.prototype.getEffects=function(e){var t,r=this.filters.length,i=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&i.push(this.filters[t]);return i},SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var e=null;if(this.data.td){this.matteMasks={};var t=createNS("g");t.setAttribute("id",this.layerId),t.appendChild(this.layerElement),e=t,this.globalData.defs.appendChild(t)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),e=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0===this.data.ty&&!this.data.hd){var r=createNS("clipPath"),i=createNS("path");i.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var n=createElementID();if(r.setAttribute("id",n),r.appendChild(i),this.globalData.defs.appendChild(r),this.checkMasks()){var s=createNS("g");s.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),s.appendChild(this.layerElement),this.transformedElement=s,e?e.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")")}0!==this.data.bm&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(e){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[e]){var t,r,i,n,s=this.layerId+"_"+e;if(1===e||3===e){var o=createNS("mask");o.setAttribute("id",s),o.setAttribute("mask-type",3===e?"luminance":"alpha"),(i=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),o.appendChild(i),this.globalData.defs.appendChild(o),!featureSupport.maskType&&1===e&&(o.setAttribute("mask-type","luminance"),t=createElementID(),r=filtersFactory.createFilter(t),this.globalData.defs.appendChild(r),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),(n=createNS("g")).appendChild(i),o.appendChild(n),n.setAttribute("filter","url("+getLocationHref()+"#"+t+")"))}else if(2===e){var a=createNS("mask");a.setAttribute("id",s),a.setAttribute("mask-type","alpha");var l=createNS("g");a.appendChild(l),t=createElementID(),r=filtersFactory.createFilter(t);var h=createNS("feComponentTransfer");h.setAttribute("in","SourceGraphic"),r.appendChild(h);var c=createNS("feFuncA");c.setAttribute("type","table"),c.setAttribute("tableValues","1.0 0.0"),h.appendChild(c),this.globalData.defs.appendChild(r);var u=createNS("rect");u.setAttribute("width",this.comp.data.w),u.setAttribute("height",this.comp.data.h),u.setAttribute("x","0"),u.setAttribute("y","0"),u.setAttribute("fill","#ffffff"),u.setAttribute("opacity","0"),l.setAttribute("filter","url("+getLocationHref()+"#"+t+")"),l.appendChild(u),(i=createNS("use")).setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),l.appendChild(i),featureSupport.maskType||(a.setAttribute("mask-type","luminance"),r.appendChild(filtersFactory.createAlphaToLuminanceFilter()),n=createNS("g"),l.appendChild(u),n.appendChild(this.layerElement),l.appendChild(n)),this.globalData.defs.appendChild(a)}this.matteMasks[e]=s}return this.matteMasks[e]},setMatte:function(e){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+e+")")}},HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(e){this.hierarchy=e},setAsParent:function(){this._isParent=!0},checkParenting:function(){void 0!==this.data.parent&&this.comp.buildElementParenting(this,this.data.parent,[])}},extendPrototype([RenderableElement,createProxyFunction({initElement:function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){this.hidden||this.isInRange&&!this.isTransparent||((this.baseElement||this.layerElement).style.display="none",this.hidden=!0)},show:function(){this.isInRange&&!this.isTransparent&&(this.data.hd||((this.baseElement||this.layerElement).style.display="block"),this.hidden=!1,this._isFirstFrame=!0)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}})],RenderableDOMElement),extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect},IShapeElement.prototype={addShapeToModifiers:function(e){var t,r=this.shapeModifiers.length;for(t=0;t<r;t+=1)this.shapeModifiers[t].addShape(e)},isShapeInAnimatedModifiers:function(e){for(var t=this.shapeModifiers.length;0<t;)if(this.shapeModifiers[0].isAnimatedWithShape(e))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var e,t=this.shapes.length;for(e=0;e<t;e+=1)this.shapes[e].sh.reset();for(e=(t=this.shapeModifiers.length)-1;e>=0&&!this.shapeModifiers[e].processShapes(this._isFirstFrame);e-=1);}},searchProcessedElement:function(e){for(var t=this.processedElements,r=0,i=t.length;r<i;){if(t[r].elem===e)return t[r].pos;r+=1}return 0},addProcessedElement:function(e,t){for(var r=this.processedElements,i=r.length;i;)if(r[i-=1].elem===e)return void(r[i].pos=t);r.push(new ProcessedElement(e,t))},prepareFrame:function(e){this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(e,t,r){this.caches=[],this.styles=[],this.transformers=e,this.lStr="",this.sh=r,this.lvl=t,this._isAnimated=!!r.k;for(var i=0,n=e.length;i<n;){if(e[i].mProps.dynamicProperties.length){this._isAnimated=!0;break}i+=1}}function SVGStyleData(e,t){this.data=e,this.type=e.ty,this.d="",this.lvl=t,this._mdf=!1,this.closed=!0===e.hd,this.pElem=createNS("path"),this.msElem=null}function DashProperty(e,t,r,i){this.elem=e,this.frameId=-1,this.dataProps=createSizedArray(t.length),this.renderer=r,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",t.length?t.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(i);var n,s,o=t.length||0;for(n=0;n<o;n+=1)s=PropertyFactory.getProp(e,t[n].v,0,0,this),this.k=s.k||this.k,this.dataProps[n]={n:t[n].n,p:s};this.k||this.getValue(!0),this._isAnimated=this.k}function SVGStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r,this._isAnimated=!!this._isAnimated}function SVGFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.c=PropertyFactory.getProp(e,t.c,1,255,this),this.style=r}function SVGNoStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.style=r}function GradientProperty(e,t,r){this.data=t,this.c=createTypedArray("uint8c",4*t.p);var i=t.k.k[0].s?t.k.k[0].s.length-4*t.p:t.k.k.length-4*t.p;this.o=createTypedArray("float32",i),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=i,this.initDynamicPropertyContainer(r),this.prop=PropertyFactory.getProp(e,t.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}function SVGGradientFillStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.initGradientData(e,t,r)}function SVGGradientStrokeStyleData(e,t,r){this.initDynamicPropertyContainer(e),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(e,t.w,0,null,this),this.d=new DashProperty(e,t.d||{},"svg",this),this.initGradientData(e,t,r),this._isAnimated=!!this._isAnimated}function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(e,t,r){this.transform={mProps:e,op:t,container:r},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0},SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1},DashProperty.prototype.getValue=function(e){if((this.elem.globalData.frameId!==this.frameId||e)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||e,this._mdf)){var t=0,r=this.dataProps.length;for("svg"===this.renderer&&(this.dashStr=""),t=0;t<r;t+=1)"o"!==this.dataProps[t].n?"svg"===this.renderer?this.dashStr+=" "+this.dataProps[t].p.v:this.dashArray[t]=this.dataProps[t].p.v:this.dashoffset[0]=this.dataProps[t].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty),extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData),extendPrototype([DynamicPropertyContainer],SVGFillStyleData),extendPrototype([DynamicPropertyContainer],SVGNoStyleData),GradientProperty.prototype.comparePoints=function(e,t){for(var r=0,i=this.o.length/2;r<i;){if(Math.abs(e[4*r]-e[4*t+2*r])>.01)return!1;r+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!=this.c.length/4)return!1;if(this.data.k.k[0].s)for(var e=0,t=this.data.k.k.length;e<t;){if(!this.comparePoints(this.data.k.k[e].s,this.data.p))return!1;e+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(e){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||e){var t,r,i,n=4*this.data.p;for(t=0;t<n;t+=1)r=t%4==0?100:255,i=Math.round(this.prop.v[t]*r),this.c[t]!==i&&(this.c[t]=i,this._cmdf=!e);if(this.o.length)for(n=this.prop.v.length,t=4*this.data.p;t<n;t+=1)r=t%2==0?100:1,i=t%2==0?Math.round(100*this.prop.v[t]):this.prop.v[t],this.o[t-4*this.data.p]!==i&&(this.o[t-4*this.data.p]=i,this._omdf=!e);this._mdf=!e}},extendPrototype([DynamicPropertyContainer],GradientProperty),SVGGradientFillStyleData.prototype.initGradientData=function(e,t,r){this.o=PropertyFactory.getProp(e,t.o,0,.01,this),this.s=PropertyFactory.getProp(e,t.s,1,null,this),this.e=PropertyFactory.getProp(e,t.e,1,null,this),this.h=PropertyFactory.getProp(e,t.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(e,t.a||{k:0},0,degToRads,this),this.g=new GradientProperty(e,t.g,this),this.style=r,this.stops=[],this.setGradientData(r.pElem,t),this.setGradientOpacity(t,r),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(e,t){var r=createElementID(),i=createNS(1===t.t?"linearGradient":"radialGradient");i.setAttribute("id",r),i.setAttribute("spreadMethod","pad"),i.setAttribute("gradientUnits","userSpaceOnUse");var n,s,o,a=[];for(o=4*t.g.p,s=0;s<o;s+=4)n=createNS("stop"),i.appendChild(n),a.push(n);e.setAttribute("gf"===t.ty?"fill":"stroke","url("+getLocationHref()+"#"+r+")"),this.gf=i,this.cst=a},SVGGradientFillStyleData.prototype.setGradientOpacity=function(e,t){if(this.g._hasOpacity&&!this.g._collapsable){var r,i,n,s=createNS("mask"),o=createNS("path");s.appendChild(o);var a=createElementID(),l=createElementID();s.setAttribute("id",l);var h=createNS(1===e.t?"linearGradient":"radialGradient");h.setAttribute("id",a),h.setAttribute("spreadMethod","pad"),h.setAttribute("gradientUnits","userSpaceOnUse"),n=e.g.k.k[0].s?e.g.k.k[0].s.length:e.g.k.k.length;var c=this.stops;for(i=4*e.g.p;i<n;i+=2)(r=createNS("stop")).setAttribute("stop-color","rgb(255,255,255)"),h.appendChild(r),c.push(r);o.setAttribute("gf"===e.ty?"fill":"stroke","url("+getLocationHref()+"#"+a+")"),"gs"===e.ty&&(o.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),o.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),1===e.lj&&o.setAttribute("stroke-miterlimit",e.ml)),this.of=h,this.ms=s,this.ost=c,this.maskId=l,t.msElem=o}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData),extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);var buildShapeString=function(e,t,r,i){if(0===t)return"";var n,s=e.o,o=e.i,a=e.v,l=" M"+i.applyToPointStringified(a[0][0],a[0][1]);for(n=1;n<t;n+=1)l+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(o[n][0],o[n][1])+" "+i.applyToPointStringified(a[n][0],a[n][1]);return r&&t&&(l+=" C"+i.applyToPointStringified(s[n-1][0],s[n-1][1])+" "+i.applyToPointStringified(o[0][0],o[0][1])+" "+i.applyToPointStringified(a[0][0],a[0][1]),l+="z"),l},SVGElementsRenderer=function(){var e=new Matrix,t=new Matrix;function r(e,t,r){(r||t.transform.op._mdf)&&t.transform.container.setAttribute("opacity",t.transform.op.v),(r||t.transform.mProps._mdf)&&t.transform.container.setAttribute("transform",t.transform.mProps.v.to2dCSS())}function i(){}function n(r,i,n){var s,o,a,l,h,c,u,d,p,f,_=i.styles.length,m=i.lvl;for(c=0;c<_;c+=1){if(l=i.sh._mdf||n,i.styles[c].lvl<m){for(d=t.reset(),p=m-i.styles[c].lvl,f=i.transformers.length-1;!l&&p>0;)l=i.transformers[f].mProps._mdf||l,p-=1,f-=1;if(l)for(p=m-i.styles[c].lvl,f=i.transformers.length-1;p>0;)d.multiply(i.transformers[f].mProps.v),p-=1,f-=1}else d=e;if(o=(u=i.sh.paths)._length,l){for(a="",s=0;s<o;s+=1)(h=u.shapes[s])&&h._length&&(a+=buildShapeString(h,h._length,h.c,d));i.caches[c]=a}else a=i.caches[c];i.styles[c].d+=!0===r.hd?"":a,i.styles[c]._mdf=l||i.styles[c]._mdf}}function s(e,t,r){var i=t.style;(t.c._mdf||r)&&i.pElem.setAttribute("fill","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&i.pElem.setAttribute("fill-opacity",t.o.v)}function o(e,t,r){a(e,t,r),l(0,t,r)}function a(e,t,r){var i,n,s,o,a,l=t.gf,h=t.g._hasOpacity,c=t.s.v,u=t.e.v;if(t.o._mdf||r){var d="gf"===e.ty?"fill-opacity":"stroke-opacity";t.style.pElem.setAttribute(d,t.o.v)}if(t.s._mdf||r){var p=1===e.t?"x1":"cx",f="x1"===p?"y1":"cy";l.setAttribute(p,c[0]),l.setAttribute(f,c[1]),h&&!t.g._collapsable&&(t.of.setAttribute(p,c[0]),t.of.setAttribute(f,c[1]))}if(t.g._cmdf||r){i=t.cst;var _=t.g.c;for(s=i.length,n=0;n<s;n+=1)(o=i[n]).setAttribute("offset",_[4*n]+"%"),o.setAttribute("stop-color","rgb("+_[4*n+1]+","+_[4*n+2]+","+_[4*n+3]+")")}if(h&&(t.g._omdf||r)){var m=t.g.o;for(s=(i=t.g._collapsable?t.cst:t.ost).length,n=0;n<s;n+=1)o=i[n],t.g._collapsable||o.setAttribute("offset",m[2*n]+"%"),o.setAttribute("stop-opacity",m[2*n+1])}if(1===e.t)(t.e._mdf||r)&&(l.setAttribute("x2",u[0]),l.setAttribute("y2",u[1]),h&&!t.g._collapsable&&(t.of.setAttribute("x2",u[0]),t.of.setAttribute("y2",u[1])));else if((t.s._mdf||t.e._mdf||r)&&(a=Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2)),l.setAttribute("r",a),h&&!t.g._collapsable&&t.of.setAttribute("r",a)),t.e._mdf||t.h._mdf||t.a._mdf||r){a||(a=Math.sqrt(Math.pow(c[0]-u[0],2)+Math.pow(c[1]-u[1],2)));var g=Math.atan2(u[1]-c[1],u[0]-c[0]),y=t.h.v;y>=1?y=.99:y<=-1&&(y=-.99);var v=a*y,E=Math.cos(g+t.a.v)*v+c[0],T=Math.sin(g+t.a.v)*v+c[1];l.setAttribute("fx",E),l.setAttribute("fy",T),h&&!t.g._collapsable&&(t.of.setAttribute("fx",E),t.of.setAttribute("fy",T))}}function l(e,t,r){var i=t.style,n=t.d;n&&(n._mdf||r)&&n.dashStr&&(i.pElem.setAttribute("stroke-dasharray",n.dashStr),i.pElem.setAttribute("stroke-dashoffset",n.dashoffset[0])),t.c&&(t.c._mdf||r)&&i.pElem.setAttribute("stroke","rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r)&&i.pElem.setAttribute("stroke-opacity",t.o.v),(t.w._mdf||r)&&(i.pElem.setAttribute("stroke-width",t.w.v),i.msElem&&i.msElem.setAttribute("stroke-width",t.w.v))}return{createRenderFunction:function(e){switch(e.ty){case"fl":return s;case"gf":return a;case"gs":return o;case"st":return l;case"sh":case"el":case"rc":case"sr":return n;case"tr":return r;case"no":return i;default:return null}}}}();function SVGShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(e,t,r),this.prevViewData=[]}function LetterProps(e,t,r,i,n,s){this.o=e,this.sw=t,this.sc=r,this.fc=i,this.m=n,this.p=s,this._mdf={o:!0,sw:!!t,sc:!!r,fc:!!i,m:!0,p:!0}}function TextProperty(e,t){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,t.d&&t.d.sid&&(t.d=e.globalData.slotManager.getProp(t.d)),this.data=t,this.elem=e,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var e,t,r,i,n=this.shapes.length,s=this.stylesList.length,o=[],a=!1;for(r=0;r<s;r+=1){for(i=this.stylesList[r],a=!1,o.length=0,e=0;e<n;e+=1)-1!==(t=this.shapes[e]).styles.indexOf(i)&&(o.push(t),a=t._isAnimated||a);o.length>1&&a&&this.setShapesAsAnimated(o)}},SVGShapeElement.prototype.setShapesAsAnimated=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(e,t){var r,i=new SVGStyleData(e,t),n=i.pElem;return"st"===e.ty?r=new SVGStrokeStyleData(this,e,i):"fl"===e.ty?r=new SVGFillStyleData(this,e,i):"gf"===e.ty||"gs"===e.ty?(r=new("gf"===e.ty?SVGGradientFillStyleData:SVGGradientStrokeStyleData)(this,e,i),this.globalData.defs.appendChild(r.gf),r.maskId&&(this.globalData.defs.appendChild(r.ms),this.globalData.defs.appendChild(r.of),n.setAttribute("mask","url("+getLocationHref()+"#"+r.maskId+")"))):"no"===e.ty&&(r=new SVGNoStyleData(this,e,i)),("st"===e.ty||"gs"===e.ty)&&(n.setAttribute("stroke-linecap",lineCapEnum[e.lc||2]),n.setAttribute("stroke-linejoin",lineJoinEnum[e.lj||2]),n.setAttribute("fill-opacity","0"),1===e.lj&&n.setAttribute("stroke-miterlimit",e.ml)),2===e.r&&n.setAttribute("fill-rule","evenodd"),e.ln&&n.setAttribute("id",e.ln),e.cl&&n.setAttribute("class",e.cl),e.bm&&(n.style["mix-blend-mode"]=getBlendMode(e.bm)),this.stylesList.push(i),this.addToAnimatedContents(e,r),r},SVGShapeElement.prototype.createGroupElement=function(e){var t=new ShapeGroupData;return e.ln&&t.gr.setAttribute("id",e.ln),e.cl&&t.gr.setAttribute("class",e.cl),e.bm&&(t.gr.style["mix-blend-mode"]=getBlendMode(e.bm)),t},SVGShapeElement.prototype.createTransformElement=function(e,t){var r=TransformPropertyFactory.getTransformProperty(this,e,this),i=new SVGTransformData(r,r.o,t);return this.addToAnimatedContents(e,i),i},SVGShapeElement.prototype.createShapeElement=function(e,t,r){var i=4;"rc"===e.ty?i=5:"el"===e.ty?i=6:"sr"===e.ty&&(i=7);var n=new SVGShapeData(t,r,ShapePropertyFactory.getShapeProp(this,e,i,this));return this.shapes.push(n),this.addShapeToModifiers(n),this.addToAnimatedContents(e,n),n},SVGShapeElement.prototype.addToAnimatedContents=function(e,t){for(var r=0,i=this.animatedContents.length;r<i;){if(this.animatedContents[r].element===t)return;r+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(e),element:t,data:e})},SVGShapeElement.prototype.setElementStyles=function(e){var t,r=e.styles,i=this.stylesList.length;for(t=0;t<i;t+=1)this.stylesList[t].closed||r.push(this.stylesList[t])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(e,t,r,i,n,s,o){var a,l,h,c,u,d,p=[].concat(s),f=e.length-1,_=[],m=[];for(a=f;a>=0;a-=1){if((d=this.searchProcessedElement(e[a]))?t[a]=r[d-1]:e[a]._render=o,"fl"===e[a].ty||"st"===e[a].ty||"gf"===e[a].ty||"gs"===e[a].ty||"no"===e[a].ty)d?t[a].style.closed=!1:t[a]=this.createStyleElement(e[a],n),e[a]._render&&t[a].style.pElem.parentNode!==i&&i.appendChild(t[a].style.pElem),_.push(t[a].style);else if("gr"===e[a].ty){if(d)for(h=t[a].it.length,l=0;l<h;l+=1)t[a].prevViewData[l]=t[a].it[l];else t[a]=this.createGroupElement(e[a]);this.searchShapes(e[a].it,t[a].it,t[a].prevViewData,t[a].gr,n+1,p,o),e[a]._render&&t[a].gr.parentNode!==i&&i.appendChild(t[a].gr)}else"tr"===e[a].ty?(d||(t[a]=this.createTransformElement(e[a],i)),c=t[a].transform,p.push(c)):"sh"===e[a].ty||"rc"===e[a].ty||"el"===e[a].ty||"sr"===e[a].ty?(d||(t[a]=this.createShapeElement(e[a],p,n)),this.setElementStyles(t[a])):"tm"===e[a].ty||"rd"===e[a].ty||"ms"===e[a].ty||"pb"===e[a].ty||"zz"===e[a].ty||"op"===e[a].ty?(d?(u=t[a]).closed=!1:((u=ShapeModifiers.getModifier(e[a].ty)).init(this,e[a]),t[a]=u,this.shapeModifiers.push(u)),m.push(u)):"rp"===e[a].ty&&(d?(u=t[a]).closed=!0:(u=ShapeModifiers.getModifier(e[a].ty),t[a]=u,u.init(this,e,a,t),this.shapeModifiers.push(u),o=!1),m.push(u));this.addProcessedElement(e[a],a+1)}for(f=_.length,a=0;a<f;a+=1)_[a].closed=!0;for(f=m.length,a=0;a<f;a+=1)m[a].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].reset();for(this.renderShape(),e=0;e<t;e+=1)(this.stylesList[e]._mdf||this._isFirstFrame)&&(this.stylesList[e].msElem&&(this.stylesList[e].msElem.setAttribute("d",this.stylesList[e].d),this.stylesList[e].d="M0 0"+this.stylesList[e].d),this.stylesList[e].pElem.setAttribute("d",this.stylesList[e].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var e,t,r=this.animatedContents.length;for(e=0;e<r;e+=1)t=this.animatedContents[e],(this._isFirstFrame||t.element._isAnimated)&&!0!==t.data&&t.fn(t.data,t.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null},LetterProps.prototype.update=function(e,t,r,i,n,s){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var o=!1;return this.o!==e&&(this.o=e,this._mdf.o=!0,o=!0),this.sw!==t&&(this.sw=t,this._mdf.sw=!0,o=!0),this.sc!==r&&(this.sc=r,this._mdf.sc=!0,o=!0),this.fc!==i&&(this.fc=i,this._mdf.fc=!0,o=!0),this.m!==n&&(this.m=n,this._mdf.m=!0,o=!0),s.length&&(this.p[0]!==s[0]||this.p[1]!==s[1]||this.p[4]!==s[4]||this.p[5]!==s[5]||this.p[12]!==s[12]||this.p[13]!==s[13])&&(this.p=s,this._mdf.p=!0,o=!0),o},TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},TextProperty.prototype.setCurrentData=function(e){e.__complete||this.completeTextData(e),this.currentData=e,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(e){this.effectsSequence.push(e),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(e){if(this.elem.globalData.frameId!==this.frameId&&this.effectsSequence.length||e){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var t=this.currentData,r=this.keysIndex;if(this.lock)return void this.setCurrentData(this.currentData);this.lock=!0,this._mdf=!1;var i,n=this.effectsSequence.length,s=e||this.data.d.k[this.keysIndex].s;for(i=0;i<n;i+=1)s=r!==this.keysIndex?this.effectsSequence[i](s,s.t):this.effectsSequence[i](this.currentData,s.t);t!==s&&this.setCurrentData(s),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var e=this.data.d.k,t=this.elem.comp.renderedFrame,r=0,i=e.length;r<=i-1&&!(r===i-1||e[r+1].t>t);)r+=1;return this.keysIndex!==r&&(this.keysIndex=r),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(e){for(var t,r,i=[],n=0,s=e.length,o=!1,a=!1,l="";n<s;)o=a,a=!1,t=e.charCodeAt(n),l=e.charAt(n),FontManager.isCombinedCharacter(t)?o=!0:t>=55296&&t<=56319?FontManager.isRegionalFlag(e,n)?l=e.substr(n,14):(r=e.charCodeAt(n+1))>=56320&&r<=57343&&(FontManager.isModifier(t,r)?(l=e.substr(n,2),o=!0):l=FontManager.isFlagEmoji(e.substr(n,4))?e.substr(n,4):e.substr(n,2)):t>56319?(r=e.charCodeAt(n+1),FontManager.isVariationSelector(t)&&(o=!0)):FontManager.isZeroWidthJoiner(t)&&(o=!0,a=!0),o?(i[i.length-1]+=l,o=!1):i.push(l),n+=l.length;return i},TextProperty.prototype.completeTextData=function(e){e.__complete=!0;var t,r,i,n,s,o,a,l=this.elem.globalData.fontManager,h=this.data,c=[],u=0,d=h.m.g,p=0,f=0,_=0,m=[],g=0,y=0,v=l.getFontByName(e.f),E=0,T=getFontProperties(v);e.fWeight=T.weight,e.fStyle=T.style,e.finalSize=e.s,e.finalText=this.buildFinalText(e.t),r=e.finalText.length,e.finalLineHeight=e.lh;var b,S=e.tr/1e3*e.finalSize;if(e.sz)for(var x,A,P=!0,R=e.sz[0],O=e.sz[1];P;){x=0,g=0,r=(A=this.buildFinalText(e.t)).length,S=e.tr/1e3*e.finalSize;var w=-1;for(t=0;t<r;t+=1)b=A[t].charCodeAt(0),i=!1," "===A[t]?w=t:(13===b||3===b)&&(g=0,i=!0,x+=e.finalLineHeight||1.2*e.finalSize),l.chars?(a=l.getCharData(A[t],v.fStyle,v.fFamily),E=i?0:a.w*e.finalSize/100):E=l.measureText(A[t],e.f,e.finalSize),g+E>R&&" "!==A[t]?(-1===w?r+=1:t=w,x+=e.finalLineHeight||1.2*e.finalSize,A.splice(t,w===t?1:0,"\r"),w=-1,g=0):(g+=E,g+=S);x+=v.ascent*e.finalSize/100,this.canResize&&e.finalSize>this.minimumFontSize&&O<x?(e.finalSize-=1,e.finalLineHeight=e.finalSize*e.lh/e.s):(e.finalText=A,r=e.finalText.length,P=!1)}g=-S,E=0;var I,C=0;for(t=0;t<r;t+=1)if(i=!1,13===(b=(I=e.finalText[t]).charCodeAt(0))||3===b?(C=0,m.push(g),y=g>y?g:y,g=-2*S,n="",i=!0,_+=1):n=I,l.chars?(a=l.getCharData(I,v.fStyle,l.getFontByName(e.f).fFamily),E=i?0:a.w*e.finalSize/100):E=l.measureText(n,e.f,e.finalSize)," "===I?C+=E+S:(g+=E+S+C,C=0),c.push({l:E,an:E,add:p,n:i,anIndexes:[],val:n,line:_,animatorJustifyOffset:0}),2==d){if(p+=E,""===n||" "===n||t===r-1){for((""===n||" "===n)&&(p-=E);f<=t;)c[f].an=p,c[f].ind=u,c[f].extra=E,f+=1;u+=1,p=0}}else if(3==d){if(p+=E,""===n||t===r-1){for(""===n&&(p-=E);f<=t;)c[f].an=p,c[f].ind=u,c[f].extra=E,f+=1;p=0,u+=1}}else c[u].ind=u,c[u].extra=0,u+=1;if(e.l=c,y=g>y?g:y,m.push(g),e.sz)e.boxWidth=e.sz[0],e.justifyOffset=0;else switch(e.boxWidth=y,e.j){case 1:e.justifyOffset=-e.boxWidth;break;case 2:e.justifyOffset=-e.boxWidth/2;break;default:e.justifyOffset=0}e.lineWidths=m;var M,D,L=h.a;o=L.length;var N,F,k=[];for(s=0;s<o;s+=1){for((M=L[s]).a.sc&&(e.strokeColorAnim=!0),M.a.sw&&(e.strokeWidthAnim=!0),(M.a.fc||M.a.fh||M.a.fs||M.a.fb)&&(e.fillColorAnim=!0),F=0,N=M.s.b,t=0;t<r;t+=1)(D=c[t]).anIndexes[s]=F,(1==N&&""!==D.val||2==N&&""!==D.val&&" "!==D.val||3==N&&(D.n||" "==D.val||t==r-1)||4==N&&(D.n||t==r-1))&&(1===M.s.rn&&k.push(F),F+=1);h.a[s].s.totalChars=F;var B,$=-1;if(1===M.s.rn)for(t=0;t<r;t+=1)$!=(D=c[t]).anIndexes[s]&&($=D.anIndexes[s],B=k.splice(Math.floor(Math.random()*k.length),1)[0]),D.anIndexes[s]=B}e.yOffset=e.finalLineHeight||1.2*e.finalSize,e.ls=e.ls||0,e.ascent=v.ascent*e.finalSize/100},TextProperty.prototype.updateDocumentData=function(e,t){t=void 0===t?this.keysIndex:t;var r=this.copyData({},this.data.d.k[t].s);r=this.copyData(r,e),this.data.d.k[t].s=r,this.recalculate(t),this.setCurrentData(r),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(e){var t=this.data.d.k[e].s;t.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(t)},TextProperty.prototype.canResizeFont=function(e){this.canResize=e,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(e){this.minimumFontSize=Math.floor(e)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var e=Math.max,t=Math.min,r=Math.floor;function i(e,t){this._currentTextLength=-1,this.k=!1,this.data=t,this.elem=e,this.comp=e.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(e),this.s=PropertyFactory.getProp(e,t.s||{k:0},0,0,this),this.e="e"in t?PropertyFactory.getProp(e,t.e,0,0,this):{v:100},this.o=PropertyFactory.getProp(e,t.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(e,t.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(e,t.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(e,t.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(e,t.a,0,.01,this),this.dynamicProperties.length||this.getValue()}return i.prototype={getMult:function(i){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var n=0,s=0,o=1,a=1;this.ne.v>0?n=this.ne.v/100:s=-this.ne.v/100,this.xe.v>0?o=1-this.xe.v/100:a=1+this.xe.v/100;var l=BezierFactory.getBezierEasing(n,s,o,a).get,h=0,c=this.finalS,u=this.finalE,d=this.data.sh;if(2===d)h=l(h=u===c?i>=u?1:0:e(0,t(.5/(u-c)+(i-c)/(u-c),1)));else if(3===d)h=l(h=u===c?i>=u?0:1:1-e(0,t(.5/(u-c)+(i-c)/(u-c),1)));else if(4===d)u===c?h=0:(h=e(0,t(.5/(u-c)+(i-c)/(u-c),1)))<.5?h*=2:h=1-2*(h-.5),h=l(h);else if(5===d){if(u===c)h=0;else{var p=u-c,f=-p/2+(i=t(e(0,i+.5-c),u-c)),_=p/2;h=Math.sqrt(1-f*f/(_*_))}h=l(h)}else 6===d?(u===c?h=0:(i=t(e(0,i+.5-c),u-c),h=(1+Math.cos(Math.PI+2*Math.PI*i/(u-c)))/2),h=l(h)):(i>=r(c)&&(h=e(0,t(i-c<0?t(u,1)-(c-i):u-i,1))),h=l(h));if(100!==this.sm.v){var m=.01*this.sm.v;0===m&&(m=1e-8);var g=.5-.5*m;h<g?h=0:(h=(h-g)/m)>1&&(h=1)}return h*this.a.v},getValue:function(e){this.iterateDynamicProperties(),this._mdf=e||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,e&&2===this.data.r&&(this.e.v=this._currentTextLength);var t=2===this.data.r?1:100/this.data.totalChars,r=this.o.v/t,i=this.s.v/t+r,n=this.e.v/t+r;if(i>n){var s=i;i=n,n=s}this.finalS=i,this.finalE=n}},extendPrototype([DynamicPropertyContainer],i),{getTextSelectorProp:function(e,t,r){return new i(e,t)}}}();function TextAnimatorDataProperty(e,t,r){var i={propType:!1},n=PropertyFactory.getProp,s=t.a;this.a={r:s.r?n(e,s.r,0,degToRads,r):i,rx:s.rx?n(e,s.rx,0,degToRads,r):i,ry:s.ry?n(e,s.ry,0,degToRads,r):i,sk:s.sk?n(e,s.sk,0,degToRads,r):i,sa:s.sa?n(e,s.sa,0,degToRads,r):i,s:s.s?n(e,s.s,1,.01,r):i,a:s.a?n(e,s.a,1,0,r):i,o:s.o?n(e,s.o,0,.01,r):i,p:s.p?n(e,s.p,1,0,r):i,sw:s.sw?n(e,s.sw,0,0,r):i,sc:s.sc?n(e,s.sc,1,0,r):i,fc:s.fc?n(e,s.fc,1,0,r):i,fh:s.fh?n(e,s.fh,0,0,r):i,fs:s.fs?n(e,s.fs,0,.01,r):i,fb:s.fb?n(e,s.fb,0,.01,r):i,t:s.t?n(e,s.t,0,0,r):i},this.s=TextSelectorProp.getTextSelectorProp(e,t.s,r),this.s.t=t.s.t}function TextAnimatorProperty(e,t,r){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=e,this._renderType=t,this._elem=r,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(r)}function ITextElement(){}TextAnimatorProperty.prototype.searchProperties=function(){var e,t,r=this._textData.a.length,i=PropertyFactory.getProp;for(e=0;e<r;e+=1)t=this._textData.a[e],this._animatorsData[e]=new TextAnimatorDataProperty(this._elem,t,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:i(this._elem,this._textData.p.a,0,0,this),f:i(this._elem,this._textData.p.f,0,0,this),l:i(this._elem,this._textData.p.l,0,0,this),r:i(this._elem,this._textData.p.r,0,0,this),p:i(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=i(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(e,t){if(this.lettersChangedFlag=t,this._mdf||this._isFirstFrame||t||this._hasMaskedPath&&this._pathData.m._mdf){this._isFirstFrame=!1;var r,i,n,s,o,a,l,h,c,u,d,p,f,_,m,g,y,v,E,T=this._moreOptions.alignment.v,b=this._animatorsData,S=this._textData,x=this.mHelper,A=this._renderType,P=this.renderedLetters.length,R=e.l;if(this._hasMaskedPath){if(E=this._pathData.m,!this._pathData.n||this._pathData._mdf){var O,w=E.v;for(this._pathData.r.v&&(w=w.reverse()),o={tLength:0,segments:[]},s=w._length-1,g=0,n=0;n<s;n+=1)O=bez.buildBezierData(w.v[n],w.v[n+1],[w.o[n][0]-w.v[n][0],w.o[n][1]-w.v[n][1]],[w.i[n+1][0]-w.v[n+1][0],w.i[n+1][1]-w.v[n+1][1]]),o.tLength+=O.segmentLength,o.segments.push(O),g+=O.segmentLength;n=s,E.v.c&&(O=bez.buildBezierData(w.v[n],w.v[0],[w.o[n][0]-w.v[n][0],w.o[n][1]-w.v[n][1]],[w.i[0][0]-w.v[0][0],w.i[0][1]-w.v[0][1]]),o.tLength+=O.segmentLength,o.segments.push(O),g+=O.segmentLength),this._pathData.pi=o}if(o=this._pathData.pi,a=this._pathData.f.v,d=0,u=1,h=0,c=!0,_=o.segments,a<0&&E.v.c)for(o.tLength<Math.abs(a)&&(a=-Math.abs(a)%o.tLength),u=(f=_[d=_.length-1].points).length-1;a<0;)a+=f[u].partialLength,(u-=1)<0&&(u=(f=_[d-=1].points).length-1);p=(f=_[d].points)[u-1],m=(l=f[u]).partialLength}s=R.length,r=0,i=0;var I,C,M,D,L=1.2*e.finalSize*.714,N=!0;M=b.length;var F,k,B,$,U,G,H,V,j,Y,W,X,z,K=-1,q=a,Q=d,Z=u,J=-1,ee="",te=this.defaultPropsArray;if(2===e.j||1===e.j){var re=0,ie=0,ne=2===e.j?-.5:-1,se=0,oe=!0;for(n=0;n<s;n+=1)if(R[n].n){for(re&&(re+=ie);se<n;)R[se].animatorJustifyOffset=re,se+=1;re=0,oe=!0}else{for(C=0;C<M;C+=1)(I=b[C].a).t.propType&&(oe&&2===e.j&&(ie+=I.t.v*ne),(F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars)).length?re+=I.t.v*F[0]*ne:re+=I.t.v*F*ne);oe=!1}for(re&&(re+=ie);se<n;)R[se].animatorJustifyOffset=re,se+=1}for(n=0;n<s;n+=1){if(x.reset(),U=1,R[n].n)r=0,i+=e.yOffset,i+=N?1:0,a=q,N=!1,this._hasMaskedPath&&(u=Z,p=(f=_[d=Q].points)[u-1],m=(l=f[u]).partialLength,h=0),ee="",X="",Y="",z="",te=this.defaultPropsArray;else{if(this._hasMaskedPath){if(J!==R[n].line){switch(e.j){case 1:a+=g-e.lineWidths[R[n].line];break;case 2:a+=(g-e.lineWidths[R[n].line])/2}J=R[n].line}K!==R[n].ind&&(R[K]&&(a+=R[K].extra),a+=R[n].an/2,K=R[n].ind),a+=T[0]*R[n].an*.005;var ae=0;for(C=0;C<M;C+=1)(I=b[C].a).p.propType&&((F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars)).length?ae+=I.p.v[0]*F[0]:ae+=I.p.v[0]*F),I.a.propType&&((F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars)).length?ae+=I.a.v[0]*F[0]:ae+=I.a.v[0]*F);for(c=!0,this._pathData.a.v&&(a=.5*R[0].an+(g-this._pathData.f.v-.5*R[0].an-.5*R[R.length-1].an)*K/(s-1),a+=this._pathData.f.v);c;)h+m>=a+ae||!f?(y=(a+ae-h)/l.partialLength,B=p.point[0]+(l.point[0]-p.point[0])*y,$=p.point[1]+(l.point[1]-p.point[1])*y,x.translate(-T[0]*R[n].an*.005,-T[1]*L*.01),c=!1):f&&(h+=l.partialLength,(u+=1)>=f.length&&(u=0,_[d+=1]?f=_[d].points:E.v.c?(u=0,f=_[d=0].points):(h-=l.partialLength,f=null)),f&&(p=l,m=(l=f[u]).partialLength));k=R[n].an/2-R[n].add,x.translate(-k,0,0)}else k=R[n].an/2-R[n].add,x.translate(-k,0,0),x.translate(-T[0]*R[n].an*.005,-T[1]*L*.01,0);for(C=0;C<M;C+=1)(I=b[C].a).t.propType&&(F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars),(0!==r||0!==e.j)&&(this._hasMaskedPath?F.length?a+=I.t.v*F[0]:a+=I.t.v*F:F.length?r+=I.t.v*F[0]:r+=I.t.v*F));for(e.strokeWidthAnim&&(H=e.sw||0),e.strokeColorAnim&&(G=e.sc?[e.sc[0],e.sc[1],e.sc[2]]:[0,0,0]),e.fillColorAnim&&e.fc&&(V=[e.fc[0],e.fc[1],e.fc[2]]),C=0;C<M;C+=1)(I=b[C].a).a.propType&&((F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars)).length?x.translate(-I.a.v[0]*F[0],-I.a.v[1]*F[1],I.a.v[2]*F[2]):x.translate(-I.a.v[0]*F,-I.a.v[1]*F,I.a.v[2]*F));for(C=0;C<M;C+=1)(I=b[C].a).s.propType&&((F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars)).length?x.scale(1+(I.s.v[0]-1)*F[0],1+(I.s.v[1]-1)*F[1],1):x.scale(1+(I.s.v[0]-1)*F,1+(I.s.v[1]-1)*F,1));for(C=0;C<M;C+=1){if(I=b[C].a,F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars),I.sk.propType&&(F.length?x.skewFromAxis(-I.sk.v*F[0],I.sa.v*F[1]):x.skewFromAxis(-I.sk.v*F,I.sa.v*F)),I.r.propType&&(F.length?x.rotateZ(-I.r.v*F[2]):x.rotateZ(-I.r.v*F)),I.ry.propType&&(F.length?x.rotateY(I.ry.v*F[1]):x.rotateY(I.ry.v*F)),I.rx.propType&&(F.length?x.rotateX(I.rx.v*F[0]):x.rotateX(I.rx.v*F)),I.o.propType&&(F.length?U+=(I.o.v*F[0]-U)*F[0]:U+=(I.o.v*F-U)*F),e.strokeWidthAnim&&I.sw.propType&&(F.length?H+=I.sw.v*F[0]:H+=I.sw.v*F),e.strokeColorAnim&&I.sc.propType)for(j=0;j<3;j+=1)F.length?G[j]+=(I.sc.v[j]-G[j])*F[0]:G[j]+=(I.sc.v[j]-G[j])*F;if(e.fillColorAnim&&e.fc){if(I.fc.propType)for(j=0;j<3;j+=1)F.length?V[j]+=(I.fc.v[j]-V[j])*F[0]:V[j]+=(I.fc.v[j]-V[j])*F;I.fh.propType&&(V=F.length?addHueToRGB(V,I.fh.v*F[0]):addHueToRGB(V,I.fh.v*F)),I.fs.propType&&(V=F.length?addSaturationToRGB(V,I.fs.v*F[0]):addSaturationToRGB(V,I.fs.v*F)),I.fb.propType&&(V=F.length?addBrightnessToRGB(V,I.fb.v*F[0]):addBrightnessToRGB(V,I.fb.v*F))}}for(C=0;C<M;C+=1)(I=b[C].a).p.propType&&(F=b[C].s.getMult(R[n].anIndexes[C],S.a[C].s.totalChars),this._hasMaskedPath?F.length?x.translate(0,I.p.v[1]*F[0],-I.p.v[2]*F[1]):x.translate(0,I.p.v[1]*F,-I.p.v[2]*F):F.length?x.translate(I.p.v[0]*F[0],I.p.v[1]*F[1],-I.p.v[2]*F[2]):x.translate(I.p.v[0]*F,I.p.v[1]*F,-I.p.v[2]*F));if(e.strokeWidthAnim&&(Y=H<0?0:H),e.strokeColorAnim&&(W="rgb("+Math.round(255*G[0])+","+Math.round(255*G[1])+","+Math.round(255*G[2])+")"),e.fillColorAnim&&e.fc&&(X="rgb("+Math.round(255*V[0])+","+Math.round(255*V[1])+","+Math.round(255*V[2])+")"),this._hasMaskedPath){if(x.translate(0,-e.ls),x.translate(0,T[1]*L*.01+i,0),this._pathData.p.v){v=(l.point[1]-p.point[1])/(l.point[0]-p.point[0]);var le=180*Math.atan(v)/Math.PI;l.point[0]<p.point[0]&&(le+=180),x.rotate(-le*Math.PI/180)}x.translate(B,$,0),a-=T[0]*R[n].an*.005,R[n+1]&&K!==R[n+1].ind&&(a+=R[n].an/2,a+=.001*e.tr*e.finalSize)}else{switch(x.translate(r,i,0),e.ps&&x.translate(e.ps[0],e.ps[1]+e.ascent,0),e.j){case 1:x.translate(R[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[R[n].line]),0,0);break;case 2:x.translate(R[n].animatorJustifyOffset+e.justifyOffset+(e.boxWidth-e.lineWidths[R[n].line])/2,0,0)}x.translate(0,-e.ls),x.translate(k,0,0),x.translate(T[0]*R[n].an*.005,T[1]*L*.01,0),r+=R[n].l+.001*e.tr*e.finalSize}"html"===A?ee=x.toCSS():"svg"===A?ee=x.to2dCSS():te=[x.props[0],x.props[1],x.props[2],x.props[3],x.props[4],x.props[5],x.props[6],x.props[7],x.props[8],x.props[9],x.props[10],x.props[11],x.props[12],x.props[13],x.props[14],x.props[15]],z=U}P<=n?(D=new LetterProps(z,Y,W,X,ee,te),this.renderedLetters.push(D),P+=1,this.lettersChangedFlag=!0):(D=this.renderedLetters[n],this.lettersChangedFlag=D.update(z,Y,W,X,ee,te)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty),ITextElement.prototype.initElement=function(e,t,r){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(e,t,r),this.textProperty=new TextProperty(this,e.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(e.t,this.renderType,this),this.initTransform(e,t,r),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(e){this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange)},ITextElement.prototype.createPathShape=function(e,t){var r,i,n=t.length,s="";for(r=0;r<n;r+=1)"sh"===t[r].ty&&(i=t[r].ks.k,s+=buildShapeString(i,i.i.length,!0,e));return s},ITextElement.prototype.updateDocumentData=function(e,t){this.textProperty.updateDocumentData(e,t)},ITextElement.prototype.canResizeFont=function(e){this.textProperty.canResizeFont(e)},ITextElement.prototype.setMinimumFontSize=function(e){this.textProperty.setMinimumFontSize(e)},ITextElement.prototype.applyTextPropertiesToMatrix=function(e,t,r,i,n){switch(e.ps&&t.translate(e.ps[0],e.ps[1]+e.ascent,0),t.translate(0,-e.ls,0),e.j){case 1:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r]),0,0);break;case 2:t.translate(e.justifyOffset+(e.boxWidth-e.lineWidths[r])/2,0,0)}t.translate(i,n,0)},ITextElement.prototype.buildColor=function(e){return"rgb("+Math.round(255*e[0])+","+Math.round(255*e[1])+","+Math.round(255*e[2])+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(e,t,r){this.textSpans=[],this.renderType="svg",this.initElement(e,t,r)}function ISolidElement(e,t,r){this.initElement(e,t,r)}function NullElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initFrame(),this.initTransform(e,t,r),this.initHierarchy()}function SVGRendererBase(){}function ICompElement(){}function SVGCompElement(e,t,r){this.layers=e.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function SVGRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var r="";if(t&&t.title){var i=createNS("title"),n=createElementID();i.setAttribute("id",n),i.textContent=t.title,this.svgElement.appendChild(i),r+=n}if(t&&t.description){var s=createNS("desc"),o=createElementID();s.setAttribute("id",o),s.textContent=t.description,this.svgElement.appendChild(s),r+=" "+o}r&&this.svgElement.setAttribute("aria-labelledby",r);var a=createNS("defs");this.svgElement.appendChild(a);var l=createNS("g");this.svgElement.appendChild(l),this.layerElement=l,this.renderConfig={preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",progressiveLoad:t&&t.progressiveLoad||!1,hideOnTransparent:!(t&&!1===t.hideOnTransparent),viewBoxOnly:t&&t.viewBoxOnly||!1,viewBoxSize:t&&t.viewBoxSize||!1,className:t&&t.className||"",id:t&&t.id||"",focusable:t&&t.focusable,filterSize:{width:t&&t.filterSize&&t.filterSize.width||"100%",height:t&&t.filterSize&&t.filterSize.height||"100%",x:t&&t.filterSize&&t.filterSize.x||"0%",y:t&&t.filterSize&&t.filterSize.y||"0%"},width:t&&t.width,height:t&&t.height,runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:a,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(e){for(var t=0,r=e.length,i=[],n="";t<r;)"\r"===e[t]||""===e[t]?(i.push(n),n=""):n+=e[t],t+=1;return i.push(n),i},SVGTextLottieElement.prototype.buildShapeData=function(e,t){if(e.shapes&&e.shapes.length){var r=e.shapes[0];if(r.it){var i=r.it[r.it.length-1];i.s&&(i.s.k[0]=t,i.s.k[1]=t)}}return e},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var e,t,r=this.textProperty.currentData;this.renderedLetters=createSizedArray(r?r.l.length:0),r.fc?this.layerElement.setAttribute("fill",this.buildColor(r.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),r.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(r.sc)),this.layerElement.setAttribute("stroke-width",r.sw)),this.layerElement.setAttribute("font-size",r.finalSize);var i=this.globalData.fontManager.getFontByName(r.f);if(i.fClass)this.layerElement.setAttribute("class",i.fClass);else{this.layerElement.setAttribute("font-family",i.fFamily);var n=r.fWeight,s=r.fStyle;this.layerElement.setAttribute("font-style",s),this.layerElement.setAttribute("font-weight",n)}this.layerElement.setAttribute("aria-label",r.t);var o=r.l||[],a=!!this.globalData.fontManager.chars;t=o.length;var l,h=this.mHelper,c=this.data.singleShape,u=0,d=0,p=!0,f=.001*r.tr*r.finalSize;if(!c||a||r.sz){var _,m=this.textSpans.length;for(e=0;e<t;e+=1){if(this.textSpans[e]||(this.textSpans[e]={span:null,childSpan:null,glyph:null}),!a||!c||0===e){if(l=m>e?this.textSpans[e].span:createNS(a?"g":"text"),m<=e){if(l.setAttribute("stroke-linecap","butt"),l.setAttribute("stroke-linejoin","round"),l.setAttribute("stroke-miterlimit","4"),this.textSpans[e].span=l,a){var g=createNS("g");l.appendChild(g),this.textSpans[e].childSpan=g}this.textSpans[e].span=l,this.layerElement.appendChild(l)}l.style.display="inherit"}if(h.reset(),c&&(o[e].n&&(u=-f,d+=r.yOffset,d+=p?1:0,p=!1),this.applyTextPropertiesToMatrix(r,h,o[e].line,u,d),u+=o[e].l||0,u+=f),a){var y;if(1===(_=this.globalData.fontManager.getCharData(r.finalText[e],i.fStyle,this.globalData.fontManager.getFontByName(r.f).fFamily)).t)y=new SVGCompElement(_.data,this.globalData,this);else{var v=emptyShapeData;_.data&&_.data.shapes&&(v=this.buildShapeData(_.data,r.finalSize)),y=new SVGShapeElement(v,this.globalData,this)}if(this.textSpans[e].glyph){var E=this.textSpans[e].glyph;this.textSpans[e].childSpan.removeChild(E.layerElement),E.destroy()}this.textSpans[e].glyph=y,y._debug=!0,y.prepareFrame(0),y.renderFrame(),this.textSpans[e].childSpan.appendChild(y.layerElement),1===_.t&&this.textSpans[e].childSpan.setAttribute("transform","scale("+r.finalSize/100+","+r.finalSize/100+")")}else c&&l.setAttribute("transform","translate("+h.props[12]+","+h.props[13]+")"),l.textContent=o[e].val,l.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}c&&l&&l.setAttribute("d","")}else{var T=this.textContainer,b="start";switch(r.j){case 1:b="end";break;case 2:b="middle";break;default:b="start"}T.setAttribute("text-anchor",b),T.setAttribute("letter-spacing",f);var S=this.buildTextContents(r.finalText);for(t=S.length,d=r.ps?r.ps[1]+r.ascent:0,e=0;e<t;e+=1)(l=this.textSpans[e].span||createNS("tspan")).textContent=S[e],l.setAttribute("x",0),l.setAttribute("y",d),l.style.display="inherit",T.appendChild(l),this.textSpans[e]||(this.textSpans[e]={span:null,glyph:null}),this.textSpans[e].span=l,d+=r.finalLineHeight;this.layerElement.appendChild(T)}for(;e<this.textSpans.length;)this.textSpans[e].span.style.display="none",e+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var e=this.layerElement.getBBox();this.bbox={top:e.y,left:e.x,width:e.width,height:e.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var e,t,r=this.textSpans.length;for(this.renderedFrame=this.comp.renderedFrame,e=0;e<r;e+=1)(t=this.textSpans[e].glyph)&&(t.prepareFrame(this.comp.renderedFrame-this.data.st),t._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var e,t,r,i,n,s=this.textAnimator.renderedLetters,o=this.textProperty.currentData.l;for(t=o.length,e=0;e<t;e+=1)o[e].n||(r=s[e],i=this.textSpans[e].span,(n=this.textSpans[e].glyph)&&n.renderFrame(),r._mdf.m&&i.setAttribute("transform",r.m),r._mdf.o&&i.setAttribute("opacity",r.o),r._mdf.sw&&i.setAttribute("stroke-width",r.sw),r._mdf.sc&&i.setAttribute("stroke",r.sc),r._mdf.fc&&i.setAttribute("fill",r.fc))}},extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var e=createNS("rect");e.setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.layerElement.appendChild(e)},NullElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement),extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(e){return new NullElement(e,this.globalData,this)},SVGRendererBase.prototype.createShape=function(e){return new SVGShapeElement(e,this.globalData,this)},SVGRendererBase.prototype.createText=function(e){return new SVGTextLottieElement(e,this.globalData,this)},SVGRendererBase.prototype.createImage=function(e){return new IImageElement(e,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(e){return new ISolidElement(e,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(e){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+e.w+" "+e.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",e.w),this.svgElement.setAttribute("height",e.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),void 0!==this.renderConfig.focusable&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var t=this.globalData.defs;this.setupGlobalData(e,t),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=e;var r=createNS("clipPath"),i=createNS("rect");i.setAttribute("width",e.w),i.setAttribute("height",e.h),i.setAttribute("x",0),i.setAttribute("y",0);var n=createElementID();r.setAttribute("id",n),r.appendChild(i),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+n+")"),t.appendChild(r),this.layers=e.layers,this.elements=createSizedArray(e.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(e){var t=0,r=this.layers.length;for(t=0;t<r;t+=1)if(this.layers[t].ind===e)return t;return-1},SVGRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){t[e]=!0;var r=this.createItem(this.layers[e]);if(t[e]=r,getExpressionsPlugin()&&(0===this.layers[e].ty&&this.globalData.projectInterface.registerComposition(r),r.initExpressions()),this.appendElementInPos(r,e),this.layers[e].tt){var i="tp"in this.layers[e]?this.findIndexByInd(this.layers[e].tp):e-1;if(-1===i)return;if(this.elements[i]&&!0!==this.elements[i]){var n=t[i].getMatte(this.layers[e].tt);r.setMatte(n)}else this.buildItem(i),this.addPendingElement(r)}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var e=this.pendingElements.pop();if(e.checkParenting(),e.data.tt)for(var t=0,r=this.elements.length;t<r;){if(this.elements[t]===e){var i="tp"in e.data?this.findIndexByInd(e.data.tp):t-1,n=this.elements[i].getMatte(this.layers[t].tt);e.setMatte(n);break}t+=1}}},SVGRendererBase.prototype.renderFrame=function(e){if(this.renderedFrame!==e&&!this.destroyed){null===e?e=this.renderedFrame:this.renderedFrame=e,this.globalData.frameNum=e,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=e,this.globalData._mdf=!1;var t,r=this.layers.length;for(this.completeLayers||this.checkLayers(e),t=r-1;t>=0;t-=1)(this.completeLayers||this.elements[t])&&this.elements[t].prepareFrame(e-this.layers[t].st);if(this.globalData._mdf)for(t=0;t<r;t+=1)(this.completeLayers||this.elements[t])&&this.elements[t].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){for(var i,n=0;n<t;)this.elements[n]&&!0!==this.elements[n]&&this.elements[n].getBaseElement()&&(i=this.elements[n].getBaseElement()),n+=1;i?this.layerElement.insertBefore(r,i):this.layerElement.appendChild(r)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initTransform(e,t,r),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!t.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(e){if(this._mdf=!1,this.prepareRenderableFrame(e),this.prepareProperties(e,this.isInRange),this.isInRange||this.data.xt){if(this.tm._placeholder)this.renderedFrame=e/this.data.sr;else{var t=this.tm.v;t===this.data.op&&(t=this.data.op-1),this.renderedFrame=t}var r,i=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&(this.elements[r].prepareFrame(this.renderedFrame-this.layers[r].st),this.elements[r]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},ICompElement.prototype.setElements=function(e){this.elements=e},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var e,t=this.layers.length;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()},extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(e){return new SVGCompElement(e,this.globalData,this)},ShapeTransformManager.prototype={addTransformSequence:function(e){var t,r=e.length,i="_";for(t=0;t<r;t+=1)i+=e[t].transform.key+"_";var n=this.sequences[i];return n||(n={transforms:[].concat(e),finalTransform:new Matrix,_mdf:!1},this.sequences[i]=n,this.sequenceList.push(n)),n},processSequence:function(e,t){for(var r=0,i=e.transforms.length,n=t;r<i&&!t;){if(e.transforms[r].transform.mProps._mdf){n=!0;break}r+=1}if(n)for(e.finalTransform.reset(),r=i-1;r>=0;r-=1)e.finalTransform.multiply(e.transforms[r].transform.mProps.v);e._mdf=n},processSequences:function(e){var t,r=this.sequenceList.length;for(t=0;t<r;t+=1)this.processSequence(this.sequenceList[t],e)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var e="__lottie_element_luma_buffer",t=null,r=null,i=null;function n(){var n,s,o;t||(n=createNS("svg"),s=createNS("filter"),o=createNS("feColorMatrix"),s.setAttribute("id",e),o.setAttribute("type","matrix"),o.setAttribute("color-interpolation-filters","sRGB"),o.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),s.appendChild(o),n.appendChild(s),n.setAttribute("id",e+"_svg"),featureSupport.svgLumaHidden&&(n.style.display="none"),i=n,document.body.appendChild(i),t=createTag("canvas"),(r=t.getContext("2d")).filter="url(#"+e+")",r.fillStyle="rgba(0,0,0,0)",r.fillRect(0,0,1,1))}return{load:n,get:function(i){return t||n(),t.width=i.width,t.height=i.height,r.filter="url(#"+e+")",t}}};function createCanvas(e,t){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(e,t);var r=createTag("canvas");return r.width=e,r.height=t,r}var assetLoader={loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas:createCanvas},registeredEffects={};function CVEffects(e){var t,r,i=e.data.ef?e.data.ef.length:0;for(this.filters=[],t=0;t<i;t+=1){r=null;var n=e.data.ef[t].ty;registeredEffects[n]&&(r=new(0,registeredEffects[n].effect)(e.effectsManager.effectElements[t],e)),r&&this.filters.push(r)}this.filters.length&&e.addRenderableComponent(this)}function registerEffect(e,t){registeredEffects[e]={effect:t}}function CVMaskElement(e,t){this.data=e,this.element=t,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var r,i=this.masksProperties.length,n=!1;for(r=0;r<i;r+=1)"n"!==this.masksProperties[r].mode&&(n=!0),this.viewData[r]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[r],3);this.hasMasks=n,n&&this.element.addRenderableComponent(this)}function CVBaseElement(){}CVEffects.prototype.renderFrame=function(e){var t,r=this.filters.length;for(t=0;t<r;t+=1)this.filters[t].renderFrame(e)},CVEffects.prototype.getEffects=function(e){var t,r=this.filters.length,i=[];for(t=0;t<r;t+=1)this.filters[t].type===e&&i.push(this.filters[t]);return i},CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var e,t,r,i,n=this.element.finalTransform.mat,s=this.element.canvasContext,o=this.masksProperties.length;for(s.beginPath(),e=0;e<o;e+=1)if("n"!==this.masksProperties[e].mode){this.masksProperties[e].inv&&(s.moveTo(0,0),s.lineTo(this.element.globalData.compSize.w,0),s.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),s.lineTo(0,this.element.globalData.compSize.h),s.lineTo(0,0)),i=this.viewData[e].v,t=n.applyToPointArray(i.v[0][0],i.v[0][1],0),s.moveTo(t[0],t[1]);var a,l=i._length;for(a=1;a<l;a+=1)r=n.applyToTriplePoints(i.o[a-1],i.i[a],i.v[a]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5]);r=n.applyToTriplePoints(i.o[a-1],i.i[0],i.v[0]),s.bezierCurveTo(r[0],r[1],r[2],r[3],r[4],r[5])}this.element.globalData.renderer.save(!0),s.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};function CVShapeData(e,t,r,i){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var n=4;"rc"===t.ty?n=5:"el"===t.ty?n=6:"sr"===t.ty&&(n=7),this.sh=ShapePropertyFactory.getShapeProp(e,t,n,e);var s,o,a=r.length;for(s=0;s<a;s+=1)r[s].closed||(o={transforms:i.addTransformSequence(r[s].transforms),trNodes:[]},this.styledShapes.push(o),r[s].elements.push(o))}function CVShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(e,t,r)}function CVTextElement(e,t,r){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(e,t,r)}function CVImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.img=t.imageLoader.getAsset(this.assetData),this.initElement(e,t,r)}function CVSolidElement(e,t,r){this.initElement(e,t,r)}function CanvasRendererBase(){}function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){var e;for(this.stack=[],this.cArrPos=0,this.cTr=new Matrix,e=0;e<15;e+=1){var t=new CanvasContext;this.stack[e]=t}this._length=15,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}function CVCompElement(e,t,r){this.completeLayers=!1,this.layers=e.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function CanvasRenderer(e,t){this.animationItem=e,this.renderConfig={clearCanvas:!t||void 0===t.clearCanvas||t.clearCanvas,context:t&&t.context||null,progressiveLoad:t&&t.progressiveLoad||!1,preserveAspectRatio:t&&t.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:t&&t.contentVisibility||"visible",className:t&&t.className||"",id:t&&t.id||"",runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.renderConfig.dpr=t&&t.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=t&&t.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}function HBaseElement(){}function HSolidElement(e,t,r){this.initElement(e,t,r)}function HShapeElement(e,t,r){this.shapes=[],this.shapesData=e.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(e,t,r),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}function HTextElement(e,t,r){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(e,t,r)}function HCameraElement(e,t,r){this.initFrame(),this.initBaseData(e,t,r),this.initHierarchy();var i=PropertyFactory.getProp;if(this.pe=i(this,e.pe,0,0,this),e.ks.p.s?(this.px=i(this,e.ks.p.x,1,0,this),this.py=i(this,e.ks.p.y,1,0,this),this.pz=i(this,e.ks.p.z,1,0,this)):this.p=i(this,e.ks.p,1,0,this),e.ks.a&&(this.a=i(this,e.ks.a,1,0,this)),e.ks.or.k.length&&e.ks.or.k[0].to){var n,s=e.ks.or.k.length;for(n=0;n<s;n+=1)e.ks.or.k[n].to=null,e.ks.or.k[n].ti=null}this.or=i(this,e.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=i(this,e.ks.rx,0,degToRads,this),this.ry=i(this,e.ks.ry,0,degToRads,this),this.rz=i(this,e.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}function HImageElement(e,t,r){this.assetData=t.getAssetData(e.refId),this.initElement(e,t,r)}function HybridRendererBase(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}function HCompElement(e,t,r){this.layers=e.layers,this.supports3d=!e.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(e,t,r),this.tm=e.tm?PropertyFactory.getProp(this,e.tm,0,t.frameRate,this):{_placeholder:!0}}function HybridRenderer(e,t){this.animationItem=e,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:t&&t.className||"",imagePreserveAspectRatio:t&&t.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(t&&!1===t.hideOnTransparent),filterSize:{width:t&&t.filterSize&&t.filterSize.width||"400%",height:t&&t.filterSize&&t.filterSize.height||"400%",x:t&&t.filterSize&&t.filterSize.x||"-100%",y:t&&t.filterSize&&t.filterSize.y||"-100%"},runExpressions:!t||void 0===t.runExpressions||t.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var e=this.globalData.canvasContext,t=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(t);var r=assetLoader.createCanvas(e.canvas.width,e.canvas.height);this.buffers.push(r),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var e=this.globalData;if(e.blendMode!==this.data.bm){e.blendMode=this.data.bm;var t=getBlendMode(this.data.bm);e.canvasContext.globalCompositeOperation=t}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(e){e.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var e=this.buffers[0].getContext("2d");this.clearCanvas(e),e.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var e=this.buffers[1],t=e.getContext("2d");if(this.clearCanvas(t),t.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform),this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1).renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var r=assetLoader.getLumaCanvas(this.canvasContext.canvas);r.getContext("2d").drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(r,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(e,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(e){if(!this.hidden&&!this.data.hd&&(1!==this.data.td||e)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var t=0===this.data.ty;this.prepareLayer(),this.globalData.renderer.save(t),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(t),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement,CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated,extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(e,t){var r={data:e,type:e.ty,preTransforms:this.transformsManager.addTransformSequence(t),transforms:[],elements:[],closed:!0===e.hd},i={};if("fl"===e.ty||"st"===e.ty?(i.c=PropertyFactory.getProp(this,e.c,1,255,this),i.c.k||(r.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")")):("gf"===e.ty||"gs"===e.ty)&&(i.s=PropertyFactory.getProp(this,e.s,1,null,this),i.e=PropertyFactory.getProp(this,e.e,1,null,this),i.h=PropertyFactory.getProp(this,e.h||{k:0},0,.01,this),i.a=PropertyFactory.getProp(this,e.a||{k:0},0,degToRads,this),i.g=new GradientProperty(this,e.g,this)),i.o=PropertyFactory.getProp(this,e.o,0,.01,this),"st"===e.ty||"gs"===e.ty){if(r.lc=lineCapEnum[e.lc||2],r.lj=lineJoinEnum[e.lj||2],1==e.lj&&(r.ml=e.ml),i.w=PropertyFactory.getProp(this,e.w,0,null,this),i.w.k||(r.wi=i.w.v),e.d){var n=new DashProperty(this,e.d,"canvas",this);i.d=n,i.d.k||(r.da=i.d.dashArray,r.do=i.d.dashoffset[0])}}else r.r=2===e.r?"evenodd":"nonzero";return this.stylesList.push(r),i.style=r,i},CVShapeElement.prototype.createGroupElement=function(){return{it:[],prevViewData:[]}},CVShapeElement.prototype.createTransformElement=function(e){return{transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,e.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,e,this)}}},CVShapeElement.prototype.createShapeElement=function(e){var t=new CVShapeData(this,e,this.stylesList,this.transformsManager);return this.shapes.push(t),this.addShapeToModifiers(t),t},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var e,t=this.itemsData.length;for(e=0;e<t;e+=1)this.prevViewData[e]=this.itemsData[e];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),t=this.dynamicProperties.length,e=0;e<t;e+=1)this.dynamicProperties[e].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(e){var t,r=this.stylesList.length;for(t=0;t<r;t+=1)this.stylesList[t].closed||this.stylesList[t].transforms.push(e)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var e,t=this.stylesList.length;for(e=0;e<t;e+=1)this.stylesList[e].closed||this.stylesList[e].transforms.pop()},CVShapeElement.prototype.closeStyles=function(e){var t,r=e.length;for(t=0;t<r;t+=1)e[t].closed=!0},CVShapeElement.prototype.searchShapes=function(e,t,r,i,n){var s,o,a,l,h,c,u=e.length-1,d=[],p=[],f=[].concat(n);for(s=u;s>=0;s-=1){if((l=this.searchProcessedElement(e[s]))?t[s]=r[l-1]:e[s]._shouldRender=i,"fl"===e[s].ty||"st"===e[s].ty||"gf"===e[s].ty||"gs"===e[s].ty)l?t[s].style.closed=!1:t[s]=this.createStyleElement(e[s],f),d.push(t[s].style);else if("gr"===e[s].ty){if(l)for(a=t[s].it.length,o=0;o<a;o+=1)t[s].prevViewData[o]=t[s].it[o];else t[s]=this.createGroupElement(e[s]);this.searchShapes(e[s].it,t[s].it,t[s].prevViewData,i,f)}else"tr"===e[s].ty?(l||(c=this.createTransformElement(e[s]),t[s]=c),f.push(t[s]),this.addTransformToStyleList(t[s])):"sh"===e[s].ty||"rc"===e[s].ty||"el"===e[s].ty||"sr"===e[s].ty?l||(t[s]=this.createShapeElement(e[s])):"tm"===e[s].ty||"rd"===e[s].ty||"pb"===e[s].ty||"zz"===e[s].ty||"op"===e[s].ty?(l?(h=t[s]).closed=!1:((h=ShapeModifiers.getModifier(e[s].ty)).init(this,e[s]),t[s]=h,this.shapeModifiers.push(h)),p.push(h)):"rp"===e[s].ty&&(l?(h=t[s]).closed=!0:(h=ShapeModifiers.getModifier(e[s].ty),t[s]=h,h.init(this,e,s,t),this.shapeModifiers.push(h),i=!1),p.push(h));this.addProcessedElement(e[s],s+1)}for(this.removeTransformFromStyleList(),this.closeStyles(d),u=p.length,s=0;s<u;s+=1)p[s].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(e,t){(e._opMdf||t.op._mdf||this._isFirstFrame)&&(t.opacity=e.opacity,t.opacity*=t.op.v,t._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var e,t,r,i,n,s,o,a,l,h=this.stylesList.length,c=this.globalData.renderer,u=this.globalData.canvasContext;for(e=0;e<h;e+=1)if(("st"!==(a=(l=this.stylesList[e]).type)&&"gs"!==a||0!==l.wi)&&l.data._shouldRender&&0!==l.coOp&&0!==this.globalData.currentGlobalAlpha){for(c.save(),s=l.elements,"st"===a||"gs"===a?(c.ctxStrokeStyle("st"===a?l.co:l.grd),c.ctxLineWidth(l.wi),c.ctxLineCap(l.lc),c.ctxLineJoin(l.lj),c.ctxMiterLimit(l.ml||0)):c.ctxFillStyle("fl"===a?l.co:l.grd),c.ctxOpacity(l.coOp),"st"!==a&&"gs"!==a&&u.beginPath(),c.ctxTransform(l.preTransforms.finalTransform.props),r=s.length,t=0;t<r;t+=1){for(("st"===a||"gs"===a)&&(u.beginPath(),l.da&&(u.setLineDash(l.da),u.lineDashOffset=l.do)),n=(o=s[t].trNodes).length,i=0;i<n;i+=1)"m"===o[i].t?u.moveTo(o[i].p[0],o[i].p[1]):"c"===o[i].t?u.bezierCurveTo(o[i].pts[0],o[i].pts[1],o[i].pts[2],o[i].pts[3],o[i].pts[4],o[i].pts[5]):u.closePath();("st"===a||"gs"===a)&&(c.ctxStroke(),l.da&&u.setLineDash(this.dashResetter))}"st"!==a&&"gs"!==a&&this.globalData.renderer.ctxFill(l.r),c.restore()}},CVShapeElement.prototype.renderShape=function(e,t,r,i){var n,s;for(s=e,n=t.length-1;n>=0;n-=1)"tr"===t[n].ty?(s=r[n].transform,this.renderShapeTransform(e,s)):"sh"===t[n].ty||"el"===t[n].ty||"rc"===t[n].ty||"sr"===t[n].ty?this.renderPath(t[n],r[n]):"fl"===t[n].ty?this.renderFill(t[n],r[n],s):"st"===t[n].ty?this.renderStroke(t[n],r[n],s):"gf"===t[n].ty||"gs"===t[n].ty?this.renderGradientFill(t[n],r[n],s):"gr"===t[n].ty?this.renderShape(s,t[n].it,r[n].it):t[n].ty;i&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(e,t){if(this._isFirstFrame||t._mdf||e.transforms._mdf){var r,i,n,s=e.trNodes,o=t.paths,a=o._length;s.length=0;var l=e.transforms.finalTransform;for(n=0;n<a;n+=1){var h=o.shapes[n];if(h&&h.v){for(i=h._length,r=1;r<i;r+=1)1===r&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),s.push({t:"c",pts:l.applyToTriplePoints(h.o[r-1],h.i[r],h.v[r])});1===i&&s.push({t:"m",p:l.applyToPointArray(h.v[0][0],h.v[0][1],0)}),h.c&&i&&(s.push({t:"c",pts:l.applyToTriplePoints(h.o[r-1],h.i[0],h.v[0])}),s.push({t:"z"}))}}e.trNodes=s}},CVShapeElement.prototype.renderPath=function(e,t){if(!0!==e.hd&&e._shouldRender){var r,i=t.styledShapes.length;for(r=0;r<i;r+=1)this.renderStyledShape(t.styledShapes[r],t.sh)}},CVShapeElement.prototype.renderFill=function(e,t,r){var i=t.style;(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*r.opacity)},CVShapeElement.prototype.renderGradientFill=function(e,t,r){var i,n=t.style;if(!n.grd||t.g._mdf||t.s._mdf||t.e._mdf||1!==e.t&&(t.h._mdf||t.a._mdf)){var s=this.globalData.canvasContext,o=t.s.v,a=t.e.v;if(1===e.t)i=s.createLinearGradient(o[0],o[1],a[0],a[1]);else{var l=Math.sqrt(Math.pow(o[0]-a[0],2)+Math.pow(o[1]-a[1],2)),h=Math.atan2(a[1]-o[1],a[0]-o[0]),c=t.h.v;c>=1?c=.99:c<=-1&&(c=-.99);var u=l*c,d=Math.cos(h+t.a.v)*u+o[0],p=Math.sin(h+t.a.v)*u+o[1];i=s.createRadialGradient(d,p,0,o[0],o[1],l)}var f,_=e.g.p,m=t.g.c,g=1;for(f=0;f<_;f+=1)t.g._hasOpacity&&t.g._collapsable&&(g=t.g.o[2*f+1]),i.addColorStop(m[4*f]/100,"rgba("+m[4*f+1]+","+m[4*f+2]+","+m[4*f+3]+","+g+")");n.grd=i}n.coOp=t.o.v*r.opacity},CVShapeElement.prototype.renderStroke=function(e,t,r){var i=t.style,n=t.d;n&&(n._mdf||this._isFirstFrame)&&(i.da=n.dashArray,i.do=n.dashoffset[0]),(t.c._mdf||this._isFirstFrame)&&(i.co="rgb("+bmFloor(t.c.v[0])+","+bmFloor(t.c.v[1])+","+bmFloor(t.c.v[2])+")"),(t.o._mdf||r._opMdf||this._isFirstFrame)&&(i.coOp=t.o.v*r.opacity),(t.w._mdf||this._isFirstFrame)&&(i.wi=t.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=!1;e.fc?(t=!0,this.values.fill=this.buildColor(e.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=t;var r=!1;e.sc&&(r=!0,this.values.stroke=this.buildColor(e.sc),this.values.sWidth=e.sw);var i,n,s=this.globalData.fontManager.getFontByName(e.f),o=e.l,a=this.mHelper;this.stroke=r,this.values.fValue=e.finalSize+"px "+this.globalData.fontManager.getFontByName(e.f).fFamily,n=e.finalText.length;var l,h,c,u,d,p,f,_,m,g,y=this.data.singleShape,v=.001*e.tr*e.finalSize,E=0,T=0,b=!0,S=0;for(i=0;i<n;i+=1){h=(l=this.globalData.fontManager.getCharData(e.finalText[i],s.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily))&&l.data||{},a.reset(),y&&o[i].n&&(E=-v,T+=e.yOffset,T+=b?1:0,b=!1),f=(d=h.shapes?h.shapes[0].it:[]).length,a.scale(e.finalSize/100,e.finalSize/100),y&&this.applyTextPropertiesToMatrix(e,a,o[i].line,E,T),m=createSizedArray(f-1);var x=0;for(p=0;p<f;p+=1)if("sh"===d[p].ty){for(u=d[p].ks.k.i.length,_=d[p].ks.k,g=[],c=1;c<u;c+=1)1===c&&g.push(a.applyToX(_.v[0][0],_.v[0][1],0),a.applyToY(_.v[0][0],_.v[0][1],0)),g.push(a.applyToX(_.o[c-1][0],_.o[c-1][1],0),a.applyToY(_.o[c-1][0],_.o[c-1][1],0),a.applyToX(_.i[c][0],_.i[c][1],0),a.applyToY(_.i[c][0],_.i[c][1],0),a.applyToX(_.v[c][0],_.v[c][1],0),a.applyToY(_.v[c][0],_.v[c][1],0));g.push(a.applyToX(_.o[c-1][0],_.o[c-1][1],0),a.applyToY(_.o[c-1][0],_.o[c-1][1],0),a.applyToX(_.i[0][0],_.i[0][1],0),a.applyToY(_.i[0][0],_.i[0][1],0),a.applyToX(_.v[0][0],_.v[0][1],0),a.applyToY(_.v[0][0],_.v[0][1],0)),m[x]=g,x+=1}y&&(E+=o[i].l,E+=v),this.textSpans[S]?this.textSpans[S].elem=m:this.textSpans[S]={elem:m},S+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText(),this.canvasContext.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var e,t,r,i,n,s,o=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;t=a.length;var l,h,c,u=null,d=null,p=null,f=this.globalData.renderer;for(e=0;e<t;e+=1)if(!a[e].n){if((l=o[e])&&(f.save(),f.ctxTransform(l.p),f.ctxOpacity(l.o)),this.fill){for(l&&l.fc?u!==l.fc&&(f.ctxFillStyle(l.fc),u=l.fc):u!==this.values.fill&&(u=this.values.fill,f.ctxFillStyle(this.values.fill)),i=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=h[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),f.ctxFill()}if(this.stroke){for(l&&l.sw?p!==l.sw&&(p=l.sw,f.ctxLineWidth(l.sw)):p!==this.values.sWidth&&(p=this.values.sWidth,f.ctxLineWidth(this.values.sWidth)),l&&l.sc?d!==l.sc&&(d=l.sc,f.ctxStrokeStyle(l.sc)):d!==this.values.stroke&&(d=this.values.stroke,f.ctxStrokeStyle(this.values.stroke)),i=(h=this.textSpans[e].elem).length,this.globalData.canvasContext.beginPath(),r=0;r<i;r+=1)for(s=(c=h[r]).length,this.globalData.canvasContext.moveTo(c[0],c[1]),n=2;n<s;n+=6)this.globalData.canvasContext.bezierCurveTo(c[n],c[n+1],c[n+2],c[n+3],c[n+4],c[n+5]);this.globalData.canvasContext.closePath(),f.ctxStroke()}l&&this.globalData.renderer.restore()}},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var e=createTag("canvas");e.width=this.assetData.w,e.height=this.assetData.h;var t,r,i=e.getContext("2d"),n=this.img.width,s=this.img.height,o=n/s,a=this.assetData.w/this.assetData.h,l=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;o>a&&"xMidYMid slice"===l||o<a&&"xMidYMid slice"!==l?t=(r=s)*a:r=(t=n)/a,i.drawImage(this.img,(n-t)/2,(s-r)/2,t,r,0,0,this.assetData.w,this.assetData.h),this.img=e}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null},extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)},extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(e){return new CVShapeElement(e,this.globalData,this)},CanvasRendererBase.prototype.createText=function(e){return new CVTextElement(e,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(e){return new CVImageElement(e,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(e){return new CVSolidElement(e,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(e){1===e[0]&&0===e[1]&&0===e[4]&&1===e[5]&&0===e[12]&&0===e[13]||this.canvasContext.transform(e[0],e[1],e[4],e[5],e[12],e[13])},CanvasRendererBase.prototype.ctxOpacity=function(e){this.canvasContext.globalAlpha*=e<0?0:e},CanvasRendererBase.prototype.ctxFillStyle=function(e){this.canvasContext.fillStyle=e},CanvasRendererBase.prototype.ctxStrokeStyle=function(e){this.canvasContext.strokeStyle=e},CanvasRendererBase.prototype.ctxLineWidth=function(e){this.canvasContext.lineWidth=e},CanvasRendererBase.prototype.ctxLineCap=function(e){this.canvasContext.lineCap=e},CanvasRendererBase.prototype.ctxLineJoin=function(e){this.canvasContext.lineJoin=e},CanvasRendererBase.prototype.ctxMiterLimit=function(e){this.canvasContext.miterLimit=e},CanvasRendererBase.prototype.ctxFill=function(e){this.canvasContext.fill(e)},CanvasRendererBase.prototype.ctxFillRect=function(e,t,r,i){this.canvasContext.fillRect(e,t,r,i)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){this.renderConfig.clearCanvas?this.contextData.reset():this.canvasContext.restore()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(e){this.renderConfig.clearCanvas?(e&&(this.globalData.blendMode="source-over"),this.contextData.restore(e)):this.canvasContext.restore()},CanvasRendererBase.prototype.configAnimation=function(e){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var t=this.animationItem.container.style;t.width="100%",t.height="100%";var r="0px 0px 0px";t.transformOrigin=r,t.mozTransformOrigin=r,t.webkitTransformOrigin=r,t["-webkit-transform"]=r,t.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=e,this.layers=e.layers,this.transformCanvas={w:e.w,h:e.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(e,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(e.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(e,t){var r,i,n,s;if(this.reset(),e?(r=e,i=t,this.canvasContext.canvas.width=r,this.canvasContext.canvas.height=i):(this.animationItem.wrapper&&this.animationItem.container?(r=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight):(r=this.canvasContext.canvas.width,i=this.canvasContext.canvas.height),this.canvasContext.canvas.width=r*this.renderConfig.dpr,this.canvasContext.canvas.height=i*this.renderConfig.dpr),-1!==this.renderConfig.preserveAspectRatio.indexOf("meet")||-1!==this.renderConfig.preserveAspectRatio.indexOf("slice")){var o=this.renderConfig.preserveAspectRatio.split(" "),a=o[1]||"meet",l=o[0]||"xMidYMid",h=l.substr(0,4),c=l.substr(4);n=r/i,(s=this.transformCanvas.w/this.transformCanvas.h)>n&&"meet"===a||s<n&&"slice"===a?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=r/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr)),this.transformCanvas.tx="xMid"===h&&(s<n&&"meet"===a||s>n&&"slice"===a)?(r-this.transformCanvas.w*(i/this.transformCanvas.h))/2*this.renderConfig.dpr:"xMax"===h&&(s<n&&"meet"===a||s>n&&"slice"===a)?(r-this.transformCanvas.w*(i/this.transformCanvas.h))*this.renderConfig.dpr:0,this.transformCanvas.ty="YMid"===c&&(s>n&&"meet"===a||s<n&&"slice"===a)?(i-this.transformCanvas.h*(r/this.transformCanvas.w))/2*this.renderConfig.dpr:"YMax"===c&&(s>n&&"meet"===a||s<n&&"slice"===a)?(i-this.transformCanvas.h*(r/this.transformCanvas.w))*this.renderConfig.dpr:0}else"none"===this.renderConfig.preserveAspectRatio?(this.transformCanvas.sx=r/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=i/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){var e;for(this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),e=(this.layers?this.layers.length:0)-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(e,t){if((this.renderedFrame!==e||!0!==this.renderConfig.clearCanvas||t)&&!this.destroyed&&-1!==e){this.renderedFrame=e,this.globalData.frameNum=e-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||t,this.globalData.projectInterface.currentFrame=e;var r,i=this.layers.length;for(this.completeLayers||this.checkLayers(e),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].prepareFrame(e-this.layers[r].st);if(this.globalData._mdf){for(!0===this.renderConfig.clearCanvas?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),r=i-1;r>=0;r-=1)(this.completeLayers||this.elements[r])&&this.elements[r].renderFrame();!0!==this.renderConfig.clearCanvas&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(e){var t=this.elements;if(!t[e]&&99!==this.layers[e].ty){var r=this.createItem(this.layers[e],this,this.globalData);t[e]=r,r.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"},CVContextData.prototype.duplicate=function(){var e=2*this._length,t=0;for(t=this._length;t<e;t+=1)this.stack[t]=new CanvasContext;this._length=e},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(e){this.cArrPos-=1;var t,r=this.stack[this.cArrPos],i=r.transform,n=this.cTr.props;for(t=0;t<16;t+=1)n[t]=i[t];if(e){this.nativeContext.restore();var s=this.stack[this.cArrPos+1];this.appliedFillStyle=s.fillStyle,this.appliedStrokeStyle=s.strokeStyle,this.appliedLineWidth=s.lineWidth,this.appliedLineCap=s.lineCap,this.appliedLineJoin=s.lineJoin,this.appliedMiterLimit=s.miterLimit}this.nativeContext.setTransform(i[0],i[1],i[4],i[5],i[12],i[13]),(e||-1!==r.opacity&&this.currentOpacity!==r.opacity)&&(this.nativeContext.globalAlpha=r.opacity,this.currentOpacity=r.opacity),this.currentFillStyle=r.fillStyle,this.currentStrokeStyle=r.strokeStyle,this.currentLineWidth=r.lineWidth,this.currentLineCap=r.lineCap,this.currentLineJoin=r.lineJoin,this.currentMiterLimit=r.miterLimit},CVContextData.prototype.save=function(e){e&&this.nativeContext.save();var t=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var r,i=this.stack[this.cArrPos];for(r=0;r<16;r+=1)i.transform[r]=t[r];this.cArrPos+=1;var n=this.stack[this.cArrPos];n.opacity=i.opacity,n.fillStyle=i.fillStyle,n.strokeStyle=i.strokeStyle,n.lineWidth=i.lineWidth,n.lineCap=i.lineCap,n.lineJoin=i.lineJoin,n.miterLimit=i.miterLimit},CVContextData.prototype.setOpacity=function(e){this.stack[this.cArrPos].opacity=e},CVContextData.prototype.setContext=function(e){this.nativeContext=e},CVContextData.prototype.fillStyle=function(e){this.stack[this.cArrPos].fillStyle!==e&&(this.currentFillStyle=e,this.stack[this.cArrPos].fillStyle=e)},CVContextData.prototype.strokeStyle=function(e){this.stack[this.cArrPos].strokeStyle!==e&&(this.currentStrokeStyle=e,this.stack[this.cArrPos].strokeStyle=e)},CVContextData.prototype.lineWidth=function(e){this.stack[this.cArrPos].lineWidth!==e&&(this.currentLineWidth=e,this.stack[this.cArrPos].lineWidth=e)},CVContextData.prototype.lineCap=function(e){this.stack[this.cArrPos].lineCap!==e&&(this.currentLineCap=e,this.stack[this.cArrPos].lineCap=e)},CVContextData.prototype.lineJoin=function(e){this.stack[this.cArrPos].lineJoin!==e&&(this.currentLineJoin=e,this.stack[this.cArrPos].lineJoin=e)},CVContextData.prototype.miterLimit=function(e){this.stack[this.cArrPos].miterLimit!==e&&(this.currentMiterLimit=e,this.stack[this.cArrPos].miterLimit=e)},CVContextData.prototype.transform=function(e){this.transformMat.cloneFromProps(e);var t=this.cTr;this.transformMat.multiply(t),t.cloneFromProps(this.transformMat.props);var r=t.props;this.nativeContext.setTransform(r[0],r[1],r[4],r[5],r[12],r[13])},CVContextData.prototype.opacity=function(e){var t=this.stack[this.cArrPos].opacity;t*=e<0?0:e,this.stack[this.cArrPos].opacity!==t&&(this.currentOpacity!==e&&(this.nativeContext.globalAlpha=e,this.currentOpacity=e),this.stack[this.cArrPos].opacity=t)},CVContextData.prototype.fill=function(e){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(e)},CVContextData.prototype.fillRect=function(e,t,r,i){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(e,t,r,i)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()},extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var e,t=this.canvasContext;for(t.beginPath(),t.moveTo(0,0),t.lineTo(this.data.w,0),t.lineTo(this.data.w,this.data.h),t.lineTo(0,this.data.h),t.lineTo(0,0),t.clip(),e=this.layers.length-1;e>=0;e-=1)(this.completeLayers||this.elements[e])&&this.elements[e].renderFrame()},CVCompElement.prototype.destroy=function(){var e;for(e=this.layers.length-1;e>=0;e-=1)this.elements[e]&&this.elements[e].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(e){return new CVCompElement(e,this.globalData,this)},HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),0!==this.data.bm&&this.setBlendMode()},renderElement:function(){var e=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var t=this.finalTransform.mat.toCSS();e.transform=t,e.webkitTransform=t}this.finalTransform._opMdf&&(e.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting,extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var e;this.data.hasMask?((e=createNS("rect")).setAttribute("width",this.data.sw),e.setAttribute("height",this.data.sh),e.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):((e=createTag("div")).style.width=this.data.sw+"px",e.style.height=this.data.sh+"px",e.style.backgroundColor=this.data.sc),this.layerElement.appendChild(e)},extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var e;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),e=this.svgElement;else{e=createNS("svg");var t=this.comp.data?this.comp.data:this.globalData.compSize;e.setAttribute("width",t.w),e.setAttribute("height",t.h),e.appendChild(this.shapesContainer),this.layerElement.appendChild(e)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=e},HShapeElement.prototype.getTransformedPoint=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)t=e[r].mProps.v.applyToPointArray(t[0],t[1],0);return t},HShapeElement.prototype.calculateShapeBoundingBox=function(e,t){var r,i,n,s,o,a=e.sh.v,l=e.transformers,h=a._length;if(!(h<=1)){for(r=0;r<h-1;r+=1)i=this.getTransformedPoint(l,a.v[r]),n=this.getTransformedPoint(l,a.o[r]),s=this.getTransformedPoint(l,a.i[r+1]),o=this.getTransformedPoint(l,a.v[r+1]),this.checkBounds(i,n,s,o,t);a.c&&(i=this.getTransformedPoint(l,a.v[r]),n=this.getTransformedPoint(l,a.o[r]),s=this.getTransformedPoint(l,a.i[0]),o=this.getTransformedPoint(l,a.v[0]),this.checkBounds(i,n,s,o,t))}},HShapeElement.prototype.checkBounds=function(e,t,r,i,n){this.getBoundsOfCurve(e,t,r,i);var s=this.shapeBoundingBox;n.x=bmMin(s.left,n.x),n.xMax=bmMax(s.right,n.xMax),n.y=bmMin(s.top,n.y),n.yMax=bmMax(s.bottom,n.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(e,t,r,i){for(var n,s,o,a,l,h,c,u=[[e[0],i[0]],[e[1],i[1]]],d=0;d<2;++d)s=6*e[d]-12*t[d]+6*r[d],n=-3*e[d]+9*t[d]-9*r[d]+3*i[d],o=3*t[d]-3*e[d],s|=0,o|=0,0==(n|=0)&&0===s||(0===n?(a=-o/s)>0&&a<1&&u[d].push(this.calculateF(a,e,t,r,i,d)):(l=s*s-4*o*n)>=0&&((h=(-s+bmSqrt(l))/(2*n))>0&&h<1&&u[d].push(this.calculateF(h,e,t,r,i,d)),(c=(-s-bmSqrt(l))/(2*n))>0&&c<1&&u[d].push(this.calculateF(c,e,t,r,i,d))));this.shapeBoundingBox.left=bmMin.apply(null,u[0]),this.shapeBoundingBox.top=bmMin.apply(null,u[1]),this.shapeBoundingBox.right=bmMax.apply(null,u[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,u[1])},HShapeElement.prototype.calculateF=function(e,t,r,i,n,s){return bmPow(1-e,3)*t[s]+3*bmPow(1-e,2)*e*r[s]+3*(1-e)*bmPow(e,2)*i[s]+bmPow(e,3)*n[s]},HShapeElement.prototype.calculateBoundingBox=function(e,t){var r,i=e.length;for(r=0;r<i;r+=1)e[r]&&e[r].sh?this.calculateShapeBoundingBox(e[r],t):e[r]&&e[r].it?this.calculateBoundingBox(e[r].it,t):e[r]&&e[r].style&&e[r].w&&this.expandStrokeBoundingBox(e[r].w,t)},HShapeElement.prototype.expandStrokeBoundingBox=function(e,t){var r=0;if(e.keyframes){for(var i=0;i<e.keyframes.length;i+=1){var n=e.keyframes[i].s;n>r&&(r=n)}r*=e.mult}else r=e.v*e.mult;t.x-=r,t.xMax+=r,t.y-=r,t.yMax+=r},HShapeElement.prototype.currentBoxContains=function(e){return this.currentBBox.x<=e.x&&this.currentBBox.y<=e.y&&this.currentBBox.width+this.currentBBox.x>=e.x+e.width&&this.currentBBox.height+this.currentBBox.y>=e.y+e.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var e=this.tempBoundingBox,t=999999;if(e.x=t,e.xMax=-t,e.y=t,e.yMax=-t,this.calculateBoundingBox(this.itemsData,e),e.width=e.xMax<e.x?0:e.xMax-e.x,e.height=e.yMax<e.y?0:e.yMax-e.y,this.currentBoxContains(e))return;var r=!1;if(this.currentBBox.w!==e.width&&(this.currentBBox.w=e.width,this.shapeCont.setAttribute("width",e.width),r=!0),this.currentBBox.h!==e.height&&(this.currentBBox.h=e.height,this.shapeCont.setAttribute("height",e.height),r=!0),r||this.currentBBox.x!==e.x||this.currentBBox.y!==e.y){this.currentBBox.w=e.width,this.currentBBox.h=e.height,this.currentBBox.x=e.x,this.currentBBox.y=e.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var i=this.shapeCont.style,n="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";i.transform=n,i.webkitTransform=n}}},extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var e=createNS("g");this.maskedElement.appendChild(e),this.innerElem=e}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var e=this.textProperty.currentData;this.renderedLetters=createSizedArray(e.l?e.l.length:0);var t=this.innerElem.style,r=e.fc?this.buildColor(e.fc):"rgba(0,0,0,0)";t.fill=r,t.color=r,e.sc&&(t.stroke=this.buildColor(e.sc),t.strokeWidth=e.sw+"px");var i=this.globalData.fontManager.getFontByName(e.f);if(!this.globalData.fontManager.chars)if(t.fontSize=e.finalSize+"px",t.lineHeight=e.finalSize+"px",i.fClass)this.innerElem.className=i.fClass;else{t.fontFamily=i.fFamily;var n=e.fWeight,s=e.fStyle;t.fontStyle=s,t.fontWeight=n}var o,a,l=e.l;a=l.length;var h,c,u,d,p=this.mHelper,f="",_=0;for(o=0;o<a;o+=1){if(this.globalData.fontManager.chars?(this.textPaths[_]?h=this.textPaths[_]:((h=createNS("path")).setAttribute("stroke-linecap",lineCapEnum[1]),h.setAttribute("stroke-linejoin",lineJoinEnum[2]),h.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[_]?u=(c=this.textSpans[_]).children[0]:((c=createTag("div")).style.lineHeight=0,(u=createNS("svg")).appendChild(h),styleDiv(c)))):this.isMasked?h=this.textPaths[_]?this.textPaths[_]:createNS("text"):this.textSpans[_]?(c=this.textSpans[_],h=this.textPaths[_]):(styleDiv(c=createTag("span")),styleDiv(h=createTag("span")),c.appendChild(h)),this.globalData.fontManager.chars){var m,g=this.globalData.fontManager.getCharData(e.finalText[o],i.fStyle,this.globalData.fontManager.getFontByName(e.f).fFamily);if(m=g?g.data:null,p.reset(),m&&m.shapes&&m.shapes.length&&(d=m.shapes[0].it,p.scale(e.finalSize/100,e.finalSize/100),f=this.createPathShape(p,d),h.setAttribute("d",f)),this.isMasked)this.innerElem.appendChild(h);else{if(this.innerElem.appendChild(c),m&&m.shapes){document.body.appendChild(u);var y=u.getBBox();u.setAttribute("width",y.width+2),u.setAttribute("height",y.height+2),u.setAttribute("viewBox",y.x-1+" "+(y.y-1)+" "+(y.width+2)+" "+(y.height+2));var v=u.style,E="translate("+(y.x-1)+"px,"+(y.y-1)+"px)";v.transform=E,v.webkitTransform=E,l[o].yOffset=y.y-1}else u.setAttribute("width",1),u.setAttribute("height",1);c.appendChild(u)}}else if(h.textContent=l[o].val,h.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(h);else{this.innerElem.appendChild(c);var T=h.style,b="translate3d(0,"+-e.finalSize/1.2+"px,0)";T.transform=b,T.webkitTransform=b}this.isMasked?this.textSpans[_]=h:this.textSpans[_]=c,this.textSpans[_].style.display="block",this.textPaths[_]=h,_+=1}for(;_<this.textSpans.length;)this.textSpans[_].style.display="none",_+=1},HTextElement.prototype.renderInnerContent=function(){var e;if(this.validateText(),this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),e=this.svgElement.style;var t="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";e.transform=t,e.webkitTransform=t}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag){var r,i,n,s,o,a=0,l=this.textAnimator.renderedLetters,h=this.textProperty.currentData.l;for(i=h.length,r=0;r<i;r+=1)h[r].n?a+=1:(s=this.textSpans[r],o=this.textPaths[r],n=l[a],a+=1,n._mdf.m&&(this.isMasked?s.setAttribute("transform",n.m):(s.style.webkitTransform=n.m,s.style.transform=n.m)),s.style.opacity=n.o,n.sw&&n._mdf.sw&&o.setAttribute("stroke-width",n.sw),n.sc&&n._mdf.sc&&o.setAttribute("stroke",n.sc),n.fc&&n._mdf.fc&&(o.setAttribute("fill",n.fc),o.style.color=n.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var c=this.innerElem.getBBox();if(this.currentBBox.w!==c.width&&(this.currentBBox.w=c.width,this.svgElement.setAttribute("width",c.width)),this.currentBBox.h!==c.height&&(this.currentBBox.h=c.height,this.svgElement.setAttribute("height",c.height)),this.currentBBox.w!==c.width+2||this.currentBBox.h!==c.height+2||this.currentBBox.x!==c.x-1||this.currentBBox.y!==c.y-1){this.currentBBox.w=c.width+2,this.currentBBox.h=c.height+2,this.currentBBox.x=c.x-1,this.currentBBox.y=c.y-1,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),e=this.svgElement.style;var u="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";e.transform=u,e.webkitTransform=u}}}},extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var e,t,r,i,n=this.comp.threeDElements.length;for(e=0;e<n;e+=1)if("3d"===(t=this.comp.threeDElements[e]).type){r=t.perspectiveElem.style,i=t.container.style;var s=this.pe.v+"px",o="0px 0px 0px",a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";r.perspective=s,r.webkitPerspective=s,i.transformOrigin=o,i.mozTransformOrigin=o,i.webkitTransformOrigin=o,r.transform=a,r.webkitTransform=a}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var e,t,r=this._isFirstFrame;if(this.hierarchy)for(t=this.hierarchy.length,e=0;e<t;e+=1)r=this.hierarchy[e].finalTransform.mProp._mdf||r;if(r||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(e=t=this.hierarchy.length-1;e>=0;e-=1){var i=this.hierarchy[e].finalTransform.mProp;this.mat.translate(-i.p.v[0],-i.p.v[1],i.p.v[2]),this.mat.rotateX(-i.or.v[0]).rotateY(-i.or.v[1]).rotateZ(i.or.v[2]),this.mat.rotateX(-i.rx.v).rotateY(-i.ry.v).rotateZ(i.rz.v),this.mat.scale(1/i.s.v[0],1/i.s.v[1],1/i.s.v[2]),this.mat.translate(i.a.v[0],i.a.v[1],i.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var n;n=this.p?[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var s=Math.sqrt(Math.pow(n[0],2)+Math.pow(n[1],2)+Math.pow(n[2],2)),o=[n[0]/s,n[1]/s,n[2]/s],a=Math.sqrt(o[2]*o[2]+o[0]*o[0]),l=Math.atan2(o[1],a),h=Math.atan2(o[0],-o[2]);this.mat.rotateY(h).rotateX(-l)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var c=!this._prevMat.equals(this.mat);if((c||this.pe._mdf)&&this.comp.threeDElements){var u,d,p;for(t=this.comp.threeDElements.length,e=0;e<t;e+=1)if("3d"===(u=this.comp.threeDElements[e]).type){if(c){var f=this.mat.toCSS();(p=u.container.style).transform=f,p.webkitTransform=f}this.pe._mdf&&((d=u.perspectiveElem.style).perspective=this.pe.v+"px",d.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(e){this.prepareProperties(e,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null},extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var e=this.globalData.getAssetsPath(this.assetData),t=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",e),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(t),t.crossOrigin="anonymous",t.src=e,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)},extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;)this.pendingElements.pop().checkParenting()},HybridRendererBase.prototype.appendElementInPos=function(e,t){var r=e.getBaseElement();if(r){var i=this.layers[t];if(i.ddd&&this.supports3d)this.addTo3dContainer(r,t);else if(this.threeDElements)this.addTo3dContainer(r,t);else{for(var n,s,o=0;o<t;)this.elements[o]&&!0!==this.elements[o]&&this.elements[o].getBaseElement&&(s=this.elements[o],n=(this.layers[o].ddd?this.getThreeDContainerByPos(o):s.getBaseElement())||n),o+=1;n?(!i.ddd||!this.supports3d)&&this.layerElement.insertBefore(r,n):(!i.ddd||!this.supports3d)&&this.layerElement.appendChild(r)}}},HybridRendererBase.prototype.createShape=function(e){return this.supports3d?new HShapeElement(e,this.globalData,this):new SVGShapeElement(e,this.globalData,this)},HybridRendererBase.prototype.createText=function(e){return this.supports3d?new HTextElement(e,this.globalData,this):new SVGTextLottieElement(e,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(e){return this.camera=new HCameraElement(e,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(e){return this.supports3d?new HImageElement(e,this.globalData,this):new IImageElement(e,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(e){return this.supports3d?new HSolidElement(e,this.globalData,this):new ISolidElement(e,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(e){for(var t=0,r=this.threeDElements.length;t<r;){if(this.threeDElements[t].startPos<=e&&this.threeDElements[t].endPos>=e)return this.threeDElements[t].perspectiveElem;t+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(e,t){var r,i,n=createTag("div");styleDiv(n);var s=createTag("div");if(styleDiv(s),"3d"===t){(r=n.style).width=this.globalData.compSize.w+"px",r.height=this.globalData.compSize.h+"px";var o="50% 50%";r.webkitTransformOrigin=o,r.mozTransformOrigin=o,r.transformOrigin=o;var a="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";(i=s.style).transform=a,i.webkitTransform=a}n.appendChild(s);var l={container:s,perspectiveElem:n,startPos:e,endPos:e,type:t};return this.threeDElements.push(l),l},HybridRendererBase.prototype.build3dContainers=function(){var e,t,r=this.layers.length,i="";for(e=0;e<r;e+=1)this.layers[e].ddd&&3!==this.layers[e].ty?("3d"!==i&&(i="3d",t=this.createThreeDContainer(e,"3d")),t.endPos=Math.max(t.endPos,e)):("2d"!==i&&(i="2d",t=this.createThreeDContainer(e,"2d")),t.endPos=Math.max(t.endPos,e));for(e=(r=this.threeDElements.length)-1;e>=0;e-=1)this.resizerElem.appendChild(this.threeDElements[e].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(e,t){for(var r=0,i=this.threeDElements.length;r<i;){if(t<=this.threeDElements[r].endPos){for(var n,s=this.threeDElements[r].startPos;s<t;)this.elements[s]&&this.elements[s].getBaseElement&&(n=this.elements[s].getBaseElement()),s+=1;n?this.threeDElements[r].container.insertBefore(e,n):this.threeDElements[r].container.appendChild(e);break}r+=1}},HybridRendererBase.prototype.configAnimation=function(e){var t=createTag("div"),r=this.animationItem.wrapper,i=t.style;i.width=e.w+"px",i.height=e.h+"px",this.resizerElem=t,styleDiv(t),i.transformStyle="flat",i.mozTransformStyle="flat",i.webkitTransformStyle="flat",this.renderConfig.className&&t.setAttribute("class",this.renderConfig.className),r.appendChild(t),i.overflow="hidden";var n=createNS("svg");n.setAttribute("width","1"),n.setAttribute("height","1"),styleDiv(n),this.resizerElem.appendChild(n);var s=createNS("defs");n.appendChild(s),this.data=e,this.setupGlobalData(e,n),this.globalData.defs=s,this.layers=e.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var e,t=this.layers?this.layers.length:0;for(e=0;e<t;e+=1)this.elements[e]&&this.elements[e].destroy&&this.elements[e].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var e,t,r,i,n=this.animationItem.wrapper.offsetWidth,s=this.animationItem.wrapper.offsetHeight,o=n/s;this.globalData.compSize.w/this.globalData.compSize.h>o?(e=n/this.globalData.compSize.w,t=n/this.globalData.compSize.w,r=0,i=(s-this.globalData.compSize.h*(n/this.globalData.compSize.w))/2):(e=s/this.globalData.compSize.h,t=s/this.globalData.compSize.h,r=(n-this.globalData.compSize.w*(s/this.globalData.compSize.h))/2,i=0);var a=this.resizerElem.style;a.webkitTransform="matrix3d("+e+",0,0,0,0,"+t+",0,0,0,0,1,0,"+r+","+i+",0,1)",a.transform=a.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var e,t=this.globalData.compSize.w,r=this.globalData.compSize.h,i=this.threeDElements.length;for(e=0;e<i;e+=1){var n=this.threeDElements[e].perspectiveElem.style;n.webkitPerspective=Math.sqrt(Math.pow(t,2)+Math.pow(r,2))+"px",n.perspective=n.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(e){var t,r=e.length,i=createTag("div");for(t=0;t<r;t+=1)if(e[t].xt){var n=this.createComp(e[t],i,this.globalData.comp,null);n.initExpressions(),this.globalData.projectInterface.registerComposition(n)}},extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(e,t){for(var r,i=0;i<t;)this.elements[i]&&this.elements[i].getBaseElement&&(r=this.elements[i].getBaseElement()),i+=1;r?this.layerElement.insertBefore(e,r):this.layerElement.appendChild(e)},HCompElement.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)},extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(e){return this.supports3d?new HCompElement(e,this.globalData,this):new SVGCompElement(e,this.globalData,this)};var CompExpressionInterface=function(e){function t(t){for(var r=0,i=e.layers.length;r<i;){if(e.layers[r].nm===t||e.layers[r].ind===t)return e.elements[r].layerInterface;r+=1}return null}return Object.defineProperty(t,"_name",{value:e.data.nm}),t.layer=t,t.pixelAspect=1,t.height=e.data.h||e.globalData.compSize.h,t.width=e.data.w||e.globalData.compSize.w,t.pixelAspect=1,t.frameDuration=1/e.globalData.frameRate,t.displayStartTime=0,t.numLayers=e.layers.length,t};function _typeof$2(e){return(_typeof$2="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function seedRandom(e,t){var r=this,i=256,n="random",s=t.pow(i,6),o=t.pow(2,52),a=2*o,l=255;function h(e){var t,r=e.length,n=this,s=0,o=n.i=n.j=0,a=n.S=[];for(r||(e=[r++]);s<i;)a[s]=s++;for(s=0;s<i;s++)a[s]=a[o=l&o+e[s%r]+(t=a[s])],a[o]=t;n.g=function(e){for(var t,r=0,s=n.i,o=n.j,a=n.S;e--;)t=a[s=l&s+1],r=r*i+a[l&(a[s]=a[o=l&o+t])+(a[o]=t)];return n.i=s,n.j=o,r}}function c(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function u(e,t){var r,i=[],n=_typeof$2(e);if(t&&"object"==n)for(r in e)try{i.push(u(e[r],t-1))}catch(e){}return i.length?i:"string"==n?e:e+"\0"}function d(e,t){for(var r,i=e+"",n=0;n<i.length;)t[l&n]=l&(r^=19*t[l&n])+i.charCodeAt(n++);return p(t)}function p(e){return String.fromCharCode.apply(0,e)}t["seed"+n]=function(l,f,_){var m=[],g=d(u((f=!0===f?{entropy:!0}:f||{}).entropy?[l,p(e)]:null===l?function(){try{var t=new Uint8Array(i);return(r.crypto||r.msCrypto).getRandomValues(t),p(t)}catch(t){var n=r.navigator,s=n&&n.plugins;return[+new Date,r,s,r.screen,p(e)]}}():l,3),m),y=new h(m),v=function(){for(var e=y.g(6),t=s,r=0;e<o;)e=(e+r)*i,t*=i,r=y.g(1);for(;e>=a;)e/=2,t/=2,r>>>=1;return(e+r)/t};return v.int32=function(){return 0|y.g(4)},v.quick=function(){return y.g(4)/4294967296},v.double=v,d(p(y.S),e),(f.pass||_||function(e,r,i,s){return s&&(s.S&&c(s,y),e.state=function(){return c(y,{})}),i?(t[n]=e,r):e})(v,g,"global"in f?f.global:this==t,f.state)},d(t.random(),e)}function initialize$2(e){seedRandom([],e)}var propTypes={SHAPE:"shape"};function _typeof$1(e){return(_typeof$1="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(e){return e.constructor===Array||e.constructor===Float32Array}function isNumerable(e,t){return"number"===e||t instanceof Number||"boolean"===e||"string"===e}function $bm_neg(e){var t=_typeof$1(e);if("number"===t||e instanceof Number||"boolean"===t)return-e;if($bm_isInstanceOfArray(e)){var r,i=e.length,n=[];for(r=0;r<i;r+=1)n[r]=-e[r];return n}return e.propType?e.v:-e}initialize$2(BMMath);var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(e,t){var r=_typeof$1(e),i=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(i,t)||"string"===r||"string"===i)return e+t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return(e=e.slice(0))[0]+=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e+t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,o=t.length,a=[];n<s||n<o;)("number"==typeof e[n]||e[n]instanceof Number)&&("number"==typeof t[n]||t[n]instanceof Number)?a[n]=e[n]+t[n]:a[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return a}return 0}var add=sum;function sub(e,t){var r=_typeof$1(e),i=_typeof$1(t);if(isNumerable(r,e)&&isNumerable(i,t))return"string"===r&&(e=parseInt(e,10)),"string"===i&&(t=parseInt(t,10)),e-t;if($bm_isInstanceOfArray(e)&&isNumerable(i,t))return(e=e.slice(0))[0]-=t,e;if(isNumerable(r,e)&&$bm_isInstanceOfArray(t))return(t=t.slice(0))[0]=e-t[0],t;if($bm_isInstanceOfArray(e)&&$bm_isInstanceOfArray(t)){for(var n=0,s=e.length,o=t.length,a=[];n<s||n<o;)("number"==typeof e[n]||e[n]instanceof Number)&&("number"==typeof t[n]||t[n]instanceof Number)?a[n]=e[n]-t[n]:a[n]=void 0===t[n]?e[n]:e[n]||t[n],n+=1;return a}return 0}function mul(e,t){var r,i,n,s=_typeof$1(e),o=_typeof$1(t);if(isNumerable(s,e)&&isNumerable(o,t))return e*t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e[i]*t;return r}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e*t[i];return r}return 0}function div(e,t){var r,i,n,s=_typeof$1(e),o=_typeof$1(t);if(isNumerable(s,e)&&isNumerable(o,t))return e/t;if($bm_isInstanceOfArray(e)&&isNumerable(o,t)){for(n=e.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e[i]/t;return r}if(isNumerable(s,e)&&$bm_isInstanceOfArray(t)){for(n=t.length,r=createTypedArray("float32",n),i=0;i<n;i+=1)r[i]=e/t[i];return r}return 0}function mod(e,t){return"string"==typeof e&&(e=parseInt(e,10)),"string"==typeof t&&(t=parseInt(t,10)),e%t}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(e,t,r){if(t>r){var i=r;r=t,t=i}return Math.min(Math.max(e,t),r)}function radiansToDegrees(e){return e/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(e){return e*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(e,t){if("number"==typeof e||e instanceof Number)return t=t||0,Math.abs(e-t);t||(t=helperLengthArray);var r,i=Math.min(e.length,t.length),n=0;for(r=0;r<i;r+=1)n+=Math.pow(t[r]-e[r],2);return Math.sqrt(n)}function normalize(e){return div(e,length(e))}function rgbToHsl(e){var t,r,i=e[0],n=e[1],s=e[2],o=Math.max(i,n,s),a=Math.min(i,n,s),l=(o+a)/2;if(o===a)t=0,r=0;else{var h=o-a;switch(r=l>.5?h/(2-o-a):h/(o+a),o){case i:t=(n-s)/h+(n<s?6:0);break;case n:t=(s-i)/h+2;break;case s:t=(i-n)/h+4}t/=6}return[t,r,l,e[3]]}function hue2rgb(e,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?e+6*(t-e)*r:r<.5?t:r<2/3?e+(t-e)*(2/3-r)*6:e}function hslToRgb(e){var t,r,i,n=e[0],s=e[1],o=e[2];if(0===s)t=o,i=o,r=o;else{var a=o<.5?o*(1+s):o+s-o*s,l=2*o-a;t=hue2rgb(l,a,n+1/3),r=hue2rgb(l,a,n),i=hue2rgb(l,a,n-1/3)}return[t,r,i,e[3]]}function linear(e,t,r,i,n){if((void 0===i||void 0===n)&&(i=t,n=r,t=0,r=1),r<t){var s=r;r=t,t=s}if(e<=t)return i;if(e>=r)return n;var o=r===t?0:(e-t)/(r-t);if(!i.length)return i+(n-i)*o;var a,l=i.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=i[a]+(n[a]-i[a])*o;return h}function random(e,t){if(void 0===t&&(void 0===e?(e=0,t=1):(t=e,e=void 0)),t.length){var r,i=t.length;e||(e=createTypedArray("float32",i));var n=createTypedArray("float32",i),s=BMMath.random();for(r=0;r<i;r+=1)n[r]=e[r]+s*(t[r]-e[r]);return n}return void 0===e&&(e=0),e+BMMath.random()*(t-e)}function createPath(e,t,r,i){var n,s=e.length,o=shapePool.newElement();o.setPathData(!!i,s);var a,l,h=[0,0];for(n=0;n<s;n+=1)a=t&&t[n]?t[n]:h,l=r&&r[n]?r[n]:h,o.setTripleAt(e[n][0],e[n][1],l[0]+e[n][0],l[1]+e[n][1],a[0]+e[n][0],a[1]+e[n][1],n,!0);return o}function initiateExpression(elem,data,property){function noOp(e){return e}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=-1!==val.indexOf("random"),elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||!0!==this.data.hd,wiggle=function(e,t){var r,i,n=this.pv.length?this.pv.length:1,s=createTypedArray("float32",n),o=Math.floor(5*time);for(r=0,i=0;r<o;){for(i=0;i<n;i+=1)s[i]+=-t+2*t*BMMath.random();r+=1}var a=5*time,l=a-Math.floor(a),h=createTypedArray("float32",n);if(n>1){for(i=0;i<n;i+=1)h[i]=this.pv[i]+s[i]+(-t+2*t*BMMath.random())*l;return h}return this.pv+s[0]+(-t+2*t*BMMath.random())*l}.bind(this);function loopInDuration(e,t){return loopIn(e,t,!0)}function loopOutDuration(e,t){return loopOut(e,t,!0)}thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty)),this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(e,t){var r=[t[0]-e[0],t[1]-e[1],t[2]-e[2]],i=Math.atan2(r[0],Math.sqrt(r[1]*r[1]+r[2]*r[2]))/degToRads;return[-Math.atan2(r[1],r[2])/degToRads,i,0]}function easeOut(e,t,r,i,n){return applyEase(easeOutBez,e,t,r,i,n)}function easeIn(e,t,r,i,n){return applyEase(easeInBez,e,t,r,i,n)}function ease(e,t,r,i,n){return applyEase(easeInOutBez,e,t,r,i,n)}function applyEase(e,t,r,i,n,s){void 0===n?(n=r,s=i):t=(t-r)/(i-r),t>1?t=1:t<0&&(t=0);var o=e(t);if($bm_isInstanceOfArray(n)){var a,l=n.length,h=createTypedArray("float32",l);for(a=0;a<l;a+=1)h[a]=(s[a]-n[a])*o+n[a];return h}return(s-n)*o+n}function nearestKey(e){var t,r,i,n=data.k.length;if(data.k.length&&"number"!=typeof data.k[0])if(r=-1,(e*=elem.comp.globalData.frameRate)<data.k[0].t)r=1,i=data.k[0].t;else{for(t=0;t<n-1;t+=1){if(e===data.k[t].t){r=t+1,i=data.k[t].t;break}if(e>data.k[t].t&&e<data.k[t+1].t){e-data.k[t].t>data.k[t+1].t-e?(r=t+2,i=data.k[t+1].t):(r=t+1,i=data.k[t].t);break}}-1===r&&(r=t+1,i=data.k[t].t)}else r=0,i=0;var s={};return s.index=r,s.time=i/elem.comp.globalData.frameRate,s}function key(e){var t,r,i;if(!data.k.length||"number"==typeof data.k[0])throw new Error("The property has no keyframe at index "+e);e-=1,t={time:data.k[e].t/elem.comp.globalData.frameRate,value:[]};var n=Object.prototype.hasOwnProperty.call(data.k[e],"s")?data.k[e].s:data.k[e-1].e;for(i=n.length,r=0;r<i;r+=1)t[r]=n[r],t.value[r]=n[r];return t}function framesToTime(e,t){return t||(t=elem.comp.globalData.frameRate),e/t}function timeToFrames(e,t){return!e&&0!==e&&(e=time),t||(t=elem.comp.globalData.frameRate),e*t}function seedRandom(e){BMMath.seedrandom(randSeed+e)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(e,t){return"string"==typeof value?void 0===t?value.substring(e):value.substring(e,t):""}function substr(e,t){return"string"==typeof value?void 0===t?value.substr(e):value.substr(e,t):""}function posterizeTime(e){time=0===e?0:Math.floor(time*e)/e,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!(!elem.hierarchy||!elem.hierarchy.length),parent,randSeed=Math.floor(1e6*Math.random()),globalData=elem.globalData;function executeExpression(e){return value=e,this.frameExpressionId===elem.globalData.frameId&&"textSelector"!==this.propType?value:("textSelector"===this.propType&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),4===elemType&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),(hasParent=!(!elem.hierarchy||!elem.hierarchy.length))&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var e={initExpressions:function(e){var t=0,r=[];e.renderer.compInterface=CompExpressionInterface(e.renderer),e.renderer.globalData.projectInterface.registerComposition(e.renderer),e.renderer.globalData.pushExpression=function(){t+=1},e.renderer.globalData.popExpression=function(){0==(t-=1)&&function(){var e,t=r.length;for(e=0;e<t;e+=1)r[e].release();r.length=0}()},e.renderer.globalData.registerExpressionProperty=function(e){-1===r.indexOf(e)&&r.push(e)}}};return e.resetFrame=ExpressionManager.resetFrame,e}(),MaskManagerInterface=function(){function e(e,t){this._mask=e,this._data=t}return Object.defineProperty(e.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(e.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),100*this._mask.op.v}}),function(t){var r,i=createSizedArray(t.viewData.length),n=t.viewData.length;for(r=0;r<n;r+=1)i[r]=new e(t.viewData[r],t.masksProperties[r]);return function(e){for(r=0;r<n;){if(t.masksProperties[r].nm===e)return i[r];r+=1}return null}}}(),ExpressionPropertyInterface=function(){var e={pv:0,v:0,mult:1},t={pv:[0,0,0],v:[0,0,0],mult:1};function r(e,t,r){Object.defineProperty(e,"velocity",{get:function(){return t.getVelocityAtTime(t.comp.currentFrame)}}),e.numKeys=t.keyframes?t.keyframes.length:0,e.key=function(i){if(!e.numKeys)return 0;var n;n="s"in t.keyframes[i-1]?t.keyframes[i-1].s:"e"in t.keyframes[i-2]?t.keyframes[i-2].e:t.keyframes[i-2].s;var s="unidimensional"===r?new Number(n):Object.assign({},n);return s.time=t.keyframes[i-1].t/t.elem.comp.globalData.frameRate,s.value="unidimensional"===r?n[0]:n,s},e.valueAtTime=t.getValueAtTime,e.speedAtTime=t.getSpeedAtTime,e.velocityAtTime=t.getVelocityAtTime,e.propertyGroup=t.propertyGroup}function i(){return e}return function(n){return n?"unidimensional"===n.propType?function(t){(!t||!("pv"in t))&&(t=e);var i=1/t.mult,n=t.pv*i,s=new Number(n);return s.value=n,r(s,t,"unidimensional"),function(){return t.k&&t.getValue(),n=t.v*i,s.value!==n&&((s=new Number(n)).value=n,r(s,t,"unidimensional")),s}}(n):function(e){(!e||!("pv"in e))&&(e=t);var i=1/e.mult,n=e.data&&e.data.l||e.pv.length,s=createTypedArray("float32",n),o=createTypedArray("float32",n);return s.value=o,r(s,e,"multidimensional"),function(){e.k&&e.getValue();for(var t=0;t<n;t+=1)o[t]=e.v[t]*i,s[t]=o[t];return s}}(n):i}}(),TransformExpressionInterface=function(e){function t(e){switch(e){case"scale":case"Scale":case"ADBE Scale":case 6:return t.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return t.rotation;case"ADBE Rotate X":return t.xRotation;case"ADBE Rotate Y":return t.yRotation;case"position":case"Position":case"ADBE Position":case 2:return t.position;case"ADBE Position_0":return t.xPosition;case"ADBE Position_1":return t.yPosition;case"ADBE Position_2":return t.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return t.anchorPoint;case"opacity":case"Opacity":case 11:return t.opacity;default:return null}}var r,i,n,s;return Object.defineProperty(t,"rotation",{get:ExpressionPropertyInterface(e.r||e.rz)}),Object.defineProperty(t,"zRotation",{get:ExpressionPropertyInterface(e.rz||e.r)}),Object.defineProperty(t,"xRotation",{get:ExpressionPropertyInterface(e.rx)}),Object.defineProperty(t,"yRotation",{get:ExpressionPropertyInterface(e.ry)}),Object.defineProperty(t,"scale",{get:ExpressionPropertyInterface(e.s)}),e.p?s=ExpressionPropertyInterface(e.p):(r=ExpressionPropertyInterface(e.px),i=ExpressionPropertyInterface(e.py),e.pz&&(n=ExpressionPropertyInterface(e.pz))),Object.defineProperty(t,"position",{get:function(){return e.p?s():[r(),i(),n?n():0]}}),Object.defineProperty(t,"xPosition",{get:ExpressionPropertyInterface(e.px)}),Object.defineProperty(t,"yPosition",{get:ExpressionPropertyInterface(e.py)}),Object.defineProperty(t,"zPosition",{get:ExpressionPropertyInterface(e.pz)}),Object.defineProperty(t,"anchorPoint",{get:ExpressionPropertyInterface(e.a)}),Object.defineProperty(t,"opacity",{get:ExpressionPropertyInterface(e.o)}),Object.defineProperty(t,"skew",{get:ExpressionPropertyInterface(e.sk)}),Object.defineProperty(t,"skewAxis",{get:ExpressionPropertyInterface(e.sa)}),Object.defineProperty(t,"orientation",{get:ExpressionPropertyInterface(e.or)}),t},LayerExpressionInterface=function(){function e(e){var t=new Matrix;return void 0!==e?this._elem.finalTransform.mProp.getValueAtTime(e).clone(t):this._elem.finalTransform.mProp.applyToMatrix(t),t}function t(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.applyPoint(r,e)}function r(e,t){var r=this.getMatrix(t);return this.applyPoint(r,e)}function i(e,t){var r=this.getMatrix(t);return r.props[12]=0,r.props[13]=0,r.props[14]=0,this.invertPoint(r,e)}function n(e,t){var r=this.getMatrix(t);return this.invertPoint(r,e)}function s(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.applyToPointArray(t[0],t[1],t[2]||0)}function o(e,t){if(this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(e)}return e.inversePoint(t)}function a(e){var t=new Matrix;if(t.reset(),this._elem.finalTransform.mProp.applyToMatrix(t),this._elem.hierarchy&&this._elem.hierarchy.length){var r,i=this._elem.hierarchy.length;for(r=0;r<i;r+=1)this._elem.hierarchy[r].finalTransform.mProp.applyToMatrix(t);return t.inversePoint(e)}return t.inversePoint(e)}function l(){return[1,1,1,1]}return function(h){var c;function u(e){switch(e){case"ADBE Root Vectors Group":case"Contents":case 2:return u.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return c;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return u.effect;case"ADBE Text Properties":return u.textInterface;default:return null}}u.getMatrix=e,u.invertPoint=o,u.applyPoint=s,u.toWorld=r,u.toWorldVec=t,u.fromWorld=n,u.fromWorldVec=i,u.toComp=r,u.fromComp=a,u.sampleImage=l,u.sourceRectAtTime=h.sourceRectAtTime.bind(h),u._elem=h;var d=getDescriptor(c=TransformExpressionInterface(h.finalTransform.mProp),"anchorPoint");return Object.defineProperties(u,{hasParent:{get:function(){return h.hierarchy.length}},parent:{get:function(){return h.hierarchy[0].layerInterface}},rotation:getDescriptor(c,"rotation"),scale:getDescriptor(c,"scale"),position:getDescriptor(c,"position"),opacity:getDescriptor(c,"opacity"),anchorPoint:d,anchor_point:d,transform:{get:function(){return c}},active:{get:function(){return h.isInRange}}}),u.startTime=h.data.st,u.index=h.data.ind,u.source=h.data.refId,u.height=0===h.data.ty?h.data.h:100,u.width=0===h.data.ty?h.data.w:100,u.inPoint=h.data.ip/h.comp.globalData.frameRate,u.outPoint=h.data.op/h.comp.globalData.frameRate,u._name=h.data.nm,u.registerMaskInterface=function(e){u.mask=new MaskManagerInterface(e,h)},u.registerEffectsInterface=function(e){u.effect=e},u}}(),propertyGroupFactory=function(e,t){return function(r){return(r=void 0===r?1:r)<=0?e:t(r-1)}},PropertyInterface=function(e,t){var r={_name:e};return function(e){return(e=void 0===e?1:e)<=0?r:t(e-1)}},EffectsExpressionInterface=function(){function e(r,i,n,s){function o(e){for(var t=r.ef,i=0,n=t.length;i<n;){if(e===t[i].nm||e===t[i].mn||e===t[i].ix)return 5===t[i].ty?h[i]:h[i]();i+=1}throw new Error}var a,l=propertyGroupFactory(o,n),h=[],c=r.ef.length;for(a=0;a<c;a+=1)5===r.ef[a].ty?h.push(e(r.ef[a],i.effectElements[a],i.effectElements[a].propertyGroup,s)):h.push(t(i.effectElements[a],r.ef[a].ty,s,l));return"ADBE Color Control"===r.mn&&Object.defineProperty(o,"color",{get:function(){return h[0]()}}),Object.defineProperties(o,{numProperties:{get:function(){return r.np}},_name:{value:r.nm},propertyGroup:{value:l}}),o.enabled=0!==r.en,o.active=o.enabled,o}function t(e,t,r,i){var n=ExpressionPropertyInterface(e.p);return e.p.setGroupProperty&&e.p.setGroupProperty(PropertyInterface("",i)),function(){return 10===t?r.comp.compInterface(e.p.v):n()}}return{createEffectsInterface:function(t,r){if(t.effectsManager){var i,n=[],s=t.data.ef,o=t.effectsManager.effectElements.length;for(i=0;i<o;i+=1)n.push(e(s[i],t.effectsManager.effectElements[i],r,t));var a=t.data.ef||[],l=function(e){for(i=0,o=a.length;i<o;){if(e===a[i].nm||e===a[i].mn||e===a[i].ix)return n[i];i+=1}return null};return Object.defineProperty(l,"numProperties",{get:function(){return a.length}}),l}return null}}}(),ShapePathInterface=function(e,t,r){var i=t.sh;function n(e){return"Shape"===e||"shape"===e||"Path"===e||"path"===e||"ADBE Vector Shape"===e||2===e?n.path:null}var s=propertyGroupFactory(n,r);return i.setGroupProperty(PropertyInterface("Path",s)),Object.defineProperties(n,{path:{get:function(){return i.k&&i.getValue(),i}},shape:{get:function(){return i.k&&i.getValue(),i}},_name:{value:e.nm},ix:{value:e.ix},propertyIndex:{value:e.ix},mn:{value:e.mn},propertyGroup:{value:r}}),n},ShapeExpressionInterface=function(){function e(e,o,d){var p,f=[],_=e?e.length:0;for(p=0;p<_;p+=1)"gr"===e[p].ty?f.push(t(e[p],o[p],d)):"fl"===e[p].ty?f.push(r(e[p],o[p],d)):"st"===e[p].ty?f.push(n(e[p],o[p],d)):"tm"===e[p].ty?f.push(s(e[p],o[p],d)):"tr"===e[p].ty||("el"===e[p].ty?f.push(a(e[p],o[p],d)):"sr"===e[p].ty?f.push(l(e[p],o[p],d)):"sh"===e[p].ty?f.push(ShapePathInterface(e[p],o[p],d)):"rc"===e[p].ty?f.push(h(e[p],o[p],d)):"rd"===e[p].ty?f.push(c(e[p],o[p],d)):"rp"===e[p].ty?f.push(u(e[p],o[p],d)):"gf"===e[p].ty?f.push(i(e[p],o[p],d)):f.push((e[p],o[p],function(){return null})));return f}function t(t,r,i){var n=function(e){switch(e){case"ADBE Vectors Group":case"Contents":case 2:return n.content;default:return n.transform}};n.propertyGroup=propertyGroupFactory(n,i);var s=function(t,r,i){var n,s=function(e){for(var t=0,r=n.length;t<r;){if(n[t]._name===e||n[t].mn===e||n[t].propertyIndex===e||n[t].ix===e||n[t].ind===e)return n[t];t+=1}return"number"==typeof e?n[e-1]:null};s.propertyGroup=propertyGroupFactory(s,i),n=e(t.it,r.it,s.propertyGroup),s.numProperties=n.length;var a=o(t.it[t.it.length-1],r.it[r.it.length-1],s.propertyGroup);return s.transform=a,s.propertyIndex=t.cix,s._name=t.nm,s}(t,r,n.propertyGroup),a=o(t.it[t.it.length-1],r.it[r.it.length-1],n.propertyGroup);return n.content=s,n.transform=a,Object.defineProperty(n,"_name",{get:function(){return t.nm}}),n.numProperties=t.np,n.propertyIndex=t.ix,n.nm=t.nm,n.mn=t.mn,n}function r(e,t,r){function i(e){return"Color"===e||"color"===e?i.color:"Opacity"===e||"opacity"===e?i.opacity:null}return Object.defineProperties(i,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),i}function i(e,t,r){function i(e){return"Start Point"===e||"start point"===e?i.startPoint:"End Point"===e||"end point"===e?i.endPoint:"Opacity"===e||"opacity"===e?i.opacity:null}return Object.defineProperties(i,{startPoint:{get:ExpressionPropertyInterface(t.s)},endPoint:{get:ExpressionPropertyInterface(t.e)},opacity:{get:ExpressionPropertyInterface(t.o)},type:{get:function(){return"a"}},_name:{value:e.nm},mn:{value:e.mn}}),t.s.setGroupProperty(PropertyInterface("Start Point",r)),t.e.setGroupProperty(PropertyInterface("End Point",r)),t.o.setGroupProperty(PropertyInterface("Opacity",r)),i}function n(e,t,r){var i,n,s=propertyGroupFactory(h,r),o=propertyGroupFactory(l,s),a=e.d?e.d.length:0,l={};for(i=0;i<a;i+=1)n=i,Object.defineProperty(l,e.d[n].nm,{get:ExpressionPropertyInterface(t.d.dataProps[n].p)}),t.d.dataProps[i].p.setGroupProperty(o);function h(e){return"Color"===e||"color"===e?h.color:"Opacity"===e||"opacity"===e?h.opacity:"Stroke Width"===e||"stroke width"===e?h.strokeWidth:null}return Object.defineProperties(h,{color:{get:ExpressionPropertyInterface(t.c)},opacity:{get:ExpressionPropertyInterface(t.o)},strokeWidth:{get:ExpressionPropertyInterface(t.w)},dash:{get:function(){return l}},_name:{value:e.nm},mn:{value:e.mn}}),t.c.setGroupProperty(PropertyInterface("Color",s)),t.o.setGroupProperty(PropertyInterface("Opacity",s)),t.w.setGroupProperty(PropertyInterface("Stroke Width",s)),h}function s(e,t,r){function i(t){return t===e.e.ix||"End"===t||"end"===t?i.end:t===e.s.ix?i.start:t===e.o.ix?i.offset:null}var n=propertyGroupFactory(i,r);return i.propertyIndex=e.ix,t.s.setGroupProperty(PropertyInterface("Start",n)),t.e.setGroupProperty(PropertyInterface("End",n)),t.o.setGroupProperty(PropertyInterface("Offset",n)),i.propertyIndex=e.ix,i.propertyGroup=r,Object.defineProperties(i,{start:{get:ExpressionPropertyInterface(t.s)},end:{get:ExpressionPropertyInterface(t.e)},offset:{get:ExpressionPropertyInterface(t.o)},_name:{value:e.nm}}),i.mn=e.mn,i}function o(e,t,r){function i(t){return e.a.ix===t||"Anchor Point"===t?i.anchorPoint:e.o.ix===t||"Opacity"===t?i.opacity:e.p.ix===t||"Position"===t?i.position:e.r.ix===t||"Rotation"===t||"ADBE Vector Rotation"===t?i.rotation:e.s.ix===t||"Scale"===t?i.scale:e.sk&&e.sk.ix===t||"Skew"===t?i.skew:e.sa&&e.sa.ix===t||"Skew Axis"===t?i.skewAxis:null}var n=propertyGroupFactory(i,r);return t.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",n)),t.transform.mProps.p.setGroupProperty(PropertyInterface("Position",n)),t.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",n)),t.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",n)),t.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",n)),t.transform.mProps.sk&&(t.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",n)),t.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",n))),t.transform.op.setGroupProperty(PropertyInterface("Opacity",n)),Object.defineProperties(i,{opacity:{get:ExpressionPropertyInterface(t.transform.mProps.o)},position:{get:ExpressionPropertyInterface(t.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(t.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(t.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(t.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(t.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(t.transform.mProps.sa)},_name:{value:e.nm}}),i.ty="tr",i.mn=e.mn,i.propertyGroup=r,i}function a(e,t,r){function i(t){return e.p.ix===t?i.position:e.s.ix===t?i.size:null}var n=propertyGroupFactory(i,r);i.propertyIndex=e.ix;var s="tm"===t.sh.ty?t.sh.prop:t.sh;return s.s.setGroupProperty(PropertyInterface("Size",n)),s.p.setGroupProperty(PropertyInterface("Position",n)),Object.defineProperties(i,{size:{get:ExpressionPropertyInterface(s.s)},position:{get:ExpressionPropertyInterface(s.p)},_name:{value:e.nm}}),i.mn=e.mn,i}function l(e,t,r){function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.rotation:e.pt.ix===t?i.points:e.or.ix===t||"ADBE Vector Star Outer Radius"===t?i.outerRadius:e.os.ix===t?i.outerRoundness:!e.ir||e.ir.ix!==t&&"ADBE Vector Star Inner Radius"!==t?e.is&&e.is.ix===t?i.innerRoundness:null:i.innerRadius}var n=propertyGroupFactory(i,r),s="tm"===t.sh.ty?t.sh.prop:t.sh;return i.propertyIndex=e.ix,s.or.setGroupProperty(PropertyInterface("Outer Radius",n)),s.os.setGroupProperty(PropertyInterface("Outer Roundness",n)),s.pt.setGroupProperty(PropertyInterface("Points",n)),s.p.setGroupProperty(PropertyInterface("Position",n)),s.r.setGroupProperty(PropertyInterface("Rotation",n)),e.ir&&(s.ir.setGroupProperty(PropertyInterface("Inner Radius",n)),s.is.setGroupProperty(PropertyInterface("Inner Roundness",n))),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(s.p)},rotation:{get:ExpressionPropertyInterface(s.r)},points:{get:ExpressionPropertyInterface(s.pt)},outerRadius:{get:ExpressionPropertyInterface(s.or)},outerRoundness:{get:ExpressionPropertyInterface(s.os)},innerRadius:{get:ExpressionPropertyInterface(s.ir)},innerRoundness:{get:ExpressionPropertyInterface(s.is)},_name:{value:e.nm}}),i.mn=e.mn,i}function h(e,t,r){function i(t){return e.p.ix===t?i.position:e.r.ix===t?i.roundness:e.s.ix===t||"Size"===t||"ADBE Vector Rect Size"===t?i.size:null}var n=propertyGroupFactory(i,r),s="tm"===t.sh.ty?t.sh.prop:t.sh;return i.propertyIndex=e.ix,s.p.setGroupProperty(PropertyInterface("Position",n)),s.s.setGroupProperty(PropertyInterface("Size",n)),s.r.setGroupProperty(PropertyInterface("Rotation",n)),Object.defineProperties(i,{position:{get:ExpressionPropertyInterface(s.p)},roundness:{get:ExpressionPropertyInterface(s.r)},size:{get:ExpressionPropertyInterface(s.s)},_name:{value:e.nm}}),i.mn=e.mn,i}function c(e,t,r){function i(t){return e.r.ix===t||"Round Corners 1"===t?i.radius:null}var n=propertyGroupFactory(i,r),s=t;return i.propertyIndex=e.ix,s.rd.setGroupProperty(PropertyInterface("Radius",n)),Object.defineProperties(i,{radius:{get:ExpressionPropertyInterface(s.rd)},_name:{value:e.nm}}),i.mn=e.mn,i}function u(e,t,r){function i(t){return e.c.ix===t||"Copies"===t?i.copies:e.o.ix===t||"Offset"===t?i.offset:null}var n=propertyGroupFactory(i,r),s=t;return i.propertyIndex=e.ix,s.c.setGroupProperty(PropertyInterface("Copies",n)),s.o.setGroupProperty(PropertyInterface("Offset",n)),Object.defineProperties(i,{copies:{get:ExpressionPropertyInterface(s.c)},offset:{get:ExpressionPropertyInterface(s.o)},_name:{value:e.nm}}),i.mn=e.mn,i}return function(t,r,i){var n;function s(e){if("number"==typeof e)return 0===(e=void 0===e?1:e)?i:n[e-1];for(var t=0,r=n.length;t<r;){if(n[t]._name===e)return n[t];t+=1}return null}return s.propertyGroup=propertyGroupFactory(s,(function(){return i})),n=e(t,r,s.propertyGroup),s.numProperties=n.length,s._name="Contents",s}}(),TextExpressionInterface=function(e){var t;function r(e){return"ADBE Text Document"===e?r.sourceText:null}return Object.defineProperty(r,"sourceText",{get:function(){e.textProperty.getValue();var r=e.textProperty.currentData.t;return(!t||r!==t.value)&&((t=new String(r)).value=r||new String(r),Object.defineProperty(t,"style",{get:function(){return{fillColor:e.textProperty.currentData.fc}}})),t}}),r};function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var FootageInterface=function(e){function t(e){return"Data"===e?t.dataInterface:null}return t._name="Data",t.dataInterface=function(e){function t(e){return"Outline"===e?t.outlineInterface():null}return t._name="Outline",t.outlineInterface=function(e){var t="",r=e.getFootageData();function i(e){if(r[e])return t=e,"object"===_typeof(r=r[e])?i:r;var n=e.indexOf(t);if(-1!==n){var s=parseInt(e.substr(n+t.length),10);return"object"===_typeof(r=r[s])?i:r}return""}return function(){return t="",r=e.getFootageData(),i}}(e),t}(e),t},interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(e){return interfaces[e]||null}var expressionHelpers={searchExpressions:function(e,t,r){t.x&&(r.k=!0,r.x=!0,r.initiateExpression=ExpressionManager.initiateExpression,r.effectsSequence.push(r.initiateExpression(e,t,r).bind(r)))},getSpeedAtTime:function(e){var t=this.getValueAtTime(e),r=this.getValueAtTime(e+-.01),i=0;if(t.length){var n;for(n=0;n<t.length;n+=1)i+=Math.pow(r[n]-t[n],2);i=100*Math.sqrt(i)}else i=0;return i},getVelocityAtTime:function(e){if(void 0!==this.vel)return this.vel;var t,r,i=-.001,n=this.getValueAtTime(e),s=this.getValueAtTime(e+i);if(n.length)for(t=createTypedArray("float32",n.length),r=0;r<n.length;r+=1)t[r]=(s[r]-n[r])/i;else t=(s-n)/i;return t},getValueAtTime:function(e){return e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<e?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(e,this._cachingAtTime),this._cachingAtTime.lastFrame=e),this._cachingAtTime.value},getStaticValueAtTime:function(){return this.pv},setGroupProperty:function(e){this.propertyGroup=e}};function addPropertyDecorator(){function e(e,t,r){if(!this.k||!this.keyframes)return this.pv;e=e?e.toLowerCase():"";var i,n,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,c=h[h.length-1].t;if(l<=c)return this.pv;if(r?n=c-(i=t?Math.abs(c-this.elem.comp.globalData.frameRate*t):Math.max(0,c-this.elem.data.ip)):((!t||t>h.length-1)&&(t=h.length-1),i=c-(n=h[h.length-1-t].t)),"pingpong"===e){if(Math.floor((l-n)/i)%2!=0)return this.getValueAtTime((i-(l-n)%i+n)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(n/this.comp.globalData.frameRate,0),d=this.getValueAtTime(c/this.comp.globalData.frameRate,0),p=this.getValueAtTime(((l-n)%i+n)/this.comp.globalData.frameRate,0),f=Math.floor((l-n)/i);if(this.pv.length){for(o=(a=new Array(u.length)).length,s=0;s<o;s+=1)a[s]=(d[s]-u[s])*f+p[s];return a}return(d-u)*f+p}if("continue"===e){var _=this.getValueAtTime(c/this.comp.globalData.frameRate,0),m=this.getValueAtTime((c-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(_.length)).length,s=0;s<o;s+=1)a[s]=_[s]+(_[s]-m[s])*((l-c)/this.comp.globalData.frameRate)/5e-4;return a}return _+(l-c)/.001*(_-m)}}return this.getValueAtTime(((l-n)%i+n)/this.comp.globalData.frameRate,0)}function t(e,t,r){if(!this.k)return this.pv;e=e?e.toLowerCase():"";var i,n,s,o,a,l=this.comp.renderedFrame,h=this.keyframes,c=h[0].t;if(l>=c)return this.pv;if(r?n=c+(i=t?Math.abs(this.elem.comp.globalData.frameRate*t):Math.max(0,this.elem.data.op-c)):((!t||t>h.length-1)&&(t=h.length-1),i=(n=h[t].t)-c),"pingpong"===e){if(Math.floor((c-l)/i)%2==0)return this.getValueAtTime(((c-l)%i+c)/this.comp.globalData.frameRate,0)}else{if("offset"===e){var u=this.getValueAtTime(c/this.comp.globalData.frameRate,0),d=this.getValueAtTime(n/this.comp.globalData.frameRate,0),p=this.getValueAtTime((i-(c-l)%i+c)/this.comp.globalData.frameRate,0),f=Math.floor((c-l)/i)+1;if(this.pv.length){for(o=(a=new Array(u.length)).length,s=0;s<o;s+=1)a[s]=p[s]-(d[s]-u[s])*f;return a}return p-(d-u)*f}if("continue"===e){var _=this.getValueAtTime(c/this.comp.globalData.frameRate,0),m=this.getValueAtTime((c+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(o=(a=new Array(_.length)).length,s=0;s<o;s+=1)a[s]=_[s]+(_[s]-m[s])*(c-l)/.001;return a}return _+(_-m)*(c-l)/.001}}return this.getValueAtTime((i-((c-l)%i+c))/this.comp.globalData.frameRate,0)}function r(e,t){if(!this.k)return this.pv;if(e=.5*(e||.4),(t=Math.floor(t||5))<=1)return this.pv;var r,i,n=this.comp.renderedFrame/this.comp.globalData.frameRate,s=n-e,o=t>1?(n+e-s)/(t-1):1,a=0,l=0;for(r=this.pv.length?createTypedArray("float32",this.pv.length):0;a<t;){if(i=this.getValueAtTime(s+a*o),this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]+=i[l];else r+=i;a+=1}if(this.pv.length)for(l=0;l<this.pv.length;l+=1)r[l]/=t;else r/=t;return r}function i(e){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var t=this._transformCachingAtTime.v;if(t.cloneFromProps(this.pre.props),this.appliedTransformations<1){var r=this.a.getValueAtTime(e);t.translate(-r[0]*this.a.mult,-r[1]*this.a.mult,r[2]*this.a.mult)}if(this.appliedTransformations<2){var i=this.s.getValueAtTime(e);t.scale(i[0]*this.s.mult,i[1]*this.s.mult,i[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var n=this.sk.getValueAtTime(e),s=this.sa.getValueAtTime(e);t.skewFromAxis(-n*this.sk.mult,s*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var o=this.r.getValueAtTime(e);t.rotate(-o*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var a=this.rz.getValueAtTime(e),l=this.ry.getValueAtTime(e),h=this.rx.getValueAtTime(e),c=this.or.getValueAtTime(e);t.rotateZ(-a*this.rz.mult).rotateY(l*this.ry.mult).rotateX(h*this.rx.mult).rotateZ(-c[2]*this.or.mult).rotateY(c[1]*this.or.mult).rotateX(c[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var u=this.px.getValueAtTime(e),d=this.py.getValueAtTime(e);if(this.data.p.z){var p=this.pz.getValueAtTime(e);t.translate(u*this.px.mult,d*this.py.mult,-p*this.pz.mult)}else t.translate(u*this.px.mult,d*this.py.mult,0)}else{var f=this.p.getValueAtTime(e);t.translate(f[0]*this.p.mult,f[1]*this.p.mult,-f[2]*this.p.mult)}return t}function n(){return this.v.clone(new Matrix)}var s=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(e,t,r){var o=s(e,t,r);return o.dynamicProperties.length?o.getValueAtTime=i.bind(o):o.getValueAtTime=n.bind(o),o.setGroupProperty=expressionHelpers.setGroupProperty,o};var o=PropertyFactory.getProp;PropertyFactory.getProp=function(i,n,s,a,l){var h=o(i,n,s,a,l);h.kf?h.getValueAtTime=expressionHelpers.getValueAtTime.bind(h):h.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(h),h.setGroupProperty=expressionHelpers.setGroupProperty,h.loopOut=e,h.loopIn=t,h.smooth=r,h.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(h),h.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(h),h.numKeys=1===n.a?n.k.length:0,h.propertyIndex=n.ix;var c=0;return 0!==s&&(c=createTypedArray("float32",1===n.a?n.k[0].s.length:n.k.length)),h._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:c},expressionHelpers.searchExpressions(i,n,h),h.k&&l.addDynamicProperty(h),h};var a=ShapePropertyFactory.getConstructorFunction(),l=ShapePropertyFactory.getKeyframedConstructorFunction();function h(){}h.prototype={vertices:function(e,t){this.k&&this.getValue();var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0));var i,n=r._length,s=r[e],o=r.v,a=createSizedArray(n);for(i=0;i<n;i+=1)a[i]="i"===e||"o"===e?[s[i][0]-o[i][0],s[i][1]-o[i][1]]:[s[i][0],s[i][1]];return a},points:function(e){return this.vertices("v",e)},inTangents:function(e){return this.vertices("i",e)},outTangents:function(e){return this.vertices("o",e)},isClosed:function(){return this.v.c},pointOnPath:function(e,t){var r=this.v;void 0!==t&&(r=this.getValueAtTime(t,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(r));for(var i,n=this._segmentsLength,s=n.lengths,o=n.totalLength*e,a=0,l=s.length,h=0;a<l;){if(h+s[a].addedLength>o){var c=a,u=r.c&&a===l-1?0:a+1,d=(o-h)/s[a].addedLength;i=bez.getPointInSegment(r.v[c],r.v[u],r.o[c],r.i[u],d,s[a]);break}h+=s[a].addedLength,a+=1}return i||(i=r.c?[r.v[0][0],r.v[0][1]]:[r.v[r._length-1][0],r.v[r._length-1][1]]),i},vectorOnPath:function(e,t,r){1==e?e=this.v.c:0==e&&(e=.999);var i=this.pointOnPath(e,t),n=this.pointOnPath(e+.001,t),s=n[0]-i[0],o=n[1]-i[1],a=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));return 0===a?[0,0]:"tangent"===r?[s/a,o/a]:[-o/a,s/a]},tangentOnPath:function(e,t){return this.vectorOnPath(e,t,"tangent")},normalOnPath:function(e,t){return this.vectorOnPath(e,t,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([h],a),extendPrototype([h],l),l.prototype.getValueAtTime=function(e){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),e*=this.elem.globalData.frameRate,(e-=this.offsetTime)!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<e?this._caching.lastIndex:0,this._cachingAtTime.lastTime=e,this.interpolateShape(e,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue},l.prototype.initiateExpression=ExpressionManager.initiateExpression;var c=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(e,t,r,i,n){var s=c(e,t,r,i,n);return s.propertyIndex=t.ix,s.lock=!1,3===r?expressionHelpers.searchExpressions(e,t.pt,s):4===r&&expressionHelpers.searchExpressions(e,t.ks,s),s.k&&e.addDynamicProperty(s),s}}function initialize$1(){addPropertyDecorator()}function addDecorator(){TextProperty.prototype.getExpressionValue=function(e,t){var r=this.calculateExpression(t);if(e.t!==r){var i={};return this.copyData(i,e),i.t=r.toString(),i.__complete=!1,i}return e},TextProperty.prototype.searchProperty=function(){var e=this.searchKeyframes(),t=this.searchExpressions();return this.kf=e||t,this.kf},TextProperty.prototype.searchExpressions=function(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function(e,t){var r,i,n=createNS("feMerge");for(n.setAttribute("result",e),i=0;i<t.length;i+=1)(r=createNS("feMergeNode")).setAttribute("in",t[i]),n.appendChild(r),n.appendChild(r);return n}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(e,t,r,i,n){this.filterManager=t;var s=createNS("feColorMatrix");s.setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","linearRGB"),s.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=s,s.setAttribute("result",i+"_tint_1"),e.appendChild(s),(s=createNS("feColorMatrix")).setAttribute("type","matrix"),s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),s.setAttribute("result",i+"_tint_2"),e.appendChild(s),this.matrixFilter=s;var o=this.createMergeNode(i,[n,i+"_tint_1",i+"_tint_2"]);e.appendChild(o)}function SVGFillFilter(e,t,r,i){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),n.setAttribute("result",i),e.appendChild(n),this.matrixFilter=n}function SVGStrokeEffect(e,t,r){this.initialized=!1,this.filterManager=t,this.elem=r,this.paths=[]}function SVGTritoneFilter(e,t,r,i){this.filterManager=t;var n=createNS("feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("color-interpolation-filters","linearRGB"),n.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),e.appendChild(n);var s=createNS("feComponentTransfer");s.setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",i),this.matrixFilter=s;var o=createNS("feFuncR");o.setAttribute("type","table"),s.appendChild(o),this.feFuncR=o;var a=createNS("feFuncG");a.setAttribute("type","table"),s.appendChild(a),this.feFuncG=a;var l=createNS("feFuncB");l.setAttribute("type","table"),s.appendChild(l),this.feFuncB=l,e.appendChild(s)}function SVGProLevelsFilter(e,t,r,i){this.filterManager=t;var n=this.filterManager.effectElements,s=createNS("feComponentTransfer");(n[10].p.k||0!==n[10].p.v||n[11].p.k||1!==n[11].p.v||n[12].p.k||1!==n[12].p.v||n[13].p.k||0!==n[13].p.v||n[14].p.k||1!==n[14].p.v)&&(this.feFuncR=this.createFeFunc("feFuncR",s)),(n[17].p.k||0!==n[17].p.v||n[18].p.k||1!==n[18].p.v||n[19].p.k||1!==n[19].p.v||n[20].p.k||0!==n[20].p.v||n[21].p.k||1!==n[21].p.v)&&(this.feFuncG=this.createFeFunc("feFuncG",s)),(n[24].p.k||0!==n[24].p.v||n[25].p.k||1!==n[25].p.v||n[26].p.k||1!==n[26].p.v||n[27].p.k||0!==n[27].p.v||n[28].p.k||1!==n[28].p.v)&&(this.feFuncB=this.createFeFunc("feFuncB",s)),(n[31].p.k||0!==n[31].p.v||n[32].p.k||1!==n[32].p.v||n[33].p.k||1!==n[33].p.v||n[34].p.k||0!==n[34].p.v||n[35].p.k||1!==n[35].p.v)&&(this.feFuncA=this.createFeFunc("feFuncA",s)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(s.setAttribute("color-interpolation-filters","sRGB"),e.appendChild(s)),(n[3].p.k||0!==n[3].p.v||n[4].p.k||1!==n[4].p.v||n[5].p.k||1!==n[5].p.v||n[6].p.k||0!==n[6].p.v||n[7].p.k||1!==n[7].p.v)&&((s=createNS("feComponentTransfer")).setAttribute("color-interpolation-filters","sRGB"),s.setAttribute("result",i),e.appendChild(s),this.feFuncRComposed=this.createFeFunc("feFuncR",s),this.feFuncGComposed=this.createFeFunc("feFuncG",s),this.feFuncBComposed=this.createFeFunc("feFuncB",s))}function SVGDropShadowEffect(e,t,r,i,n){var s=t.container.globalData.renderConfig.filterSize,o=t.data.fs||s;e.setAttribute("x",o.x||s.x),e.setAttribute("y",o.y||s.y),e.setAttribute("width",o.width||s.width),e.setAttribute("height",o.height||s.height),this.filterManager=t;var a=createNS("feGaussianBlur");a.setAttribute("in","SourceAlpha"),a.setAttribute("result",i+"_drop_shadow_1"),a.setAttribute("stdDeviation","0"),this.feGaussianBlur=a,e.appendChild(a);var l=createNS("feOffset");l.setAttribute("dx","25"),l.setAttribute("dy","0"),l.setAttribute("in",i+"_drop_shadow_1"),l.setAttribute("result",i+"_drop_shadow_2"),this.feOffset=l,e.appendChild(l);var h=createNS("feFlood");h.setAttribute("flood-color","#00ff00"),h.setAttribute("flood-opacity","1"),h.setAttribute("result",i+"_drop_shadow_3"),this.feFlood=h,e.appendChild(h);var c=createNS("feComposite");c.setAttribute("in",i+"_drop_shadow_3"),c.setAttribute("in2",i+"_drop_shadow_2"),c.setAttribute("operator","in"),c.setAttribute("result",i+"_drop_shadow_4"),e.appendChild(c);var u=this.createMergeNode(i,[i+"_drop_shadow_4",n]);e.appendChild(u)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+i+" 0"),this.matrixFilter.setAttribute("values",r[0]-t[0]+" 0 0 0 "+t[0]+" "+(r[1]-t[1])+" 0 0 0 "+t[1]+" "+(r[2]-t[2])+" 0 0 0 "+t[2]+" 0 0 0 1 0")}},SVGFillFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[2].p.v,r=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+t[0]+" 0 0 0 0 "+t[1]+" 0 0 0 0 "+t[2]+" 0 0 0 "+r+" 0")}},SVGStrokeEffect.prototype.initialize=function(){var e,t,r,i,n=this.elem.layerElement.children||this.elem.layerElement.childNodes;for(1===this.filterManager.effectElements[1].p.v?(i=this.elem.maskManager.masksProperties.length,r=0):i=1+(r=this.filterManager.effectElements[0].p.v-1),(t=createNS("g")).setAttribute("fill","none"),t.setAttribute("stroke-linecap","round"),t.setAttribute("stroke-dashoffset",1);r<i;r+=1)e=createNS("path"),t.appendChild(e),this.paths.push({p:e,m:r});if(3===this.filterManager.effectElements[10].p.v){var s=createNS("mask"),o=createElementID();s.setAttribute("id",o),s.setAttribute("mask-type","alpha"),s.appendChild(t),this.elem.globalData.defs.appendChild(s);var a=createNS("g");for(a.setAttribute("mask","url("+getLocationHref()+"#"+o+")");n[0];)a.appendChild(n[0]);this.elem.layerElement.appendChild(a),this.masker=s,t.setAttribute("stroke","#fff")}else if(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v){if(2===this.filterManager.effectElements[10].p.v)for(n=this.elem.layerElement.children||this.elem.layerElement.childNodes;n.length;)this.elem.layerElement.removeChild(n[0]);this.elem.layerElement.appendChild(t),this.elem.layerElement.removeAttribute("mask"),t.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=t},SVGStrokeEffect.prototype.renderFrame=function(e){this.initialized||this.initialize();var t,r,i,n=this.paths.length;for(t=0;t<n;t+=1)if(-1!==this.paths[t].m&&(r=this.elem.maskManager.viewData[this.paths[t].m],i=this.paths[t].p,(e||this.filterManager._mdf||r.prop._mdf)&&i.setAttribute("d",r.lastPath),e||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||r.prop._mdf)){var s;if(0!==this.filterManager.effectElements[7].p.v||100!==this.filterManager.effectElements[8].p.v){var o=.01*Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),a=.01*Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v),l=i.getTotalLength();s="0 0 0 "+l*o+" ";var h,c=l*(a-o),u=1+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01,d=Math.floor(c/u);for(h=0;h<d;h+=1)s+="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01+" ";s+="0 "+10*l+" 0 0"}else s="1 "+2*this.filterManager.effectElements[4].p.v*this.filterManager.effectElements[9].p.v*.01;i.setAttribute("stroke-dasharray",s)}if((e||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",2*this.filterManager.effectElements[4].p.v),(e||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(1===this.filterManager.effectElements[10].p.v||2===this.filterManager.effectElements[10].p.v)&&(e||this.filterManager.effectElements[3].p._mdf)){var p=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(255*p[0])+","+bmFloor(255*p[1])+","+bmFloor(255*p[2])+")")}},SVGTritoneFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=this.filterManager.effectElements[2].p.v,n=i[0]+" "+r[0]+" "+t[0],s=i[1]+" "+r[1]+" "+t[1],o=i[2]+" "+r[2]+" "+t[2];this.feFuncR.setAttribute("tableValues",n),this.feFuncG.setAttribute("tableValues",s),this.feFuncB.setAttribute("tableValues",o)}},SVGProLevelsFilter.prototype.createFeFunc=function(e,t){var r=createNS(e);return r.setAttribute("type","table"),t.appendChild(r),r},SVGProLevelsFilter.prototype.getTableValue=function(e,t,r,i,n){for(var s,o,a=0,l=Math.min(e,t),h=Math.max(e,t),c=Array.call(null,{length:256}),u=0,d=n-i,p=t-e;a<=256;)o=(s=a/256)<=l?p<0?n:i:s>=h?p<0?i:n:i+d*Math.pow((s-e)/p,1/r),c[u]=o,u+=1,a+=256/255;return c.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t,r=this.filterManager.effectElements;this.feFuncRComposed&&(e||r[3].p._mdf||r[4].p._mdf||r[5].p._mdf||r[6].p._mdf||r[7].p._mdf)&&(t=this.getTableValue(r[3].p.v,r[4].p.v,r[5].p.v,r[6].p.v,r[7].p.v),this.feFuncRComposed.setAttribute("tableValues",t),this.feFuncGComposed.setAttribute("tableValues",t),this.feFuncBComposed.setAttribute("tableValues",t)),this.feFuncR&&(e||r[10].p._mdf||r[11].p._mdf||r[12].p._mdf||r[13].p._mdf||r[14].p._mdf)&&(t=this.getTableValue(r[10].p.v,r[11].p.v,r[12].p.v,r[13].p.v,r[14].p.v),this.feFuncR.setAttribute("tableValues",t)),this.feFuncG&&(e||r[17].p._mdf||r[18].p._mdf||r[19].p._mdf||r[20].p._mdf||r[21].p._mdf)&&(t=this.getTableValue(r[17].p.v,r[18].p.v,r[19].p.v,r[20].p.v,r[21].p.v),this.feFuncG.setAttribute("tableValues",t)),this.feFuncB&&(e||r[24].p._mdf||r[25].p._mdf||r[26].p._mdf||r[27].p._mdf||r[28].p._mdf)&&(t=this.getTableValue(r[24].p.v,r[25].p.v,r[26].p.v,r[27].p.v,r[28].p.v),this.feFuncB.setAttribute("tableValues",t)),this.feFuncA&&(e||r[31].p._mdf||r[32].p._mdf||r[33].p._mdf||r[34].p._mdf||r[35].p._mdf)&&(t=this.getTableValue(r[31].p.v,r[32].p.v,r[33].p.v,r[34].p.v,r[35].p.v),this.feFuncA.setAttribute("tableValues",t))}},extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){if((e||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),e||this.filterManager.effectElements[0].p._mdf){var t=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(255*t[0]),Math.round(255*t[1]),Math.round(255*t[2])))}if((e||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),e||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var r=this.filterManager.effectElements[3].p.v,i=(this.filterManager.effectElements[2].p.v-90)*degToRads,n=r*Math.cos(i),s=r*Math.sin(i);this.feOffset.setAttribute("dx",n),this.feOffset.setAttribute("dy",s)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(e,t,r){this.initialized=!1,this.filterManager=t,this.filterElem=e,this.elem=r,r.matteElement=createNS("g"),r.matteElement.appendChild(r.layerElement),r.matteElement.appendChild(r.transformedElement),r.baseElement=r.matteElement}function SVGGaussianBlurEffect(e,t,r,i){e.setAttribute("x","-100%"),e.setAttribute("y","-100%"),e.setAttribute("width","300%"),e.setAttribute("height","300%"),this.filterManager=t;var n=createNS("feGaussianBlur");n.setAttribute("result",i),e.appendChild(n),this.feGaussianBlur=n}function TransformEffect(){}function SVGTransformEffect(e,t){this.init(t)}function CVTransformEffect(e){this.init(e)}return SVGMatte3Effect.prototype.findSymbol=function(e){for(var t=0,r=_svgMatteSymbols.length;t<r;){if(_svgMatteSymbols[t]===e)return _svgMatteSymbols[t];t+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(e,t){var r=e.layerElement.parentNode;if(r){for(var i=r.children,n=0,s=i.length;n<s&&i[n]!==e.layerElement;)n+=1;var o;n<=s-2&&(o=i[n+1]);var a=createNS("use");a.setAttribute("href","#"+t),o?r.insertBefore(a,o):r.appendChild(a)}},SVGMatte3Effect.prototype.setElementAsMask=function(e,t){if(!this.findSymbol(t)){var r=createElementID(),i=createNS("mask");i.setAttribute("id",t.layerId),i.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(t);var n=e.globalData.defs;n.appendChild(i);var s=createNS("symbol");s.setAttribute("id",r),this.replaceInParent(t,r),s.appendChild(t.layerElement),n.appendChild(s);var o=createNS("use");o.setAttribute("href","#"+r),i.appendChild(o),t.data.hd=!1,t.show()}e.setMatte(t.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var e=this.filterManager.effectElements[0].p.v,t=this.elem.comp.elements,r=0,i=t.length;r<i;)t[r]&&t[r].data.ind===e&&this.setElementAsMask(this.elem,t[r]),r+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()},SVGGaussianBlurEffect.prototype.renderFrame=function(e){if(e||this.filterManager._mdf){var t=.3*this.filterManager.effectElements[0].p.v,r=this.filterManager.effectElements[1].p.v,i=3==r?0:t,n=2==r?0:t;this.feGaussianBlur.setAttribute("stdDeviation",i+" "+n);var s=1==this.filterManager.effectElements[2].p.v?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",s)}},TransformEffect.prototype.init=function(e){this.effectsManager=e,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(e){if(this._opMdf=!1,this._mdf=!1,e||this.effectsManager._mdf){var t=this.effectsManager.effectElements,r=t[0].p.v,i=t[1].p.v,n=1===t[2].p.v,s=t[3].p.v,o=n?s:t[4].p.v,a=t[5].p.v,l=t[6].p.v,h=t[7].p.v;this.matrix.reset(),this.matrix.translate(-r[0],-r[1],r[2]),this.matrix.scale(.01*o,.01*s,1),this.matrix.rotate(-h*degToRads),this.matrix.skewFromAxis(-a*degToRads,(l+90)*degToRads),this.matrix.translate(i[0],i[1],0),this._mdf=!0,this.opacity!==t[8].p.v&&(this.opacity=t[8].p.v,this._opMdf=!0)}},extendPrototype([TransformEffect],SVGTransformEffect),extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie},module.exports=V())})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports),v$1="4.8.0",meta={g:"LottieFiles AE 3.5.1",a:"",k:"",d:"",tc:"none"},fr=24,ip=0,op=72,w$2=1920,h$1=1080,nm="Goal Animation 1",ddd=0,assets=[],fonts={list:[{fName:"Ubuntu-Bold",fFamily:"Ubuntu",fStyle:"Bold",ascent:77.5985717773438}]},layers=[{ddd:0,ind:1,ty:5,nm:"GOAL",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.014]},t:64,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[957,306,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:1,k:[{i:{x:[.345,.345,.667],y:[1.131,1.131,1]},o:{x:[.167,.167,.167],y:[.167,.167,-1.042]},t:15,s:[100,100,100]},{i:{x:[.833,.833,.833],y:[.833,.833,-.042]},o:{x:[.944,.944,.333],y:[.094,.094,0]},t:23,s:[150,150,100]},{t:27,s:[100,100,100]}],ix:6}},ao:0,t:{d:{k:[{s:{s:170,f:"Ubuntu-Bold",t:"GOAL",j:2,tr:10,lh:204,ls:0,fc:[1,1,1]},t:0}]},p:{},m:{g:1,a:{a:0,k:[0,0],ix:2}},a:[{nm:"Animator 1",s:{t:0,xe:{a:0,k:0,ix:7},ne:{a:0,k:0,ix:8},a:{a:0,k:100,ix:4},b:1,rn:0,sh:1,r:1},a:{t:{a:1,k:[{i:{x:[.032],y:[1.05]},o:{x:[.167],y:[.167]},t:15,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.906],y:[.023]},t:23,s:[48]},{t:27,s:[0]}],ix:89}}}]},ip:0,op:72,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Ball",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.014]},t:64,s:[100]},{t:71,s:[0]}],ix:11},r:{a:1,k:[{i:{x:[.667],y:[1]},o:{x:[.167],y:[.167]},t:10,s:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},t:16,s:[181]},{t:20,s:[360]}],ix:10},p:{a:1,k:[{i:{x:.667,y:1},o:{x:.167,y:.167},t:10,s:[960,1443.715,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.667,y:1},o:{x:.333,y:0},t:16,s:[960,508.742,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:20,s:[960,623.715,0],to:[0,0,0],ti:[0,0,0]},{i:{x:.833,y:.833},o:{x:.333,y:0},t:22,s:[960,573.715,0],to:[0,0,0],ti:[0,0,0]},{t:24,s:[960,623.715,0]}],ix:2},a:{a:0,k:[1e3,1e3,0],ix:1},s:{a:1,k:[{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[.167,.167,-7.576]},t:10,s:[32,32,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.167,.167,.167],y:[.167,.167,0]},t:16,s:[9,11,100]},{i:{x:[.667,.667,.667],y:[1,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:20,s:[11,10,100]},{i:{x:[.833,.833,.833],y:[.833,1,1]},o:{x:[.333,.333,.333],y:[0,0,0]},t:22,s:[9,10,100]},{t:24,s:[10,10,100]}],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[58.618,-103.693],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-12.744,118.14]],v:[[757.024,428.022],[757.024,428.87],[440.124,501.96],[330.523,379.572],[469.86,-51.329],[658.465,-143.968],[865.764,94.001]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[115.552,22.937],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[-113.849,23.791]],v:[[-170.74,856.372],[-170.74,855.518],[-173.279,855.518],[-337.256,581],[-228.504,459.461],[229.424,459.461],[338.171,581],[175.903,852.967]],c:!0},ix:2},nm:"Path 2",mn:"ADBE Vector Shape - Group",hd:!1},{ind:2,ty:"sh",ix:3,ks:{a:0,k:{i:[[3.399,24.646],[0,0],[0,0],[0,0],[0,0],[0,0],[17.841,91.791]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[-45.032,-79.895],[-5.096,-23.797]],v:[[-864.849,96.553],[-656.701,-143.12],[-468.091,-50.481],[-328.76,380.421],[-437.579,501.942],[-758.648,428.022],[-855.505,169.648]],c:!0},ix:2},nm:"Path 3",mn:"ADBE Vector Shape - Group",hd:!1},{ind:3,ty:"sh",ix:4,ks:{a:0,k:{i:[[-58.625,39.099],[0,0],[-44.177,19.544],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[40.784,-27.197],[0,0],[0,0],[0,0],[0,0],[0,0],[46.728,-50.995]],v:[[-485.931,-727],[-485.083,-727],[-356.793,-796.69],[-63.684,-670.909],[-63.684,-432.085],[-423.059,-170.311],[-613.373,-263.805],[-642.254,-590.165]],c:!0},ix:2},nm:"Path 4",mn:"ADBE Vector Shape - Group",hd:!1},{ind:4,ty:"sh",ix:5,ks:{a:0,k:{i:[[-75.61,-75.641],[-9.302,-9.32],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[9.327,9.326],[0,0],[0,0],[0,0],[0,0],[0,0],[96.85,43.348]],v:[[616.832,-617.363],[643.102,-588.542],[614.293,-263.805],[423.98,-170.311],[64.605,-432.085],[64.605,-670.909],[356.86,-795.842]],c:!0},ix:2},nm:"Path 5",mn:"ADBE Vector Shape - Group",hd:!1},{ind:5,ty:"sh",ix:6,ks:{a:0,k:{i:[[50.97,121.539],[0,0],[93.457,93.494],[122.339,50.147],[275.268,-183.576],[75.61,-183.575],[-39.081,-194.616],[-140.186,-140.234],[-194.562,-38.239],[-64.569,0],[-122.338,50.989],[-110.449,165.728],[0,198.865]],o:[[0,0],[-50.134,-122.381],[-93.451,-93.487],[-305.859,-126.635],[-164.819,110.492],[-76.465,183.581],[39.081,194.635],[140.179,140.241],[64.563,12.75],[129.986,0],[183.509,-75.641],[110.449,-164.881],[0,-131.744]],v:[[923.54,-383.641],[924.394,-383.641],[707.744,-708.305],[383.202,-925.029],[-555.597,-832.389],[-923.467,-383.641],[-980.395,194.288],[-706.823,706.781],[-194.519,980.451],[.885,1e3],[383.202,923.511],[831.78,554.652],[999.999,-1.177]],c:!0},ix:2},nm:"Path 6",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"mm",mm:1,nm:"Merge Paths 1",mn:"ADBE Vector Filter - Merge",hd:!1},{ty:"fl",c:{a:0,k:[.109803929048,.125490196078,.149019607843,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[999.998,1e3],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:10,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[113.85,78.191],[19.54,-217.578],[154.63,-154.68],[217.499,-20.4],[180.113,123.23],[-118.943,-69.69],[-136.787,-12.75],[-129.14,46.74],[-96.86,96.89],[-46.73,129.19],[12.74,136.83],[70.51,118.986]],o:[[123.19,180.179],[-20.39,217.57],[-154.62,154.68],[-217.494,20.4],[77.313,113.88],[118.943,69.7],[136.78,12.75],[129.14,-46.75],[97.7,-97.74],[46.73,-129.18],[-12.75,-136.836],[-69.67,-118.987]],v:[[446.155,-854.876],[605.875,-239.544],[335.705,335.836],[-239.464,606.106],[-854.566,446.326],[-556.36,725.085],[-168.094,850.875],[236.305,799.035],[580.395,580.606],[798.735,236.396],[850.565,-168.154],[724.825,-556.56]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[0,.400000029919,.800000059838,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[1084.865,1081.245],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:16,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 2",np:4,cix:2,bm:0,ix:2,mn:"ADBE Vector Group",hd:!1},{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[123.19,0],[153.775,-102.838],[71.365,-171.679],[-35.683,-181.88],[-131.686,-130.879],[-180.96,-36.54],[-171.61,71.39],[-103.65,153.829],[0,185.28],[46.73,113.887],[86.65,87.54],[113.85,46.744]],o:[[-185.22,0],[-153.776,102.838],[-70.516,170.831],[36.532,181.88],[130.837,130.89],[181.82,36.55],[170.769,-70.54],[102.8,-153.83],[0,-123.24],[-46.73,-113.886],[-86.66,-86.69],[-113.84,-46.745]],v:[[8.503,-946.366],[-511.451,-788.284],[-856.385,-367.584],[-909.909,173.807],[-653.333,653.146],[-174.168,909.816],[367.022,856.276],[787.571,511.217],[945.591,-8.923],[874.232,-367.584],[671.181,-671.848],[367.022,-874.974]],c:!0},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"fl",c:{a:0,k:[1,1,1,1],ix:4},o:{a:0,k:100,ix:5},r:1,bm:0,nm:"Fill 1",mn:"ADBE Vector Graphic - Fill",hd:!1},{ty:"tr",p:{a:0,k:[994.068,1009.455],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 3",np:4,cix:2,bm:0,ix:3,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Goalpost",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960,538.254,0],ix:2},a:{a:0,k:[615,340,0],ix:1},s:{a:0,k:[55,55,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.667,y:1},o:{x:.167,y:.167},t:15,s:[{i:[[0,0],[0,0],[11.05,0],[0,0],[0,0],[0,-11.046],[0,0]],o:[[0,0],[0,-11.046],[0,0],[0,0],[-11.046,0],[0,0],[0,0]],v:[[575,300],[575,-280],[555,-300],[0,-300],[-555,-300],[-575,-280],[-575,300]],c:!1}]},{i:{x:.608,y:.619},o:{x:.333,y:0},t:17,s:[{i:[[0,0],[0,0],[11.05,0],[289.091,.462],[0,0],[0,-11.046],[0,0]],o:[[0,0],[0,-11.046],[0,0],[-289.091,-.462],[-11.046,0],[0,0],[0,0]],v:[[575,300],[575,-280],[555,-300],[0,-318.182],[-555,-300],[-575,-280],[-575,300]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[11.05,0],[178.182,-1.356],[0,0],[0,-11.046],[0,0]],o:[[0,0],[0,-11.046],[0,0],[-178.182,1.356],[-11.046,0],[0,0],[0,0]],v:[[575,300],[575,-280],[555,-300],[0,-300],[-555,-300],[-575,-280],[-575,300]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:40,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[615,340],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Ver Line 6",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[1181.5,539.5,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1.5,137.5],[1.5,-68.5]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1.5,137.5],[-60.75,-78.75]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1.5,137.5],[1.5,-68.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:5,ty:4,nm:"Ver Line 5",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960.5,540,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[-100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-139.5,136],[-139.75,-69],[-196,-162.5]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-139.5,136],[-59.75,-100.25],[-196,-162.5]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-139.5,136],[-139.75,-69],[-196,-162.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,.75],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:6,ty:4,nm:"Ver Line 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[838.5,540,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[-100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-168.5,136],[-168.75,-69],[-196,-162.5]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-168.5,136],[-141.25,-121.25],[-196,-172.5]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-168.5,136],[-168.75,-69],[-196,-162.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,.75],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:7,ty:4,nm:"Ver Line 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[1081.5,550,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-168.5,136],[-168.75,-69],[-196,-162.5]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-168.5,136],[-141.297,-120.25],[-196,-175]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-168.5,136],[-168.75,-69],[-196,-162.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,-9.25],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:8,ty:4,nm:"Ver Line 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960,540,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-139.5,136],[-139.75,-69],[-196,-162.5]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-139.5,136],[-59.75,-100.25],[-196,-162.5]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0]],v:[[-139.5,136],[-139.75,-69],[-196,-162.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,.75],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:9,ty:4,nm:"Ver Line 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[736,539.5,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1.5,137.5],[1.5,-68.5]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1.5,137.5],[64,-78.5]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1.5,137.5],[1.5,-68.5]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:10,ty:4,nm:"Hor Line 4",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960,326.5,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,115],[-223,210],[-119.386,210],[-89.581,210],[-50.865,210],[3.061,210],[223.5,210],[317,115]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,115],[-160.5,200],[-60,179.375],[-19.875,158.75],[19.875,158.75],[60,179.375],[161,200],[317,115]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,115],[-223,210],[-119.386,210],[-89.581,210],[-50.865,210],[3.061,210],[223.5,210],[317,115]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"gr",it:[{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[0,-65.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:11,ty:4,nm:"Hor Line 3",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960,400,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,115],[-223,165],[223.5,165],[317,115]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,115],[-165.5,105],[166,105],[317,115]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,115],[-223,165],[223.5,165],[317,115]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"gr",it:[{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[0,-25.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:12,ty:4,nm:"Hor Line 2",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960,480,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:1,k:[{i:{x:.84,y:.935},o:{x:.333,y:0},t:15,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,160],[-223,165],[223.5,165],[317,160]],c:!1}]},{i:{x:.82,y:1},o:{x:.333,y:.124},t:17,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,160],[-188,105],[188.5,105],[317,160]],c:!1}]},{t:23,s:[{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,160],[-223,165],[223.5,165],[317,160]],c:!1}]}],ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"gr",it:[{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:2,cix:2,bm:0,ix:4,mn:"ADBE Vector Group",hd:!1},{ty:"tr",p:{a:0,k:[0,-25.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:4,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:13,ty:4,nm:"Hor Line 1",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960,540,0],ix:2},a:{a:0,k:[0,0,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0]],v:[[-316.5,160],[-223,137.5],[223.5,137.5],[317,160]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:5,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,-.5],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:24,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Shape 1",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0},{ddd:0,ind:14,ty:4,nm:"Goal Line",sr:1,ks:{o:{a:1,k:[{i:{x:[.466],y:[.937]},o:{x:[.167],y:[.167]},t:0,s:[0]},{i:{x:[.833],y:[1]},o:{x:[.333],y:[0]},t:6,s:[100]},{i:{x:[.833],y:[1]},o:{x:[.994],y:[.02]},t:61,s:[100]},{t:71,s:[0]}],ix:11},r:{a:0,k:0,ix:10},p:{a:0,k:[960,700.504,0],ix:2},a:{a:0,k:[580,5,0],ix:1},s:{a:0,k:[55,55,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0]],o:[[0,0],[0,0]],v:[[1155,5],[5,5]],c:!1},ix:2},nm:"Path 1",mn:"ADBE Vector Shape - Group",hd:!1},{ty:"st",c:{a:0,k:[1,1,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:1,lj:1,ml:4,bm:0,nm:"Stroke 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[0,0],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transform"}],nm:"Group 1",np:2,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}],ip:0,op:72,st:0,bm:0}],markers=[],chars$1=[{ch:"G",size:170,style:"Bold",w:70.2,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-2.767,-.833],[-2.134,-1.133],[0,0],[1.233,.6],[1.9,.567],[2.633,.434],[3.266,0],[4.233,-1.6],[3.133,-3.1],[1.8,-4.466],[0,-5.8],[-1.634,-4.466],[-3,-3.066],[-4.234,-1.6],[-5.2,0],[-4.134,.833],[-1.867,.734],[0,0],[0,0],[0,0],[1.233,-.066],[1.733,0],[2.4,1.1],[1.6,2],[.8,2.767],[0,3.4],[-3.234,4.034],[-7.267,0]],o:[[2.766,.834],[0,0],[-.534,-.333],[-1.234,-.6],[-1.9,-.566],[-2.634,-.433],[-4.8,0],[-4.234,1.6],[-3.134,3.1],[-1.8,4.467],[0,5.734],[1.633,4.467],[3,3.067],[4.233,1.6],[6.066,0],[4.133,-.833],[0,0],[0,0],[0,0],[-.934,.2],[-1.234,.067],[-3.2,0],[-2.4,-1.1],[-1.6,-2],[-.8,-2.766],[0,-7],[3.233,-4.033],[3.266,0]],v:[[50.85,-56.05],[58.2,-53.1],[62.7,-65.6],[60.05,-67],[55.35,-68.75],[48.55,-70.25],[39.7,-70.9],[26.15,-68.5],[15.1,-61.45],[7.7,-50.1],[5,-34.7],[7.45,-19.4],[14.4,-8.1],[25.25,-1.1],[39.4,1.3],[54.7,.05],[63.7,-2.3],[63.7,-36.6],[48.1,-36.6],[48.1,-12.5],[44.85,-12.1],[40.4,-12],[32,-13.65],[26,-18.3],[22.4,-25.45],[21.2,-34.7],[26.05,-51.25],[41.8,-57.3]],c:!0},ix:2},nm:"G",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"G",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Ubuntu"},{ch:"O",size:170,style:"Bold",w:79,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[-.834,2.767],[-1.567,1.967],[-2.267,1.1],[-2.934,0],[-2.3,-1.066],[-1.567,-1.966],[-.834,-2.766],[0,-3.4],[.833,-2.733],[1.566,-1.966],[2.3,-1.066],[2.866,0],[2.266,1.067],[1.566,1.967],[.833,2.734],[0,3.4]],o:[[.833,-2.766],[1.566,-1.966],[2.266,-1.1],[2.866,0],[2.3,1.067],[1.566,1.967],[.833,2.767],[0,3.4],[-.834,2.734],[-1.567,1.967],[-2.3,1.067],[-2.934,0],[-2.267,-1.066],[-1.567,-1.966],[-.834,-2.733],[0,-3.333]],v:[[22.35,-43.85],[25.95,-50.95],[31.7,-55.55],[39.5,-57.2],[47.25,-55.6],[53.05,-51.05],[56.65,-43.95],[57.9,-34.7],[56.65,-25.5],[53.05,-18.45],[47.25,-13.9],[39.5,-12.3],[31.7,-13.9],[25.95,-18.45],[22.35,-25.5],[21.1,-34.7]],c:!0},ix:2},nm:"O",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[1.8,4.5],[3.133,3.067],[4.2,1.534],[4.733,0],[4.166,-1.533],[3.166,-3.066],[1.866,-4.5],[0,-5.933],[-1.8,-4.5],[-3.134,-3.033],[-4.2,-1.533],[-4.734,0],[-4.234,1.533],[-3.067,3.034],[-1.767,4.5],[0,5.934]],o:[[-1.8,-4.5],[-3.134,-3.066],[-4.2,-1.533],[-4.6,0],[-4.167,1.534],[-3.167,3.067],[-1.867,4.5],[0,5.934],[1.8,4.5],[3.133,3.034],[4.2,1.533],[4.866,0],[4.233,-1.533],[3.066,-3.033],[1.766,-4.5],[0,-5.933]],v:[[71.3,-50.35],[63.9,-61.7],[52.9,-68.6],[39.5,-70.9],[26.35,-68.6],[15.35,-61.7],[7.8,-50.35],[5,-34.7],[7.7,-19.05],[15.1,-7.75],[26.1,-.9],[39.5,1.4],[53.15,-.9],[64.1,-7.75],[71.35,-19.05],[74,-34.7]],c:!0},ix:2},nm:"O",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"O",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Ubuntu"},{ch:"A",size:170,style:"Bold",w:75.8,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[2.344,6.334],[2.244,5.6],[2.209,5.034],[2.277,4.8],[0,0],[2.173,-5.033],[2.241,-5.6],[2.341,-6.333],[2.608,-7.466],[0,0],[-.88,2.541],[-.875,2.528],[0,0],[-.887,-2.538],[-.772,-2.408]],o:[[-2.613,-7.466],[-2.344,-6.333],[-2.244,-5.6],[-2.211,-5.033],[0,0],[-2.341,4.8],[-2.173,5.034],[-2.241,5.6],[-2.341,6.334],[0,0],[.758,-2.391],[.878,-2.541],[0,0],[.88,2.516],[.888,2.537],[0,0]],v:[[71.2,0],[63.766,-20.7],[56.884,-38.6],[50.203,-54.55],[43.472,-69.3],[28.684,-69.3],[21.913,-54.55],[15.292,-38.6],[8.422,-20.7],[1,0],[17.2,0],[19.656,-7.398],[22.288,-15],[49.353,-15],[52.005,-7.419],[54.492,0]],c:!0},ix:2},nm:"A",mn:"ADBE Vector Shape - Group",hd:!1},{ind:1,ty:"sh",ix:2,ks:{a:0,k:{i:[[-.675,-1.73],[-.895,-2.27],[-.994,-2.738],[-1.061,-3.005],[0,0],[-1.058,2.73],[-.856,2.27],[-.67,1.733],[-.348,1.006]],o:[[.675,1.731],[.894,2.272],[.994,2.738],[0,0],[1.092,-2.995],[1.058,-2.73],[.856,-2.27],[.67,-1.731],[.414,.984]],v:[[37.384,-49.53],[39.739,-43.528],[42.572,-36.014],[45.653,-27.4],[25.836,-27.4],[29.061,-35.988],[31.933,-43.488],[34.222,-49.492],[35.75,-53.6]],c:!0},ix:2},nm:"A",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"A",np:5,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Ubuntu"},{ch:"L",size:170,style:"Bold",w:56.3,data:{shapes:[{ty:"gr",it:[{ind:0,ty:"sh",ix:1,ks:{a:0,k:{i:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],o:[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0]],v:[[23.6,-13.4],[23.6,-69.3],[8,-69.3],[8,0],[54.3,0],[54.3,-13.4]],c:!0},ix:2},nm:"L",mn:"ADBE Vector Shape - Group",hd:!1}],nm:"L",np:3,cix:2,bm:0,ix:1,mn:"ADBE Vector Group",hd:!1}]},fFamily:"Ubuntu"}],lottieJSON={v:v$1,meta:meta,fr:fr,ip:ip,op:op,w:w$2,h:h$1,nm:nm,ddd:ddd,assets:assets,fonts:fonts,layers:layers,markers:markers,chars:chars$1},renderAndWaitLottieGoalAnimation=e=>Yt(void 0,[e],(function*({el:e}){const t=lottie.loadAnimation({container:e,renderer:"svg",loop:!1,autoplay:!0,animationData:lottieJSON}),r=t.renderer.svgElement;r.style.position="absolute",r.style.left="0",r.style.top="0";const i=1e3*t.getDuration(!1);t.addEventListener("complete",(()=>{e.contains(r)&&e.removeChild(r),t.removeEventListener("complete")})),yield delay$1(i)})),toggleMiddleArea=(e,t)=>{var r;(null==(r=e.stage)?void 0:r.getChildByName(FIELD_LINES_NAMES.MIDDLE_AREA,!0)).visible=t},handleGoalAnimation=e=>Yt(void 0,[e],(function*({width:e,heightOfPitch:t,app:r,name:i,el:n,isPlayer:s}){const o=renderScorer({width:e,height:t,app:r,name:i,isPlayer:s});toggleMiddleArea(r,!1),yield renderAndWaitLottieGoalAnimation({el:n}),toggleMiddleArea(r,!0),o.destroy()})),renderPenaltyScored=({width:e,incidentActor:t,isHome:r,height:i})=>{const n=new Container$1,s=new Text(Translate("penalty_scored_by"),getFontStyles({size:14,width:e,wordWrap:!1,align:r?"right":"left",fontWeight:"bold"}));s.anchor.set(.5);const o=new Text(t,getFontStyles({size:12,width:e,wordWrap:!0,align:r?"right":"left"})),a=.02*e;return o.anchor.set(.5),o.y=.042*e,n.x=e/2,n.y=i/2-a,n.addChild(s,o),n},Goals=e=>Yt(void 0,[e],(function*({width:e,homeColor:t,awayColor:r,sprites:i,heightOfPitch:n,score:s,app:o,isHome:a,canvasContainer:l,incidentActor:h,event:c,playerName:u}){var d,p,f,_;if(yield handleGoalAnimation({width:e,heightOfPitch:n,app:o,name:h,el:l,isPlayer:!!u}),c===EVENT_TYPES.PENALTY_SCORED)return renderPenaltyScored({width:e,incidentActor:h,isHome:a,height:n});let m=i.bodyTshirtHome,g=i.strokeTshirtHome;const y=new s$1(16719390,+t,.3);let v=i.bodyTshirtAway,E=i.strokeTshirtAway;const T=new s$1(16719390,+r,.3);let b=null==(d=null==s?void 0:s[0])?void 0:d.goals,S=null==(p=null==s?void 0:s[1])?void 0:p.goals;const x=font18px(2*e,"#f0f0f0",!0);let A=new Text(String(b),x);A.resolution=2;let P=new Text(String(S),x);P.resolution=2;const R=new Text(String(b),x);R.resolution=2,R.anchor.set(0,.25);const O=new Text(String(S),x);O.resolution=2,O.anchor.set(0,.25);const w=new Container$1,I=(new Graphics).drawRect(0,0,.566*e,.04*e).endFill();g.anchor.set(.04,.27),g.width=.09*e,g.height=.09*e,m.anchor.set(.05,.3),m.width=.082*e,m.height=.083*e,m.filters=[y];const C=g.x+g.width/2,M=g.y+g.height/2;m.x=C-m.width/2,m.y=M-m.height/2,E.anchor.set(.08,.268),E.width=.09*e,E.height=.09*e,v.anchor.set(.05,.3),v.width=.082*e,v.height=.083*e,v.filters=[T];const D=E.width/2+I.width-v.width,L=E.y+E.height/2;v.x=D-v.width/2,v.y=L-v.height/2,E.x=D-v.width/2,w.addChild(I),w.x=e/2-I.width/2,w.y=n/2-I.height/2;const N=new Container$1,F=(new Graphics).drawRect(0,0,e/5+.05*e,.04*e).endFill();a?A=new Text(String(b-1<0?"0":b-1),x):P=new Text(String(S-1<0?"0":S-1),x),N.addChild(F),N.x=w.width/2-N.width/2;const k=new Container$1,B=(new Graphics).drawRect(0,0,A.width,.04*e).endFill();A.anchor.set(.5),A.x=B.width/2,A.y=B.height/2,k.addChild(B,A);const $=new Container$1,U=(new Graphics).drawRect(0,0,P.width,.04*e).endFill();P.anchor.set(.5),P.x=U.width/2,P.y=U.height/2,2===String(S).length&&10===S&&(O.x=$.width-P.width),$.addChild(U,P),$.x=F.width-$.width;const G=new Graphics,H=.14*N.width,V=(N.width-H)/2;G.lineStyle(.02*e/4,15790320,1),G.moveTo(V,N.height/2),G.lineTo(V+H,N.height/2),N.addChild(k,$,G),w.addChild(N);const j=null==(f=o.stage)?void 0:f.getChildByName(FIELD_LINES_NAMES.SPRITE_CONTAINER,!0),Y=null==(_=o.stage)?void 0:_.getChildByName(FIELD_LINES_NAMES.SMALL_CIRCLE,!0);j.visible=!1,Y.visible=!1;let W=0;const X=new Ticker$1;X.start();let z=!1;X.add((e=>{W+=e,setBounceEffect({texture:A,delta:e,progress:W,bounceMultiplier:3400/n,finalPositionY:B.height/2}),setBounceEffect({texture:P,delta:e,progress:W,bounceMultiplier:3400/n,onComplete:()=>{w.addChild(m,v,E,g),setTimeout((()=>{z=!0}),500),X.stop()},finalPositionY:U.height/2})}));const K=new Ticker$1,q=new Ticker$1;O.y=-O.height,R.y=-R.height,R.anchor.set(0,.28),O.anchor.set(0,.3),K.add((e=>{z&&replaceScoreAnimation({oldTexture:a?A:P,newTexture:a?R:O,container:a?k:$,pitchHeight:n,delta:e,tickerToStop:K,tickerToStart:q})}));let Q=0;return q.add((e=>{Q+=e,setBounceEffect({texture:a?R:O,delta:e,progress:Q,bounceMultiplier:3400/n,onComplete:()=>q.stop(),finalPositionY:0})})),K.start(),w})),Penalty=({width:e,app:t,color:r,teamName:i,heightOfPitch:n,bounceAnimationDefaults:s,isHome:o})=>{const a=new Text(Translate("penalty"),getFontStyles({size:14,width:e,fontWeight:"bold"})),l=new Text(i,getFontStyles({size:12,width:e})),h=new Container$1,c=drawEventDetails({width:e,eventNameText:a,teamNameText:l,isHome:o,color:r});h.addChild(c);const u=getPenaltyLineBounds({rootContainer:t.stage,selectRightPenalty:o}),d=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:57,outerContainerWidth:e}),p=o?u.x-c.width+d:u.x+u.width-d,f=e/2+.9*(p-e/2);return c.x=f,c.y=(n-c.height)/2,s({container:c,targetPosition:p,axis:AXES.HORIZONTAL,isHome:o}),h},WoodWork=({width:e,app:t,color:r,heightOfPitch:i,bounceAnimationDefaults:n,isHome:s,incidentActor:o})=>{const a=new Text(Translate("woodwork"),getFontStyles({size:14,width:e,fontWeight:"bold"})),l=new Text(o,getFontStyles({size:12,width:e})),h=new Container$1,c=drawEventDetails({width:e,eventNameText:a,teamNameText:l,isHome:s,color:r});h.addChild(c);const u=getPenaltyLineBounds({rootContainer:t.stage,selectRightPenalty:s}),d=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:57,outerContainerWidth:e}),p=s?u.x-c.width+d:u.x+u.width-d,f=e/2+.9*(p-e/2);return c.x=f,c.y=(i-c.height)/2,n({container:c,targetPosition:p,axis:AXES.HORIZONTAL,isHome:s}),h},Injury=({app:e,width:t,sprites:r,heightOfPitch:i,incidentActor:n})=>{const s=new Container$1,o=r.injury;o.width=.072*t,o.height=.072*t;const a=new Text(Translate("injury"),getFontStyles({size:14,width:t,fontWeight:"bold"})),l=new Text(n,getFontStyles({size:12,width:t})),h={texture:o,textContainer:createAlignedTextsContainer({primaryText:a,secondaryText:l,spacing:.008*t,alignmentMode:ALIGNMENT_MODES.TOP}),margin:.008*t,alignmentMode:ALIGNMENT_MODES.TOP,width:t},c=createTeamEventDetailsContainer(h);s.addChild(c),c.x=t/2-c.width/2-o.width/1.8;const u=i/2-c.height/1.8;return c.y=u,Yt(void 0,null,(function*(){yield handleOverlay(c,e);const r=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:26,outerContainerWidth:t});verticalAnimationBounce(c,r,u)})),s},Var=({width:e,reason:t,heightOfPitch:r,sprites:i,app:n})=>{const s=new Container$1,o=new Container$1,a=new Text(Translate(normilizeStringForTranslation(t||"VAR")),getFontStyles({fontWeight:"bold",size:14,width:e}));a.anchor.set(.5);const l=i.var;l.width=.056*e,l.height=.047*e,l.anchor.set(.5),o.addChild(l),t&&(l.y=-.044*r,a.y=.08*r,o.addChild(a)),o.x=e/2-s.width/2;const h=r/2-s.height/2;return Yt(void 0,null,(function*(){yield handleOverlay(o,n);const t=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:26,outerContainerWidth:e});verticalAnimationBounce(o,t,h)})),s.addChild(o),s},InjuryTime=({width:e,app:t,minutes:r,heightOfPitch:i,sprites:n})=>{const s=new Container$1,{panel:o,handleAnimationsInSequence:a}=renderCenterPitchEventDetails({width:e,icon:n.delay,heightOfPitch:i,app:t,textToTranslate:"injury_time",additionalText:`${r||0}`});return s.addChild(o),a(),s},PERIOD_TYPES={PRE_MATCH:1,FIRST_HALF:2,HALF_TIME:3,SECOND_HALF:4,REGULAR_TIME_FINISHED:5,EXTRA_TIME_FIRST_HALF:6,EXTRA_TIME_HALF_TIME:7,EXTRA_TIME_SECOND_HALF:8,EXTRA_TIME_FINISHED:9,PENALTY_SHOOTOUT:10,FINISHED:11},periodsStarted={[PERIOD_TYPES.PRE_MATCH]:"pre_match",[PERIOD_TYPES.FIRST_HALF]:"start_of_first_half",[PERIOD_TYPES.HALF_TIME]:"half_time",[PERIOD_TYPES.SECOND_HALF]:"start_of_second_half",[PERIOD_TYPES.EXTRA_TIME_FIRST_HALF]:"start_of_extra_time_first_half",[PERIOD_TYPES.EXTRA_TIME_HALF_TIME]:"start_of_extra_time_half_time",[PERIOD_TYPES.EXTRA_TIME_SECOND_HALF]:"start_of_extra_time_second_half",[PERIOD_TYPES.PENALTY_SHOOTOUT]:"start_of_penalty_shootout"},periodsEnded={[PERIOD_TYPES.PRE_MATCH]:"pre_match",[PERIOD_TYPES.FIRST_HALF]:"end_of_first_half",[PERIOD_TYPES.HALF_TIME]:"half_time",[PERIOD_TYPES.SECOND_HALF]:"end_of_second_half",[PERIOD_TYPES.EXTRA_TIME_FIRST_HALF]:"end_of_extra_time_first_half",[PERIOD_TYPES.EXTRA_TIME_HALF_TIME]:"end_of_extra_time_half_time",[PERIOD_TYPES.EXTRA_TIME_SECOND_HALF]:"end_of_extra_time_second_half",[PERIOD_TYPES.PENALTY_SHOOTOUT]:"end_of_penalty_shootout"},PeriodEnded=({width:e,app:t,heightOfPitch:r,sprites:i,period:n})=>{var s;const o=new Container$1,a=null!=(s=periodsEnded[n])?s:"Period",{panel:l,handleAnimationsInSequence:h}=renderCenterPitchEventDetails({width:e,icon:i.whistle,heightOfPitch:r,app:t,textToTranslate:a});return o.addChild(l),h(),o},PeriodStarted=({width:e,app:t,heightOfPitch:r,sprites:i,period:n})=>{var s;const o=new Container$1,a=null!=(s=periodsStarted[n])?s:"Period",{panel:l,handleAnimationsInSequence:h}=renderCenterPitchEventDetails({width:e,icon:i.whistle,heightOfPitch:r,app:t,textToTranslate:a});return o.addChild(l),h(),o},PenaltyOutcome=({width:e,app:t,teamName:r,heightOfPitch:i,color:n,event:s,bounceAnimationDefaults:o,isHome:a})=>{const l={[EVENT_TYPES.PENALTY_SAVED]:Translate("penalty_save"),[EVENT_TYPES.PENALTY_MISSED]:Translate("penalty_missed")},h=new Text(l[s],getFontStyles({size:14,width:e,fontWeight:"bold"})),c=new Text(r,getFontStyles({size:12,width:e})),u=new Container$1,d=drawEventDetails({width:e,eventNameText:h,teamNameText:c,isHome:a,color:n});u.addChild(d);const p=getPenaltyLineBounds({rootContainer:t.stage,selectRightPenalty:a});let f=0;const _=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:57,outerContainerWidth:e});f=a?p.x-d.width+_:p.x+p.width-_;const m=e/2+.9*(f-e/2);return d.x=m,d.y=(i-d.height)/2,o({container:d,targetPosition:f,axis:AXES.HORIZONTAL,isHome:a}),t.stage.addChild(u),u},ErrorLayout=({width:e,height:t,message:r})=>{const i=new Graphics,n=new Container$1,s=new Text(Translate(r)||"Information not available",getFontStyles({fontWeight:"bold",size:14,width:e}));return s.anchor.set(.5),s.y=t/2,s.x=e/2,n.addChild(i,s),n},possesion="data:image/svg+xml,%3csvg%20width='180'%20height='192'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20width='180'%20height='192'%20rx='4'%20ry='4'%20fill='%23000000'%20opacity='.3'/%3e%3c/svg%3e",injury="data:image/svg+xml,%3csvg%20width='28'%20height='28'%20viewBox='0%200%2028%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18%2015.333h-2.667v-2.666a1.333%201.333%200%200%200-2.666%200v2.666H10A1.333%201.333%200%200%200%2010%2018h2.667v2.667a1.333%201.333%200%201%200%202.666%200V18H18a1.333%201.333%200%200%200%200-2.667Z'%20fill='%23fff'/%3e%3cpath%20d='M23.333%206h-4V3.333A2.67%202.67%200%200%200%2016.667.667h-5.334a2.67%202.67%200%200%200-2.666%202.666V6h-4c-2.206%200-4%201.794-4%204v13.333c0%202.206%201.794%204%204%204h18.666c2.206%200%204-1.794%204-4V10c0-2.206-1.794-4-4-4Zm-12-2.667h5.334V6h-5.334V3.333Zm13.334%2020c0%20.735-.599%201.334-1.334%201.334H4.667a1.335%201.335%200%200%201-1.334-1.334V10c0-.735.599-1.333%201.334-1.333h18.666c.735%200%201.334.598%201.334%201.333v13.333Z'%20fill='%23fff'/%3e%3c/svg%3e",stoiximanLogoIcon="data:image/svg+xml,%3csvg%20width='106'%20height='125'%20viewBox='0%200%2018%2021'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M0.166992%2020.8425L1.18621%2016.0375H5.43301C5.96689%2016.0132%206.47652%2015.7463%206.84053%2015.3095C7.30161%2014.7513%207.27734%2013.999%207.156%2013.4894C7.156%2013.4894%205.99117%207.88366%205.86983%207.25271C5.43302%204.9473%206.20957%202.61763%207.88402%201.33146C8.70912%200.70051%209.70407%200.312228%2010.7718%200.190891C10.9902%200.166624%2011.2329%200.166626%2011.4513%200.166626H17.8337L16.8144%204.9473H13.0044C12.3735%204.9473%2011.6455%205.04437%2011.1601%205.67533C11.0145%205.8452%2010.9175%206.01507%2010.8447%206.25774C10.6505%206.86443%2010.7718%207.44685%2010.8932%207.95646C10.9174%208.02926%2011.9609%2013.0283%2011.9609%2013.0283C12.0823%2013.6593%2012.2036%2014.2417%2012.2279%2014.8484C12.2764%2016.4015%2011.8153%2017.8576%2010.8932%2018.9496C10.0681%2019.9203%208.85471%2020.5755%207.49574%2020.7939C7.15599%2020.8425%206.79199%2020.8667%206.35518%2020.8667L0.166992%2020.8425Z'%20fill='white'%20fill-opacity='0.32'/%3e%3c/svg%3e",betanoLogoIcon="data:image/svg+xml,%3csvg%20width='36'%20height='40'%20viewBox='0%200%2018%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M15.4284%2015.8696C15.4284%2015.8696%2014.3039%2017.3026%2010.7298%2018.6691C10.7298%2018.6691%208.75911%2019.5023%207.60117%2019.2356C7.60117%2019.2356%206.16489%2019.1023%205.46344%2017.6137C5.46344%2017.6137%204.55046%2016.3917%204.36118%2011.0704C4.36118%2011.0704%204.36118%205.4047%205.34097%203.08287C5.34097%203.08287%205.98674%200.961018%208.19128%201.01656C8.19128%201.01656%2010.8857%201.14987%2014.2593%203.32728C14.2593%203.32728%2017.1764%204.86034%2016.3302%208.04868C16.3302%208.04868%2016.0296%208.84854%2015.4173%209.72617C15.4173%209.72617%2015.2391%209.97057%2015.4507%2010.2039C15.4507%2010.2039%2016.7979%2011.6703%2016.7311%2013.0256C16.7422%2013.0478%2016.8869%2014.5476%2015.4284%2015.8696ZM5.0594%2015.299C5.0543%2015.2967%205.05156%2015.2944%205.05156%2015.2919C4.13857%2010.2261%205.05156%205.02698%205.05156%205.02698C5.11049%204.91918%205.60264%205.01887%205.76368%205.05149C5.78519%205.05584%205.80079%205.059%205.80867%205.06031C6.29856%205.1603%206.8998%205.38248%207.41197%205.60466C7.89073%205.80463%208.35836%206.02681%208.80372%206.31565C9.33815%206.67115%209.98392%207.25993%2010.0619%207.9487C10.1287%208.52638%209.93939%208.98186%209.6499%209.47066C9.62574%209.51353%209.59639%209.55833%209.56608%209.6046C9.47071%209.75021%209.36579%209.91039%209.38269%2010.0706C9.41998%2010.2845%209.57439%2010.4751%209.71515%2010.6489C9.74248%2010.6826%209.7693%2010.7157%209.79464%2010.7482C9.92825%2010.926%2010.0285%2011.1259%2010.1175%2011.337C10.5295%2012.3257%209.79464%2013.27%209.0264%2013.8366C8.80372%2014.0032%208.55877%2014.1476%208.32495%2014.2809C7.69032%2014.6364%207.02227%2015.003%206.3097%2015.1919C6.07588%2015.2586%205.83094%2015.303%205.57485%2015.303C5.53032%2015.303%205.06269%2015.2919%205.05155%2015.2585L5.0594%2015.299Z'%20fill='white'%20fill-opacity='0.32'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M16.7089%2010.9815C16.8091%2011.137%2016.8981%2011.3148%2016.9761%2011.4925C17.2433%2012.1369%2017.3769%2012.8701%2017.299%2013.5699C17.2878%2013.6588%2017.2656%2013.7477%2017.2433%2013.8255C17.0763%2014.5364%2016.8091%2015.1808%2016.3526%2015.7696C15.8738%2016.3806%2015.2837%2016.9138%2014.6602%2017.3693C14.0033%2017.847%2013.3019%2018.258%2012.5781%2018.6024C11.899%2018.9246%2011.1864%2019.2134%2010.4627%2019.4578C10.0841%2019.58%209.69444%2019.6911%209.31589%2019.78C8.23377%2020.1344%207.11488%2019.969%206.00924%2019.8056C5.62463%2019.7488%205.24157%2019.6922%204.86228%2019.6578L4.82995%2019.6545C4.08209%2019.5777%203.28336%2019.4958%202.65775%2019.0468C2.4128%2018.869%202.19012%2018.6468%202.01197%2018.4024C1.3328%2017.4915%200.97651%2016.3472%200.764964%2015.2474C0.609088%2014.392%200.520016%2013.5144%200.486614%2012.6479C0.430944%2011.1593%200.430944%209.6484%200.53115%208.15977C0.631356%206.66003%200.842902%205.16029%201.25486%203.70499C1.47754%202.92734%201.83383%202.1497%202.45733%201.61646C2.93771%201.19307%203.57928%201.01095%204.21646%200.884208C3.88821%200.950831%203.55884%201.03229%203.24953%201.1526C3.70357%200.978724%204.20288%200.890262%204.67559%200.806514C4.76109%200.791367%204.84571%200.776374%204.92904%200.761059C5.65275%200.61664%206.43213%200.461111%207.16697%200.394456C7.67914%200.305582%208.2247%200.33891%208.73687%200.427783C9.51625%200.561094%2010.2622%200.783277%2011.0082%201.0499C12.0325%201.4165%2013.0346%201.87198%2013.9587%202.42744C15.395%203.29395%2016.5307%204.46042%2016.887%205.62688C16.94%205.79631%2016.9874%205.99036%2017.0218%206.20427C16.988%205.98689%2016.9406%205.78916%2016.8869%205.61577C16.5307%204.4493%2015.395%203.28284%2013.9698%202.41632C13.0457%201.86086%2012.0436%201.40539%2011.0193%201.03878C10.2733%200.772161%209.52736%200.549978%208.74798%200.416667C8.44695%200.364431%208.13438%200.331384%207.82383%200.33106C8.13806%200.330589%208.45453%200.3638%208.75918%200.416665C9.53857%200.549975%2010.2845%200.772159%2011.0305%201.03878C12.0549%201.40538%2013.0569%201.86086%2013.981%202.41632C15.4062%203.28284%2016.5419%204.4493%2016.8981%205.61577C17.1765%206.51561%2017.2878%208.0709%2016.1856%209.62619C16.0742%209.78171%2016.0408%209.97057%2016.1299%2010.1261C16.1778%2010.2121%2016.2339%2010.2899%2016.2841%2010.3594L16.2935%2010.3725L16.308%2010.3927C16.3179%2010.4067%2016.3278%2010.4207%2016.3378%2010.4347L16.3596%2010.4654C16.4781%2010.6325%2016.602%2010.807%2016.7089%2010.9815ZM17.2767%2013.5811C17.3196%2013.2715%2017.3176%2012.9619%2017.2801%2012.6585C17.3194%2012.9575%2017.3274%2013.2602%2017.2989%2013.5588C17.2878%2013.6477%2017.2655%2013.7366%2017.2432%2013.8144C17.0961%2014.4407%2016.8712%2015.0154%2016.5076%2015.5459C16.8581%2015.0223%2017.0769%2014.4501%2017.221%2013.8366C17.2433%2013.7588%2017.2655%2013.6699%2017.2767%2013.5811ZM15.5732%2016.1251C15.5732%2016.1251%2014.3484%2017.5804%2010.6408%2019.0135C10.6408%2019.0135%208.6144%2019.8355%207.42306%2019.5578C7.42306%2019.5578%205.90883%2019.4689%205.17399%2017.9248C5.17399%2017.9248%204.22759%2016.6583%204.03832%2011.1259C4.03832%2011.1259%204.03832%205.24917%205.05151%202.83848C5.05151%202.83848%205.69728%200.683295%207.99089%200.74995C7.99089%200.74995%2010.7967%200.838823%2014.3039%203.09399C14.3039%203.09399%2017.4325%204.74926%2016.5529%208.04869C16.5529%208.04869%2016.3748%208.73746%2015.7179%209.69285C15.7179%209.69285%2015.5397%209.94836%2015.6622%2010.0928C15.6622%2010.0928%2017.0651%2011.7258%2017.0094%2013.1367C17.0086%2013.1367%2017.0084%2013.1468%2017.008%2013.1662C17.004%2013.3907%2016.9775%2014.8568%2015.5732%2016.1251Z'%20fill='white'%20fill-opacity='0.32'/%3e%3c/svg%3e",tShirtBody="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M10.001%2036.667V18.89l-6.666-2.22v-5.944a4.434%204.434%200%200%201%202.71-4.09l8.368-3.287L19.98%207.78l5.554-4.446%208.404%203.302a4.422%204.422%200%200%201%202.727%204.1v5.934l-6.666%202.222v17.776H10.001Z'%20fill='%23FF1E1E'/%3e%3c/svg%3e",tShirtStroke="data:image/svg+xml,%3csvg%20width='40'%20height='40'%20viewBox='0%200%2040%2040'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m33.933%206.633-4.833-1.9-3.567-1.4-5.55%204.45-5.566-4.433-3.6%201.417L6.05%206.633c-1.65.7-2.717%202.3-2.717%204.084v5.95L10%2018.883v17.784h20V18.883l6.667-2.216v-5.934c0-1.8-1.067-3.4-2.734-4.1ZM35%2015.467l-6.667%202.216V35H11.667V17.683L5%2015.467v-4.75c0-1.1.667-2.117%201.65-2.534l5.667-2.216%207.666%206.083%207.634-6.117L33.3%208.167a2.783%202.783%200%200%201%201.7%202.566v4.734Z'%20fill='%23101419'/%3e%3c/svg%3e",yellowCardIcon="data:image/svg+xml,%3csvg%20width='20'%20height='28'%20viewBox='0%200%2020%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='.667'%20width='20'%20height='26.667'%20rx='2'%20fill='%23F3D113'/%3e%3c/svg%3e",redCardIcon="data:image/svg+xml,%3csvg%20width='20'%20height='28'%20viewBox='0%200%2020%2028'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3crect%20y='.667'%20width='20'%20height='26.667'%20rx='2'%20fill='%23BA1030'/%3e%3c/svg%3e",whistle="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M18.667%2010H2c-.736%200-1.333.597-1.333%201.334V17.2c0%20.656.478%201.216%201.126%201.317l8.293%201.304c.567%204.233%204.194%207.513%208.58%207.513%204.78%200%208.667-3.888%208.667-8.667S23.445%2010%2018.667%2010Zm-8.522%207.13-6.812-1.07v-3.393h9.094a8.643%208.643%200%200%200-2.282%204.464Zm8.522%207.537c-3.309%200-6-2.691-6-6s2.691-6%206-6c3.308%200%206%202.691%206%206s-2.692%206-6%206ZM18%206c.736%200%201.333-.597%201.333-1.333V2a1.333%201.333%200%200%200-2.666%200v2.667C16.667%205.403%2017.264%206%2018%206Zm-6.525.597a1.333%201.333%200%201%200%202.384-1.194l-.704-1.405a1.333%201.333%200%201%200-2.384%201.194l.704%201.405Zm11.261.595a1.333%201.333%200%200%200%201.79-.595l.703-1.405a1.333%201.333%200%201%200-2.384-1.194l-.704%201.405c-.33.659-.063%201.46.595%201.79Z'%20fill='%23fff'/%3e%3c/svg%3e",delay="data:image/svg+xml,%3csvg%20width='32'%20height='32'%20viewBox='0%200%2032%2032'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M27.76%208.707a14.047%2014.047%200%200%200-2.16-2.2%201.346%201.346%200%200%200-1.88.186%201.346%201.346%200%200%200%20.187%201.88c.64.52%201.226%201.12%201.733%201.774.267.333.653.506%201.053.506.294%200%20.574-.093.827-.28.587-.453.68-1.293.227-1.867h.013ZM6.387%2010.306c.506-.64%201.08-1.213%201.706-1.733a1.334%201.334%200%200%200%20.187-1.88%201.334%201.334%200%200%200-1.88-.186c-.8.653-1.52%201.386-2.16%202.2-.187.24-.28.52-.28.826a1.329%201.329%200%200%200%202.413.774h.014ZM18.96%2013.2l-2.293%202.293A2.77%202.77%200%200%200%2016%2015.4a2.646%202.646%200%200%200-2.64%202.64A2.646%202.646%200%200%200%2016%2020.68a2.646%202.646%200%200%200%202.64-2.64c0-.227-.04-.44-.093-.653l2.306-2.307c.52-.52.52-1.36%200-1.88-.52-.52-1.36-.52-1.88%200h-.013Z'%20fill='%23fff'/%3e%3cpath%20d='M17.333%206.853v-1.44c.654.067%201.294.16%201.894.32.706.187%201.44-.24%201.626-.96a1.334%201.334%200%200%200-.96-1.626%2015.54%2015.54%200%200%200-3.88-.48c-1.32%200-2.653.16-3.88.48a1.338%201.338%200%200%200-.96%201.626%201.337%201.337%200%200%200%201.627.96c.6-.16%201.24-.253%201.893-.32v1.44c-5.6.667-9.946%205.427-9.946%2011.2%200%206.227%205.066%2011.28%2011.28%2011.28%206.213%200%2011.28-5.066%2011.28-11.28%200-5.773-4.36-10.533-9.947-11.2h-.027ZM16%2026.667c-4.747%200-8.613-3.867-8.613-8.614a8.605%208.605%200%200%201%208.506-8.613c.04%200%20.067.027.107.027.04%200%20.067-.014.107-.027%204.706.053%208.506%203.893%208.506%208.613S20.747%2026.666%2016%2026.666Z'%20fill='%23fff'/%3e%3c/svg%3e",varIcon="data:image/svg+xml,%3csvg%20width='40'%20height='36'%20viewBox='0%200%2020%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M14%2016H6a1%201%200%200%200%200%202h8a1%201%200%200%200%200-2Zm3-16H3C1.346%200%200%201.346%200%203v9c0%201.654%201.346%203%203%203h14c1.654%200%203-1.346%203-3V3c0-1.654-1.346-3-3-3Zm1%2012c0%20.551-.449%201-1%201H3c-.551%200-1-.449-1-1V3c0-.551.449-1%201-1h14c.551%200%201%20.449%201%201v9Z'%20fill='%23fff'/%3e%3cpath%20d='M16.699%206.646c0-1.23-.824-1.646-1.862-1.646h-1.876v4.902h1.25V8.23h.301l1.117%201.722L17%209.741l-1.252-1.793c.498-.248.95-.67.95-1.302Zm-2.073.664h-.416V5.942h.45c.153.003.778.04.778.684%200%20.735-.812.684-.812.684ZM9.213%205.005%207.356%209.953h1.266l.325-1.008h1.746L11.04%2010l1.311-.203-1.78-4.792H9.212Zm.044%202.983.554-1.715.566%201.715h-1.12ZM6.641%205.051l-1.105%203.42-1.143-3.466L3%205.22%204.776%2010h1.359l1.857-4.949H6.641Z'%20fill='%23fff'/%3e%3c/svg%3e",versus="data:image/svg+xml,%3csvg%20width='12'%20height='18'%20viewBox='0%200%2012%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%23fff'%20d='M0%20.5h12v2H0zm3.166%2010.664%201.507-5.062H6.14L3.913%2012.5h-.967l.22-1.336Zm-1.39-5.062%201.504%205.062.228%201.336h-.975L.318%206.102h1.459Zm8.293%204.724a.846.846%200%200%200-.052-.308.58.58%200%200%200-.185-.255%201.633%201.633%200%200%200-.382-.233%205.399%205.399%200%200%200-.637-.237c-.29-.094-.566-.2-.827-.316a3.394%203.394%200%200%201-.685-.41%201.842%201.842%200%200%201-.466-.548%201.514%201.514%200%200%201-.167-.726%201.5%201.5%200%200%201%20.176-.725c.117-.22.281-.407.492-.562.21-.158.46-.28.747-.365.29-.085.608-.127.954-.127.471%200%20.883.085%201.234.255.352.17.624.402.818.698.196.296.294.635.294%201.015h-1.31a.987.987%200%200%200-.118-.492.803.803%200%200%200-.351-.338%201.253%201.253%200%200%200-.59-.123c-.228%200-.418.035-.57.105a.762.762%200%200%200-.343.277.681.681%200%200%200-.115.387.56.56%200%200%200%20.08.294.89.89%200%200%200%20.246.246c.108.077.241.148.4.216.158.067.34.133.549.197.348.106.655.225.918.356.267.132.49.28.668.444.179.164.314.35.405.558.09.208.136.444.136.708%200%20.278-.054.527-.163.747-.108.22-.265.406-.47.558-.205.152-.45.268-.734.347-.284.08-.602.119-.954.119-.316%200-.628-.041-.936-.123a2.842%202.842%200%200%201-.839-.383%201.927%201.927%200%200%201-.598-.65%201.867%201.867%200%200%201-.224-.936h1.323c0%20.2.03.368.092.505a.844.844%200%200%200%20.26.334c.114.085.249.147.404.185.158.038.33.057.518.057.229%200%20.416-.032.563-.097a.694.694%200%200%200%20.33-.268.701.701%200%200%200%20.11-.386ZM0%2015.5h12v2H0z'/%3e%3c/svg%3e",attackArrows="data:image/svg+xml,%3csvg%20width='35'%20height='176'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M.334%20176V0L22.61%2032.78c.983%201.448.983%203.86%200%205.298L12.374%2053.14l21.89%2032.203c.982%201.448.982%203.859%200%205.298l-21.89%2032.202%2010.236%2015.061c.983%201.449.983%203.859%200%205.299L.334%20176Z'%20fill-opacity='.32'/%3e%3c/svg%3e",attackRect="data:image/svg+xml,%3csvg%20width='150'%20height='192'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M4%200h172v192H4a4%204%200%200%201-4-4V4a4%204%200%200%201%204-4z'%20opacity='.32'/%3e%3c/svg%3e",substitutionIn="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M22.331%2017.28a1.333%201.333%200%200%200-1.885%200l-2.168%202.168V9.333a1.333%201.333%200%200%200-2.667%200v10.115l-2.168-2.169a1.333%201.333%200%201%200-1.886%201.886l4.445%204.444a1.333%201.333%200%200%200%201.885%200l4.444-4.444a1.333%201.333%200%200%200%200-1.886Z'%20fill='%23fff'/%3e%3c/svg%3e",substitutionOut="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='m22.331%2012.835-4.444-4.444a1.333%201.333%200%200%200-1.885%200l-4.445%204.444a1.333%201.333%200%201%200%201.886%201.886l2.168-2.169v10.115a1.333%201.333%200%200%200%202.667%200V12.552l2.168%202.169a1.33%201.33%200%200%200%201.885%200%201.333%201.333%200%200%200%200-1.886Z'%20fill='%23fff'/%3e%3c/svg%3e",ballIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='12'%20height='12'%20viewBox='0%200%2012%2012'%20fill='none'%3e%3cpath%20d='M6.01331%201.31567C5.08726%201.31567%204.18245%201.59189%203.41357%202.10608C2.64469%202.62027%202.04573%203.35119%201.6889%204.20959C1.33632%205.06374%201.24286%206.00713%201.42128%206.91653C1.60394%207.82592%202.04573%208.65883%202.70416%209.31325C3.35834%209.96768%204.19519%2010.4139%205.1%2010.5966C6.00907%2010.7793%206.94786%2010.6858%207.80595%2010.3289C8.65979%209.97617%209.39044%209.37274%209.90869%208.60358C10.4227%207.83442%2010.6988%206.92928%2010.6988%206.00288C10.6988%205.3867%2010.5756%204.77902%2010.342%204.20959C10.1083%203.64016%209.76001%203.12596%209.32672%202.68827C8.89343%202.25482%208.37518%201.90636%207.80595%201.67263C7.23672%201.43891%206.62927%201.31567%206.01331%201.31567Z'%20fill='white'/%3e%3cpath%20opacity='0.16'%20d='M8.65547%202.13208C9.27143%203.03298%209.55179%204.12085%209.45409%205.20873C9.35214%206.2966%208.87637%207.31223%208.10324%208.08564C7.33011%208.85905%206.31485%209.335%205.22737%209.43699C4.1399%209.53898%203.05242%209.25426%202.15186%208.63808C2.53842%209.20751%203.04817%209.68346%203.64289%2010.0319C4.2376%2010.3804%204.90028%2010.5971%205.5842%2010.6608C6.26812%2010.7246%206.96054%2010.6354%207.60623%2010.4016C8.25192%2010.1679%208.84238%209.79395%209.32665%209.3095C9.81516%208.82081%2010.1847%208.23438%2010.4184%207.58845C10.652%206.94253%2010.7412%206.24986%2010.6775%205.56568C10.6138%204.88151%2010.4014%204.21859%2010.0488%203.62366C9.70047%203.02873%209.2247%202.52304%208.65547%202.13208Z'%20fill='%230066CC'/%3e%3cpath%20d='M2.47852%202.92624C1.73513%203.78039%201.32733%204.86826%201.33158%205.99863C1.33158%206.13037%201.33582%206.2621%201.34857%206.39384L2.65269%204.89376L2.47852%202.93049V2.92624Z'%20fill='%231C2026'/%3e%3cpath%20d='M7.80546%201.67263C6.65851%201.19669%205.37138%201.19669%204.22443%201.67263L6.01707%202.43754L7.80546%201.67263Z'%20fill='%231C2026'/%3e%3cpath%20d='M10.6771%206.38109C10.6856%206.2536%2010.6941%206.12612%2010.6941%205.99863C10.6941%204.87676%2010.2905%203.78889%209.55561%202.93899L9.38145%204.88951L10.6771%206.37684V6.38109Z'%20fill='%231C2026'/%3e%3cpath%20d='M2.00275%208.42085C2.3256%208.95629%202.75464%209.41949%203.26015%209.7892C3.76565%2010.1547%204.33913%2010.4181%204.94658%2010.5626L3.93557%208.86705L2.00275%208.42085Z'%20fill='%231C2026'/%3e%3cpath%20d='M7.0918%2010.5541C7.69501%2010.4096%208.26848%2010.1462%208.76974%209.7807C9.271%209.41524%209.6958%208.95204%2010.0186%208.42085L8.09857%208.8628L7.08755%2010.5541H7.0918Z'%20fill='%231C2026'/%3e%3cpath%20d='M4.72994%207.97466L3.93557%205.51844L6.01707%204.00136L8.09857%205.51844L7.3042%207.97466H4.72994Z'%20fill='%231C2026'/%3e%3cpath%20d='M10.6224%204.08204C10.3718%203.47011%2010.0065%202.92618%209.53919%202.45873C9.07192%201.99128%208.52818%201.62583%207.91647%201.37511C6.38721%200.741928%204.59882%200.920408%203.22248%201.8383C2.39838%202.39074%201.76119%203.16415%201.38312%204.08204C1.00081%204.99994%200.903102%205.99857%201.09851%206.97171C1.29391%207.94485%201.76544%208.83299%202.46635%209.53416C3.16726%2010.2353%204.05508%2010.7113%205.02786%2010.9025C5.35071%2010.9662%205.68205%2011.0002%206.00489%2011.0002C6.65483%2011.0002%207.30477%2010.8728%207.91647%2010.6178C8.83403%2010.2396%209.60716%209.60216%2010.1594%208.7735C10.7116%207.9491%2011.0005%206.98871%2011.0005%205.99432C11.0005%205.33565%2010.873%204.68972%2010.6182%204.08204H10.6224ZM9.78557%208.14457L8.20109%208.51003L7.6531%207.8981L8.34976%205.7436L9.29281%205.2804L10.3293%206.47027C10.2656%207.06095%2010.0787%207.62188%209.78557%208.14032V8.14457ZM3.81295%208.51003L2.20722%208.14032C1.98208%207.74087%201.81216%207.30742%201.72296%206.84847C1.69747%206.72949%201.69322%206.60625%201.67623%206.48302L2.71698%205.28465L3.66002%205.74785L4.35669%207.90235L3.8087%208.51428L3.81295%208.51003ZM4.9514%207.65588L4.29722%205.64161L6.00489%204.39651L7.71257%205.64161L7.05839%207.65588H4.9514ZM10.3336%205.50988L9.70061%204.78321L9.78557%203.83557C9.87478%203.9928%209.95974%204.15853%2010.032%204.32851C10.1891%204.71097%2010.2911%205.10617%2010.3336%205.50988ZM9.21635%203.05366L9.07192%204.68122L8.12037%205.14867L6.32349%203.83982V2.64571L7.78479%202.02103C8.26905%202.23776%208.70659%202.53522%209.08466%202.91343C9.13139%202.96017%209.16962%203.01117%209.21635%203.05791V3.05366ZM6.86723%201.71932L6.00489%202.08902L5.1553%201.72356C5.43142%201.66832%205.71179%201.63008%206.00065%201.63008C6.28951%201.63008%206.58262%201.65982%206.86723%201.71932ZM3.57506%202.36524C3.77897%202.22926%203.99561%202.11452%204.21651%202.01678L5.68205%202.64571V3.83982L3.88517%205.14867L2.93362%204.68122L2.78919%203.04941C3.02283%202.79444%203.27771%202.56072%203.57082%202.36524H3.57506ZM2.22422%203.81857L2.30917%204.78321L1.66773%205.52263C1.71021%205.11467%201.81216%204.71097%201.97359%204.32426C2.0458%204.15003%202.13501%203.98005%202.22846%203.81857H2.22422ZM2.7807%208.92648L3.7195%209.14321L4.21226%209.96336C3.73224%209.74664%203.29045%209.45767%202.91663%209.07947C2.8699%209.03272%202.82743%208.97323%202.7807%208.92223V8.92648ZM5.14681%2010.2778C5.14681%2010.2778%205.13831%2010.2778%205.13406%2010.2778L4.31421%208.90524L4.85795%208.29756H7.14759L7.69133%208.90524L6.87997%2010.2651C6.31075%2010.3841%205.72453%2010.3968%205.14681%2010.2821V10.2778ZM7.80178%209.96336L8.29029%209.14321L9.23334%208.92648C8.83403%209.36843%208.34552%209.71689%207.80178%209.96336Z'%20fill='%231C2026'/%3e%3c/svg%3e",penaltyMissedShootoutIcon="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%3e%3cpath%20d='M19.388%204.61204C18.5719%203.79599%2017.2488%203.79599%2016.4328%204.61204L12%209.04482L7.56722%204.61204C6.75117%203.79599%205.42809%203.79599%204.61204%204.61204C3.79599%205.42809%203.79599%206.75117%204.61204%207.56722L9.04482%2012L4.61204%2016.4328C3.79599%2017.2488%203.79599%2018.5719%204.61204%2019.388C5.42809%2020.204%206.75118%2020.204%207.56722%2019.388L12%2014.9552L16.4328%2019.388C17.2488%2020.204%2018.5719%2020.204%2019.388%2019.388C20.204%2018.5719%2020.204%2017.2488%2019.388%2016.4328L14.9552%2012L19.388%207.56722C20.204%206.75118%2020.204%205.42809%2019.388%204.61204Z'%20fill='%23F0506E'/%3e%3c/svg%3e",Sprites=()=>{const e=new BaseTexture$1(possesion,{resolution:5,resourceOptions:{scale:1}}),t=new BaseTexture$1(attackArrows,{resolution:5,resourceOptions:{scale:5}}),r=new BaseTexture$1(attackRect,{resolution:5,resourceOptions:{scale:1}}),i=new BaseTexture$1(yellowCardIcon,{resolution:5,resourceOptions:{scale:1}}),n=new BaseTexture$1(redCardIcon,{resolution:5,resourceOptions:{scale:1}}),s=new BaseTexture$1(injury,{resolution:5,resourceOptions:{scale:5}}),o=new BaseTexture$1(tShirtBody,{resolution:5,resourceOptions:{scale:5}}),a=new BaseTexture$1(tShirtStroke,{resolution:1,resourceOptions:{scale:5}}),l=new BaseTexture$1(whistle,{resolution:5,resourceOptions:{scale:5}}),h=new BaseTexture$1(delay,{resolution:5,resourceOptions:{scale:5}}),c=new BaseTexture$1(varIcon,{resolution:1,resourceOptions:{scale:1}}),u=new BaseTexture$1(versus,{resolution:5,resourceOptions:{scale:5}}),d=new BaseTexture$1(substitutionIn,{resolution:5,resourceOptions:{scale:5}}),p=new BaseTexture$1(substitutionOut,{resolution:5,resourceOptions:{scale:5}}),f=new BaseTexture$1(stoiximanLogoIcon),_=new BaseTexture$1(betanoLogoIcon),m=new BaseTexture$1(ballIcon,{resolution:5,resourceOptions:{scale:5}}),g=new BaseTexture$1(penaltyMissedShootoutIcon,{resolution:5,resourceOptions:{scale:5}});return{attackShadowRect:new Sprite(new Texture$1(r)),attackShadowArrows:new Sprite(new Texture$1(t)),possesionShadow:new Sprite(new Texture$1(e)),redCard:new Sprite(new Texture$1(n)),yellowCard:new Sprite(new Texture$1(i)),injury:new Sprite(new Texture$1(s)),stoiximan:new Sprite(new Texture$1(f)),betano:new Sprite(new Texture$1(_)),bodyTshirtHome:new Sprite(new Texture$1(o)),bodyTshirtAway:new Sprite(new Texture$1(o)),strokeTshirtHome:new Sprite(new Texture$1(a)),strokeTshirtAway:new Sprite(new Texture$1(a)),whistle:new Sprite(new Texture$1(l)),delay:new Sprite(new Texture$1(h)),var:new Sprite(new Texture$1(c)),versus:new Sprite(new Texture$1(u)),substitutionIn:new Sprite(new Texture$1(d)),substitutionOut:new Sprite(new Texture$1(p)),ball:new Sprite(new Texture$1(m)),penaltyMissedShootout:new Sprite(new Texture$1(g))}},DelayStart=({width:e,app:t,heightOfPitch:r,sprites:i,reason:n})=>{const s=new Container$1,o="injury"===n?i.injury:i.delay;o.width=.072*e,o.height=.072*e;const a=new Text(Translate(n||""),getFontStyles({size:12,width:e})),l=new Text(Translate("match_delay"),getFontStyles({fontWeight:"bold",size:14,width:e}));return bounceTextureWithText({icon:o,primaryText:l,secondaryText:a,container:s,app:t,width:e,height:r}),s},DelayEnd=({width:e,app:t,heightOfPitch:r,sprites:i})=>{const n=new Container$1,{panel:s,handleAnimationsInSequence:o}=renderCenterPitchEventDetails({width:e,icon:i.whistle,heightOfPitch:r,app:t,textToTranslate:"match_resumed"});return n.addChild(s),o(),n},animateArrowsHelper=({pairedSubstitutionInArrow:e,pairedSubstitutionOutArrow:t,initialYInArrow:r,initialYOutArrow:i,moveDistance:n,ticker:s,velocity:o})=>{const a=()=>{const l=Math.abs(t.y-i),h=Math.abs(e.y-r);if(l>=n||h>=n)return s.remove(a),t.visible=!1,void(e.visible=!1);const c=h/n,u=.26*o+.7*o*cubicEaseOut(l/n),d=.26*o+.7*o*cubicEaseOut(c);e.y+=u,t.y-=d};s.add(a)},initializeAnimation=e=>Yt(void 0,[e],(function*({panel:e,app:t,width:r,panelFinalYPosition:i}){yield handleOverlay(e,t);const n=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:26,outerContainerWidth:r});yield verticalAnimationBounce(e,n,i),yield delay$1(1e3)})),setupForPlayerTransition=e=>Yt(void 0,null,(function*(){const{panel:t,iconsContainer:r,container:i,pairedSubstitutionOutArrow:n,pairedSubstitutionInArrow:s,eventText:o,outgoingPlayerName:a,ingoingPlayerName:l,teamText:h,width:c,singleSubstitutionInArrow:u,singleSubstitutionOutArrow:d}=e;t.removeChild(o),r.addChild(n,s),t.removeChild(r),i.removeChild(t);const p=""!==a.text,f=""!==l.text;p&&(a.x=t.width/2-a.width/2,a.y=o.y),f&&(l.x=t.width/2-l.width/2,l.y=o.y),h.x=t.width/2-h.width/2,f&&p&&(h.y=l.y+l.height+widthProportionalSpacing({referenceWidth:930,referenceAdjustment:8,outerContainerWidth:c}));const _=t.width/2-widthProportionalSpacing({referenceWidth:930,referenceAdjustment:4,outerContainerWidth:c})-2*getFieldPadding(c);u.x=_,u.y=-widthProportionalSpacing({referenceWidth:930,referenceAdjustment:40,outerContainerWidth:c}),d.x=_,d.y=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:20,outerContainerWidth:c}),t.addChild(a,h),a.alpha=0,yield fadeIn(a,20)})),animateArrow=(e,t,r)=>{const{initialY:i,maxDistance:n,velocity:s,ticker:o,firstInwardAnimation:a,hideAfterAnimation:l}=r,h=()=>{let r;switch(t){case Direction.INWARDS:if(r=e.y-i,(t=>a?t>=t-e.y-n:t>=n)(r))return o.remove(h),void(l&&(e.visible=!1));e.y+=s;break;case Direction.OUTWARDS:if(r=i-e.y,r>=n)return void o.remove(h);e.y-=s}};o.add(h)},animatePlayerIn=e=>Yt(void 0,[e],(function*({panel:e,iconsContainer:t,pairedSubstitutionOutArrow:r,pairedSubstitutionInArrow:i,singleSubstitutionInArrow:n,tickerSingle:s,initialYInArrowSingle:o,width:a,velocity:l,container:h,teamText:c,ingoingPlayerName:u,eventText:d,outgoingPlayerName:p}){const f=""!==u.text,_=""!==p.text,m=new Graphics;m.beginFill(8388736),m.drawRect(0,0,n.width,n.height+widthProportionalSpacing({referenceWidth:930,referenceAdjustment:6,outerContainerWidth:a})),m.endFill(),t.removeChild(r,i),e.addChild(n),e.addChild(m),n.mask=m,m.x=n.x,f||(c.y=d.y+d.height),_||(c.y=d.y),h.addChild(e),n.visible=!0;const g={initialY:o,maxDistance:widthProportionalSpacing({referenceWidth:930,referenceAdjustment:8,outerContainerWidth:a}),velocity:l,ticker:s,firstInwardAnimation:!0};animateArrow(n,Direction.INWARDS,g),yield delay$1(1500);const y={initialY:n.y,maxDistance:widthProportionalSpacing({referenceWidth:930,referenceAdjustment:20,outerContainerWidth:a}),velocity:l,ticker:s,hideAfterAnimation:!0};animateArrow(n,Direction.INWARDS,y)})),animatePlayerOut=e=>Yt(void 0,[e],(function*({panel:e,outgoingPlayerName:t,singleSubstitutionInArrow:r,ingoingPlayerName:i,singleSubstitutionOutArrow:n,width:s,initialYOutArrowSingle:o,velocity:a,tickerSingle:l,teamText:h,eventText:c}){const u=""!==t.text,d=""!==i.text,p=new Graphics;p.beginFill(8388736),p.drawRect(0,0,n.width,n.height+widthProportionalSpacing({referenceWidth:930,referenceAdjustment:6,outerContainerWidth:s})),p.endFill(),e.removeChild(t,r),e.addChild(i,n),e.addChild(p),n.mask=p,p.x=n.x,u||(h.y=c.y+c.height),d||(h.y=c.y),i.alpha=0,yield fadeIn(i,20),n.visible=!0;const f={initialY:o,maxDistance:widthProportionalSpacing({referenceWidth:930,referenceAdjustment:6,outerContainerWidth:s}),velocity:a,ticker:l};animateArrow(n,Direction.OUTWARDS,f)})),getPlayerName=({players:e,playerId:t,styles:r})=>{var i;const n=null==(i=e.find((({id:e})=>e===t)))?void 0:i.name;return new Text(n,r)},Substitution=({width:e,player_id_in:t,player_id_out:r,players:i,teamName:n,sprites:s,app:o})=>{var a;const l=new Text(n,getFontStyles({size:12,width:e})),h=getPlayerName({players:i,playerId:t,styles:getFontStyles({size:14,width:e,fontWeight:"bold"})}),c=getPlayerName({players:i,playerId:r,styles:getFontStyles({size:14,width:e,fontWeight:"bold"})}),u=new Text(Translate("substitution"),getFontStyles({size:14,width:e,fontWeight:"bold"})),d=s.substitutionIn,p=s.substitutionOut,f=s.substitutionIn,_=s.substitutionOut,m=new Container$1,g=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:60,outerContainerWidth:e});p.width=g,p.height=g,d.width=g,d.height=g,f.width=g,f.height=g,_.width=g,_.height=g;const y=new Container$1,v=null==(a=o.stage)?void 0:a.getChildByName(FIELD_LINES_NAMES.MIDDLE_CIRCLE,!0),{width:E,height:T,y:b}=v.getBounds(),S=new Container$1;y.addChild(p,d),S.x=e/2-S.width/2;const x=b;S.y=x,d.x=p.width+widthProportionalSpacing({referenceWidth:930,referenceAdjustment:2,outerContainerWidth:e}),y.x=S.width/2-y.width/2,y.width=E,u.x=S.width/2-u.width/2,u.y=T-u.height,S.addChild(y,u),m.addChild(S);const A=y.getBounds(),P=new Graphics;P.x=.02*e,P.y=.02*e,P.beginFill(8388736),P.drawRect(0,0,A.width,A.height-widthProportionalSpacing({referenceWidth:930,referenceAdjustment:12,outerContainerWidth:e})),P.endFill(),y.addChild(P),y.mask=P;const R=Ticker$1.shared,O=Ticker$1.shared,w=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:60,outerContainerWidth:e}),I=p.y,C=d.y,M=b,D=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:2,outerContainerWidth:e}),L=widthProportionalSpacing({referenceWidth:930,referenceAdjustment:1.6,outerContainerWidth:e});return Yt(void 0,null,(function*(){yield initializeAnimation({panel:S,app:o,width:e,panelFinalYPosition:x}),animateArrowsHelper({pairedSubstitutionInArrow:d,pairedSubstitutionOutArrow:p,initialYInArrow:C,initialYOutArrow:I,moveDistance:w,ticker:R,velocity:D}),yield delay$1(1e3),yield setupForPlayerTransition({panel:S,iconsContainer:y,container:m,pairedSubstitutionOutArrow:p,pairedSubstitutionInArrow:d,eventText:u,outgoingPlayerName:c,ingoingPlayerName:h,teamText:l,width:e,singleSubstitutionInArrow:f,singleSubstitutionOutArrow:_}),yield animatePlayerIn({panel:S,iconsContainer:y,container:m,singleSubstitutionInArrow:f,initialYInArrowSingle:M,width:e,tickerSingle:O,velocity:L,pairedSubstitutionOutArrow:p,pairedSubstitutionInArrow:d,teamText:l,ingoingPlayerName:h,eventText:u,outgoingPlayerName:c}),yield delay$1(500),yield animatePlayerOut({panel:S,outgoingPlayerName:c,singleSubstitutionInArrow:f,ingoingPlayerName:h,singleSubstitutionOutArrow:_,width:e,initialYOutArrowSingle:0,velocity:D,tickerSingle:O,teamText:l,eventText:u})})),m},DELAY_UNTIL_BALL_ANIMATION=4e3,DELAY_UNTIL_BALL_DESTRUCTION=DELAY_UNTIL_BALL_ANIMATION+2e3,applyMask=({cx:e,cy:t,width:r,heightOfPitch:i,isHome:n})=>{const s=Math.PI/15,o=.08*r,a=createGradientCircle(o,e,t),l=createConeMask({triangleBaseAngle:s,coneWidth:2*o,cx:e,cy:t,height:i,width:r,isHome:n}),h=animateCircles({cx:e,cy:t,radius:o,width:r,speedMultiplier:.002});return a.mask=l,h.mask=l,{gradientCircle:a,circleExpand:h,mask:l}},getEventDetails=({width:e,isHome:t,color:r,heightOfPitch:i,missed:n,incidentActorText:s})=>{const o=new Text(s,getFontStyles({size:12,width:e})),a=new Text(Translate(n?"penalty_missed":"penalty_scored"),getFontStyles({size:14,width:e,fontWeight:"bold"})),l=drawEventDetails({width:e,eventNameText:a,teamNameText:o,isHome:t,color:r});return l.x=t?.83*e-l.width:.17*e,l.y=i/2-l.height/2,l},setSpriteDimensions=(e,t)=>{const r=.028*t;e.width=r,e.height=r,e.anchor.set(.5)},placeSpriteToPenaltyArea=({width:e,isHome:t,heightOfPitch:r,sprite:i})=>{const n=t?.91*e:.09*e,s=r/2;i.x=n,i.y=s},handleAlphaAnimation=({delta:e,missedSprite:t,ballSprite:r,selfTicker:i})=>{const n=.04*e;t.alpha+=n,r.alpha-=n,t.alpha>1&&r.alpha<1&&(i.stop(),t.alpha=1,r.alpha=0)},handleBallMovement=({delta:e,isHome:t,width:r,missed:i,missedSprite:n,ballSprite:s,selfTicker:o,scaleBallTicker:a,spriteAlphaTicker:l})=>{s.x=t?s.x+e:s.x-e,n.x=t?n.x+e:n.x-e;const h=r-getFieldPadding(r)-s.width/2,c=getFieldPadding(r)+s.width/2;i&&l.start(),t&&s.x>h&&(o.stop(),a.stop()),!t&&s.x<c&&(o.stop(),a.stop())},PenaltyShootoutOutcome=({width:e,heightOfPitch:t,color:r,isHome:i,penaltyFromShootoutMissed:n,incidentActor:s})=>{const o=new Container$1,a=Sprites(),l=a.ball,h=a.penaltyMissedShootout;setSpriteDimensions(l,e),setSpriteDimensions(h,e),h.alpha=0,placeSpriteToPenaltyArea({width:e,isHome:i,heightOfPitch:t,sprite:l}),placeSpriteToPenaltyArea({width:e,isHome:i,heightOfPitch:t,sprite:h});const{gradientCircle:c,circleExpand:u,mask:d}=applyMask({cy:l.y,cx:l.x,width:e,heightOfPitch:t,isHome:i}),p=getEventDetails({width:e,isHome:i,color:r,heightOfPitch:t,missed:n,incidentActorText:s}),f=new Ticker$1,_=new Ticker$1,m=new Ticker$1;return m.add((e=>handleAlphaAnimation({delta:e,missedSprite:h,ballSprite:l,selfTicker:m}))),_.add((e=>{l.scale.set(l.scale.x+.08*e),h.scale.set(h.scale.x+.08*e)})),f.add((t=>handleBallMovement({delta:t,width:e,isHome:i,missed:n,missedSprite:h,ballSprite:l,selfTicker:f,scaleBallTicker:_,spriteAlphaTicker:m}))),setTimeout((()=>{f.start(),_.start(),o.removeChild(c),o.removeChild(d),o.removeChild(u),o.addChild(p)}),DELAY_UNTIL_BALL_ANIMATION),setTimeout((()=>{o.removeChild(l),o.removeChild(h)}),DELAY_UNTIL_BALL_DESTRUCTION),o.addChild(c,d,u,l,h),o},Field=({width:e,height:t,sprites:r,fieldLogo:i})=>{const n=.0025*e,s=getFieldPadding(e),o=new Container$1,a=drawTouchline({lineWidth:n,fieldWidth:e,fieldHeight:t}),l=r=>{const i=new Graphics,s=drawPenaltyArea({lineWidth:n,fieldWidth:e,fieldHeight:t});return i.addChild(s),i.name=r,i},h=l(FIELD_LINES_NAMES.LEFT_PENALTY_CONTAINER),c=l(FIELD_LINES_NAMES.RIGHT_PENALTY_CONTAINER),u=drawMiddleArea({lineWidth:n,fieldWidth:e,fieldHeight:t,sprite:i});u.name=FIELD_LINES_NAMES.MIDDLE_AREA;const d=drawCornerArcs({lineWidth:n,fieldWidth:e,fieldHeight:t}),p=drawStripes({fieldWidth:e,fieldHeight:t});c.rotation=Math.PI,c.x=e,c.y=t,o.addChild(p,a,h,u,c,d);let f=r.possesionShadow;f.width=.5*e-s,f.height=t-2*s,f.y=s,f.name="possesionShadow",f.visible=!1;let _=r.attackShadowRect;_.width=.5*e,_.height=t-2*s,_.name=ATTACK_SHADOW_COMPONENTS.ATTACK_SHADOW_RECT;let m=r.attackShadowArrows;m.name=ATTACK_SHADOW_COMPONENTS.ATTACK_SHADOW_ARROWS,m.height=t-2*s,m.width=.2*t;let g=new Container$1;return g.addChild(_,m),g.name=ATTACK_SHADOW_COMPONENTS.ATTACK_SHADOW,g.visible=!1,{field:o,possesionShadow:f,attackShadow:g}},errorCodesEnum={1:"match_not_found",2:"match_has_ended"},addLangPrefixIfOperatorIsNotInPrimaryLang=e=>window.location.pathname.split("/").filter((e=>e))[0]===e?`/${e}`:"",ENTRYPOINT$1="/api/statsstream";let LANG;const setLang=e=>{LANG=null!=e?e:"en"},fetchPitchData=e=>Yt(void 0,null,(function*(){var t,r,i,n;try{const s=yield fetch(`${addLangPrefixIfOperatorIsNotInPrimaryLang(LANG||"")}${ENTRYPOINT$1}/${e}/info/aggregated/?lang=${LANG}`).then((e=>e.json())),o=null==(t=s.data)?void 0:t.match;return{matchData:o,lineupsData:null==(r=s.data)?void 0:r.lineups,supportsPassCoordinates:null==(n=null==(i=s.data)?void 0:i.match)?void 0:n.supports_pass_coordinates,errorLog:s.error}}catch(e){return{matchData:void 0,lineupsData:null,errorLog:null}}}));var __extends$3=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),HttpError=function(e){function t(t,r){var i=this,n=this.constructor.prototype;return(i=e.call(this,t)||this).statusCode=r,i.__proto__=n,i}return __extends$3(t,e),t}(Error),TimeoutError=function(e){function t(t){void 0===t&&(t="A timeout occurred.");var r=this,i=this.constructor.prototype;return(r=e.call(this,t)||this).__proto__=i,r}return __extends$3(t,e),t}(Error),AbortError=function(e){function t(t){void 0===t&&(t="An abort occurred.");var r=this,i=this.constructor.prototype;return(r=e.call(this,t)||this).__proto__=i,r}return __extends$3(t,e),t}(Error),__assign$7=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},HttpResponse=function(e,t,r){this.statusCode=e,this.statusText=t,this.content=r},HttpClient=function(){function e(){}return e.prototype.get=function(e,t){return this.send(__assign$7({},t,{method:"GET",url:e}))},e.prototype.post=function(e,t){return this.send(__assign$7({},t,{method:"POST",url:e}))},e.prototype.delete=function(e,t){return this.send(__assign$7({},t,{method:"DELETE",url:e}))},e.prototype.getCookieString=function(e){return""},e}(),LogLevel;!function(e){e[e.Trace=0]="Trace",e[e.Debug=1]="Debug",e[e.Information=2]="Information",e[e.Warning=3]="Warning",e[e.Error=4]="Error",e[e.Critical=5]="Critical",e[e.None=6]="None"}(LogLevel||(LogLevel={}));var NullLogger=function(){function e(){}return e.prototype.log=function(e,t){},e.instance=new e,e}(),__assign$6=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__awaiter$6=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))},__generator$6=function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},VERSION="5.0.11",Arg=function(){function e(){}return e.isRequired=function(e,t){if(null==e)throw new Error("The '"+t+"' argument is required.")},e.isNotEmpty=function(e,t){if(!e||e.match(/^\s*$/))throw new Error("The '"+t+"' argument should not be empty.")},e.isIn=function(e,t,r){if(!(e in t))throw new Error("Unknown "+r+" value: "+e+".")},e}(),Platform=function(){function e(){}return Object.defineProperty(e,"isBrowser",{get:function(){return"object"==typeof window},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isWebWorker",{get:function(){return"object"==typeof self&&"importScripts"in self},enumerable:!0,configurable:!0}),Object.defineProperty(e,"isNode",{get:function(){return!this.isBrowser&&!this.isWebWorker},enumerable:!0,configurable:!0}),e}();function getDataDetail(e,t){var r="";return isArrayBuffer(e)?(r="Binary data of length "+e.byteLength,t&&(r+=". Content: '"+formatArrayBuffer(e)+"'")):"string"==typeof e&&(r="String data of length "+e.length,t&&(r+=". Content: '"+e+"'")),r}function formatArrayBuffer(e){var t=new Uint8Array(e),r="";return t.forEach((function(e){r+="0x"+(e<16?"0":"")+e.toString(16)+" "})),r.substr(0,r.length-1)}function isArrayBuffer(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function sendMessage(e,t,r,i,n,s,o,a,l){return __awaiter$6(this,void 0,void 0,(function(){var h,c,u,d,p,f,_,m;return __generator$6(this,(function(g){switch(g.label){case 0:return c={},n?[4,n()]:[3,2];case 1:(u=g.sent())&&((h={}).Authorization="Bearer "+u,c=h),g.label=2;case 2:return d=getUserAgentHeader(),p=d[0],f=d[1],c[p]=f,e.log(LogLevel.Trace,"("+t+" transport) sending data. "+getDataDetail(s,o)+"."),_=isArrayBuffer(s)?"arraybuffer":"text",[4,r.post(i,{content:s,headers:__assign$6({},c,l),responseType:_,withCredentials:a})];case 3:return m=g.sent(),e.log(LogLevel.Trace,"("+t+" transport) request complete. Response status: "+m.statusCode+"."),[2]}}))}))}function createLogger(e){return void 0===e?new ConsoleLogger(LogLevel.Information):null===e?NullLogger.instance:e.log?e:new ConsoleLogger(e)}var SubjectSubscription=function(){function e(e,t){this.subject=e,this.observer=t}return e.prototype.dispose=function(){var e=this.subject.observers.indexOf(this.observer);e>-1&&this.subject.observers.splice(e,1),0===this.subject.observers.length&&this.subject.cancelCallback&&this.subject.cancelCallback().catch((function(e){}))},e}(),ConsoleLogger=function(){function e(e){this.minimumLogLevel=e,this.outputConsole=console}return e.prototype.log=function(e,t){if(e>=this.minimumLogLevel)switch(e){case LogLevel.Critical:case LogLevel.Error:this.outputConsole.error("["+(new Date).toISOString()+"] "+LogLevel[e]+": "+t);break;case LogLevel.Warning:this.outputConsole.warn("["+(new Date).toISOString()+"] "+LogLevel[e]+": "+t);break;case LogLevel.Information:this.outputConsole.info("["+(new Date).toISOString()+"] "+LogLevel[e]+": "+t);break;default:this.outputConsole.log("["+(new Date).toISOString()+"] "+LogLevel[e]+": "+t)}},e}();function getUserAgentHeader(){var e="X-SignalR-User-Agent";return Platform.isNode&&(e="User-Agent"),[e,constructUserAgent(VERSION,getOsName(),getRuntime(),getRuntimeVersion())]}function constructUserAgent(e,t,r,i){var n="Microsoft SignalR/",s=e.split(".");return n+=s[0]+"."+s[1],n+=" ("+e+"; ",n+=t&&""!==t?t+"; ":"Unknown OS; ",n+=""+r,(n+=i?"; "+i:"; Unknown Runtime Version")+")"}function getOsName(){if(!Platform.isNode)return"";switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}}function getRuntimeVersion(){if(Platform.isNode)return process.versions.node}function getRuntime(){return Platform.isNode?"NodeJS":"Browser"}var __extends$2=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),__assign$5=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__awaiter$5=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))},__generator$5=function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},FetchHttpClient=function(e){function t(t){var r=e.call(this)||this;if(r.logger=t,"undefined"==typeof fetch){var i=require;r.jar=new(i("tough-cookie").CookieJar),r.fetchType=i("node-fetch"),r.fetchType=i("fetch-cookie")(r.fetchType,r.jar),r.abortControllerType=i("abort-controller")}else r.fetchType=fetch.bind(self),r.abortControllerType=AbortController;return r}return __extends$2(t,e),t.prototype.send=function(e){return __awaiter$5(this,void 0,void 0,(function(){var t,r,i,n,s,o,a,l=this;return __generator$5(this,(function(h){switch(h.label){case 0:if(e.abortSignal&&e.abortSignal.aborted)throw new AbortError;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");t=new this.abortControllerType,e.abortSignal&&(e.abortSignal.onabort=function(){t.abort(),r=new AbortError}),i=null,e.timeout&&(n=e.timeout,i=setTimeout((function(){t.abort(),l.logger.log(LogLevel.Warning,"Timeout from HTTP request."),r=new TimeoutError}),n)),h.label=1;case 1:return h.trys.push([1,3,4,5]),[4,this.fetchType(e.url,{body:e.content,cache:"no-cache",credentials:!0===e.withCredentials?"include":"same-origin",headers:__assign$5({"Content-Type":"text/plain;charset=UTF-8","X-Requested-With":"XMLHttpRequest"},e.headers),method:e.method,mode:"cors",redirect:"manual",signal:t.signal})];case 2:return s=h.sent(),[3,5];case 3:throw o=h.sent(),r||(this.logger.log(LogLevel.Warning,"Error from HTTP request. "+o+"."),o);case 4:return i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null),[7];case 5:if(!s.ok)throw new HttpError(s.statusText,s.status);return[4,deserializeContent(s,e.responseType)];case 6:return a=h.sent(),[2,new HttpResponse(s.status,s.statusText,a)]}}))}))},t.prototype.getCookieString=function(e){var t="";return Platform.isNode&&this.jar&&this.jar.getCookies(e,(function(e,r){return t=r.join("; ")})),t},t}(HttpClient);function deserializeContent(e,t){var r;switch(t){case"arraybuffer":r=e.arrayBuffer();break;case"text":default:r=e.text();break;case"blob":case"document":case"json":throw new Error(t+" is not supported.")}return r}var __extends$1=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),XhrHttpClient=function(e){function t(t){var r=e.call(this)||this;return r.logger=t,r}return __extends$1(t,e),t.prototype.send=function(e){var t=this;return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new AbortError):e.method?e.url?new Promise((function(r,i){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),n.withCredentials=void 0===e.withCredentials||e.withCredentials,n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8");var s=e.headers;s&&Object.keys(s).forEach((function(e){n.setRequestHeader(e,s[e])})),e.responseType&&(n.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=function(){n.abort(),i(new AbortError)}),e.timeout&&(n.timeout=e.timeout),n.onload=function(){e.abortSignal&&(e.abortSignal.onabort=null),n.status>=200&&n.status<300?r(new HttpResponse(n.status,n.statusText,n.response||n.responseText)):i(new HttpError(n.statusText,n.status))},n.onerror=function(){t.logger.log(LogLevel.Warning,"Error from HTTP request. "+n.status+": "+n.statusText+"."),i(new HttpError(n.statusText,n.status))},n.ontimeout=function(){t.logger.log(LogLevel.Warning,"Timeout from HTTP request."),i(new TimeoutError)},n.send(e.content||"")})):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t}(HttpClient),__extends=function(){var e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(t,r){function i(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)}}(),DefaultHttpClient=function(e){function t(t){var r=e.call(this)||this;if("undefined"!=typeof fetch||Platform.isNode)r.httpClient=new FetchHttpClient(t);else{if("undefined"==typeof XMLHttpRequest)throw new Error("No usable HttpClient found.");r.httpClient=new XhrHttpClient(t)}return r}return __extends(t,e),t.prototype.send=function(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new AbortError):e.method?e.url?this.httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))},t.prototype.getCookieString=function(e){return this.httpClient.getCookieString(e)},t}(HttpClient),TextMessageFormat=function(){function e(){}return e.write=function(t){return""+t+e.RecordSeparator},e.parse=function(t){if(t[t.length-1]!==e.RecordSeparator)throw new Error("Message is incomplete.");var r=t.split(e.RecordSeparator);return r.pop(),r},e.RecordSeparatorCode=30,e.RecordSeparator=String.fromCharCode(e.RecordSeparatorCode),e}(),HandshakeProtocol=function(){function e(){}return e.prototype.writeHandshakeRequest=function(e){return TextMessageFormat.write(JSON.stringify(e))},e.prototype.parseHandshakeResponse=function(e){var t,r;if(isArrayBuffer(e)||void 0!==Buffer&&e instanceof Buffer){var i=new Uint8Array(e);if(-1===(s=i.indexOf(TextMessageFormat.RecordSeparatorCode)))throw new Error("Message is incomplete.");var n=s+1;t=String.fromCharCode.apply(null,i.slice(0,n)),r=i.byteLength>n?i.slice(n).buffer:null}else{var s,o=e;if(-1===(s=o.indexOf(TextMessageFormat.RecordSeparator)))throw new Error("Message is incomplete.");n=s+1,t=o.substring(0,n),r=o.length>n?o.substring(n):null}var a=TextMessageFormat.parse(t),l=JSON.parse(a[0]);if(l.type)throw new Error("Expected a handshake response from the server.");return[r,l]},e}(),MessageType;!function(e){e[e.Invocation=1]="Invocation",e[e.StreamItem=2]="StreamItem",e[e.Completion=3]="Completion",e[e.StreamInvocation=4]="StreamInvocation",e[e.CancelInvocation=5]="CancelInvocation",e[e.Ping=6]="Ping",e[e.Close=7]="Close"}(MessageType||(MessageType={}));var Subject=function(){function e(){this.observers=[]}return e.prototype.next=function(e){for(var t=0,r=this.observers;t<r.length;t++)r[t].next(e)},e.prototype.error=function(e){for(var t=0,r=this.observers;t<r.length;t++){var i=r[t];i.error&&i.error(e)}},e.prototype.complete=function(){for(var e=0,t=this.observers;e<t.length;e++){var r=t[e];r.complete&&r.complete()}},e.prototype.subscribe=function(e){return this.observers.push(e),new SubjectSubscription(this,e)},e}(),__awaiter$4=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))},__generator$4=function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},DEFAULT_TIMEOUT_IN_MS=3e4,DEFAULT_PING_INTERVAL_IN_MS=15e3,HubConnectionState;!function(e){e.Disconnected="Disconnected",e.Connecting="Connecting",e.Connected="Connected",e.Disconnecting="Disconnecting",e.Reconnecting="Reconnecting"}(HubConnectionState||(HubConnectionState={}));var HubConnection=function(){function e(e,t,r,i){var n=this;this.nextKeepAlive=0,Arg.isRequired(e,"connection"),Arg.isRequired(t,"logger"),Arg.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=DEFAULT_TIMEOUT_IN_MS,this.keepAliveIntervalInMilliseconds=DEFAULT_PING_INTERVAL_IN_MS,this.logger=t,this.protocol=r,this.connection=e,this.reconnectPolicy=i,this.handshakeProtocol=new HandshakeProtocol,this.connection.onreceive=function(e){return n.processIncomingData(e)},this.connection.onclose=function(e){return n.connectionClosed(e)},this.callbacks={},this.methods={},this.closedCallbacks=[],this.reconnectingCallbacks=[],this.reconnectedCallbacks=[],this.invocationId=0,this.receivedHandshakeResponse=!1,this.connectionState=HubConnectionState.Disconnected,this.connectionStarted=!1,this.cachedPingMessage=this.protocol.writeMessage({type:MessageType.Ping})}return e.create=function(t,r,i,n){return new e(t,r,i,n)},Object.defineProperty(e.prototype,"state",{get:function(){return this.connectionState},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"connectionId",{get:function(){return this.connection&&this.connection.connectionId||null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baseUrl",{get:function(){return this.connection.baseUrl||""},set:function(e){if(this.connectionState!==HubConnectionState.Disconnected&&this.connectionState!==HubConnectionState.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e},enumerable:!0,configurable:!0}),e.prototype.start=function(){return this.startPromise=this.startWithStateTransitions(),this.startPromise},e.prototype.startWithStateTransitions=function(){return __awaiter$4(this,void 0,void 0,(function(){var e;return __generator$4(this,(function(t){switch(t.label){case 0:if(this.connectionState!==HubConnectionState.Disconnected)return[2,Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."))];this.connectionState=HubConnectionState.Connecting,this.logger.log(LogLevel.Debug,"Starting HubConnection."),t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.startInternal()];case 2:return t.sent(),this.connectionState=HubConnectionState.Connected,this.connectionStarted=!0,this.logger.log(LogLevel.Debug,"HubConnection connected successfully."),[3,4];case 3:return e=t.sent(),this.connectionState=HubConnectionState.Disconnected,this.logger.log(LogLevel.Debug,"HubConnection failed to start successfully because of error '"+e+"'."),[2,Promise.reject(e)];case 4:return[2]}}))}))},e.prototype.startInternal=function(){return __awaiter$4(this,void 0,void 0,(function(){var e,t,r,i=this;return __generator$4(this,(function(n){switch(n.label){case 0:return this.stopDuringStartError=void 0,this.receivedHandshakeResponse=!1,e=new Promise((function(e,t){i.handshakeResolver=e,i.handshakeRejecter=t})),[4,this.connection.start(this.protocol.transferFormat)];case 1:n.sent(),n.label=2;case 2:return n.trys.push([2,5,,7]),t={protocol:this.protocol.name,version:this.protocol.version},this.logger.log(LogLevel.Debug,"Sending handshake request."),[4,this.sendMessage(this.handshakeProtocol.writeHandshakeRequest(t))];case 3:return n.sent(),this.logger.log(LogLevel.Information,"Using HubProtocol '"+this.protocol.name+"'."),this.cleanupTimeout(),this.resetTimeoutPeriod(),this.resetKeepAliveInterval(),[4,e];case 4:if(n.sent(),this.stopDuringStartError)throw this.stopDuringStartError;return[3,7];case 5:return r=n.sent(),this.logger.log(LogLevel.Debug,"Hub handshake failed with error '"+r+"' during start(). Stopping HubConnection."),this.cleanupTimeout(),this.cleanupPingTimer(),[4,this.connection.stop(r)];case 6:throw n.sent(),r;case 7:return[2]}}))}))},e.prototype.stop=function(){return __awaiter$4(this,void 0,void 0,(function(){var e;return __generator$4(this,(function(t){switch(t.label){case 0:return e=this.startPromise,this.stopPromise=this.stopInternal(),[4,this.stopPromise];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,e];case 3:case 4:return t.sent(),[3,5];case 5:return[2]}}))}))},e.prototype.stopInternal=function(e){return this.connectionState===HubConnectionState.Disconnected?(this.logger.log(LogLevel.Debug,"Call to HubConnection.stop("+e+") ignored because it is already in the disconnected state."),Promise.resolve()):this.connectionState===HubConnectionState.Disconnecting?(this.logger.log(LogLevel.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnecting state."),this.stopPromise):(this.connectionState=HubConnectionState.Disconnecting,this.logger.log(LogLevel.Debug,"Stopping HubConnection."),this.reconnectDelayHandle?(this.logger.log(LogLevel.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this.reconnectDelayHandle),this.reconnectDelayHandle=void 0,this.completeClose(),Promise.resolve()):(this.cleanupTimeout(),this.cleanupPingTimer(),this.stopDuringStartError=e||new Error("The connection was stopped before the hub handshake could complete."),this.connection.stop(e)))},e.prototype.stream=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var n,s=this.replaceStreamingParams(r),o=s[0],a=s[1],l=this.createStreamInvocation(e,r,a),h=new Subject;return h.cancelCallback=function(){var e=t.createCancelInvocation(l.invocationId);return delete t.callbacks[l.invocationId],n.then((function(){return t.sendWithProtocol(e)}))},this.callbacks[l.invocationId]=function(e,t){t?h.error(t):e&&(e.type===MessageType.Completion?e.error?h.error(new Error(e.error)):h.complete():h.next(e.item))},n=this.sendWithProtocol(l).catch((function(e){h.error(e),delete t.callbacks[l.invocationId]})),this.launchStreams(o,n),h},e.prototype.sendMessage=function(e){return this.resetKeepAliveInterval(),this.connection.send(e)},e.prototype.sendWithProtocol=function(e){return this.sendMessage(this.protocol.writeMessage(e))},e.prototype.send=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var i=this.replaceStreamingParams(t),n=i[0],s=i[1],o=this.sendWithProtocol(this.createInvocation(e,t,!0,s));return this.launchStreams(n,o),o},e.prototype.invoke=function(e){for(var t=this,r=[],i=1;i<arguments.length;i++)r[i-1]=arguments[i];var n=this.replaceStreamingParams(r),s=n[0],o=n[1],a=this.createInvocation(e,r,!1,o);return new Promise((function(e,r){t.callbacks[a.invocationId]=function(t,i){i?r(i):t&&(t.type===MessageType.Completion?t.error?r(new Error(t.error)):e(t.result):r(new Error("Unexpected message type: "+t.type)))};var i=t.sendWithProtocol(a).catch((function(e){r(e),delete t.callbacks[a.invocationId]}));t.launchStreams(s,i)}))},e.prototype.on=function(e,t){!e||!t||(e=e.toLowerCase(),this.methods[e]||(this.methods[e]=[]),-1===this.methods[e].indexOf(t)&&this.methods[e].push(t))},e.prototype.off=function(e,t){if(e){e=e.toLowerCase();var r=this.methods[e];if(r)if(t){var i=r.indexOf(t);-1!==i&&(r.splice(i,1),0===r.length&&delete this.methods[e])}else delete this.methods[e]}},e.prototype.onclose=function(e){e&&this.closedCallbacks.push(e)},e.prototype.onreconnecting=function(e){e&&this.reconnectingCallbacks.push(e)},e.prototype.onreconnected=function(e){e&&this.reconnectedCallbacks.push(e)},e.prototype.processIncomingData=function(e){if(this.cleanupTimeout(),this.receivedHandshakeResponse||(e=this.processHandshakeResponse(e),this.receivedHandshakeResponse=!0),e)for(var t=0,r=this.protocol.parseMessages(e,this.logger);t<r.length;t++){var i=r[t];switch(i.type){case MessageType.Invocation:this.invokeClientMethod(i);break;case MessageType.StreamItem:case MessageType.Completion:var n=this.callbacks[i.invocationId];n&&(i.type===MessageType.Completion&&delete this.callbacks[i.invocationId],n(i));break;case MessageType.Ping:break;case MessageType.Close:this.logger.log(LogLevel.Information,"Close message received from server.");var s=i.error?new Error("Server returned an error on close: "+i.error):void 0;!0===i.allowReconnect?this.connection.stop(s):this.stopPromise=this.stopInternal(s);break;default:this.logger.log(LogLevel.Warning,"Invalid message type: "+i.type+".")}}this.resetTimeoutPeriod()},e.prototype.processHandshakeResponse=function(e){var t,r,i;try{i=(t=this.handshakeProtocol.parseHandshakeResponse(e))[0],r=t[1]}catch(e){var n="Error parsing handshake response: "+e;this.logger.log(LogLevel.Error,n);var s=new Error(n);throw this.handshakeRejecter(s),s}if(r.error)throw n="Server returned handshake error: "+r.error,this.logger.log(LogLevel.Error,n),s=new Error(n),this.handshakeRejecter(s),s;return this.logger.log(LogLevel.Debug,"Server handshake complete."),this.handshakeResolver(),i},e.prototype.resetKeepAliveInterval=function(){this.connection.features.inherentKeepAlive||(this.nextKeepAlive=(new Date).getTime()+this.keepAliveIntervalInMilliseconds,this.cleanupPingTimer())},e.prototype.resetTimeoutPeriod=function(){var e=this;if(!(this.connection.features&&this.connection.features.inherentKeepAlive||(this.timeoutHandle=setTimeout((function(){return e.serverTimeout()}),this.serverTimeoutInMilliseconds),void 0!==this.pingServerHandle))){var t=this.nextKeepAlive-(new Date).getTime();t<0&&(t=0),this.pingServerHandle=setTimeout((function(){return __awaiter$4(e,void 0,void 0,(function(){return __generator$4(this,(function(e){switch(e.label){case 0:if(this.connectionState!==HubConnectionState.Connected)return[3,4];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.sendMessage(this.cachedPingMessage)];case 2:return e.sent(),[3,4];case 3:return e.sent(),this.cleanupPingTimer(),[3,4];case 4:return[2]}}))}))}),t)}},e.prototype.serverTimeout=function(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))},e.prototype.invokeClientMethod=function(e){var t=this,r=this.methods[e.target.toLowerCase()];if(r){try{r.forEach((function(r){return r.apply(t,e.arguments)}))}catch(t){this.logger.log(LogLevel.Error,"A callback for the method "+e.target.toLowerCase()+" threw error '"+t+"'.")}if(e.invocationId){var i="Server requested a response, which is not supported in this version of the client.";this.logger.log(LogLevel.Error,i),this.stopPromise=this.stopInternal(new Error(i))}}else this.logger.log(LogLevel.Warning,"No client method with the name '"+e.target+"' found.")},e.prototype.connectionClosed=function(e){this.logger.log(LogLevel.Debug,"HubConnection.connectionClosed("+e+") called while in state "+this.connectionState+"."),this.stopDuringStartError=this.stopDuringStartError||e||new Error("The underlying connection was closed before the hub handshake could complete."),this.handshakeResolver&&this.handshakeResolver(),this.cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this.cleanupTimeout(),this.cleanupPingTimer(),this.connectionState===HubConnectionState.Disconnecting?this.completeClose(e):this.connectionState===HubConnectionState.Connected&&this.reconnectPolicy?this.reconnect(e):this.connectionState===HubConnectionState.Connected&&this.completeClose(e)},e.prototype.completeClose=function(e){var t=this;if(this.connectionStarted){this.connectionState=HubConnectionState.Disconnected,this.connectionStarted=!1;try{this.closedCallbacks.forEach((function(r){return r.apply(t,[e])}))}catch(t){this.logger.log(LogLevel.Error,"An onclose callback called with error '"+e+"' threw error '"+t+"'.")}}},e.prototype.reconnect=function(e){return __awaiter$4(this,void 0,void 0,(function(){var t,r,i,n,s,o=this;return __generator$4(this,(function(a){switch(a.label){case 0:if(t=Date.now(),r=0,i=void 0!==e?e:new Error("Attempting to reconnect due to a unknown error."),null===(n=this.getNextRetryDelay(r++,0,i)))return this.logger.log(LogLevel.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this.completeClose(e),[2];if(this.connectionState=HubConnectionState.Reconnecting,e?this.logger.log(LogLevel.Information,"Connection reconnecting because of error '"+e+"'."):this.logger.log(LogLevel.Information,"Connection reconnecting."),this.onreconnecting){try{this.reconnectingCallbacks.forEach((function(t){return t.apply(o,[e])}))}catch(t){this.logger.log(LogLevel.Error,"An onreconnecting callback called with error '"+e+"' threw error '"+t+"'.")}if(this.connectionState!==HubConnectionState.Reconnecting)return this.logger.log(LogLevel.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting."),[2]}a.label=1;case 1:return null===n?[3,7]:(this.logger.log(LogLevel.Information,"Reconnect attempt number "+r+" will start in "+n+" ms."),[4,new Promise((function(e){o.reconnectDelayHandle=setTimeout(e,n)}))]);case 2:if(a.sent(),this.reconnectDelayHandle=void 0,this.connectionState!==HubConnectionState.Reconnecting)return this.logger.log(LogLevel.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting."),[2];a.label=3;case 3:return a.trys.push([3,5,,6]),[4,this.startInternal()];case 4:if(a.sent(),this.connectionState=HubConnectionState.Connected,this.logger.log(LogLevel.Information,"HubConnection reconnected successfully."),this.onreconnected)try{this.reconnectedCallbacks.forEach((function(e){return e.apply(o,[o.connection.connectionId])}))}catch(e){this.logger.log(LogLevel.Error,"An onreconnected callback called with connectionId '"+this.connection.connectionId+"; threw error '"+e+"'.")}return[2];case 5:return s=a.sent(),this.logger.log(LogLevel.Information,"Reconnect attempt failed because of error '"+s+"'."),this.connectionState!==HubConnectionState.Reconnecting?(this.logger.log(LogLevel.Debug,"Connection moved to the '"+this.connectionState+"' from the reconnecting state during reconnect attempt. Done reconnecting."),this.connectionState===HubConnectionState.Disconnecting&&this.completeClose(),[2]):(i=s instanceof Error?s:new Error(s.toString()),n=this.getNextRetryDelay(r++,Date.now()-t,i),[3,6]);case 6:return[3,1];case 7:return this.logger.log(LogLevel.Information,"Reconnect retries have been exhausted after "+(Date.now()-t)+" ms and "+r+" failed attempts. Connection disconnecting."),this.completeClose(),[2]}}))}))},e.prototype.getNextRetryDelay=function(e,t,r){try{return this.reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:t,previousRetryCount:e,retryReason:r})}catch(r){return this.logger.log(LogLevel.Error,"IRetryPolicy.nextRetryDelayInMilliseconds("+e+", "+t+") threw error '"+r+"'."),null}},e.prototype.cancelCallbacksWithError=function(e){var t=this.callbacks;this.callbacks={},Object.keys(t).forEach((function(r){(0,t[r])(null,e)}))},e.prototype.cleanupPingTimer=function(){this.pingServerHandle&&(clearTimeout(this.pingServerHandle),this.pingServerHandle=void 0)},e.prototype.cleanupTimeout=function(){this.timeoutHandle&&clearTimeout(this.timeoutHandle)},e.prototype.createInvocation=function(e,t,r,i){if(r)return 0!==i.length?{arguments:t,streamIds:i,target:e,type:MessageType.Invocation}:{arguments:t,target:e,type:MessageType.Invocation};var n=this.invocationId;return this.invocationId++,0!==i.length?{arguments:t,invocationId:n.toString(),streamIds:i,target:e,type:MessageType.Invocation}:{arguments:t,invocationId:n.toString(),target:e,type:MessageType.Invocation}},e.prototype.launchStreams=function(e,t){var r=this;if(0!==e.length){t||(t=Promise.resolve());var i=function(i){e[i].subscribe({complete:function(){t=t.then((function(){return r.sendWithProtocol(r.createCompletionMessage(i))}))},error:function(e){var n;n=e instanceof Error?e.message:e&&e.toString?e.toString():"Unknown error",t=t.then((function(){return r.sendWithProtocol(r.createCompletionMessage(i,n))}))},next:function(e){t=t.then((function(){return r.sendWithProtocol(r.createStreamItemMessage(i,e))}))}})};for(var n in e)i(n)}},e.prototype.replaceStreamingParams=function(e){for(var t=[],r=[],i=0;i<e.length;i++){var n=e[i];if(this.isObservable(n)){var s=this.invocationId;this.invocationId++,t[s]=n,r.push(s.toString()),e.splice(i,1)}}return[t,r]},e.prototype.isObservable=function(e){return e&&e.subscribe&&"function"==typeof e.subscribe},e.prototype.createStreamInvocation=function(e,t,r){var i=this.invocationId;return this.invocationId++,0!==r.length?{arguments:t,invocationId:i.toString(),streamIds:r,target:e,type:MessageType.StreamInvocation}:{arguments:t,invocationId:i.toString(),target:e,type:MessageType.StreamInvocation}},e.prototype.createCancelInvocation=function(e){return{invocationId:e,type:MessageType.CancelInvocation}},e.prototype.createStreamItemMessage=function(e,t){return{invocationId:e,item:t,type:MessageType.StreamItem}},e.prototype.createCompletionMessage=function(e,t,r){return t?{error:t,invocationId:e,type:MessageType.Completion}:{invocationId:e,result:r,type:MessageType.Completion}},e}(),DEFAULT_RETRY_DELAYS_IN_MILLISECONDS=[0,2e3,1e4,3e4,null],DefaultReconnectPolicy=function(){function e(e){this.retryDelays=void 0!==e?e.concat([null]):DEFAULT_RETRY_DELAYS_IN_MILLISECONDS}return e.prototype.nextRetryDelayInMilliseconds=function(e){return this.retryDelays[e.previousRetryCount]},e}(),HttpTransportType,TransferFormat;!function(e){e[e.None=0]="None",e[e.WebSockets=1]="WebSockets",e[e.ServerSentEvents=2]="ServerSentEvents",e[e.LongPolling=4]="LongPolling"}(HttpTransportType||(HttpTransportType={})),function(e){e[e.Text=1]="Text",e[e.Binary=2]="Binary"}(TransferFormat||(TransferFormat={}));var AbortController$1=function(){function e(){this.isAborted=!1,this.onabort=null}return e.prototype.abort=function(){this.isAborted||(this.isAborted=!0,this.onabort&&this.onabort())},Object.defineProperty(e.prototype,"signal",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"aborted",{get:function(){return this.isAborted},enumerable:!0,configurable:!0}),e}(),__assign$4=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__awaiter$3=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))},__generator$3=function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},LongPollingTransport=function(){function e(e,t,r,i,n,s){this.httpClient=e,this.accessTokenFactory=t,this.logger=r,this.pollAbort=new AbortController$1,this.logMessageContent=i,this.withCredentials=n,this.headers=s,this.running=!1,this.onreceive=null,this.onclose=null}return Object.defineProperty(e.prototype,"pollAborted",{get:function(){return this.pollAbort.aborted},enumerable:!0,configurable:!0}),e.prototype.connect=function(e,t){return __awaiter$3(this,void 0,void 0,(function(){var r,i,n,s,o,a,l,h,c;return __generator$3(this,(function(u){switch(u.label){case 0:if(Arg.isRequired(e,"url"),Arg.isRequired(t,"transferFormat"),Arg.isIn(t,TransferFormat,"transferFormat"),this.url=e,this.logger.log(LogLevel.Trace,"(LongPolling transport) Connecting."),t===TransferFormat.Binary&&"undefined"!=typeof XMLHttpRequest&&"string"!=typeof(new XMLHttpRequest).responseType)throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");return i=getUserAgentHeader(),n=i[0],s=i[1],o=__assign$4(((r={})[n]=s,r),this.headers),a={abortSignal:this.pollAbort.signal,headers:o,timeout:1e5,withCredentials:this.withCredentials},t===TransferFormat.Binary&&(a.responseType="arraybuffer"),[4,this.getAccessToken()];case 1:return l=u.sent(),this.updateHeaderToken(a,l),h=e+"&_="+Date.now(),this.logger.log(LogLevel.Trace,"(LongPolling transport) polling: "+h+"."),[4,this.httpClient.get(h,a)];case 2:return 200!==(c=u.sent()).statusCode?(this.logger.log(LogLevel.Error,"(LongPolling transport) Unexpected response code: "+c.statusCode+"."),this.closeError=new HttpError(c.statusText||"",c.statusCode),this.running=!1):this.running=!0,this.receiving=this.poll(this.url,a),[2]}}))}))},e.prototype.getAccessToken=function(){return __awaiter$3(this,void 0,void 0,(function(){return __generator$3(this,(function(e){switch(e.label){case 0:return this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:return[2,e.sent()];case 2:return[2,null]}}))}))},e.prototype.updateHeaderToken=function(e,t){e.headers||(e.headers={}),t?e.headers.Authorization="Bearer "+t:e.headers.Authorization&&delete e.headers.Authorization},e.prototype.poll=function(e,t){return __awaiter$3(this,void 0,void 0,(function(){var r,i,n,s;return __generator$3(this,(function(o){switch(o.label){case 0:o.trys.push([0,,8,9]),o.label=1;case 1:return this.running?[4,this.getAccessToken()]:[3,7];case 2:r=o.sent(),this.updateHeaderToken(t,r),o.label=3;case 3:return o.trys.push([3,5,,6]),i=e+"&_="+Date.now(),this.logger.log(LogLevel.Trace,"(LongPolling transport) polling: "+i+"."),[4,this.httpClient.get(i,t)];case 4:return 204===(n=o.sent()).statusCode?(this.logger.log(LogLevel.Information,"(LongPolling transport) Poll terminated by server."),this.running=!1):200!==n.statusCode?(this.logger.log(LogLevel.Error,"(LongPolling transport) Unexpected response code: "+n.statusCode+"."),this.closeError=new HttpError(n.statusText||"",n.statusCode),this.running=!1):n.content?(this.logger.log(LogLevel.Trace,"(LongPolling transport) data received. "+getDataDetail(n.content,this.logMessageContent)+"."),this.onreceive&&this.onreceive(n.content)):this.logger.log(LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."),[3,6];case 5:return s=o.sent(),this.running?s instanceof TimeoutError?this.logger.log(LogLevel.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this.closeError=s,this.running=!1):this.logger.log(LogLevel.Trace,"(LongPolling transport) Poll errored after shutdown: "+s.message),[3,6];case 6:return[3,1];case 7:return[3,9];case 8:return this.logger.log(LogLevel.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this.raiseOnClose(),[7];case 9:return[2]}}))}))},e.prototype.send=function(e){return __awaiter$3(this,void 0,void 0,(function(){return __generator$3(this,(function(t){return this.running?[2,sendMessage(this.logger,"LongPolling",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},e.prototype.stop=function(){return __awaiter$3(this,void 0,void 0,(function(){var e,t,r,i,n,s;return __generator$3(this,(function(o){switch(o.label){case 0:this.logger.log(LogLevel.Trace,"(LongPolling transport) Stopping polling."),this.running=!1,this.pollAbort.abort(),o.label=1;case 1:return o.trys.push([1,,5,6]),[4,this.receiving];case 2:return o.sent(),this.logger.log(LogLevel.Trace,"(LongPolling transport) sending DELETE request to "+this.url+"."),e={},t=getUserAgentHeader(),r=t[0],i=t[1],e[r]=i,n={headers:__assign$4({},e,this.headers),withCredentials:this.withCredentials},[4,this.getAccessToken()];case 3:return s=o.sent(),this.updateHeaderToken(n,s),[4,this.httpClient.delete(this.url,n)];case 4:return o.sent(),this.logger.log(LogLevel.Trace,"(LongPolling transport) DELETE request sent."),[3,6];case 5:return this.logger.log(LogLevel.Trace,"(LongPolling transport) Stop finished."),this.raiseOnClose(),[7];case 6:return[2]}}))}))},e.prototype.raiseOnClose=function(){if(this.onclose){var e="(LongPolling transport) Firing onclose event.";this.closeError&&(e+=" Error: "+this.closeError),this.logger.log(LogLevel.Trace,e),this.onclose(this.closeError)}},e}(),__assign$3=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__awaiter$2=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))},__generator$2=function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},ServerSentEventsTransport=function(){function e(e,t,r,i,n,s,o){this.httpClient=e,this.accessTokenFactory=t,this.logger=r,this.logMessageContent=i,this.withCredentials=s,this.eventSourceConstructor=n,this.headers=o,this.onreceive=null,this.onclose=null}return e.prototype.connect=function(e,t){return __awaiter$2(this,void 0,void 0,(function(){var r,i=this;return __generator$2(this,(function(n){switch(n.label){case 0:return Arg.isRequired(e,"url"),Arg.isRequired(t,"transferFormat"),Arg.isIn(t,TransferFormat,"transferFormat"),this.logger.log(LogLevel.Trace,"(SSE transport) Connecting."),this.url=e,this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(r=n.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(r)),n.label=2;case 2:return[2,new Promise((function(r,n){var s=!1;if(t===TransferFormat.Text){var o;if(Platform.isBrowser||Platform.isWebWorker)o=new i.eventSourceConstructor(e,{withCredentials:i.withCredentials});else{var a=i.httpClient.getCookieString(e),l={};l.Cookie=a;var h=getUserAgentHeader(),c=h[0],u=h[1];l[c]=u,o=new i.eventSourceConstructor(e,{withCredentials:i.withCredentials,headers:__assign$3({},l,i.headers)})}try{o.onmessage=function(e){if(i.onreceive)try{i.logger.log(LogLevel.Trace,"(SSE transport) data received. "+getDataDetail(e.data,i.logMessageContent)+"."),i.onreceive(e.data)}catch(e){return void i.close(e)}},o.onerror=function(e){var t=new Error(e.data||"Error occurred");s?i.close(t):n(t)},o.onopen=function(){i.logger.log(LogLevel.Information,"SSE connected to "+i.url),i.eventSource=o,s=!0,r()}}catch(e){return void n(e)}}else n(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"))}))]}}))}))},e.prototype.send=function(e){return __awaiter$2(this,void 0,void 0,(function(){return __generator$2(this,(function(t){return this.eventSource?[2,sendMessage(this.logger,"SSE",this.httpClient,this.url,this.accessTokenFactory,e,this.logMessageContent,this.withCredentials,this.headers)]:[2,Promise.reject(new Error("Cannot send until the transport is connected"))]}))}))},e.prototype.stop=function(){return this.close(),Promise.resolve()},e.prototype.close=function(e){this.eventSource&&(this.eventSource.close(),this.eventSource=void 0,this.onclose&&this.onclose(e))},e}(),__assign$2=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__awaiter$1=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))},__generator$1=function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},WebSocketTransport=function(){function e(e,t,r,i,n,s){this.logger=r,this.accessTokenFactory=t,this.logMessageContent=i,this.webSocketConstructor=n,this.httpClient=e,this.onreceive=null,this.onclose=null,this.headers=s}return e.prototype.connect=function(e,t){return __awaiter$1(this,void 0,void 0,(function(){var r,i=this;return __generator$1(this,(function(n){switch(n.label){case 0:return Arg.isRequired(e,"url"),Arg.isRequired(t,"transferFormat"),Arg.isIn(t,TransferFormat,"transferFormat"),this.logger.log(LogLevel.Trace,"(WebSockets transport) Connecting."),this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(r=n.sent())&&(e+=(e.indexOf("?")<0?"?":"&")+"access_token="+encodeURIComponent(r)),n.label=2;case 2:return[2,new Promise((function(r,n){e=e.replace(/^http/,"ws");var s,o=i.httpClient.getCookieString(e),a=!1;if(Platform.isNode){var l={},h=getUserAgentHeader(),c=h[0],u=h[1];l[c]=u,o&&(l.Cookie=""+o),s=new i.webSocketConstructor(e,void 0,{headers:__assign$2({},l,i.headers)})}s||(s=new i.webSocketConstructor(e)),t===TransferFormat.Binary&&(s.binaryType="arraybuffer"),s.onopen=function(t){i.logger.log(LogLevel.Information,"WebSocket connected to "+e+"."),i.webSocket=s,a=!0,r()},s.onerror=function(e){var t;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:new Error("There was an error with the transport."),n(t)},s.onmessage=function(e){if(i.logger.log(LogLevel.Trace,"(WebSockets transport) data received. "+getDataDetail(e.data,i.logMessageContent)+"."),i.onreceive)try{i.onreceive(e.data)}catch(e){return void i.close(e)}},s.onclose=function(e){if(a)i.close(e);else{var t;t="undefined"!=typeof ErrorEvent&&e instanceof ErrorEvent?e.error:new Error("There was an error with the transport."),n(t)}}}))]}}))}))},e.prototype.send=function(e){return this.webSocket&&this.webSocket.readyState===this.webSocketConstructor.OPEN?(this.logger.log(LogLevel.Trace,"(WebSockets transport) sending data. "+getDataDetail(e,this.logMessageContent)+"."),this.webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")},e.prototype.stop=function(){return this.webSocket&&this.close(void 0),Promise.resolve()},e.prototype.close=function(e){this.webSocket&&(this.webSocket.onclose=function(){},this.webSocket.onmessage=function(){},this.webSocket.onerror=function(){},this.webSocket.close(),this.webSocket=void 0),this.logger.log(LogLevel.Trace,"(WebSockets transport) socket closed."),this.onclose&&(!this.isCloseEvent(e)||!1!==e.wasClean&&1e3===e.code?e instanceof Error?this.onclose(e):this.onclose():this.onclose(new Error("WebSocket closed with status code: "+e.code+" ("+e.reason+").")))},e.prototype.isCloseEvent=function(e){return e&&"boolean"==typeof e.wasClean&&"number"==typeof e.code},e}(),__assign$1=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},__awaiter=function(e,t,r,i){return new(r||(r=Promise))((function(n,s){function o(e){try{l(i.next(e))}catch(e){s(e)}}function a(e){try{l(i.throw(e))}catch(e){s(e)}}function l(e){e.done?n(e.value):new r((function(t){t(e.value)})).then(o,a)}l((i=i.apply(e,t||[])).next())}))},__generator=function(e,t){var r,i,n,s,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return s={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function a(s){return function(a){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,i&&(n=2&s[0]?i.return:s[0]?i.throw||((n=i.return)&&n.call(i),0):i.next)&&!(n=n.call(i,s[1])).done)return n;switch(i=0,n&&(s=[2&s[0],n.value]),s[0]){case 0:case 1:n=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,i=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(n=(n=o.trys).length>0&&n[n.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!n||s[1]>n[0]&&s[1]<n[3])){o.label=s[1];break}if(6===s[0]&&o.label<n[1]){o.label=n[1],n=s;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(s);break}n[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(e){s=[6,e],i=0}finally{r=n=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,a])}}},MAX_REDIRECTS=100,HttpConnection=function(){function e(e,t){if(void 0===t&&(t={}),this.stopPromiseResolver=function(){},this.features={},this.negotiateVersion=1,Arg.isRequired(e,"url"),this.logger=createLogger(t.logger),this.baseUrl=this.resolveUrl(e),(t=t||{}).logMessageContent=void 0!==t.logMessageContent&&t.logMessageContent,"boolean"!=typeof t.withCredentials&&void 0!==t.withCredentials)throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");t.withCredentials=void 0===t.withCredentials||t.withCredentials;var r=null,i=null;if(Platform.isNode){var n=require;r=n("ws"),i=n("eventsource")}Platform.isNode||"undefined"==typeof WebSocket||t.WebSocket?Platform.isNode&&!t.WebSocket&&r&&(t.WebSocket=r):t.WebSocket=WebSocket,Platform.isNode||"undefined"==typeof EventSource||t.EventSource?Platform.isNode&&!t.EventSource&&void 0!==i&&(t.EventSource=i):t.EventSource=EventSource,this.httpClient=t.httpClient||new DefaultHttpClient(this.logger),this.connectionState="Disconnected",this.connectionStarted=!1,this.options=t,this.onreceive=null,this.onclose=null}return e.prototype.start=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:return e=e||TransferFormat.Binary,Arg.isIn(e,TransferFormat,"transferFormat"),this.logger.log(LogLevel.Debug,"Starting connection with transfer format '"+TransferFormat[e]+"'."),"Disconnected"!==this.connectionState?[2,Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."))]:(this.connectionState="Connecting",this.startInternalPromise=this.startInternal(e),[4,this.startInternalPromise]);case 1:return r.sent(),"Disconnecting"!==this.connectionState?[3,3]:(t="Failed to start the HttpConnection before stop() was called.",this.logger.log(LogLevel.Error,t),[4,this.stopPromise]);case 2:return r.sent(),[2,Promise.reject(new Error(t))];case 3:if("Connected"!==this.connectionState)return t="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!",this.logger.log(LogLevel.Error,t),[2,Promise.reject(new Error(t))];r.label=4;case 4:return this.connectionStarted=!0,[2]}}))}))},e.prototype.send=function(e){return"Connected"!==this.connectionState?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this.sendQueue||(this.sendQueue=new TransportSendQueue(this.transport)),this.sendQueue.send(e))},e.prototype.stop=function(e){return __awaiter(this,void 0,void 0,(function(){var t=this;return __generator(this,(function(r){switch(r.label){case 0:return"Disconnected"===this.connectionState?(this.logger.log(LogLevel.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnected state."),[2,Promise.resolve()]):"Disconnecting"===this.connectionState?(this.logger.log(LogLevel.Debug,"Call to HttpConnection.stop("+e+") ignored because the connection is already in the disconnecting state."),[2,this.stopPromise]):(this.connectionState="Disconnecting",this.stopPromise=new Promise((function(e){t.stopPromiseResolver=e})),[4,this.stopInternal(e)]);case 1:return r.sent(),[4,this.stopPromise];case 2:return r.sent(),[2]}}))}))},e.prototype.stopInternal=function(e){return __awaiter(this,void 0,void 0,(function(){var t;return __generator(this,(function(r){switch(r.label){case 0:this.stopError=e,r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.startInternalPromise];case 2:case 3:return r.sent(),[3,4];case 4:if(!this.transport)return[3,9];r.label=5;case 5:return r.trys.push([5,7,,8]),[4,this.transport.stop()];case 6:return r.sent(),[3,8];case 7:return t=r.sent(),this.logger.log(LogLevel.Error,"HttpConnection.transport.stop() threw error '"+t+"'."),this.stopConnection(),[3,8];case 8:return this.transport=void 0,[3,10];case 9:this.logger.log(LogLevel.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed."),r.label=10;case 10:return[2]}}))}))},e.prototype.startInternal=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,i,n,s,o;return __generator(this,(function(a){switch(a.label){case 0:t=this.baseUrl,this.accessTokenFactory=this.options.accessTokenFactory,a.label=1;case 1:return a.trys.push([1,12,,13]),this.options.skipNegotiation?this.options.transport!==HttpTransportType.WebSockets?[3,3]:(this.transport=this.constructTransport(HttpTransportType.WebSockets),[4,this.startTransport(t,e)]):[3,5];case 2:return a.sent(),[3,4];case 3:throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");case 4:return[3,11];case 5:r=null,i=0,n=function(){var e;return __generator(this,(function(n){switch(n.label){case 0:return[4,s.getNegotiationResponse(t)];case 1:if(r=n.sent(),"Disconnecting"===s.connectionState||"Disconnected"===s.connectionState)throw new Error("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");return r.url&&(t=r.url),r.accessToken&&(e=r.accessToken,s.accessTokenFactory=function(){return e}),i++,[2]}}))},s=this,a.label=6;case 6:return[5,n()];case 7:a.sent(),a.label=8;case 8:if(r.url&&i<MAX_REDIRECTS)return[3,6];a.label=9;case 9:if(i===MAX_REDIRECTS&&r.url)throw new Error("Negotiate redirection limit exceeded.");return[4,this.createTransport(t,this.options.transport,r,e)];case 10:a.sent(),a.label=11;case 11:return this.transport instanceof LongPollingTransport&&(this.features.inherentKeepAlive=!0),"Connecting"===this.connectionState&&(this.logger.log(LogLevel.Debug,"The HttpConnection connected successfully."),this.connectionState="Connected"),[3,13];case 12:return o=a.sent(),this.logger.log(LogLevel.Error,"Failed to start the connection: "+o),this.connectionState="Disconnected",this.transport=void 0,this.stopPromiseResolver(),[2,Promise.reject(o)];case 13:return[2]}}))}))},e.prototype.getNegotiationResponse=function(e){return __awaiter(this,void 0,void 0,(function(){var t,r,i,n,s,o,a,l,h;return __generator(this,(function(c){switch(c.label){case 0:return t={},this.accessTokenFactory?[4,this.accessTokenFactory()]:[3,2];case 1:(r=c.sent())&&(t.Authorization="Bearer "+r),c.label=2;case 2:i=getUserAgentHeader(),n=i[0],s=i[1],t[n]=s,o=this.resolveNegotiateUrl(e),this.logger.log(LogLevel.Debug,"Sending negotiation request: "+o+"."),c.label=3;case 3:return c.trys.push([3,5,,6]),[4,this.httpClient.post(o,{content:"",headers:__assign$1({},t,this.options.headers),withCredentials:this.options.withCredentials})];case 4:return 200!==(a=c.sent()).statusCode?[2,Promise.reject(new Error("Unexpected status code returned from negotiate '"+a.statusCode+"'"))]:((!(l=JSON.parse(a.content)).negotiateVersion||l.negotiateVersion<1)&&(l.connectionToken=l.connectionId),[2,l]);case 5:return h=c.sent(),this.logger.log(LogLevel.Error,"Failed to complete negotiation with the server: "+h),[2,Promise.reject(h)];case 6:return[2]}}))}))},e.prototype.createConnectUrl=function(e,t){return t?e+(-1===e.indexOf("?")?"?":"&")+"id="+t:e},e.prototype.createTransport=function(e,t,r,i){return __awaiter(this,void 0,void 0,(function(){var n,s,o,a,l,h,c,u,d,p,f;return __generator(this,(function(_){switch(_.label){case 0:return n=this.createConnectUrl(e,r.connectionToken),this.isITransport(t)?(this.logger.log(LogLevel.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=t,[4,this.startTransport(n,i)]):[3,2];case 1:return _.sent(),this.connectionId=r.connectionId,[2];case 2:s=[],o=r.availableTransports||[],a=r,l=0,h=o,_.label=3;case 3:return l<h.length?(c=h[l],(u=this.resolveTransportOrError(c,t,i))instanceof Error?(s.push(c.transport+" failed: "+u),[3,12]):[3,4]):[3,13];case 4:if(!this.isITransport(u))return[3,12];if(this.transport=u,a)return[3,9];_.label=5;case 5:return _.trys.push([5,7,,8]),[4,this.getNegotiationResponse(e)];case 6:return a=_.sent(),[3,8];case 7:return d=_.sent(),[2,Promise.reject(d)];case 8:n=this.createConnectUrl(e,a.connectionToken),_.label=9;case 9:return _.trys.push([9,11,,12]),[4,this.startTransport(n,i)];case 10:return _.sent(),this.connectionId=a.connectionId,[2];case 11:return p=_.sent(),this.logger.log(LogLevel.Error,"Failed to start the transport '"+c.transport+"': "+p),a=void 0,s.push(c.transport+" failed: "+p),"Connecting"!==this.connectionState?(f="Failed to select transport before stop() was called.",this.logger.log(LogLevel.Debug,f),[2,Promise.reject(new Error(f))]):[3,12];case 12:return l++,[3,3];case 13:return s.length>0?[2,Promise.reject(new Error("Unable to connect to the server with any of the available transports. "+s.join(" ")))]:[2,Promise.reject(new Error("None of the transports supported by the client are supported by the server."))]}}))}))},e.prototype.constructTransport=function(e){switch(e){case HttpTransportType.WebSockets:if(!this.options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new WebSocketTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.WebSocket,this.options.headers||{});case HttpTransportType.ServerSentEvents:if(!this.options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new ServerSentEventsTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.EventSource,this.options.withCredentials,this.options.headers||{});case HttpTransportType.LongPolling:return new LongPollingTransport(this.httpClient,this.accessTokenFactory,this.logger,this.options.logMessageContent||!1,this.options.withCredentials,this.options.headers||{});default:throw new Error("Unknown transport: "+e+".")}},e.prototype.startTransport=function(e,t){var r=this;return this.transport.onreceive=this.onreceive,this.transport.onclose=function(e){return r.stopConnection(e)},this.transport.connect(e,t)},e.prototype.resolveTransportOrError=function(e,t,r){var i=HttpTransportType[e.transport];if(null==i)return this.logger.log(LogLevel.Debug,"Skipping transport '"+e.transport+"' because it is not supported by this client."),new Error("Skipping transport '"+e.transport+"' because it is not supported by this client.");if(!transportMatches(t,i))return this.logger.log(LogLevel.Debug,"Skipping transport '"+HttpTransportType[i]+"' because it was disabled by the client."),new Error("'"+HttpTransportType[i]+"' is disabled by the client.");if(!(e.transferFormats.map((function(e){return TransferFormat[e]})).indexOf(r)>=0))return this.logger.log(LogLevel.Debug,"Skipping transport '"+HttpTransportType[i]+"' because it does not support the requested transfer format '"+TransferFormat[r]+"'."),new Error("'"+HttpTransportType[i]+"' does not support "+TransferFormat[r]+".");if(i===HttpTransportType.WebSockets&&!this.options.WebSocket||i===HttpTransportType.ServerSentEvents&&!this.options.EventSource)return this.logger.log(LogLevel.Debug,"Skipping transport '"+HttpTransportType[i]+"' because it is not supported in your environment.'"),new Error("'"+HttpTransportType[i]+"' is not supported in your environment.");this.logger.log(LogLevel.Debug,"Selecting transport '"+HttpTransportType[i]+"'.");try{return this.constructTransport(i)}catch(e){return e}},e.prototype.isITransport=function(e){return e&&"object"==typeof e&&"connect"in e},e.prototype.stopConnection=function(e){var t=this;if(this.logger.log(LogLevel.Debug,"HttpConnection.stopConnection("+e+") called while in state "+this.connectionState+"."),this.transport=void 0,e=this.stopError||e,this.stopError=void 0,"Disconnected"!==this.connectionState){if("Connecting"===this.connectionState)throw this.logger.log(LogLevel.Warning,"Call to HttpConnection.stopConnection("+e+") was ignored because the connection is still in the connecting state."),new Error("HttpConnection.stopConnection("+e+") was called while the connection is still in the connecting state.");if("Disconnecting"===this.connectionState&&this.stopPromiseResolver(),e?this.logger.log(LogLevel.Error,"Connection disconnected with error '"+e+"'."):this.logger.log(LogLevel.Information,"Connection disconnected."),this.sendQueue&&(this.sendQueue.stop().catch((function(e){t.logger.log(LogLevel.Error,"TransportSendQueue.stop() threw error '"+e+"'.")})),this.sendQueue=void 0),this.connectionId=void 0,this.connectionState="Disconnected",this.connectionStarted){this.connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(t){this.logger.log(LogLevel.Error,"HttpConnection.onclose("+e+") threw error '"+t+"'.")}}}else this.logger.log(LogLevel.Debug,"Call to HttpConnection.stopConnection("+e+") was ignored because the connection is already in the disconnected state.")},e.prototype.resolveUrl=function(e){if(0===e.lastIndexOf("https://",0)||0===e.lastIndexOf("http://",0))return e;if(!Platform.isBrowser||!window.document)throw new Error("Cannot resolve '"+e+"'.");var t=window.document.createElement("a");return t.href=e,this.logger.log(LogLevel.Information,"Normalizing '"+e+"' to '"+t.href+"'."),t.href},e.prototype.resolveNegotiateUrl=function(e){var t=e.indexOf("?"),r=e.substring(0,-1===t?e.length:t);return"/"!==r[r.length-1]&&(r+="/"),r+="negotiate",-1===(r+=-1===t?"":e.substring(t)).indexOf("negotiateVersion")&&(r+=-1===t?"?":"&",r+="negotiateVersion="+this.negotiateVersion),r},e}();function transportMatches(e,t){return!e||!!(t&e)}var TransportSendQueue=function(){function e(e){this.transport=e,this.buffer=[],this.executing=!0,this.sendBufferedData=new PromiseSource,this.transportResult=new PromiseSource,this.sendLoopPromise=this.sendLoop()}return e.prototype.send=function(e){return this.bufferData(e),this.transportResult||(this.transportResult=new PromiseSource),this.transportResult.promise},e.prototype.stop=function(){return this.executing=!1,this.sendBufferedData.resolve(),this.sendLoopPromise},e.prototype.bufferData=function(e){if(this.buffer.length&&typeof this.buffer[0]!=typeof e)throw new Error("Expected data to be of type "+typeof this.buffer+" but was of type "+typeof e);this.buffer.push(e),this.sendBufferedData.resolve()},e.prototype.sendLoop=function(){return __awaiter(this,void 0,void 0,(function(){var t,r,i;return __generator(this,(function(n){switch(n.label){case 0:return[4,this.sendBufferedData.promise];case 1:if(n.sent(),!this.executing)return this.transportResult&&this.transportResult.reject("Connection stopped."),[3,6];this.sendBufferedData=new PromiseSource,t=this.transportResult,this.transportResult=void 0,r="string"==typeof this.buffer[0]?this.buffer.join(""):e.concatBuffers(this.buffer),this.buffer.length=0,n.label=2;case 2:return n.trys.push([2,4,,5]),[4,this.transport.send(r)];case 3:return n.sent(),t.resolve(),[3,5];case 4:return i=n.sent(),t.reject(i),[3,5];case 5:return[3,0];case 6:return[2]}}))}))},e.concatBuffers=function(e){for(var t=e.map((function(e){return e.byteLength})).reduce((function(e,t){return e+t})),r=new Uint8Array(t),i=0,n=0,s=e;n<s.length;n++){var o=s[n];r.set(new Uint8Array(o),i),i+=o.byteLength}return r.buffer},e}(),PromiseSource=function(){function e(){var e=this;this.promise=new Promise((function(t,r){var i;return i=[t,r],e.resolver=i[0],e.rejecter=i[1],i}))}return e.prototype.resolve=function(){this.resolver()},e.prototype.reject=function(e){this.rejecter(e)},e}(),JSON_HUB_PROTOCOL_NAME="json",JsonHubProtocol=function(){function e(){this.name=JSON_HUB_PROTOCOL_NAME,this.version=1,this.transferFormat=TransferFormat.Text}return e.prototype.parseMessages=function(e,t){if("string"!=typeof e)throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];null===t&&(t=NullLogger.instance);for(var r=[],i=0,n=TextMessageFormat.parse(e);i<n.length;i++){var s=n[i],o=JSON.parse(s);if("number"!=typeof o.type)throw new Error("Invalid payload.");switch(o.type){case MessageType.Invocation:this.isInvocationMessage(o);break;case MessageType.StreamItem:this.isStreamItemMessage(o);break;case MessageType.Completion:this.isCompletionMessage(o);break;case MessageType.Ping:case MessageType.Close:break;default:t.log(LogLevel.Information,"Unknown message type '"+o.type+"' ignored.");continue}r.push(o)}return r},e.prototype.writeMessage=function(e){return TextMessageFormat.write(JSON.stringify(e))},e.prototype.isInvocationMessage=function(e){this.assertNotEmptyString(e.target,"Invalid payload for Invocation message."),void 0!==e.invocationId&&this.assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")},e.prototype.isStreamItemMessage=function(e){if(this.assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),void 0===e.item)throw new Error("Invalid payload for StreamItem message.")},e.prototype.isCompletionMessage=function(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this.assertNotEmptyString(e.error,"Invalid payload for Completion message."),this.assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")},e.prototype.assertNotEmptyString=function(e,t){if("string"!=typeof e||""===e)throw new Error(t)},e}(),__assign=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var n in t=arguments[r])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e},LogLevelNameMapping={trace:LogLevel.Trace,debug:LogLevel.Debug,info:LogLevel.Information,information:LogLevel.Information,warn:LogLevel.Warning,warning:LogLevel.Warning,error:LogLevel.Error,critical:LogLevel.Critical,none:LogLevel.None};function parseLogLevel(e){var t=LogLevelNameMapping[e.toLowerCase()];if(void 0!==t)return t;throw new Error("Unknown log level: "+e)}var HubConnectionBuilder=function(){function e(){}return e.prototype.configureLogging=function(e){if(Arg.isRequired(e,"logging"),isLogger(e))this.logger=e;else if("string"==typeof e){var t=parseLogLevel(e);this.logger=new ConsoleLogger(t)}else this.logger=new ConsoleLogger(e);return this},e.prototype.withUrl=function(e,t){return Arg.isRequired(e,"url"),Arg.isNotEmpty(e,"url"),this.url=e,this.httpConnectionOptions=__assign({},this.httpConnectionOptions,"object"==typeof t?t:{transport:t}),this},e.prototype.withHubProtocol=function(e){return Arg.isRequired(e,"protocol"),this.protocol=e,this},e.prototype.withAutomaticReconnect=function(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new DefaultReconnectPolicy(e):this.reconnectPolicy=e:this.reconnectPolicy=new DefaultReconnectPolicy,this},e.prototype.build=function(){var e=this.httpConnectionOptions||{};if(void 0===e.logger&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");var t=new HttpConnection(this.url,e);return HubConnection.create(t,this.logger||NullLogger.instance,this.protocol||new JsonHubProtocol,this.reconnectPolicy)},e}();function isLogger(e){return void 0!==e.log}const registerEventListeners=(e,t,r)=>{null==e||e.off("MatchEvent"),null==e||e.on("MatchEvent",(e=>{null==r||r.publish(PubSubEventsTopic(t),e)}))},BASE_PITCH_LOG="In house pitch logs",PITCH_LOG_TYPES=Object.freeze({ERROR_RECONNECT:`${BASE_PITCH_LOG} [Error: Reconnect]`,ERROR_RESUBSCRIBE_EVENTS:`${BASE_PITCH_LOG} [Error: Resubscribe to Events]`,ATTEMPT_RECONNECT:`${BASE_PITCH_LOG} [Attempt: Reconnect]`,MAX_RECONNECT_ATTEMPTS:`${BASE_PITCH_LOG} [Max Reconnect Attempts]`,FIRST_CONNECT_MAX_RETRIES_REACHED:`${BASE_PITCH_LOG} [Max Reconnect Attempts First Connection]`});let connection;const HUB_URL="/sbpitches/statsstream/matchhub",onCloseHandler=()=>Yt(void 0,null,(function*(){connection=null})),onReconnectingHandler=(e,t,r)=>Yt(void 0,null,(function*(){t(PITCH_LOG_TYPES.ERROR_RECONNECT,{error:e}),r({name:PITCH_LOG_TYPES.ERROR_RECONNECT,message:e})})),onReconnectedHandler=(e,t,r,i,n)=>Yt(void 0,null,(function*(){registerEventListeners(connection,e,t);try{yield null==connection?void 0:connection.invoke("Subscribe",r)}catch(e){i(PITCH_LOG_TYPES.ERROR_RESUBSCRIBE_EVENTS,{error:e}),n({name:PITCH_LOG_TYPES.ERROR_RESUBSCRIBE_EVENTS,message:JSON.stringify(e)})}}));function configureEventListeners(e,t,r,i,n,s,o){const a=e=>{onReconnectingHandler(e,s,o)},l=()=>{onReconnectedHandler(r,i,t,s,o)};if(n===LISTENER_ACTIONS.REGISTER)return e.onreconnecting(a),e.onreconnected(l),void e.onclose(onCloseHandler);e.off("reconnecting",a),e.off("reconnected",l),e.off("close",onCloseHandler)}const initSignalRConnection=(e=0,t,r,i,n,s)=>Yt(void 0,null,(function*(){connection&&(configureEventListeners(connection,i,t,r,LISTENER_ACTIONS.UNREGISTER,n,s),e>0&&"Connected"===connection.state&&(yield connection.stop()),connection=null),connection||(connection=(new HubConnectionBuilder).withUrl(`${HUB_URL}`,{transport:HttpTransportType.WebSockets,skipNegotiation:!0}).withAutomaticReconnect({nextRetryDelayInMilliseconds:()=>++e<=MAX_RETRIES_COUNT?CONNECTION_RETRY_INTERVAL_MS:(n(PITCH_LOG_TYPES.FIRST_CONNECT_MAX_RETRIES_REACHED,{retryCount:e}),s({name:PITCH_LOG_TYPES.FIRST_CONNECT_MAX_RETRIES_REACHED,message:JSON.stringify(e)}),null)}).build()),configureEventListeners(connection,i,t,r,LISTENER_ACTIONS.REGISTER,n,s);try{return yield connection.start(),e=0,connection}catch(o){return e<MAX_RETRIES_COUNT?(n(PITCH_LOG_TYPES.ATTEMPT_RECONNECT,{retryCount:e}),s({name:PITCH_LOG_TYPES.ATTEMPT_RECONNECT,message:JSON.stringify(e)}),yield new Promise((e=>setTimeout(e,300))),initSignalRConnection(e+1,t,r,i,n,s)):(n(PITCH_LOG_TYPES.MAX_RECONNECT_ATTEMPTS,{retryCount:e}),s({name:PITCH_LOG_TYPES.MAX_RECONNECT_ATTEMPTS,message:JSON.stringify(e)}),null)}})),mergeSubstitutionEventData=(e,t)=>{const{team_id:r,player_id_out:i,player_id_in:n}=e,{team_id:s,player_id_out:o,player_id_in:a}=t;return{team_id:r||s,player_id_out:i||o,player_id_in:n||a}},createCustomEventId=e=>e.event_type===EVENT_TYPES.PENALTY_MISSED&&e.event_period_id===PERIOD_TYPES.PENALTY_SHOOTOUT?{event_type:EVENT_TYPES.PENALTY_OUTCOME_SHOOTOUT,penaltyFromShootoutMissed:!0}:e.event_type===EVENT_TYPES.PENALTY_SCORED&&e.event_period_id===PERIOD_TYPES.PENALTY_SHOOTOUT?{event_type:EVENT_TYPES.PENALTY_OUTCOME_SHOOTOUT,penaltyFromShootoutMissed:!1}:{},IS_REPORTING_ENABLED_DEFAULT_VALUE=!1,reporting={enabled:!1},isReportingEnabled=()=>reporting.enabled,LOGGER_PREFIXES={PITCHES_AUTOMATION:"[PITCHES_AUTOMATION_MESSAGE]"},guarderLogGenerator=e=>t=>r=>i=>{e()&&t(`${r?r+":":""} ${"string"==typeof i?i:i()}`)},pitchesAutomationLogger=guarderLogGenerator(isReportingEnabled)(console.log)(LOGGER_PREFIXES.PITCHES_AUTOMATION),pitchMaskedEventsTimeMS=8e3,pitchForcedDelayEventsDefaultTime=1e3,pitchStartingLastOne="home",pitchCurrentTeamAway="away",pitchCurrentTeamHome="home";let pitchShouldDraw=!0;const instances=new Map;let signalRConnection,pbInstance;const Pitch=e=>Yt(void 0,[e],(function*({width:e,id:t,matchId:r,theme:i="stoiximan",reportToLogRocket:n,reportToGraylog:s}){var o;pbInstance=pubSubInit();const a=8*e/15,l=new Graphics,h=new Application({backgroundColor:COLORS.COLOR_FIELD,width:e,height:a,antialias:!0,autoDensity:!0,resolution:2});globalThis.__PIXI_APP__=h;const{bounceAnimationDefaults:c}=initComponentsConfig(e),u=document.getElementById(t);if(!u)throw new Error("Element does not exists");u.appendChild(h.view);const d=Sprites(),p=d[i]||d.stoiximan;let f,_;return function(){Yt(this,null,(function*(){const i=Field({width:e,height:a,sprites:d,fieldLogo:p}),o=new Container$1;let m=new Container$1;l.x=.02*e,l.y=.02*e,l.beginFill(16777215),l.drawRoundedRect(0,0,.96*e,a-.04*e,.01*e),o.addChild(l),h.stage.addChild(i.field,i.possesionShadow,i.attackShadow),signalRConnection=yield initSignalRConnection(0,`${t}-${r}`,pbInstance,r,n,s);const{matchData:g,lineupsData:y,supportsPassCoordinates:v,errorLog:E}=yield fetchPitchData(r);if(E||!g)return m=ErrorLayout({width:e,height:a,message:"data_not_available"}),h.stage.addChild(m),null==signalRConnection||signalRConnection.off("MatchEvent"),yield null==signalRConnection?void 0:signalRConnection.invoke("Unsubscribe",r),void(yield null==signalRConnection?void 0:signalRConnection.stop());const{home:T,away:b}=y||{};let S=[],x=[],A=[];A={[EVENT_TYPES.PASS]:v?Attack:AttackRunning,[EVENT_TYPES.SHOT_ON_TARGET]:ShotOutcome,[EVENT_TYPES.SHOT_OFF_TARGET]:ShotOutcome,[EVENT_TYPES.FREE_KICK]:FreeKick,[EVENT_TYPES.OFFSIDE]:Offside,[EVENT_TYPES.PENALTY]:Penalty,[EVENT_TYPES.SUBSTITUTION]:Substitution,[EVENT_TYPES.INJURY]:Injury,[EVENT_TYPES.GOAL]:Goals,[EVENT_TYPES.RED_CARD]:Cards,[EVENT_TYPES.YELLOW_CARD]:Cards,[EVENT_TYPES.WOODWORK]:WoodWork,[EVENT_TYPES.CORNER]:Corner,[EVENT_TYPES.GOAL_KICK]:GoalKick,[EVENT_TYPES.THROW_IN]:ThrowIn,[EVENT_TYPES.VAR]:Var,[EVENT_TYPES.PERIOD_STARTED]:PeriodStarted,[EVENT_TYPES.PERIOD_ENDED]:PeriodEnded,[EVENT_TYPES.INJURY_TIME_ANNOUNCED]:InjuryTime,[EVENT_TYPES.PENALTY_SAVED]:PenaltyOutcome,[EVENT_TYPES.PENALTY_SCORED]:Goals,[EVENT_TYPES.PENALTY_MISSED]:PenaltyOutcome,[EVENT_TYPES.KICK_OFF]:KickOff,[EVENT_TYPES.DELAY_START]:DelayStart,[EVENT_TYPES.DELAY_END]:DelayEnd,[EVENT_TYPES.PENALTY_OUTCOME_SHOOTOUT]:PenaltyShootoutOutcome},f=convertHexFormat(null==g?void 0:g.home_team_color)||DEFAULT_JERSEY_COLORS.HOME,_=convertHexFormat(null==g?void 0:g.away_team_color)||DEFAULT_JERSEY_COLORS.AWAY;const P=[(null==T?void 0:T.name_short)||g.home_team,(null==b?void 0:b.name_short)||g.away_team];if(g||y){let i=[],s={};y&&(i=[...(null==b?void 0:b.on_pitch)||[],...(null==T?void 0:T.on_pitch)||[],...(null==b?void 0:b.substitutes)||[],...(null==T?void 0:T.substitutes)||[]],s=i.reduce(((e,t)=>(e[t.id]=Vt({},t),e)),{}));let l,p,v=pitchStartingLastOne,E=0,R=!0;const O=()=>{if(x&&x.length>0&&pitchShouldDraw){l=x.pop();let e=null==p?void 0:p.event_data,t=null==l?void 0:l.event_data;if(pitchFlashEvents.includes(l.event_type))pitchShouldDraw=!1,setTimeout((()=>{pitchShouldDraw=!0}),pitchMaskedEventsTimeMS);else if(p=[EVENT_TYPES.CORNER,EVENT_TYPES.GOAL].includes(null==l?void 0:l.event_type)&&!p?p:l,pitchForcedDelayEvents.includes(l.event_type)){pitchShouldDraw=!1;let e=pitchForcedDelayEventsTimeMS[Number(l.event_type)]|pitchForcedDelayEventsDefaultTime;setTimeout((()=>{pitchShouldDraw=!0}),e)}(JSON.stringify(e)!==JSON.stringify(t)||R)&&(pitchesAutomationLogger((()=>JSON.stringify(l))),R=!1,D(l,E))}};let w,I;h.ticker.add(O);const C={},M=e=>Yt(this,null,(function*(){const t=JSON.parse(e);if((null==t?void 0:t.event_type)===EVENT_TYPES.UPDATE_JERSEY_COLORS&&function(e){var t,r;f=convertHexFormat(null==(t=null==e?void 0:e.event_data)?void 0:t.color_home)||DEFAULT_JERSEY_COLORS.HOME,_=convertHexFormat(null==(r=null==e?void 0:e.event_data)?void 0:r.color_away)||DEFAULT_JERSEY_COLORS.AWAY}(t),"null"!==e&&function(e){return(null==e?void 0:e.event_type)!==EVENT_TYPES.UPDATE_JERSEY_COLORS}(t)){if(I=w,w=t,x.length>4&&(x=[]),w.event_type===EVENT_TYPES.SUBSTITUTION){if(!C[r])return void(C[r]=w);w.event_data=Vt(Vt({},C[r].event_data),mergeSubstitutionEventData(C[r].event_data,w.event_data)),delete C[r]}w.event_type===EVENT_TYPES.GAME_ENDED&&(null==signalRConnection||signalRConnection.off("MatchEvent"),yield null==signalRConnection?void 0:signalRConnection.invoke("Unsubscribe",r),yield null==signalRConnection?void 0:signalRConnection.stop()),x.unshift(Vt(Vt({},w),createCustomEventId(w)))}}));try{const i=yield null==signalRConnection?void 0:signalRConnection.invoke("Subscribe",r),n=null===i.data&&null===i.error;if(registerEventListeners(signalRConnection,`${t}-${r}`,pbInstance),n&&(m=Start({width:e,container:m,homeColor:f,awayColor:_,heightOfPitch:a,teams:P,app:h,bounceAnimationDefaults:c,sprites:d}),h.stage.addChild(m)),i.data&&M(JSON.stringify(i.data)),i.error)return null==signalRConnection||signalRConnection.off("MatchEvent"),yield null==signalRConnection?void 0:signalRConnection.invoke("Unsubscribe",r),yield null==signalRConnection?void 0:signalRConnection.stop(),m=ErrorLayout({width:e,height:a,message:errorCodesEnum[i.error.code]}),void h.stage.addChild(m)}catch(e){return void n(`Requested match with ${r} does not exist or is not valid now, ${e}`)}pbInstance.subscribe(PubSubEventsTopic(`${t}-${r}`),(e=>M(e)));const D=(t,n,l=1)=>Yt(this,null,(function*(){var d,p,y,E,T,b,x,R,O,w,C;let M,D="";if(null!=(d=null==t?void 0:t.event_data)&&d.team_id&&(M=g.away_team_id.toLowerCase()==t.event_data.team_id.toLowerCase()?_:f,D=g.away_team_id.toLowerCase()==t.event_data.team_id.toLowerCase()?pitchCurrentTeamAway:pitchCurrentTeamHome),(null==t?void 0:t.event_type)!=EVENT_TYPES.PASS&&(S=[]),(null==t?void 0:t.event_type)==EVENT_TYPES.PASS){v!=D&&(S=[]);const{ball_position:e,ball_position_end:r}=(null==t?void 0:t.event_data)||{};r&&e&&S.unshift(r,e),S=S.slice(0,8)}m&&m.destroy({children:!0,texture:!0,baseTexture:!0}),null!=(p=null==t?void 0:t.event_data)&&p.is_possession||((null==(E=null==(y=h.stage)?void 0:y.getChildByName)?void 0:E.call(y,"possesionShadow",!0)).visible=!1),null!=(T=null==t?void 0:t.event_data)&&T.is_attack&&null!=(b=null==t?void 0:t.event_data)&&b.is_dangerous_attack||((null==(R=null==(x=h.stage)?void 0:x.getChildByName)?void 0:R.call(x,ATTACK_SHADOW_COMPONENTS.ATTACK_SHADOW,!0)).visible=!1),toggleOverlayAndLogo({eventType:t.event_type,width:e,height:a,app:h});const L=null==(O=null==t?void 0:t.event_data)?void 0:O.player_id,N=null==(w=null==s?void 0:s[L])?void 0:w.name,F=D==pitchCurrentTeamAway?P[1]:P[0],k=A[null==t?void 0:t.event_type];if(m=yield k(nr(Vt({width:e},null==t?void 0:t.event_data),{period:null==t?void 0:t.event_period_id,players:i,event:null==t?void 0:t.event_type,app:h,color:M,homeColor:f,awayColor:_,name:F,team:D,lastOne:v,dotSecuence:S,teamName:F,matchId:r,duration:n,throttle:l,isDangerous:null==(C=null==t?void 0:t.event_data)?void 0:C.is_dangerous,sprites:Sprites(),heightOfPitch:a,lastEvent:I,bounceAnimationDefaults:c,isHome:D===TEAMS.HOME,canvasContainer:u,incidentActor:N||F,playerName:N,penaltyFromShootoutMissed:null==t?void 0:t.penaltyFromShootoutMissed})),h.stage.addChild(m),destroyTextureByName({app:h,container:o,textureName:CHILD_NAMES_PER_INCIDENT.THROW_IN.MASK}),pitchMaskedEvents.includes(null==t?void 0:t.event_type)){if(t.event_type===EVENT_TYPES.THROW_IN){const t=createThrowInBallMask(h,e);o.addChild(t)}h.stage.addChild(o),h.stage.mask=o}else h.stage.removeChild(o),h.stage.mask=null;v=D}));h&&(h.ticker.maxFPS=30)}}))}(),instances.set(t,{app:h,stopMethod:()=>{h.destroy(!0,{children:!0,texture:!0,baseTexture:!0})}}),null!=(o=null==instances?void 0:instances.get(t))?o:{app:h,stopMethod:()=>{h.destroy(!0,{children:!0}),console.log("[PIXI]: Pitch default stopMethod called",t)}}})),destructor=(e,t)=>Yt(void 0,null,(function*(){var r;const i=document.getElementById(e);pubSubInstance&&pubSubInstance.unsubscribeAllFrom(PubSubEventsTopic(`${e}-${t}`)),null!=instances&&instances.get(e)&&(null==(r=null==instances?void 0:instances.get(e))||r.stopMethod()),(e=>{for(;e.firstChild;)e.removeChild(e.lastChild)})(i)})),GeneralFactory=({args:e,id:t,language:r})=>{skipHello(),setLang(r),function(){var e,t,r=document.createElement("script");r.src=("https:"==document.location.protocol?"https":"http")+"://ajax.googleapis.com/ajax/libs/webfont/1/webfont.js",r.type="text/javascript",r.async=!0;var i=document.getElementsByTagName("script")[0];null==(e=null==i?void 0:i.parentNode)||e.insertBefore(r,i);var n=document.createElement("script");null==(t=null==i?void 0:i.parentNode)||t.insertBefore(n,i)}(),window.WebFontConfig={google:{families:["Ubuntu"]}};let i=null!=r?r:"en";const n=document.getElementById(t);ChangeLanguage(i);const{width:s}=e;n.style.cssText=`width:${s}px;position:relative; font-family:'Ubuntu';`,Pitch(nr(Vt({},e),{lang:i,id:t}))};let isDisconnecting=!1,startTimeInMs=0,millisecondsInBackground=0,backgroundIntervalId,hasUnsubscribed=!1;const calculateThreshold=TAB_INACTIVITY_THRESHOLD_SECONDS/1e3,handleBackgroundConnection=e=>Yt(void 0,null,(function*(){const t=!document.hidden&&millisecondsInBackground<TAB_INACTIVITY_THRESHOLD_SECONDS,r=millisecondsInBackground>=TAB_INACTIVITY_THRESHOLD_SECONDS;return t?(clearBackgroundConnectionInterval(),Promise.resolve()):(millisecondsInBackground+=1e3,r&&(hasUnsubscribed=!1,yield null==e?void 0:e.stop(),clearBackgroundConnectionInterval()),Promise.resolve())})),clearBackgroundConnectionInterval=()=>{backgroundIntervalId&&(clearInterval(backgroundIntervalId),backgroundIntervalId=null),millisecondsInBackground=0},startBackgroundInterval=e=>{backgroundIntervalId=setInterval((()=>handleBackgroundConnection(e)),1e3)},resetTime=()=>0,disconnectConnection=e=>Yt(void 0,null,(function*(){hasUnsubscribed=!1,yield null==e?void 0:e.stop(),clearBackgroundConnectionInterval(),isDisconnecting=!1})),restartConnectionAndSubscribe=e=>Yt(void 0,[e],(function*({connection:e,matchId:t,id:r,instance:i}){yield null==e?void 0:e.start(),yield null==e?void 0:e.invoke("Subscribe",t),registerEventListeners(e,`${r}-${t}`,i)})),handleExceededThreshold=e=>Yt(void 0,[e],(function*({connection:e,matchId:t,id:r,instance:i}){millisecondsInBackground<TAB_INACTIVITY_THRESHOLD_SECONDS&&"Disconnected"!==(null==e?void 0:e.state)&&(isDisconnecting=!0),isDisconnecting&&(yield disconnectConnection(e)),"Disconnected"===(null==e?void 0:e.state)&&(yield restartConnectionAndSubscribe({connection:e,matchId:t,id:r,instance:i}))})),handleUnsubscribedState=e=>Yt(void 0,[e],(function*({connection:e,matchId:t,id:r,instance:i}){"Connected"===(null==e?void 0:e.state)&&(hasUnsubscribed=!1,yield null==e?void 0:e.invoke("Subscribe",t),registerEventListeners(e,`${r}-${t}`,i))})),handleTabVisible=e=>Yt(void 0,[e],(function*({connection:e,matchId:t,id:r,instance:i}){if(startTimeInMs<=0)return;let n=(Date.now()-startTimeInMs)/1e3;startTimeInMs=resetTime();const s=n<calculateThreshold&&"Disconnected"===(null==e?void 0:e.state),o=n>=calculateThreshold,a=hasUnsubscribed&&n<calculateThreshold;s&&(yield restartConnectionAndSubscribe({connection:e,matchId:t,id:r,instance:i})),o&&(yield handleExceededThreshold({connection:e,matchId:t,id:r,instance:i})),a&&(yield handleUnsubscribedState({connection:e,matchId:t,id:r,instance:i})),n=resetTime()})),handleTabHidden=e=>Yt(void 0,[e],(function*({connection:e,matchId:t}){startTimeInMs=Date.now(),"Connected"===(null==e?void 0:e.state)&&!hasUnsubscribed&&(null==e||e.off("MatchEvent"),yield null==e?void 0:e.invoke("Unsubscribe",t),hasUnsubscribed=!0,hasUnsubscribed&&startBackgroundInterval(e))})),handleVisibilityChange=e=>Yt(void 0,[e],(function*({connection:e,matchId:t,id:r,instance:i}){document.hidden?handleTabHidden({connection:e,matchId:t}):handleTabVisible({connection:e,matchId:t,id:r,instance:i})})),_sfc_main$d=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Pitch",props:{args:{},id:{},language:{}},setup(e){const t=e;let r,i=()=>{handleVisibilityChange({connection:signalRConnection,matchId:t.args.matchId,id:t.id,instance:pbInstance})};function n(){clearTimeout(r),r=null,r=setTimeout(i,VISIBILITY_DELAY_MS)}return Object(vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)((()=>{GeneralFactory({args:t.args,id:t.id,language:t.language}),document.addEventListener("visibilitychange",n)})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onUpdated)((()=>Yt(this,null,(function*(){"Connected"===(null==signalRConnection?void 0:signalRConnection.state)&&(null==signalRConnection||signalRConnection.off("MatchEvent"),yield null==signalRConnection?void 0:signalRConnection.invoke("Unsubscribe",t.args.matchId),yield null==signalRConnection?void 0:signalRConnection.stop()),destructor(t.id,t.args.matchId),GeneralFactory({args:t.args,id:t.id,language:t.language})})))),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onUnmounted)((()=>Yt(this,null,(function*(){"Connected"===(null==signalRConnection?void 0:signalRConnection.state)&&(null==signalRConnection||signalRConnection.off("MatchEvent"),yield null==signalRConnection?void 0:signalRConnection.invoke("Unsubscribe",t.args.matchId),yield null==signalRConnection?void 0:signalRConnection.stop()),destructor(t.id,t.args.matchId),document.removeEventListener("visibilitychange",n),clearTimeout(r),r=null})))),()=>{}}}),ENTRYPOINT="/api/statsstream",GET="GET",PUT="PUT",POST="POST",PATCH="PATCH",DELETE="DELETE",METHODS={GET:GET,PUT:PUT,POST:POST,PATCH:PATCH,DELETE:DELETE},request=e=>Yt(void 0,[e],(function*({url:e,method:t=METHODS.GET,config:r}){return{data:yield(yield fetch(e,Vt({method:t},r))).json()}})),MODEL_BASE$4="stats",detailedAPI=(e,t)=>Yt(void 0,null,(function*(){return yield request({url:`${addLangPrefixIfOperatorIsNotInPrimaryLang(t)}${ENTRYPOINT}/${e}/${MODEL_BASE$4}/detailed/`})})),detailed={get:detailedAPI},overviewStatisticsAPI=(e,t)=>Yt(void 0,null,(function*(){return yield request({url:`${addLangPrefixIfOperatorIsNotInPrimaryLang(t)}${ENTRYPOINT}/${e}/${MODEL_BASE$4}/`})})),overview={get:overviewStatisticsAPI},playerStatisticsAPI=(e,t)=>Yt(void 0,null,(function*(){return yield request({url:`${addLangPrefixIfOperatorIsNotInPrimaryLang(t)}${ENTRYPOINT}/${e}/${MODEL_BASE$4}/players/`})})),playerStats={get:playerStatisticsAPI},mockTabsConfigResponse={isStandingsVisible:!0,hasEventStarted:!0},mockRequest=(e,t,r=2e3)=>Yt(void 0,null,(function*(){return{data:yield new Promise((e=>setTimeout((()=>e(t)),r)))}})),MODEL_BASE$3="tabs/config/",tabsConfigAPI=e=>Yt(void 0,null,(function*(){return yield mockRequest({url:`${ENTRYPOINT}/${e}/${MODEL_BASE$3}`},mockTabsConfigResponse,0)})),tabsConfig={get:tabsConfigAPI},MODEL_BASE$2="h2h",H2HStatisticsAPI=(e,t)=>Yt(void 0,null,(function*(){return yield request({url:`${addLangPrefixIfOperatorIsNotInPrimaryLang(t)}${ENTRYPOINT}/${e}/${MODEL_BASE$2}/`})})),h2h={get:H2HStatisticsAPI},MODEL_BASE$1="standings",standingsAPI=(e,t)=>Yt(void 0,null,(function*(){return yield request({url:`${addLangPrefixIfOperatorIsNotInPrimaryLang(t)}${ENTRYPOINT}/${e}/${MODEL_BASE$1}/`})})),standings={get:standingsAPI},MODEL_BASE="lineups",lineupsAPI=(e,t)=>Yt(void 0,null,(function*(){return yield request({url:`${addLangPrefixIfOperatorIsNotInPrimaryLang(t)}${ENTRYPOINT}/${e}/${MODEL_BASE}/`})})),lineups={get:lineupsAPI},api={statistics:{overview:overview,playerStats:playerStats,detailed:detailed},lineups:lineups,tabsConfig:tabsConfig,h2h:h2h,standings:standings};var Subscribable=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},isServer="undefined"==typeof window||"Deno"in window;function noop$1(){}function functionalUpdate(e,t){return"function"==typeof e?e(t):e}function isValidTimeout(e){return"number"==typeof e&&e>=0&&e!==1/0}function timeUntilStale(e,t){return Math.max(e+(t||0)-Date.now(),0)}function matchQuery(e,t){const{type:r="all",exact:i,fetchStatus:n,predicate:s,queryKey:o,stale:a}=e;if(o)if(i){if(t.queryHash!==hashQueryKeyByOptions(o,t.options))return!1}else if(!partialMatchKey(t.queryKey,o))return!1;if("all"!==r){const e=t.isActive();if("active"===r&&!e||"inactive"===r&&e)return!1}return!("boolean"==typeof a&&t.isStale()!==a||void 0!==n&&n!==t.state.fetchStatus||s&&!s(t))}function matchMutation(e,t){const{exact:r,status:i,predicate:n,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(r){if(hashKey(t.options.mutationKey)!==hashKey(s))return!1}else if(!partialMatchKey(t.options.mutationKey,s))return!1}return!(i&&t.state.status!==i||n&&!n(t))}function hashQueryKeyByOptions(e,t){return((null==t?void 0:t.queryKeyHashFn)||hashKey)(e)}function hashKey(e){return JSON.stringify(e,((e,t)=>isPlainObject$2(t)?Object.keys(t).sort().reduce(((e,r)=>(e[r]=t[r],e)),{}):t))}function partialMatchKey(e,t){return e===t||typeof e==typeof t&&!(!e||!t||"object"!=typeof e||"object"!=typeof t)&&!Object.keys(t).some((r=>!partialMatchKey(e[r],t[r])))}function replaceEqualDeep(e,t){if(e===t)return e;const r=isPlainArray(e)&&isPlainArray(t);if(r||isPlainObject$2(e)&&isPlainObject$2(t)){const i=r?e:Object.keys(e),n=i.length,s=r?t:Object.keys(t),o=s.length,a=r?[]:{};let l=0;for(let n=0;n<o;n++){const o=r?n:s[n];!r&&void 0===e[o]&&void 0===t[o]&&i.includes(o)?(a[o]=void 0,l++):(a[o]=replaceEqualDeep(e[o],t[o]),a[o]===e[o]&&void 0!==e[o]&&l++)}return n===o&&l===n?e:a}return t}function shallowEqualObjects(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}function isPlainArray(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function isPlainObject$2(e){if(!hasObjectPrototype(e))return!1;const t=e.constructor;if(void 0===t)return!0;const r=t.prototype;return!(!hasObjectPrototype(r)||!r.hasOwnProperty("isPrototypeOf"))}function hasObjectPrototype(e){return"[object Object]"===Object.prototype.toString.call(e)}function sleep(e){return new Promise((t=>{setTimeout(t,e)}))}function replaceData(e,t,r){return"function"==typeof r.structuralSharing?r.structuralSharing(e,t):!1!==r.structuralSharing?replaceEqualDeep(e,t):t}function addToEnd(e,t,r=0){const i=[...e,t];return r&&i.length>r?i.slice(1):i}function addToStart(e,t,r=0){const i=[t,...e];return r&&i.length>r?i.slice(0,-1):i}var Zr,jr,oi,vn,FocusManager=(vn=class extends Subscribable{constructor(){super(),tr(this,Zr,void 0),tr(this,jr,void 0),tr(this,oi,void 0),Jt(this,oi,(e=>{if(!isServer&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}))}onSubscribe(){Dt(this,jr)||this.setEventListener(Dt(this,oi))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Dt(this,jr))||e.call(this),Jt(this,jr,void 0))}setEventListener(e){var t;Jt(this,oi,e),null==(t=Dt(this,jr))||t.call(this),Jt(this,jr,e((e=>{"boolean"==typeof e?this.setFocused(e):this.onFocus()})))}setFocused(e){Dt(this,Zr)!==e&&(Jt(this,Zr,e),this.onFocus())}onFocus(){this.listeners.forEach((e=>{e()}))}isFocused(){var e;return"boolean"==typeof Dt(this,Zr)?Dt(this,Zr):"hidden"!==(null==(e=globalThis.document)?void 0:e.visibilityState)}},Zr=new WeakMap,jr=new WeakMap,oi=new WeakMap,vn),focusManager=new FocusManager,li,zr,hi,_n,OnlineManager=(_n=class extends Subscribable{constructor(){super(),tr(this,li,!0),tr(this,zr,void 0),tr(this,hi,void 0),Jt(this,hi,(e=>{if(!isServer&&window.addEventListener){const t=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",r)}}}))}onSubscribe(){Dt(this,zr)||this.setEventListener(Dt(this,hi))}onUnsubscribe(){var e;this.hasListeners()||(null==(e=Dt(this,zr))||e.call(this),Jt(this,zr,void 0))}setEventListener(e){var t;Jt(this,hi,e),null==(t=Dt(this,zr))||t.call(this),Jt(this,zr,e(this.setOnline.bind(this)))}setOnline(e){Dt(this,li)!==e&&(Jt(this,li,e),this.listeners.forEach((t=>{t(e)})))}isOnline(){return Dt(this,li)}},li=new WeakMap,zr=new WeakMap,hi=new WeakMap,_n),onlineManager=new OnlineManager;function defaultRetryDelay(e){return Math.min(1e3*Vi(2,e),3e4)}function canFetch(e){return"online"!==(null!=e?e:"online")||onlineManager.isOnline()}var CancelledError=class{constructor(e){this.revert=null==e?void 0:e.revert,this.silent=null==e?void 0:e.silent}};function isCancelledError(e){return e instanceof CancelledError}function createRetryer(e){let t,r,i,n=!1,s=0,o=!1;const a=new Promise(((e,t)=>{r=e,i=t})),l=()=>!focusManager.isFocused()||"always"!==e.networkMode&&!onlineManager.isOnline(),h=i=>{var n;o||(o=!0,null==(n=e.onSuccess)||n.call(e,i),null==t||t(),r(i))},c=r=>{var n;o||(o=!0,null==(n=e.onError)||n.call(e,r),null==t||t(),i(r))},u=()=>new Promise((r=>{var i;t=e=>{const t=o||!l();return t&&r(e),t},null==(i=e.onPause)||i.call(e)})).then((()=>{var r;t=void 0,o||null==(r=e.onContinue)||r.call(e)})),d=()=>{if(o)return;let t;try{t=e.fn()}catch(e){t=Promise.reject(e)}Promise.resolve(t).then(h).catch((t=>{var r,i,a;if(o)return;const h=null!=(r=e.retry)?r:isServer?0:3,p=null!=(i=e.retryDelay)?i:defaultRetryDelay,f="function"==typeof p?p(s,t):p,_=!0===h||"number"==typeof h&&s<h||"function"==typeof h&&h(s,t);!n&&_?(s++,null==(a=e.onFail)||a.call(e,s,t),sleep(f).then((()=>{if(l())return u()})).then((()=>{n?c(t):d()}))):c(t)}))};return canFetch(e.networkMode)?d():u().then(d),{promise:a,cancel:t=>{var r;o||(c(new CancelledError(t)),null==(r=e.abort)||r.call(e))},continue:()=>(null==t?void 0:t())?a:Promise.resolve(),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1}}}function createNotifyManager(){let e=[],t=0,r=e=>{e()},i=e=>{e()},n=e=>setTimeout(e,0);const s=i=>{t?e.push(i):n((()=>{r(i)}))},o=()=>{const t=e;e=[],t.length&&n((()=>{i((()=>{t.forEach((e=>{r(e)}))}))}))};return{batch:e=>{let r;t++;try{r=e()}finally{t--,t||o()}return r},batchCalls:e=>(...t)=>{s((()=>{e(...t)}))},schedule:s,setNotifyFunction:e=>{r=e},setBatchNotifyFunction:e=>{i=e},setScheduler:e=>{n=e}}}var notifyManager=createNotifyManager(),Qr,yn,Removable=(yn=class{constructor(){tr(this,Qr,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),isValidTimeout(this.gcTime)&&Jt(this,Qr,setTimeout((()=>{this.optionalRemove()}),this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,null!=e?e:isServer?1/0:3e5)}clearGcTimeout(){Dt(this,Qr)&&(clearTimeout(Dt(this,Qr)),Jt(this,Qr,void 0))}},Qr=new WeakMap,yn),ui,ci,Rr,Xr,Or,gr,Pi,Jr,fi,Yi,kr,Gr,Tn,Query=(Tn=class extends Removable{constructor(e){super(),tr(this,fi),tr(this,kr),tr(this,ui,void 0),tr(this,ci,void 0),tr(this,Rr,void 0),tr(this,Xr,void 0),tr(this,Or,void 0),tr(this,gr,void 0),tr(this,Pi,void 0),tr(this,Jr,void 0),Jt(this,Jr,!1),Jt(this,Pi,e.defaultOptions),or(this,fi,Yi).call(this,e.options),Jt(this,gr,[]),Jt(this,Rr,e.cache),this.queryKey=e.queryKey,this.queryHash=e.queryHash,Jt(this,ui,e.state||getDefaultState$1(this.options)),this.state=Dt(this,ui),this.scheduleGc()}get meta(){return this.options.meta}optionalRemove(){!Dt(this,gr).length&&"idle"===this.state.fetchStatus&&Dt(this,Rr).remove(this)}setData(e,t){const r=replaceData(this.state.data,e,this.options);return or(this,kr,Gr).call(this,{data:r,type:"success",dataUpdatedAt:null==t?void 0:t.updatedAt,manual:null==t?void 0:t.manual}),r}setState(e,t){or(this,kr,Gr).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var t;const r=Dt(this,Xr);return null==(t=Dt(this,Or))||t.cancel(e),r?r.then(noop$1).catch(noop$1):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(Dt(this,ui))}isActive(){return Dt(this,gr).some((e=>!1!==e.options.enabled))}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||Dt(this,gr).some((e=>e.getCurrentResult().isStale))}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!timeUntilStale(this.state.dataUpdatedAt,e)}onFocus(){var e;const t=Dt(this,gr).find((e=>e.shouldFetchOnWindowFocus()));null==t||t.refetch({cancelRefetch:!1}),null==(e=Dt(this,Or))||e.continue()}onOnline(){var e;const t=Dt(this,gr).find((e=>e.shouldFetchOnReconnect()));null==t||t.refetch({cancelRefetch:!1}),null==(e=Dt(this,Or))||e.continue()}addObserver(e){Dt(this,gr).includes(e)||(Dt(this,gr).push(e),this.clearGcTimeout(),Dt(this,Rr).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){Dt(this,gr).includes(e)&&(Jt(this,gr,Dt(this,gr).filter((t=>t!==e))),Dt(this,gr).length||(Dt(this,Or)&&(Dt(this,Jr)?Dt(this,Or).cancel({revert:!0}):Dt(this,Or).cancelRetry()),this.scheduleGc()),Dt(this,Rr).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return Dt(this,gr).length}invalidate(){this.state.isInvalidated||or(this,kr,Gr).call(this,{type:"invalidate"})}fetch(e,t){var r,i,n,s;if("idle"!==this.state.fetchStatus)if(this.state.dataUpdatedAt&&null!=t&&t.cancelRefetch)this.cancel({silent:!0});else if(Dt(this,Xr))return null==(r=Dt(this,Or))||r.continueRetry(),Dt(this,Xr);if(e&&or(this,fi,Yi).call(this,e),!this.options.queryFn){const e=Dt(this,gr).find((e=>e.options.queryFn));e&&or(this,fi,Yi).call(this,e.options)}const o=new AbortController,a={queryKey:this.queryKey,meta:this.meta},l=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(Jt(this,Jr,!0),o.signal)})};l(a);const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:()=>this.options.queryFn?(Jt(this,Jr,!1),this.options.persister?this.options.persister(this.options.queryFn,a,this):this.options.queryFn(a)):Promise.reject(new Error(`Missing queryFn: '${this.options.queryHash}'`))};l(h),null==(i=this.options.behavior)||i.onFetch(h,this),Jt(this,ci,this.state),("idle"===this.state.fetchStatus||this.state.fetchMeta!==(null==(n=h.fetchOptions)?void 0:n.meta))&&or(this,kr,Gr).call(this,{type:"fetch",meta:null==(s=h.fetchOptions)?void 0:s.meta});const c=e=>{var t,r,i,n;isCancelledError(e)&&e.silent||or(this,kr,Gr).call(this,{type:"error",error:e}),isCancelledError(e)||(null==(r=(t=Dt(this,Rr).config).onError)||r.call(t,e,this),null==(n=(i=Dt(this,Rr).config).onSettled)||n.call(i,this.state.data,e,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Jt(this,Or,createRetryer({fn:h.fetchFn,abort:o.abort.bind(o),onSuccess:e=>{var t,r,i,n;void 0!==e?(this.setData(e),null==(r=(t=Dt(this,Rr).config).onSuccess)||r.call(t,e,this),null==(n=(i=Dt(this,Rr).config).onSettled)||n.call(i,e,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1):c(new Error(`${this.queryHash} data is undefined`))},onError:c,onFail:(e,t)=>{or(this,kr,Gr).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{or(this,kr,Gr).call(this,{type:"pause"})},onContinue:()=>{or(this,kr,Gr).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode})),Jt(this,Xr,Dt(this,Or).promise),Dt(this,Xr)}},ui=new WeakMap,ci=new WeakMap,Rr=new WeakMap,Xr=new WeakMap,Or=new WeakMap,gr=new WeakMap,Pi=new WeakMap,Jr=new WeakMap,fi=new WeakSet,Yi=function(e){this.options=Vt(Vt({},Dt(this,Pi)),e),this.updateGcTime(this.options.gcTime)},kr=new WeakSet,Gr=function(e){this.state=(t=>{var r,i;switch(e.type){case"failed":return nr(Vt({},t),{fetchFailureCount:e.failureCount,fetchFailureReason:e.error});case"pause":return nr(Vt({},t),{fetchStatus:"paused"});case"continue":return nr(Vt({},t),{fetchStatus:"fetching"});case"fetch":return Vt(nr(Vt({},t),{fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null!=(r=e.meta)?r:null,fetchStatus:canFetch(this.options.networkMode)?"fetching":"paused"}),!t.dataUpdatedAt&&{error:null,status:"pending"});case"success":return Vt(nr(Vt({},t),{data:e.data,dataUpdateCount:t.dataUpdateCount+1,dataUpdatedAt:null!=(i=e.dataUpdatedAt)?i:Date.now(),error:null,isInvalidated:!1,status:"success"}),!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null});case"error":const n=e.error;return isCancelledError(n)&&n.revert&&Dt(this,ci)?nr(Vt({},Dt(this,ci)),{fetchStatus:"idle"}):nr(Vt({},t),{error:n,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:n,fetchStatus:"idle",status:"error"});case"invalidate":return nr(Vt({},t),{isInvalidated:!0});case"setState":return Vt(Vt({},t),e.state)}})(this.state),notifyManager.batch((()=>{Dt(this,gr).forEach((e=>{e.onQueryUpdate()})),Dt(this,Rr).notify({query:this,type:"updated",action:e})}))},Tn);function getDefaultState$1(e){const t="function"==typeof e.initialData?e.initialData():e.initialData,r=void 0!==t,i=r?"function"==typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:r?null!=i?i:Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var $r,bn,QueryCache$1=(bn=class extends Subscribable{constructor(e={}){super(),tr(this,$r,void 0),this.config=e,Jt(this,$r,new Map)}build(e,t,r){var i;const n=t.queryKey,s=null!=(i=t.queryHash)?i:hashQueryKeyByOptions(n,t);let o=this.get(s);return o||(o=new Query({cache:this,queryKey:n,queryHash:s,options:e.defaultQueryOptions(t),state:r,defaultOptions:e.getQueryDefaults(n)}),this.add(o)),o}add(e){Dt(this,$r).has(e.queryHash)||(Dt(this,$r).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=Dt(this,$r).get(e.queryHash);t&&(e.destroy(),t===e&&Dt(this,$r).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){notifyManager.batch((()=>{this.getAll().forEach((e=>{this.remove(e)}))}))}get(e){return Dt(this,$r).get(e)}getAll(){return[...Dt(this,$r).values()]}find(e){const t=Vt({exact:!0},e);return this.getAll().find((e=>matchQuery(t,e)))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter((t=>matchQuery(e,t))):t}notify(e){notifyManager.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}onFocus(){notifyManager.batch((()=>{this.getAll().forEach((e=>{e.onFocus()}))}))}onOnline(){notifyManager.batch((()=>{this.getAll().forEach((e=>{e.onOnline()}))}))}},$r=new WeakMap,bn),Dr,Ii,wr,di,Br,Hr,En,Mutation=(En=class extends Removable{constructor(e){super(),tr(this,Br),tr(this,Dr,void 0),tr(this,Ii,void 0),tr(this,wr,void 0),tr(this,di,void 0),this.mutationId=e.mutationId,Jt(this,Ii,e.defaultOptions),Jt(this,wr,e.mutationCache),Jt(this,Dr,[]),this.state=e.state||getDefaultState(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=Vt(Vt({},Dt(this,Ii)),e),this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){Dt(this,Dr).includes(e)||(Dt(this,Dr).push(e),this.clearGcTimeout(),Dt(this,wr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Jt(this,Dr,Dt(this,Dr).filter((t=>t!==e))),this.scheduleGc(),Dt(this,wr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){Dt(this,Dr).length||("pending"===this.state.status?this.scheduleGc():Dt(this,wr).remove(this))}continue(){var e,t;return null!=(t=null==(e=Dt(this,di))?void 0:e.continue())?t:this.execute(this.state.variables)}execute(e){return Yt(this,null,(function*(){var t,r,i,n,s,o,a,l,h,c,u,d,p,f,_,m,g,y,v,E;const T=()=>{var t;return Jt(this,di,createRetryer({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{or(this,Br,Hr).call(this,{type:"failed",failureCount:e,error:t})},onPause:()=>{or(this,Br,Hr).call(this,{type:"pause"})},onContinue:()=>{or(this,Br,Hr).call(this,{type:"continue"})},retry:null!=(t=this.options.retry)?t:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode})),Dt(this,di).promise},b="pending"===this.state.status;try{if(!b){or(this,Br,Hr).call(this,{type:"pending",variables:e}),yield null==(r=(t=Dt(this,wr).config).onMutate)?void 0:r.call(t,e,this);const s=yield null==(n=(i=this.options).onMutate)?void 0:n.call(i,e);s!==this.state.context&&or(this,Br,Hr).call(this,{type:"pending",context:s,variables:e})}const p=yield T();return yield null==(o=(s=Dt(this,wr).config).onSuccess)?void 0:o.call(s,p,e,this.state.context,this),yield null==(l=(a=this.options).onSuccess)?void 0:l.call(a,p,e,this.state.context),yield null==(c=(h=Dt(this,wr).config).onSettled)?void 0:c.call(h,p,null,this.state.variables,this.state.context,this),yield null==(d=(u=this.options).onSettled)?void 0:d.call(u,p,null,e,this.state.context),or(this,Br,Hr).call(this,{type:"success",data:p}),p}catch(t){try{throw yield null==(f=(p=Dt(this,wr).config).onError)?void 0:f.call(p,t,e,this.state.context,this),yield null==(m=(_=this.options).onError)?void 0:m.call(_,t,e,this.state.context),yield null==(y=(g=Dt(this,wr).config).onSettled)?void 0:y.call(g,void 0,t,this.state.variables,this.state.context,this),yield null==(E=(v=this.options).onSettled)?void 0:E.call(v,void 0,t,e,this.state.context),t}finally{or(this,Br,Hr).call(this,{type:"error",error:t})}}}))}},Dr=new WeakMap,Ii=new WeakMap,wr=new WeakMap,di=new WeakMap,Br=new WeakSet,Hr=function(e){this.state=(t=>{switch(e.type){case"failed":return nr(Vt({},t),{failureCount:e.failureCount,failureReason:e.error});case"pause":return nr(Vt({},t),{isPaused:!0});case"continue":return nr(Vt({},t),{isPaused:!1});case"pending":return nr(Vt({},t),{context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!canFetch(this.options.networkMode),status:"pending",variables:e.variables,submittedAt:Date.now()});case"success":return nr(Vt({},t),{data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1});case"error":return nr(Vt({},t),{data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"})}})(this.state),notifyManager.batch((()=>{Dt(this,Dr).forEach((t=>{t.onMutationUpdate(e)})),Dt(this,wr).notify({mutation:this,type:"updated",action:e})}))},En);function getDefaultState(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Nr,Ri,ei,xn,MutationCache$1=(xn=class extends Subscribable{constructor(e={}){super(),tr(this,Nr,void 0),tr(this,Ri,void 0),tr(this,ei,void 0),this.config=e,Jt(this,Nr,[]),Jt(this,Ri,0)}build(e,t,r){const i=new Mutation({mutationCache:this,mutationId:++Hi(this,Ri)._,options:e.defaultMutationOptions(t),state:r});return this.add(i),i}add(e){Dt(this,Nr).push(e),this.notify({type:"added",mutation:e})}remove(e){Jt(this,Nr,Dt(this,Nr).filter((t=>t!==e))),this.notify({type:"removed",mutation:e})}clear(){notifyManager.batch((()=>{Dt(this,Nr).forEach((e=>{this.remove(e)}))}))}getAll(){return Dt(this,Nr)}find(e){const t=Vt({exact:!0},e);return Dt(this,Nr).find((e=>matchMutation(t,e)))}findAll(e={}){return Dt(this,Nr).filter((t=>matchMutation(e,t)))}notify(e){notifyManager.batch((()=>{this.listeners.forEach((t=>{t(e)}))}))}resumePausedMutations(){var e;return Jt(this,ei,(null!=(e=Dt(this,ei))?e:Promise.resolve()).then((()=>{const e=Dt(this,Nr).filter((e=>e.state.isPaused));return notifyManager.batch((()=>e.reduce(((e,t)=>e.then((()=>t.continue().catch(noop$1)))),Promise.resolve())))})).then((()=>{Jt(this,ei,void 0)}))),Dt(this,ei)}},Nr=new WeakMap,Ri=new WeakMap,ei=new WeakMap,xn);function infiniteQueryBehavior(e){return{onFetch:(t,r)=>{const i=()=>Yt(this,null,(function*(){var r,i,n,s,o,a;const l=t.options,h=null==(n=null==(i=null==(r=t.fetchOptions)?void 0:r.meta)?void 0:i.fetchMore)?void 0:n.direction,c=(null==(s=t.state.data)?void 0:s.pages)||[],u=(null==(o=t.state.data)?void 0:o.pageParams)||[],d={pages:[],pageParams:[]};let p=!1;const f=t.options.queryFn||(()=>Promise.reject(new Error(`Missing queryFn: '${t.options.queryHash}'`))),_=(e,r,i)=>Yt(this,null,(function*(){if(p)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const n={queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};(e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(t.signal.aborted?p=!0:t.signal.addEventListener("abort",(()=>{p=!0})),t.signal)})})(n);const s=yield f(n),{maxPages:o}=t.options,a=i?addToStart:addToEnd;return{pages:a(e.pages,s,o),pageParams:a(e.pageParams,r,o)}}));let m;if(h&&c.length){const e="backward"===h,t={pages:c,pageParams:u},r=(e?getPreviousPageParam:getNextPageParam)(l,t);m=yield _(t,r,e)}else{m=yield _(d,null!=(a=u[0])?a:l.initialPageParam);const t=null!=e?e:c.length;for(let e=1;e<t;e++){const e=getNextPageParam(l,m);m=yield _(m,e)}}return m}));t.options.persister?t.fetchFn=()=>{var e,n;return null==(n=(e=t.options).persister)?void 0:n.call(e,i,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},r)}:t.fetchFn=i}}}function getNextPageParam(e,{pages:t,pageParams:r}){const i=t.length-1;return e.getNextPageParam(t[i],t,r[i],r)}function getPreviousPageParam(e,{pages:t,pageParams:r}){var i;return null==(i=e.getPreviousPageParam)?void 0:i.call(e,t[0],t,r[0],r)}var mr,Wr,Yr,pi,mi,qr,gi,vi,Sn,QueryClient$1=(Sn=class{constructor(e={}){tr(this,mr,void 0),tr(this,Wr,void 0),tr(this,Yr,void 0),tr(this,pi,void 0),tr(this,mi,void 0),tr(this,qr,void 0),tr(this,gi,void 0),tr(this,vi,void 0),Jt(this,mr,e.queryCache||new QueryCache$1),Jt(this,Wr,e.mutationCache||new MutationCache$1),Jt(this,Yr,e.defaultOptions||{}),Jt(this,pi,new Map),Jt(this,mi,new Map),Jt(this,qr,0)}mount(){Hi(this,qr)._++,1===Dt(this,qr)&&(Jt(this,gi,focusManager.subscribe((()=>{focusManager.isFocused()&&(this.resumePausedMutations(),Dt(this,mr).onFocus())}))),Jt(this,vi,onlineManager.subscribe((()=>{onlineManager.isOnline()&&(this.resumePausedMutations(),Dt(this,mr).onOnline())}))))}unmount(){var e,t;Hi(this,qr)._--,0===Dt(this,qr)&&(null==(e=Dt(this,gi))||e.call(this),Jt(this,gi,void 0),null==(t=Dt(this,vi))||t.call(this),Jt(this,vi,void 0))}isFetching(e){return Dt(this,mr).findAll(nr(Vt({},e),{fetchStatus:"fetching"})).length}isMutating(e){return Dt(this,Wr).findAll(nr(Vt({},e),{status:"pending"})).length}getQueryData(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=Dt(this,mr).get(r.queryHash))?void 0:t.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);return void 0!==t?Promise.resolve(t):this.fetchQuery(e)}getQueriesData(e){return this.getQueryCache().findAll(e).map((({queryKey:e,state:t})=>[e,t.data]))}setQueryData(e,t,r){const i=this.defaultQueryOptions({queryKey:e}),n=Dt(this,mr).get(i.queryHash),s=functionalUpdate(t,null==n?void 0:n.state.data);if(void 0!==s)return Dt(this,mr).build(this,i).setData(s,nr(Vt({},r),{manual:!0}))}setQueriesData(e,t,r){return notifyManager.batch((()=>this.getQueryCache().findAll(e).map((({queryKey:e})=>[e,this.setQueryData(e,t,r)]))))}getQueryState(e){var t;const r=this.defaultQueryOptions({queryKey:e});return null==(t=Dt(this,mr).get(r.queryHash))?void 0:t.state}removeQueries(e){const t=Dt(this,mr);notifyManager.batch((()=>{t.findAll(e).forEach((e=>{t.remove(e)}))}))}resetQueries(e,t){const r=Dt(this,mr),i=Vt({type:"active"},e);return notifyManager.batch((()=>(r.findAll(e).forEach((e=>{e.reset()})),this.refetchQueries(i,t))))}cancelQueries(e={},t={}){const r=Vt({revert:!0},t),i=notifyManager.batch((()=>Dt(this,mr).findAll(e).map((e=>e.cancel(r)))));return Promise.all(i).then(noop$1).catch(noop$1)}invalidateQueries(e={},t={}){return notifyManager.batch((()=>{var r,i;if(Dt(this,mr).findAll(e).forEach((e=>{e.invalidate()})),"none"===e.refetchType)return Promise.resolve();const n=nr(Vt({},e),{type:null!=(i=null!=(r=e.refetchType)?r:e.type)?i:"active"});return this.refetchQueries(n,t)}))}refetchQueries(e={},t){var r;const i=nr(Vt({},t),{cancelRefetch:null==(r=null==t?void 0:t.cancelRefetch)||r}),n=notifyManager.batch((()=>Dt(this,mr).findAll(e).filter((e=>!e.isDisabled())).map((e=>{let t=e.fetch(void 0,i);return i.throwOnError||(t=t.catch(noop$1)),"paused"===e.state.fetchStatus?Promise.resolve():t}))));return Promise.all(n).then(noop$1)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const r=Dt(this,mr).build(this,t);return r.isStaleByTime(t.staleTime)?r.fetch(t):Promise.resolve(r.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(noop$1).catch(noop$1)}fetchInfiniteQuery(e){return e.behavior=infiniteQueryBehavior(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(noop$1).catch(noop$1)}resumePausedMutations(){return Dt(this,Wr).resumePausedMutations()}getQueryCache(){return Dt(this,mr)}getMutationCache(){return Dt(this,Wr)}getDefaultOptions(){return Dt(this,Yr)}setDefaultOptions(e){Jt(this,Yr,e)}setQueryDefaults(e,t){Dt(this,pi).set(hashKey(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...Dt(this,pi).values()];let r={};return t.forEach((t=>{partialMatchKey(e,t.queryKey)&&(r=Vt(Vt({},r),t.defaultOptions))})),r}setMutationDefaults(e,t){Dt(this,mi).set(hashKey(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...Dt(this,mi).values()];let r={};return t.forEach((t=>{partialMatchKey(e,t.mutationKey)&&(r=Vt(Vt({},r),t.defaultOptions))})),r}defaultQueryOptions(e){if(e._defaulted)return e;const t=nr(Vt(Vt(Vt({},Dt(this,Yr).queries),this.getQueryDefaults(e.queryKey)),e),{_defaulted:!0});return t.queryHash||(t.queryHash=hashQueryKeyByOptions(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),void 0===t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t}defaultMutationOptions(e){return null!=e&&e._defaulted?e:nr(Vt(Vt(Vt({},Dt(this,Yr).mutations),(null==e?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey)),e),{_defaulted:!0})}clear(){Dt(this,mr).clear(),Dt(this,Wr).clear()}},mr=new WeakMap,Wr=new WeakMap,Yr=new WeakMap,pi=new WeakMap,mi=new WeakMap,qr=new WeakMap,gi=new WeakMap,vi=new WeakMap,Sn),Ar,cr,Oi,Sr,ti,_i,Ur,Ni,yi,Ti,ri,ii,Kr,bi,ni,wi,Mi,rn,Li,nn,Fi,sn,ki,an,$i,on,Di,ln,Bi,hn,qi,wn,An,QueryObserver=(An=class extends Subscribable{constructor(e,t){super(),tr(this,ni),tr(this,Mi),tr(this,Li),tr(this,Fi),tr(this,ki),tr(this,$i),tr(this,Di),tr(this,Bi),tr(this,qi),tr(this,Ar,void 0),tr(this,cr,void 0),tr(this,Oi,void 0),tr(this,Sr,void 0),tr(this,ti,void 0),tr(this,_i,void 0),tr(this,Ur,void 0),tr(this,Ni,void 0),tr(this,yi,void 0),tr(this,Ti,void 0),tr(this,ri,void 0),tr(this,ii,void 0),tr(this,Kr,void 0),tr(this,bi,new Set),this.options=t,Jt(this,Ar,e),Jt(this,Ur,null),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(Dt(this,cr).addObserver(this),shouldFetchOnMount(Dt(this,cr),this.options)?or(this,ni,wi).call(this):this.updateResult(),or(this,ki,an).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return shouldFetchOn(Dt(this,cr),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return shouldFetchOn(Dt(this,cr),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,or(this,$i,on).call(this),or(this,Di,ln).call(this),Dt(this,cr).removeObserver(this)}setOptions(e,t){const r=this.options,i=Dt(this,cr);if(this.options=Dt(this,Ar).defaultQueryOptions(e),shallowEqualObjects(this.options,r)||Dt(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:Dt(this,cr),observer:this}),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled)throw new Error("Expected enabled to be a boolean");or(this,Bi,hn).call(this);const n=this.hasListeners();n&&shouldFetchOptionally(Dt(this,cr),i,this.options,r)&&or(this,ni,wi).call(this),this.updateResult(t),n&&(Dt(this,cr)!==i||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&or(this,Mi,rn).call(this);const s=or(this,Li,nn).call(this);n&&(Dt(this,cr)!==i||this.options.enabled!==r.enabled||s!==Dt(this,Kr))&&or(this,Fi,sn).call(this,s)}getOptimisticResult(e){const t=Dt(this,Ar).getQueryCache().build(Dt(this,Ar),e),r=this.createResult(t,e);return shouldAssignObserverCurrentProperties(this,r)&&(Jt(this,Sr,r),Jt(this,_i,this.options),Jt(this,ti,Dt(this,cr).state)),r}getCurrentResult(){return Dt(this,Sr)}trackResult(e){const t={};return Object.keys(e).forEach((r=>{Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:()=>(Dt(this,bi).add(r),e[r])})})),t}getCurrentQuery(){return Dt(this,cr)}refetch(e={}){var t=Vr(e,[]);return this.fetch(Vt({},t))}fetchOptimistic(e){const t=Dt(this,Ar).defaultQueryOptions(e),r=Dt(this,Ar).getQueryCache().build(Dt(this,Ar),t);return r.isFetchingOptimistic=!0,r.fetch().then((()=>this.createResult(r,t)))}fetch(e){var t;return or(this,ni,wi).call(this,nr(Vt({},e),{cancelRefetch:null==(t=e.cancelRefetch)||t})).then((()=>(this.updateResult(),Dt(this,Sr))))}createResult(e,t){var r;const i=Dt(this,cr),n=this.options,s=Dt(this,Sr),o=Dt(this,ti),a=Dt(this,_i),l=e!==i?e.state:Dt(this,Oi),{state:h}=e;let c,{error:u,errorUpdatedAt:d,fetchStatus:p,status:f}=h,_=!1;if(t._optimisticResults){const r=this.hasListeners(),s=!r&&shouldFetchOnMount(e,t),o=r&&shouldFetchOptionally(e,i,t,n);(s||o)&&(p=canFetch(e.options.networkMode)?"fetching":"paused",h.dataUpdatedAt||(f="pending")),"isRestoring"===t._optimisticResults&&(p="idle")}if(t.select&&void 0!==h.data)if(s&&h.data===(null==o?void 0:o.data)&&t.select===Dt(this,Ni))c=Dt(this,yi);else try{Jt(this,Ni,t.select),c=t.select(h.data),c=replaceData(null==s?void 0:s.data,c,t),Jt(this,yi,c),Jt(this,Ur,null)}catch(e){Jt(this,Ur,e)}else c=h.data;if(void 0!==t.placeholderData&&void 0===c&&"pending"===f){let i;if(null!=s&&s.isPlaceholderData&&t.placeholderData===(null==a?void 0:a.placeholderData))i=s.data;else if(i="function"==typeof t.placeholderData?t.placeholderData(null==(r=Dt(this,Ti))?void 0:r.state.data,Dt(this,Ti)):t.placeholderData,t.select&&void 0!==i)try{i=t.select(i),Jt(this,Ur,null)}catch(e){Jt(this,Ur,e)}void 0!==i&&(f="success",c=replaceData(null==s?void 0:s.data,i,t),_=!0)}Dt(this,Ur)&&(u=Dt(this,Ur),c=Dt(this,yi),d=Date.now(),f="error");const m="fetching"===p,g="pending"===f,y="error"===f,v=g&&m;return{status:f,fetchStatus:p,isPending:g,isSuccess:"success"===f,isError:y,isInitialLoading:v,isLoading:v,data:c,dataUpdatedAt:h.dataUpdatedAt,error:u,errorUpdatedAt:d,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>l.dataUpdateCount||h.errorUpdateCount>l.errorUpdateCount,isFetching:m,isRefetching:m&&!g,isLoadingError:y&&0===h.dataUpdatedAt,isPaused:"paused"===p,isPlaceholderData:_,isRefetchError:y&&0!==h.dataUpdatedAt,isStale:isStale(e,t),refetch:this.refetch}}updateResult(e){const t=Dt(this,Sr),r=this.createResult(Dt(this,cr),this.options);if(Jt(this,ti,Dt(this,cr).state),Jt(this,_i,this.options),void 0!==Dt(this,ti).data&&Jt(this,Ti,Dt(this,cr)),shallowEqualObjects(r,t))return;Jt(this,Sr,r);const i={};!1!==(null==e?void 0:e.listeners)&&(()=>{if(!t)return!0;const{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!Dt(this,bi).size)return!0;const i=new Set(null!=r?r:Dt(this,bi));return this.options.throwOnError&&i.add("error"),Object.keys(Dt(this,Sr)).some((e=>{const r=e;return Dt(this,Sr)[r]!==t[r]&&i.has(r)}))})()&&(i.listeners=!0),or(this,qi,wn).call(this,Vt(Vt({},i),e))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&or(this,ki,an).call(this)}},Ar=new WeakMap,cr=new WeakMap,Oi=new WeakMap,Sr=new WeakMap,ti=new WeakMap,_i=new WeakMap,Ur=new WeakMap,Ni=new WeakMap,yi=new WeakMap,Ti=new WeakMap,ri=new WeakMap,ii=new WeakMap,Kr=new WeakMap,bi=new WeakMap,ni=new WeakSet,wi=function(e){or(this,Bi,hn).call(this);let t=Dt(this,cr).fetch(this.options,e);return null!=e&&e.throwOnError||(t=t.catch(noop$1)),t},Mi=new WeakSet,rn=function(){if(or(this,$i,on).call(this),isServer||Dt(this,Sr).isStale||!isValidTimeout(this.options.staleTime))return;const e=timeUntilStale(Dt(this,Sr).dataUpdatedAt,this.options.staleTime)+1;Jt(this,ri,setTimeout((()=>{Dt(this,Sr).isStale||this.updateResult()}),e))},Li=new WeakSet,nn=function(){var e;return null!=(e="function"==typeof this.options.refetchInterval?this.options.refetchInterval(Dt(this,cr)):this.options.refetchInterval)&&e},Fi=new WeakSet,sn=function(e){or(this,Di,ln).call(this),Jt(this,Kr,e),!isServer&&!1!==this.options.enabled&&isValidTimeout(Dt(this,Kr))&&0!==Dt(this,Kr)&&Jt(this,ii,setInterval((()=>{(this.options.refetchIntervalInBackground||focusManager.isFocused())&&or(this,ni,wi).call(this)}),Dt(this,Kr)))},ki=new WeakSet,an=function(){or(this,Mi,rn).call(this),or(this,Fi,sn).call(this,or(this,Li,nn).call(this))},$i=new WeakSet,on=function(){Dt(this,ri)&&(clearTimeout(Dt(this,ri)),Jt(this,ri,void 0))},Di=new WeakSet,ln=function(){Dt(this,ii)&&(clearInterval(Dt(this,ii)),Jt(this,ii,void 0))},Bi=new WeakSet,hn=function(){const e=Dt(this,Ar).getQueryCache().build(Dt(this,Ar),this.options);if(e===Dt(this,cr))return;const t=Dt(this,cr);Jt(this,cr,e),Jt(this,Oi,e.state),this.hasListeners()&&(null==t||t.removeObserver(this),e.addObserver(this))},qi=new WeakSet,wn=function(e){notifyManager.batch((()=>{e.listeners&&this.listeners.forEach((e=>{e(Dt(this,Sr))})),Dt(this,Ar).getQueryCache().notify({query:Dt(this,cr),type:"observerResultsUpdated"})}))},An);function shouldLoadOnMount(e,t){return!(!1===t.enabled||e.state.dataUpdatedAt||"error"===e.state.status&&!1===t.retryOnMount)}function shouldFetchOnMount(e,t){return shouldLoadOnMount(e,t)||e.state.dataUpdatedAt>0&&shouldFetchOn(e,t,t.refetchOnMount)}function shouldFetchOn(e,t,r){if(!1!==t.enabled){const i="function"==typeof r?r(e):r;return"always"===i||!1!==i&&isStale(e,t)}return!1}function shouldFetchOptionally(e,t,r,i){return!1!==r.enabled&&(e!==t||!1===i.enabled)&&(!r.suspense||"error"!==e.state.status)&&isStale(e,r)}function isStale(e,t){return e.isStaleByTime(t.staleTime)}function shouldAssignObserverCurrentProperties(e,t){return!shallowEqualObjects(e.getCurrentResult(),t)}var VUE_QUERY_CLIENT="VUE_QUERY_CLIENT";function getClientKey(e){return`${VUE_QUERY_CLIENT}${e?`:${e}`:""}`}function updateState(e,t){Object.keys(e).forEach((r=>{e[r]=t[r]}))}function cloneDeep(e,t){if(t){const r=t(e);if(void 0===r&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(e)||void 0!==r)return r}if(Array.isArray(e))return e.map((e=>cloneDeep(e,t)));if("object"==typeof e&&isPlainObject$1(e)){const r=Object.entries(e).map((([e,r])=>[e,cloneDeep(r,t)]));return Object.fromEntries(r)}return e}function cloneDeepUnref(e){return cloneDeep(e,(e=>{if(Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(e))return cloneDeepUnref(Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(e))}))}function isPlainObject$1(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function shouldThrowError(e,t){return"function"==typeof e?e(...t):!!e}function useQueryClient(e=""){if(!Object(vue__WEBPACK_IMPORTED_MODULE_0__.hasInjectionContext)())throw new Error("vue-query hooks can only be used inside setup() function or functions that support injection context.");const t=getClientKey(e),r=Object(vue__WEBPACK_IMPORTED_MODULE_0__.inject)(t);if(!r)throw new Error("No 'queryClient' found in Vue context, use 'VueQueryPlugin' to properly initialize the library.");return r}var QueryCache=class extends QueryCache$1{find(e){return super.find(cloneDeepUnref(e))}findAll(e={}){return super.findAll(cloneDeepUnref(e))}},MutationCache=class extends MutationCache$1{find(e){return super.find(cloneDeepUnref(e))}findAll(e={}){return super.findAll(cloneDeepUnref(e))}},QueryClient=class e extends QueryClient$1{constructor(e={}){super({defaultOptions:e.defaultOptions,queryCache:e.queryCache||new QueryCache,mutationCache:e.mutationCache||new MutationCache}),this.isRestoring=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(!1)}isFetching(e={}){return super.isFetching(cloneDeepUnref(e))}isMutating(e={}){return super.isMutating(cloneDeepUnref(e))}getQueryData(e){return super.getQueryData(cloneDeepUnref(e))}ensureQueryData(e){return super.ensureQueryData(cloneDeepUnref(e))}getQueriesData(e){return super.getQueriesData(cloneDeepUnref(e))}setQueryData(e,t,r={}){return super.setQueryData(cloneDeepUnref(e),t,cloneDeepUnref(r))}setQueriesData(e,t,r={}){return super.setQueriesData(cloneDeepUnref(e),t,cloneDeepUnref(r))}getQueryState(e){return super.getQueryState(cloneDeepUnref(e))}removeQueries(e={}){return super.removeQueries(cloneDeepUnref(e))}resetQueries(e={},t={}){return super.resetQueries(cloneDeepUnref(e),cloneDeepUnref(t))}cancelQueries(e={},t={}){return super.cancelQueries(cloneDeepUnref(e),cloneDeepUnref(t))}invalidateQueries(t={},r={}){return new Promise((i=>{setTimeout((()=>Yt(this,null,(function*(){yield mn(e.prototype,this,"invalidateQueries").call(this,cloneDeepUnref(t),cloneDeepUnref(r)),i()}))),0)}))}refetchQueries(e={},t={}){return super.refetchQueries(cloneDeepUnref(e),cloneDeepUnref(t))}fetchQuery(e){return super.fetchQuery(cloneDeepUnref(e))}prefetchQuery(e){return super.prefetchQuery(cloneDeepUnref(e))}fetchInfiniteQuery(e){return super.fetchInfiniteQuery(cloneDeepUnref(e))}prefetchInfiniteQuery(e){return super.prefetchInfiniteQuery(cloneDeepUnref(e))}setDefaultOptions(e){super.setDefaultOptions(cloneDeepUnref(e))}setQueryDefaults(e,t){super.setQueryDefaults(cloneDeepUnref(e),cloneDeepUnref(t))}getQueryDefaults(e){return super.getQueryDefaults(cloneDeepUnref(e))}setMutationDefaults(e,t){super.setMutationDefaults(cloneDeepUnref(e),cloneDeepUnref(t))}getMutationDefaults(e){return super.getMutationDefaults(cloneDeepUnref(e))}};function getDevtoolsGlobalHook(){return getTarget().__VUE_DEVTOOLS_GLOBAL_HOOK__}function getTarget(){return"undefined"!=typeof navigator&&"undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:{}}const isProxyAvailable="function"==typeof Proxy,HOOK_SETUP="devtools-plugin:setup",HOOK_PLUGIN_SETTINGS_SET="plugin:settings:set";let supported,perf;function isPerformanceSupported(){var e;return void 0!==supported||("undefined"!=typeof window&&window.performance?(supported=!0,perf=window.performance):"undefined"!=typeof globalThis&&null!==(e=globalThis.perf_hooks)&&void 0!==e&&e.performance?(supported=!0,perf=globalThis.perf_hooks.performance):supported=!1),supported}function now(){return isPerformanceSupported()?perf.now():Date.now()}class ApiProxy{constructor(e,t){this.target=null,this.targetQueue=[],this.onQueue=[],this.plugin=e,this.hook=t;const r={};if(e.settings)for(const t in e.settings){const i=e.settings[t];r[t]=i.defaultValue}const i=`__vue-devtools-plugin-settings__${e.id}`;let n=Object.assign({},r);try{const e=localStorage.getItem(i),t=JSON.parse(e);Object.assign(n,t)}catch(e){}this.fallbacks={getSettings:()=>n,setSettings(e){try{localStorage.setItem(i,JSON.stringify(e))}catch(e){}n=e},now:()=>now()},t&&t.on(HOOK_PLUGIN_SETTINGS_SET,((e,t)=>{e===this.plugin.id&&this.fallbacks.setSettings(t)})),this.proxiedOn=new Proxy({},{get:(e,t)=>this.target?this.target.on[t]:(...e)=>{this.onQueue.push({method:t,args:e})}}),this.proxiedTarget=new Proxy({},{get:(e,t)=>this.target?this.target[t]:"on"===t?this.proxiedOn:Object.keys(this.fallbacks).includes(t)?(...e)=>(this.targetQueue.push({method:t,args:e,resolve:()=>{}}),this.fallbacks[t](...e)):(...e)=>new Promise((r=>{this.targetQueue.push({method:t,args:e,resolve:r})}))})}setRealTarget(e){return Yt(this,null,(function*(){this.target=e;for(const e of this.onQueue)this.target.on[e.method](...e.args);for(const e of this.targetQueue)e.resolve(yield this.target[e.method](...e.args))}))}}function setupDevtoolsPlugin(e,t){const r=e,i=getTarget(),n=getDevtoolsGlobalHook(),s=isProxyAvailable&&r.enableEarlyProxy;if(!n||!i.__VUE_DEVTOOLS_PLUGIN_API_AVAILABLE__&&s){const e=s?new ApiProxy(r,n):null;(i.__VUE_DEVTOOLS_PLUGINS__=i.__VUE_DEVTOOLS_PLUGINS__||[]).push({pluginDescriptor:r,setupFn:t,proxy:e}),e&&t(e.proxiedTarget)}else n.emit(HOOK_SETUP,e,t)}const characterMap={"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AE","":"A","":"A","":"A","":"C","":"C","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"I","":"I","":"I","":"I","":"I","":"I","":"D","":"N","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"U","":"U","":"U","":"U","":"Y","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"ae","":"a","":"a","":"a","":"c","":"c","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"i","":"i","":"i","":"i","":"i","":"i","":"d","":"n","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"u","":"u","":"u","":"u","":"y","":"y","":"A","":"a","":"A","":"a","":"A","":"a","":"C","":"c","":"C","":"c","":"C","":"c","":"C","":"c","C":"C","c":"c","":"D","":"d","":"D","":"d","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"E","":"e","":"G","":"G","":"g","":"g","":"G","":"g","":"G","":"g","":"G","":"g","":"H","":"h","":"H","":"h","":"H","":"h","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"I","":"i","":"IJ","":"ij","":"J","":"j","":"K","":"k","":"K","":"k","K":"K","k":"k","":"L","":"l","":"L","":"l","":"L","":"l","":"L","":"l","":"l","":"l","":"M","":"m","M":"M","m":"m","":"N","":"n","":"N","":"n","":"N","":"n","":"n","N":"N","n":"n","":"O","":"o","":"O","":"o","":"O","":"o","":"OE","":"oe","P":"P","p":"p","":"R","":"r","":"R","":"r","":"R","":"r","R":"R","r":"r","":"R","":"r","":"S","":"s","":"S","":"s","":"S","":"S","":"s","":"s","":"S","":"s","":"T","":"t","":"t","":"T","":"T","":"t","":"T","":"t","T":"T","t":"t","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","V":"V","v":"v","":"W","":"w","":"W","":"w","X":"X","x":"x","":"Y","":"y","":"Y","Y":"Y","y":"y","":"Z","":"z","":"Z","":"z","":"Z","":"z","":"s","":"f","":"O","":"o","":"U","":"u","":"A","":"a","":"I","":"i","":"O","":"o","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"U","":"u","":"A","":"a","":"AE","":"ae","":"O","":"o","":"TH","":"th","":"P","":"p","":"S","":"s","X":"X","x":"x","":"","":"","":"","":"","A":"A","a":"a","E":"E","e":"e","I":"I","i":"i","":"N","":"n","":"O","":"o","":"O","":"o","":"U","":"u","":"W","":"w","":"Y","":"y","":"A","":"a","":"E","":"e","":"I","":"i","":"O","":"o","":"R","":"r","":"U","":"u","B":"B","b":"b","":"C","":"c","":"E","":"e","F":"F","f":"f","":"G","":"g","":"H","":"h","J":"J","":"j","":"K","":"k","M":"M","m":"m","P":"P","p":"p","Q":"Q","q":"q","":"R","":"r","":"S","":"s","V":"V","v":"v","W":"W","w":"w","X":"X","x":"x","Y":"Y","y":"y","A":"A","a":"a","B":"B","b":"b","":"D","":"d","":"E","":"e","":"E","":"e","":"H","":"h","I":"I","i":"i","":"I","":"i","M":"M","m":"m","O":"O","o":"o","Q":"Q","q":"q","U":"U","u":"u","X":"X","x":"x","Z":"Z","z":"z"},chars=Object.keys(characterMap).join("|"),allAccents=new RegExp(chars,"g");function removeAccents(e){return e.replace(allAccents,(e=>characterMap[e]))}const rankings={CASE_SENSITIVE_EQUAL:7,EQUAL:6,STARTS_WITH:5,WORD_STARTS_WITH:4,CONTAINS:3,ACRONYM:2,MATCHES:1,NO_MATCH:0};function rankItem(e,t,r){var i;if((r=r||{}).threshold=null!=(i=r.threshold)?i:rankings.MATCHES,!r.accessors){const i=getMatchRanking(e,t,r);return{rankedValue:e,rank:i,accessorIndex:-1,accessorThreshold:r.threshold,passed:i>=r.threshold}}const n=getAllValuesToRank(e,r.accessors),s={rankedValue:e,rank:rankings.NO_MATCH,accessorIndex:-1,accessorThreshold:r.threshold,passed:!1};for(let e=0;e<n.length;e++){const i=n[e];let o=getMatchRanking(i.itemValue,t,r);const{minRanking:a,maxRanking:l,threshold:h=r.threshold}=i.attributes;o<a&&o>=rankings.MATCHES?o=a:o>l&&(o=l),o=Math.min(o,l),o>=h&&o>s.rank&&(s.rank=o,s.passed=!0,s.accessorIndex=e,s.accessorThreshold=h,s.rankedValue=i.itemValue)}return s}function getMatchRanking(e,t,r){return e=prepareValueForComparison(e,r),(t=prepareValueForComparison(t,r)).length>e.length?rankings.NO_MATCH:e===t?rankings.CASE_SENSITIVE_EQUAL:(e=e.toLowerCase())===(t=t.toLowerCase())?rankings.EQUAL:e.startsWith(t)?rankings.STARTS_WITH:e.includes(` ${t}`)?rankings.WORD_STARTS_WITH:e.includes(t)?rankings.CONTAINS:1===t.length?rankings.NO_MATCH:getAcronym(e).includes(t)?rankings.ACRONYM:getClosenessRanking(e,t)}function getAcronym(e){let t="";return e.split(" ").forEach((e=>{e.split("-").forEach((e=>{t+=e.substr(0,1)}))})),t}function getClosenessRanking(e,t){let r=0,i=0;function n(e,t,i){for(let n=i,s=t.length;n<s;n++)if(t[n]===e)return r+=1,n+1;return-1}const s=n(t[0],e,0);if(s<0)return rankings.NO_MATCH;i=s;for(let r=1,s=t.length;r<s;r++)if(i=n(t[r],e,i),!(i>-1))return rankings.NO_MATCH;return function(e){const i=1/e,n=r/t.length;return rankings.MATCHES+n*i}(i-s)}function prepareValueForComparison(e,t){let{keepDiacritics:r}=t;return e=`${e}`,r||(e=removeAccents(e)),e}function getItemValues(e,t){let r=t;"object"==typeof t&&(r=t.accessor);const i=r(e);return null==i?[]:Array.isArray(i)?i:[String(i)]}function getAllValuesToRank(e,t){const r=[];for(let i=0,n=t.length;i<n;i++){const n=t[i],s=getAccessorAttributes(n),o=getItemValues(e,n);for(let e=0,t=o.length;e<t;e++)r.push({itemValue:o[e],attributes:s})}return r}const defaultKeyAttributes={maxRanking:1/0,minRanking:-1/0};function getAccessorAttributes(e){return"function"==typeof e?defaultKeyAttributes:Vt(Vt({},defaultKeyAttributes),e)}function getQueryState(e){return"fetching"===e.state.fetchStatus?0:"paused"===e.state.fetchStatus?4:e.getObserversCount()?e.isStale()?2:1:3}function getQueryStateLabel(e){const t=getQueryState(e);return 0===t?"fetching":4===t?"paused":2===t?"stale":3===t?"inactive":"fresh"}function getQueryStatusFg(e){return 2===getQueryState(e)?0:16777215}function getQueryStatusBg(e){const t=getQueryState(e);return 0===t?27647:4===t?9193963:2===t?16757248:3===t?4148832:33575}var queryHashSort=(e,t)=>e.queryHash.localeCompare(t.queryHash),dateSort=(e,t)=>e.state.dataUpdatedAt<t.state.dataUpdatedAt?1:-1,statusAndDateSort=(e,t)=>getQueryState(e)===getQueryState(t)?dateSort(e,t):getQueryState(e)>getQueryState(t)?1:-1,sortFns={"Status > Last Updated":statusAndDateSort,"Query Hash":queryHashSort,"Last Updated":dateSort},pluginId="vue-query",pluginName="Vue Query";function setupDevtools(e,t){setupDevtoolsPlugin({id:pluginId,label:pluginName,packageName:"vue-query",homepage:"https://tanstack.com/query/latest",logo:"https://raw.githubusercontent.com/TanStack/query/main/packages/vue-query/media/vue-query.svg",app:e,settings:{baseSort:{type:"choice",component:"button-group",label:"Sort Cache Entries",options:[{label:"ASC",value:1},{label:"DESC",value:-1}],defaultValue:1},sortFn:{type:"choice",label:"Sort Function",options:Object.keys(sortFns).map((e=>({label:e,value:e}))),defaultValue:Object.keys(sortFns)[0]},onlineMode:{type:"choice",component:"button-group",label:"Online mode",options:[{label:"Online",value:1},{label:"Offline",value:0}],defaultValue:1}}},(e=>{const r=e.getSettings();onlineManager.setOnline(!!r.onlineMode.valueOf());const i=t.getQueryCache();e.addInspector({id:pluginId,label:pluginName,icon:"api",nodeActions:[{icon:"file_download",tooltip:"Refetch",action:e=>{var t;null==(t=i.get(e))||t.fetch()}},{icon:"alarm",tooltip:"Invalidate",action:e=>{const r=i.get(e);t.invalidateQueries(r)}},{icon:"settings_backup_restore",tooltip:"Reset",action:e=>{var t;null==(t=i.get(e))||t.reset()}},{icon:"delete",tooltip:"Remove",action:e=>{const t=i.get(e);i.remove(t)}},{icon:"hourglass_empty",tooltip:"Force loading",action:e=>{i.get(e).setState({data:void 0,status:"pending"})}},{icon:"error_outline",tooltip:"Force error",action:e=>{i.get(e).setState({data:void 0,status:"error",error:new Error("Unknown error from devtools")})}}]}),e.addTimelineLayer({id:pluginId,label:pluginName,color:16767308}),i.subscribe((t=>{e.sendInspectorTree(pluginId),e.sendInspectorState(pluginId),["added","removed","updated"].includes(t.type)&&e.addTimelineEvent({layerId:pluginId,event:{title:t.type,subtitle:t.query.queryHash,time:e.now(),data:Vt({queryHash:t.query.queryHash},t)}})})),e.on.setPluginSettings((e=>{"onlineMode"===e.key&&onlineManager.setOnline(!!e.newValue)})),e.on.getInspectorTree((t=>{if(t.inspectorId===pluginId){const r=i.getAll(),n=e.getSettings(),s=(t.filter?r.filter((e=>rankItem(e.queryHash,t.filter).passed)):[...r]).sort(((e,t)=>sortFns[n.sortFn](e,t)*n.baseSort)).map((e=>{const t=getQueryStateLabel(e);return{id:e.queryHash,label:e.queryHash,tags:[{label:`${t} [${e.getObserversCount()}]`,textColor:getQueryStatusFg(e),backgroundColor:getQueryStatusBg(e)}]}}));t.rootNodes=s}})),e.on.getInspectorState((e=>{if(e.inspectorId===pluginId){const t=i.get(e.nodeId);if(!t)return;e.state={" Query Details":[{key:"Query key",value:t.queryHash},{key:"Query status",value:getQueryStateLabel(t)},{key:"Observers",value:t.getObserversCount()},{key:"Last Updated",value:new Date(t.state.dataUpdatedAt).toLocaleTimeString()}],"Data Explorer":[{key:"Data",value:t.state.data}],"Query Explorer":[{key:"Query",value:t}]}}}))}))}var VueQueryPlugin={install:(e,t={})=>{const r=getClientKey(t.queryClientKey);let i;if("queryClient"in t&&t.queryClient)i=t.queryClient;else{const e="queryClientConfig"in t?t.queryClientConfig:void 0;i=new QueryClient(e)}isServer||i.mount();let n=()=>{};if(t.clientPersister){i.isRestoring.value=!0;const[e,r]=t.clientPersister(i);n=e,r.then((()=>{var e;i.isRestoring.value=!1,null==(e=t.clientPersisterOnSuccess)||e.call(t,i)}))}const s=()=>{i.unmount(),n()};if(e.onUnmount)e.onUnmount(s);else{const t=e.unmount;e.unmount=function(){s(),t()}}e.provide(r,i)}};function useBaseQuery(e,t,r){const i=r||useQueryClient(),n=Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>{const e=cloneDeepUnref(t);"function"==typeof e.enabled&&(e.enabled=e.enabled());const r=i.defaultQueryOptions(e);return r._optimisticResults=i.isRestoring.value?"isRestoring":"optimistic",r})),s=new e(i,n.value),o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(s.getCurrentResult());let a=()=>{};Object(vue__WEBPACK_IMPORTED_MODULE_0__.watch)(i.isRestoring,(e=>{e||(a(),a=s.subscribe((e=>{updateState(o,e)})))}),{immediate:!0});const l=()=>{s.setOptions(n.value),updateState(o,s.getCurrentResult())};Object(vue__WEBPACK_IMPORTED_MODULE_0__.watch)(n,l),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onScopeDispose)((()=>{a()})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.watch)((()=>o.error),(e=>{if(o.isError&&!o.isFetching&&shouldThrowError(n.value.throwOnError,[e,s.getCurrentQuery()]))throw e}));const h=Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRefs)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.readonly)(o));for(const e in o)"function"==typeof o[e]&&(h[e]=o[e]);return h.suspense=()=>new Promise(((e,t)=>{let r=()=>{};const i=()=>{if(!1!==n.value.enabled){s.setOptions(n.value);const i=s.getOptimisticResult(n.value);i.isStale?(r(),s.fetchOptimistic(n.value).then(e,t)):(r(),e(i))}};i(),r=Object(vue__WEBPACK_IMPORTED_MODULE_0__.watch)(n,i)})),h.refetch=(...e)=>(l(),o.refetch(...e)),h}function useQuery(e,t){return useBaseQuery(QueryObserver,e,t)}const VQ_QueryConfig={retry:!1,refetchInterval:15e3,staleTime:4e3},STATISTICS_QUERY_KEY="statistics",STATISTICS_OVERVIEW_QUERY_KEY="overview",STATISTICS_PLAYERS_QUERY_KEY="players",DETAILED_STATS_QUERY_KEY="detailedStats",calculatePercentage=(e,t)=>{if(null===e||null===t)return{homePercentage:50,awayPercentage:50};const r=e+t;return{homePercentage:0===r?50:e/r*100,awayPercentage:0===r?50:t/r*100}},getTextWithFallback=e=>null!=e?e:"-",roundNumber=(e,t=2)=>{const r=Math.pow(10,t);return String(Math.round(e*r)/r)},transformOverviewStatisticsData=({data:e})=>{const{home:t,away:r}=e,i=t.shots_on_target,n=r.shots_on_target,s=t.possession,o=r.possession,a=t.dangerous_attacks,l=r.dangerous_attacks,h=t.attacks,c=r.attacks;return[{text:Translate("player_stats_shots_on_target"),id:"shotsOnTarget",home:{value:getTextWithFallback(i),percentage:calculatePercentage(i,n).homePercentage},away:{value:getTextWithFallback(n),percentage:calculatePercentage(i,n).awayPercentage}},{text:Translate("attacks"),id:"attacks",home:{value:getTextWithFallback(h),percentage:calculatePercentage(h,c).homePercentage},away:{value:getTextWithFallback(c),percentage:calculatePercentage(h,c).awayPercentage}},{text:Translate("dangerous_attacks"),id:"dangerous_attacks",home:{value:getTextWithFallback(a),percentage:calculatePercentage(a,l).homePercentage},away:{value:getTextWithFallback(l),percentage:calculatePercentage(a,l).awayPercentage}},{text:Translate("possession"),id:"possession",home:{value:s?roundNumber(s,0)+"%":getTextWithFallback(s),percentage:calculatePercentage(s,o).homePercentage},away:{value:o?roundNumber(o,0)+"%":getTextWithFallback(o),percentage:calculatePercentage(s,o).awayPercentage}}]},statTypeToIconMapping={shots_on_target:{key:"shots_on_target",icon:"shotOnTarget",width:"ih-w-[20px]",height:"ih-h-[20px]"},shots_off_target:{key:"shots_off_target",icon:"shotOffTarget",width:"ih-w-[20px]",height:"ih-h-[20px]"},woodwork:{key:"woodwork",icon:"woodwork",width:"ih-w-[20px]",height:"ih-h-[20px]"},corners:{key:"corners",icon:"corner",width:"ih-w-[20px]",height:"ih-h-[20px]"},yellow_cards:{key:"yellow_cards",icon:"yellowCard",width:"ih-w-[20px]",height:"ih-h-[20px]"},red_cards:{key:"red_cards",icon:"redCard",width:"ih-w-[20px]",height:"ih-h-[20px]"},x_goals:{key:"x_goals",icon:"xGoal",width:"ih-w-[20px]",height:"ih-h-[20px]"}};function sortByAscendingOrder(e,t,r){const i=null!=r?r:e=>e;return e.sort(((e,r)=>{const n=i(e),s=i(r),o=t.indexOf(n),a=t.indexOf(s);return(-1!==o?o:Number.MAX_VALUE)-(-1!==a?a:Number.MAX_VALUE)}))}const transformMatchStats=(e,t)=>{let r=[];for(const[i,n]of Object.entries(e)){if("cards"===i)for(const[e,i]of Object.entries(n)){const{icon:n,width:s,height:o}=t[e];r.push({key:e,icon:n,width:s,height:o,home:i.home,away:i.away,tooltip:i.tooltip})}if("cards"!==i){const{icon:e,width:s,height:o}=t[i];"object"==typeof n&&null!==n&&"home"in n&&"away"in n&&r.push({key:i,icon:e,width:s,height:o,home:n.home,away:n.away,tooltip:n.tooltip})}}return sortByAscendingOrder(r,["red_cards","yellow_cards","corners","shots_on_target","shots_off_target","woodwork","x_goals"],(e=>e.key)),r},getIncidentText=(e,t,r=2)=>null===e?String(getTextWithFallback(e)):`${getTextWithFallback(roundNumber(e,r))} ${t?"%":""}`,transformGroupedStats=e=>{const t={performance:{rows:[{id:"possession",text:"possession",isPercentage:!0,percentageDecimals:0},{id:"passing_accuracy",text:"stats_passing_accuracy",isPercentage:!0},{id:"passes_attempted",text:"stats_passes_attempted"},{id:"passes_completed",text:"stats_passes_completed"},{id:"acc_long_balls",text:"stats_long_balls"},{id:"acc_crosses",text:"stats_crosses"}],title:Translate("performance")},attack:{rows:[{id:"goals",text:"goals"},{id:"total_shots",text:"stats_total_shots"},{id:"shots_on_target",text:"player_stats_shots_on_target"},{id:"shots_off_target",text:"stats_shots_off_target"},{id:"shots_blocked",text:"stats_shots_blocked"},{id:"corners",text:"stats_corners"},{id:"offsides",text:"stats_offsides"},{id:"big_chances",text:"stats_big_chances"},{id:"big_chances_missed",text:"stats_big_chances_missed"},{id:"woodwork",text:"stats_tooltip_woodworks"},{id:"shots_inside_box",text:"stats_shots_inside_box"},{id:"shots_outside_box",text:"stats_shots_outside_box"},{id:"dribbles",text:"stats_dribbles"},{id:"x_goals_live",text:"stats_x_goals_live"}],title:Translate("attacking")},defence:{rows:[{id:"fouls",text:"player_stats_fouls"},{id:"yellow_cards",text:"stats_yellow_cards"},{id:"red_cards",text:"stats_red_cards"},{id:"goalkeeper_saves",text:"stats_goalkeeper_saves"},{id:"tackles",text:"stats_tackles"},{id:"interceptions",text:"stats_interceptions"},{id:"aerials_won",text:"stats_aerials_won"},{id:"duels_won",text:"stats_duels_won"},{id:"possession_lost",text:"stats_possession_lost"}],title:Translate("defending")}};return Object.keys(t).reduce(((r,i)=>{const n=t[i].rows.map((({id:t,isPercentage:r,text:i,percentageDecimals:n})=>{const s=e.home.total[t],o=e.away.total[t],a=calculatePercentage(s,o);return{text:Translate(i),home:{value:getIncidentText(s,r,n),percentage:a.homePercentage},away:{value:getIncidentText(o,r,n),percentage:a.awayPercentage},id:t}}));return r.push({title:t[i].title,rows:n}),r}),[])},transformBaseStats=({homeTotal:e,awayTotal:t})=>({woodwork:{home:getTextWithFallback(e.woodwork),away:getTextWithFallback(t.woodwork),tooltip:Translate("stats_tooltip_woodworks")},x_goals:{home:null===e.x_goals_live?getTextWithFallback(e.x_goals_live):roundNumber(e.x_goals_live),away:null===t.x_goals_live?getTextWithFallback(t.x_goals_live):roundNumber(t.x_goals_live),tooltip:Translate("x_goals")},corners:{home:getTextWithFallback(e.corners),away:getTextWithFallback(t.corners),tooltip:Translate("corners")},cards:{yellow_cards:{home:getTextWithFallback(e.yellow_cards),away:getTextWithFallback(t.yellow_cards),tooltip:Translate("stats_yellow_cards")},red_cards:{home:getTextWithFallback(e.red_cards),away:getTextWithFallback(t.red_cards),tooltip:Translate("stats_red_cards")}},shots_on_target:{home:getTextWithFallback(e.shots_on_target),away:getTextWithFallback(t.shots_on_target),tooltip:Translate("player_stats_shots_on_target")},shots_off_target:{home:getTextWithFallback(e.shots_off_target),away:getTextWithFallback(t.shots_off_target),tooltip:Translate("stats_shots_off_target")}}),transformDetailedStats=({data:e})=>{const{home:t,away:r}=e;return{baseStats:transformMatchStats(transformBaseStats({homeTotal:t.total,awayTotal:r.total}),statTypeToIconMapping),groupedStats:transformGroupedStats(e)}},replaceNullWithDash=e=>null===e?"-":e,getUnmapedPlayerStructure=(e,t)=>Object.keys(e).reduce(((r,i)=>{const n=i;return t.includes(n)?(r[n]=e[n],r):(r[n]="-",r)}),{}),transformPlayerData=(e,t)=>null===e.player_id?nr(Vt({},getUnmapedPlayerStructure(e,["player_name","player_id"])),{teamColor:t}):nr(Vt({},Object.keys(e).reduce(((t,r)=>{const i=r,n=e[i];return null===n||isNaN(Number(n))?t[i]=String(replaceNullWithDash(n)):t[i]=String(roundNumber(Number(n))),t}),{})),{teamColor:t}),transformPlayerStatisticsData=e=>{const t=e.data.home,r=e.data.away,i=t.team_color||DEFAULT_JERSEY_COLORS_HEXA.HOME,n=r.team_color||DEFAULT_JERSEY_COLORS_HEXA.AWAY;return[...t.team_players.map((e=>transformPlayerData(e,i))),...r.team_players.map((e=>transformPlayerData(e,n)))]},useGetOverviewData=(e,t)=>useQuery(Vt({queryKey:[STATISTICS_QUERY_KEY,STATISTICS_OVERVIEW_QUERY_KEY,e,t],queryFn:()=>Yt(void 0,null,(function*(){const{data:r}=yield api.statistics.overview.get(e,t);return transformOverviewStatisticsData(r)}))},VQ_QueryConfig)),useGetPlayerStatsData=(e,t)=>useQuery(Vt({queryKey:[STATISTICS_QUERY_KEY,STATISTICS_PLAYERS_QUERY_KEY,e,t],queryFn:()=>Yt(void 0,null,(function*(){const{data:r}=yield api.statistics.playerStats.get(e,t);return transformPlayerStatisticsData(r)}))},VQ_QueryConfig)),usetGetDetailedStatsData=(e,t)=>useQuery(Vt({queryKey:[STATISTICS_QUERY_KEY,DETAILED_STATS_QUERY_KEY,e,t],queryFn:()=>Yt(void 0,null,(function*(){const{data:r}=yield api.statistics.detailed.get(e,t),{baseStats:i,groupedStats:n}=transformDetailedStats(r);return{baseStats:i,groupedStats:n}}))},VQ_QueryConfig)),_sfc_main$c=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Card",props:{backgroundColor:{default:"ih-bg-n-17-black-pearl"},borderColor:{default:"ih-border-n-22-licorice"}},setup:e=>(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",{class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)(["ih-px-5 ih-py-3 ih-border ih-border-solid ih-rounded-4",[e.backgroundColor,e.borderColor]])},[Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots,"default")],2))}),variantClassMap={"20LBold":"ih-text-20 ih-font-bold ih-leading-24","20LBoldItalic":"ih-text-20 ih-font-bold ih-leading-24 ih-italic","20LMedium":"ih-text-20 ih-font-medium ih-leading-24","20LRegular":"ih-text-20 ih-font-regular ih-leading-24","16MBold":"ih-text-16 ih-font-bold ih-leading-20","16MBoldItalic":"ih-text-16 ih-font-bold ih-leading-20 ih-italic","16MMedium":"ih-text-16 ih-font-medium ih-leading-20","16MRegular":"ih-text-16 ih-font-regular ih-leading-20","14SBold":"ih-text-14 ih-font-bold ih-leading-16","14SBoldItalic":"ih-text-14 ih-font-bold ih-leading-16 ih-italic","14SMedium":"ih-text-14 ih-font-medium ih-leading-16","14SRegular":"ih-text-14 ih-font-regular ih-leading-16","12XSBold":"ih-text-12 ih-font-bold ih-leading-16","12XSBoldItalic":"ih-text-12 ih-font-bold ih-leading-16 ih-italic","12XSMedium":"ih-text-12 ih-font-medium ih-leading-16","12XSRegular":"ih-text-12 ih-font-regular ih-leading-16","12XSRegularItalic":"ih-text-12 ih-font-regular ih-leading-16 ih-italic","11XXSBold":"ih-text-11 ih-font-bold ih-leading-12","11XXSBoldItalic":"ih-text-11 ih-font-bold ih-leading-12 ih-italic","11XXSMedium":"ih-text-11 ih-font-medium ih-leading-12","11XXSRegular":"ih-text-11 ih-font-regular ih-leading-12","10XXXSBold":"ih-text-10 ih-font-bold ih-leading-12","10XXXSBoldItalic":"ih-text-10 ih-font-bold ih-leading-12 ih-italic","10XXXSMedium":"ih-text-10 ih-font-medium ih-leading-12","10XXXSRegular":"ih-text-10 ih-font-regular ih-leading-12","9TinyBold":"ih-text-9 ih-font-bold ih-leading-12","9TinyBoldItalic":"ih-text-9 ih-font-bold ih-leading-12 ih-italic","9TinyMedium":"ih-text-9 ih-font-medium ih-leading-12","9TinyRegular":"ih-text-9 ih-font-regular ih-leading-12","9TinyRegularItalic":"ih-text-9 ih-font-regular ih-leading-12 ih-italic","12ButtonBold":"ih-text-12 ih-font-bold ih-leading-12","12ButtonBoldItalic":"ih-text-12 ih-font-bold ih-leading-12 ih-italic","12ButtonRegular":"ih-text-12 ih-font-regular ih-leading-12"},_sfc_main$b=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Typography",props:{variant:{type:String,default:"12XSRegular"},as:{type:String,required:!1}},setup(e){const t=e,r=Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>t.as&&["h1","h2","h3","h4","h5","h6"].includes(t.as.toLowerCase())?t.as.toLowerCase():"span")),i=Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>variantClassMap[t.variant]||""));return(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveDynamicComponent)(r.value),{class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)(i.value)},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots,"default")])),_:3},8,["class"]))}}),_sfc_main$a=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"ErrorCard",props:{headerText:{},bodyText:{}},setup(e){const t=e,r=t.headerText||Translate("data_not_available"),i=t.bodyText||Translate("error_body_text");return(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(_sfc_main$c,{backgroundColor:"ih-bg-n-22-licorice",class:"ih-py-5 ih-text-center ih-text-white-snow ih-border-n-28-cloud-burst"},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$b,{variant:"14SRegular",class:"ih-block"},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(r)),1)])),_:1}),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$b,{variant:"12XSRegular"},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(i)),1)])),_:1})])),_:1}))}}),isAtMostOneHundredOrNonZero=(e,t)=>100===e&&0!==t||0!==e&&100===t||0!==e&&0!==t,_hoisted_1$4={class:"ih-mb-3 last:ih-mb-0"},_hoisted_2$1={class:"ih-flex ih-items-center ih-mb-2 ih-color ih-text-white"},_hoisted_3$1={class:"ih-flex ih-h-2"},barStyles="ih-rounded-2 ih-w-2/4 ih-transition-width ih-duration-1000",incidentBarStyles="ih-rounded-2 ih-w-3 ih-transition-width ih-duration-1000 ih-delay-200",_sfc_main$9=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"IncidentPercentageBar",props:{text:{},home:{},away:{}},setup(e){const t=e,r=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),i=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),n=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),s=()=>{isAtMostOneHundredOrNonZero(t.home.percentage,t.away.percentage)?r.value.style.width="8px":r.value.style.width="0%"};return Object(vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)((()=>{setTimeout((()=>{i.value.style.width=`${t.home.percentage}%`,n.value.style.width=`${t.away.percentage}%`,s()}),600)})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onUpdated)((()=>{i.value.style.width=`${t.home.percentage}%`,n.value.style.width=`${t.away.percentage}%`,s()})),(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",_hoisted_1$4,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",_hoisted_2$1,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$b,{variant:"14SBold",class:"ih-flex-1 ih-text-left"},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.home.value),1)])),_:1}),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$b,{variant:"12XSRegular"},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.text),1)])),_:1}),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$b,{variant:"14SBold",class:"ih-flex-1 ih-text-right"},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.away.value),1)])),_:1})]),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",_hoisted_3$1,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)(["ih-bg-moon-base",barStyles]),ref_key:"homeBar",ref:i},null,512),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)(["ih-bg-transparent",incidentBarStyles]),ref_key:"spacerBar",ref:r},null,512),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)(["ih-bg-moon-base-light",barStyles]),ref_key:"awayBar",ref:n},null,512)])]))}}),_hoisted_1$3={class:"ih-p-4 ih-flex ih-flex-col ih-gap ih-overflow-auto"},_sfc_main$8=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Overview",props:{matchId:{},statistics:{}},setup:e=>(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",_hoisted_1$3,[(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.statistics,(({text:e,away:t,home:r,id:i})=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(_sfc_main$9,{key:i,text:e,home:r,away:t},null,8,["text","home","away"])))),128))]))}),spinner="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20width='49'%20height='48'%20fill='none'%3e%3ccircle%20cx='24.5'%20cy='24'%20r='18'%20stroke='%23fff'%20stroke-opacity='.16'%20stroke-width='4'/%3e%3cmask%20id='a'%20fill='%23fff'%3e%3cpath%20d='M24.5%204a20%2020%200%200%201%2020%2020h-4a16.001%2016.001%200%200%200-16-16V4Z'/%3e%3c/mask%3e%3cpath%20stroke='%23fff'%20stroke-width='8'%20d='M24.5%204a20%2020%200%200%201%2020%2020h-4a16.001%2016.001%200%200%200-16-16V4Z'%20mask='url(%23a)'/%3e%3c/svg%3e",cache={};function filterAttrs(e){return Object.keys(e).reduce(((t,r)=>(!1!==e[r]&&null!==e[r]&&void 0!==e[r]&&(t[r]=e[r]),t)),{})}const InlineSvg={name:"InlineSvg",inheritAttrs:!1,render(){return this.svgElSource?Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("svg",Object.assign({},this.getSvgAttrs(this.svgElSource),filterAttrs(this.$attrs),{innerHTML:this.getSvgContent(this.svgElSource)})):null},props:{src:{type:String,required:!0},title:{type:String},transformSource:{type:Function,default:e=>e},keepDuringLoading:{type:Boolean,default:!0}},emits:["loaded","unloaded","error"],data:()=>({svgElSource:null}),watch:{src(e){this.getSource(e)}},mounted(){this.getSource(this.src)},methods:{getSvgAttrs(e){let t={};const r=e.attributes;if(!r)return t;for(let e=r.length-1;e>=0;e--)t[r[e].name]=r[e].value;return t},getSvgContent(e){return e=e.cloneNode(!0),e=this.transformSource(e),this.title&&setTitle(e,this.title),e.innerHTML},getSource(e){cache[e]||(cache[e]=this.download(e)),this.svgElSource&&cache[e].getIsPending()&&!this.keepDuringLoading&&(this.svgElSource=null,this.$emit("unloaded")),cache[e].then((e=>{this.svgElSource=e,this.$nextTick((()=>{this.$emit("loaded",this.$el)}))})).catch((t=>{this.svgElSource&&(this.svgElSource=null,this.$emit("unloaded")),delete cache[e],this.$emit("error",t)}))},download:e=>makePromiseState(new Promise(((t,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=()=>{if(i.status>=200&&i.status<400)try{let e=(new DOMParser).parseFromString(i.responseText,"text/xml").getElementsByTagName("svg")[0];e?t(e):r(new Error('Loaded file is not valid SVG"'))}catch(e){r(e)}else r(new Error("Error loading SVG"))},i.onerror=r,i.send()})))}};function setTitle(e,t){const r=e.getElementsByTagName("title");if(r.length)r[0].textContent=t;else{const r=document.createElementNS("http://www.w3.org/2000/svg","title");r.textContent=t,e.insertBefore(r,e.firstChild)}}function makePromiseState(e){if(e.getIsPending)return e;let t=!0,r=e.then((e=>(t=!1,e)),(e=>{throw t=!1,e}));return r.getIsPending=function(){return t},r}const _sfc_main$7=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"SpinnerLoader",setup:e=>(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(InlineSvg),{src:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(spinner),class:"ih-animate-spin"},null,8,["src"]))}),_sfc_main$6=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Loader",props:{variant:{}},setup(e){const{variant:t}=e,r=Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>_sfc_main$7));return(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveDynamicComponent)(r.value),{"data-qa":e.variant+"-loader"},null,8,["data-qa"]))}}),_hoisted_1$2={class:"ih-w-full ih-h-full ih-flex ih-justify-center ih-items-center"},_sfc_main$5=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Loading",setup:e=>(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",_hoisted_1$2,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$6,{variant:"spinner"})]))}),_hoisted_1$1={id:"OVERVIEW_TABS",class:"ih-bg-n-13-steel"},_sfc_main$4=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"OverviewDataProvider",props:{matchId:{},lang:{}},setup(e){const t=e,{isLoading:r,isError:i,data:n,isSuccess:s}=useGetOverviewData(t.matchId,t.lang);return Object(vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)((()=>{ChangeLanguage(t.lang)})),(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",_hoisted_1$1,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(r)?(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(_sfc_main$5,{key:0})):Object(vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)("",!0),Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(i)?(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(_sfc_main$a,{key:1})):Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(s)&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(n)?(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(_sfc_main$8),{key:2,matchId:e.matchId,statistics:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(n)},null,8,["matchId","statistics"])):Object(vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)("",!0)]))}});function isObject(e){return"object"==typeof e&&null!==e&&e.constructor&&"Object"===Object.prototype.toString.call(e).slice(8,-1)}function extend(e,t){const r=["__proto__","constructor","prototype"];Object.keys(t).filter((e=>r.indexOf(e)<0)).forEach((r=>{void 0===e[r]?e[r]=t[r]:isObject(t[r])&&isObject(e[r])&&Object.keys(t[r]).length>0?t[r].__swiper__?e[r]=t[r]:extend(e[r],t[r]):e[r]=t[r]}))}function needsNavigation(e={}){return e.navigation&&void 0===e.navigation.nextEl&&void 0===e.navigation.prevEl}function needsPagination(e={}){return e.pagination&&void 0===e.pagination.el}function needsScrollbar(e={}){return e.scrollbar&&void 0===e.scrollbar.el}function uniqueClasses(e=""){const t=e.split(" ").map((e=>e.trim())).filter((e=>!!e)),r=[];return t.forEach((e=>{r.indexOf(e)<0&&r.push(e)})),r.join(" ")}function wrapperClass(e=""){return e?e.includes("swiper-wrapper")?e:`swiper-wrapper ${e}`:"swiper-wrapper"}const paramsList=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopedSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideNextClass","slidePrevClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function getParams(e={},t=!0){const r={on:{}},i={},n={};extend(r,swiper__WEBPACK_IMPORTED_MODULE_1__.c.defaults),extend(r,swiper__WEBPACK_IMPORTED_MODULE_1__.c.extendedDefaults),r._emitClasses=!0,r.init=!1;const s={},o=paramsList.map((e=>e.replace(/_/,""))),a=Object.assign({},e);return Object.keys(a).forEach((a=>{void 0!==e[a]&&(o.indexOf(a)>=0?isObject(e[a])?(r[a]={},n[a]={},extend(r[a],e[a]),extend(n[a],e[a])):(r[a]=e[a],n[a]=e[a]):0===a.search(/on[A-Z]/)&&"function"==typeof e[a]?t?i[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:r.on[`${a[2].toLowerCase()}${a.substr(3)}`]=e[a]:s[a]=e[a])})),["navigation","pagination","scrollbar"].forEach((e=>{!0===r[e]&&(r[e]={}),!1===r[e]&&delete r[e]})),{params:r,passedParams:n,rest:s,events:i}}function mountSwiper({el:e,nextEl:t,prevEl:r,paginationEl:i,scrollbarEl:n,swiper:s},o){needsNavigation(o)&&t&&r&&(s.params.navigation.nextEl=t,s.originalParams.navigation.nextEl=t,s.params.navigation.prevEl=r,s.originalParams.navigation.prevEl=r),needsPagination(o)&&i&&(s.params.pagination.el=i,s.originalParams.pagination.el=i),needsScrollbar(o)&&n&&(s.params.scrollbar.el=n,s.originalParams.scrollbar.el=n),s.init(e)}function getChangedParams(e,t,r,i,n){const s=[];if(!t)return s;const o=e=>{s.indexOf(e)<0&&s.push(e)};if(r&&i){const e=i.map(n),t=r.map(n);e.join("")!==t.join("")&&o("children"),i.length!==r.length&&o("children")}return paramsList.filter((e=>"_"===e[0])).map((e=>e.replace(/_/,""))).forEach((r=>{if(r in e&&r in t)if(isObject(e[r])&&isObject(t[r])){const i=Object.keys(e[r]),n=Object.keys(t[r]);i.length!==n.length?o(r):(i.forEach((i=>{e[r][i]!==t[r][i]&&o(r)})),n.forEach((i=>{e[r][i]!==t[r][i]&&o(r)})))}else e[r]!==t[r]&&o(r)})),s}function getChildren(e,t,r){void 0===e&&(e={});const i=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},s=(e,t)=>{Array.isArray(e)&&e.forEach((e=>{const r="symbol"==typeof e.type;"default"===t&&(t="container-end"),r&&e.children?s(e.children,t):!e.type||"SwiperSlide"!==e.type.name&&"AsyncComponentWrapper"!==e.type.name?n[t]&&n[t].push(e):i.push(e)}))};return Object.keys(e).forEach((t=>{if("function"!=typeof e[t])return;const r=e[t]();s(r,t)})),r.value=t.value,t.value=i,{slides:i,slots:n}}function updateSwiper({swiper:e,slides:t,passedParams:r,changedParams:i,nextEl:n,prevEl:s,scrollbarEl:o,paginationEl:a}){const l=i.filter((e=>"children"!==e&&"direction"!==e&&"wrapperClass"!==e)),{params:h,pagination:c,navigation:u,scrollbar:d,virtual:p,thumbs:f}=e;let _,m,g,y,v,E,T,b;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&h.thumbs&&!h.thumbs.swiper&&(_=!0),i.includes("controller")&&r.controller&&r.controller.control&&h.controller&&!h.controller.control&&(m=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||a)&&(h.pagination||!1===h.pagination)&&c&&!c.el&&(g=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||o)&&(h.scrollbar||!1===h.scrollbar)&&d&&!d.el&&(y=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||s)&&(r.navigation.nextEl||n)&&(h.navigation||!1===h.navigation)&&u&&!u.prevEl&&!u.nextEl&&(v=!0);const S=t=>{e[t]&&(e[t].destroy(),"navigation"===t?(e.isElement&&(e[t].prevEl.remove(),e[t].nextEl.remove()),h[t].prevEl=void 0,h[t].nextEl=void 0,e[t].prevEl=void 0,e[t].nextEl=void 0):(e.isElement&&e[t].el.remove(),h[t].el=void 0,e[t].el=void 0))};i.includes("loop")&&e.isElement&&(h.loop&&!r.loop?E=!0:!h.loop&&r.loop?T=!0:b=!0),l.forEach((e=>{if(isObject(h[e])&&isObject(r[e]))extend(h[e],r[e]),("navigation"===e||"pagination"===e||"scrollbar"===e)&&"enabled"in r[e]&&!r[e].enabled&&S(e);else{const t=r[e];!0!==t&&!1!==t||"navigation"!==e&&"pagination"!==e&&"scrollbar"!==e?h[e]=r[e]:!1===t&&S(e)}})),l.includes("controller")&&!m&&e.controller&&e.controller.control&&h.controller&&h.controller.control&&(e.controller.control=h.controller.control),i.includes("children")&&t&&p&&h.virtual.enabled&&(p.slides=t,p.update(!0)),i.includes("children")&&t&&h.loop&&(b=!0),_&&f.init()&&f.update(!0),m&&(e.controller.control=h.controller.control),g&&(e.isElement&&(!a||"string"==typeof a)&&((a=document.createElement("div")).classList.add("swiper-pagination"),e.el.shadowEl.appendChild(a)),a&&(h.pagination.el=a),c.init(),c.render(),c.update()),y&&(e.isElement&&(!o||"string"==typeof o)&&((o=document.createElement("div")).classList.add("swiper-scrollbar"),e.el.shadowEl.appendChild(o)),o&&(h.scrollbar.el=o),d.init(),d.updateSize(),d.setTranslate()),v&&(e.isElement&&((!n||"string"==typeof n)&&((n=document.createElement("div")).classList.add("swiper-button-next"),e.el.shadowEl.appendChild(n)),(!s||"string"==typeof s)&&((s=document.createElement("div")).classList.add("swiper-button-prev"),e.el.shadowEl.appendChild(s))),n&&(h.navigation.nextEl=n),s&&(h.navigation.prevEl=s),u.init(),u.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(E||b)&&e.loopDestroy(),(T||b)&&e.loopCreate(),e.update()}function renderVirtual(e,t,r){if(!r)return null;const i=e=>{let r=e;return e<0?r=t.length+e:r>=t.length&&(r-=t.length),r},n=e.value.isHorizontal()?{[e.value.rtlTranslate?"right":"left"]:`${r.offset}px`}:{top:`${r.offset}px`},{from:s,to:o}=r,a=e.value.params.loop?-t.length:0,l=e.value.params.loop?2*t.length:t.length,h=[];for(let e=a;e<l;e+=1)e>=s&&e<=o&&h.push(t[i(e)]);return h.map((t=>(t.props||(t.props={}),t.props.style||(t.props.style={}),t.props.swiperRef=e,t.props.style=n,Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)(t.type,Vt({},t.props),t.children))))}const updateOnVirtualData=e=>{!e||e.destroyed||!e.params.virtual||e.params.virtual&&!e.params.virtual.enabled||(e.updateSlides(),e.updateProgress(),e.updateSlidesClasses(),e.parallax&&e.params.parallax&&e.params.parallax.enabled&&e.parallax.setTranslate())},Swiper={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(e,t){let{slots:r,emit:i}=t;const{tag:n,wrapperTag:s}=e,o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)("swiper"),a=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),l=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(!1),h=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(!1),c=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),u=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),d=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),p={value:[]},f={value:[]},_=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),m=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),g=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),y=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),{params:v,passedParams:E}=getParams(e,!1);getChildren(r,p,f),d.value=E,f.value=p.value,v.onAny=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];i(e,...r)},Object.assign(v.on,{_beforeBreakpoint:()=>{getChildren(r,p,f),l.value=!0},_containerClasses(e,t){o.value=t}});const T=Vt({},v);if(delete T.wrapperClass,u.value=new swiper__WEBPACK_IMPORTED_MODULE_1__.c(T),u.value.virtual&&u.value.params.virtual.enabled){u.value.virtual.slides=p.value;const e={cache:!1,slides:p.value,renderExternal:e=>{a.value=e},renderExternalUpdate:!1};extend(u.value.params.virtual,e),extend(u.value.originalParams.virtual,e)}function b(e){return v.virtual?renderVirtual(u,e,a.value):(e.forEach(((e,t)=>{e.props||(e.props={}),e.props.swiperRef=u,e.props.swiperSlideIndex=t})),e)}return Object(vue__WEBPACK_IMPORTED_MODULE_0__.onUpdated)((()=>{!h.value&&u.value&&(u.value.emitSlidesClasses(),h.value=!0);const{passedParams:t}=getParams(e,!1),r=getChangedParams(t,d.value,p.value,f.value,(e=>e.props&&e.props.key));d.value=t,(r.length||l.value)&&u.value&&!u.value.destroyed&&updateSwiper({swiper:u.value,slides:p.value,passedParams:t,changedParams:r,nextEl:_.value,prevEl:m.value,scrollbarEl:y.value,paginationEl:g.value}),l.value=!1})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.provide)("swiper",u),Object(vue__WEBPACK_IMPORTED_MODULE_0__.watch)(a,(()=>{Object(vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)((()=>{updateOnVirtualData(u.value)}))})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)((()=>{c.value&&(mountSwiper({el:c.value,nextEl:_.value,prevEl:m.value,paginationEl:g.value,scrollbarEl:y.value,swiper:u.value},v),i("swiper",u.value))})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onBeforeUnmount)((()=>{u.value&&!u.value.destroyed&&u.value.destroy(!0,!1)})),()=>{const{slides:t,slots:i}=getChildren(r,p,f);return Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)(n,{ref:c,class:uniqueClasses(o.value)},[i["container-start"],Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)(s,{class:wrapperClass(v.wrapperClass)},[i["wrapper-start"],b(t),i["wrapper-end"]]),needsNavigation(e)&&[Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("div",{ref:m,class:"swiper-button-prev"}),Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("div",{ref:_,class:"swiper-button-next"})],needsScrollbar(e)&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("div",{ref:y,class:"swiper-scrollbar"}),needsPagination(e)&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("div",{ref:g,class:"swiper-pagination"}),i["container-end"]])}}},SwiperSlide={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(e,t){let{slots:r}=t,i=!1;const{swiperRef:n}=e,s=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(null),o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)("swiper-slide"),a=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(!1);function l(e,t,r){t===s.value&&(o.value=r)}Object(vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)((()=>{!n||!n.value||(n.value.on("_slideClass",l),i=!0)})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onBeforeUpdate)((()=>{i||!n||!n.value||(n.value.on("_slideClass",l),i=!0)})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onUpdated)((()=>{!s.value||!n||!n.value||(void 0!==e.swiperSlideIndex&&(s.value.swiperSlideIndex=e.swiperSlideIndex),n.value.destroyed&&"swiper-slide"!==o.value&&(o.value="swiper-slide"))})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onBeforeUnmount)((()=>{!n||!n.value||n.value.off("_slideClass",l)}));const h=Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0})));Object(vue__WEBPACK_IMPORTED_MODULE_0__.provide)("swiperSlide",h);const c=()=>{a.value=!0};return()=>Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)(e.tag,{class:uniqueClasses(`${o.value}`),ref:s,"data-swiper-slide-index":void 0===e.virtualIndex&&n&&n.value&&n.value.params.loop?e.swiperSlideIndex:e.virtualIndex,onLoadCapture:c},e.zoom?Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"swiper-zoom-container","data-swiper-zoom":"number"==typeof e.zoom?e.zoom:void 0},[r.default&&r.default(h.value),e.lazy&&!a.value&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"swiper-lazy-preloader"})]):[r.default&&r.default(h.value),e.lazy&&!a.value&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)("div",{class:"swiper-lazy-preloader"})])}},_sfc_main$3=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Swiper",props:{slidesPerView:{default:"auto"},spaceBetween:{default:4},freeMode:{type:Boolean,default:!0}},setup:e=>(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(Swiper),{slidesPerView:e.slidesPerView,spaceBetween:e.spaceBetween,freeMode:e.freeMode},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots,"default")])),_:3},8,["slidesPerView","spaceBetween","freeMode"]))}),STATS="stats",INCIDENTS="incidents",LINEUPS="lineups",PLAYER_STATS="playerStats",STANDINGS="standings",H2H_TAB="h2h",defaultTabs=[{id:STATS,name:"statistics"},{id:LINEUPS,name:"lineups"},{id:PLAYER_STATS,name:"player_stats_tab"},{id:H2H_TAB,name:"h2h"}],StandingsTab={id:STANDINGS,name:"standings"},tabsWithStandings=[...defaultTabs.slice(0,defaultTabs.length-1),StandingsTab,...defaultTabs.slice(defaultTabs.length-1,defaultTabs.length)],FILTER_TYPES={STATIC:"static",LINK:"link",BUTTON:"button"},ALL="all",HOME="home",AWAY="away",FORM="form",SEASON_STATS="season_stats",OPPONENTS="opponents",EVENT_LEAGUE="event_league",HOME_TEAM="home_team",H2H_FILTER="h2h_filter",AWAY_TEAM="away_team",STYLE_VARIANT={DEFAULT_VARIANT:"default",UNDERLINE_VARIANT:"underline",BUTTON_VARIANT:"button"},STATS_ALL="stats_all",ALL_OPPONENT_STATS="all_opponent_stats",ALL_OPPONENT_FORM="all_opponent_form",OPPONENT_STATS="opponent_stats",OPPONENT_FORM="opponent_form",H2H_HOME_STATS="H2H_home_stats",H2H_AWAY_STATS="H2H_away_stats",H2H_PREVIOUS_MEETINGS="H2H_previous_meetings",getTabButtonStyles=()=>({variantClasses:{[STYLE_VARIANT.DEFAULT_VARIANT]:"ih-mr-2 last:ih-mr-0 ih-py-3 ih-px-4 ih-text-center ih-cursor-pointer ih-border-0 ih-text-white-snow ih-bg-n-13-steel ih-text-12 ih-font-regular ih-leading-16",[STYLE_VARIANT.UNDERLINE_VARIANT]:"ih-text-center ih-cursor-pointer ih-border-0 ih-text-white ih-bg-n-13-steel ih-relative ih-text-12 ih-font-regular ih-leading-16",[STYLE_VARIANT.BUTTON_VARIANT]:"ih-mr-3 last:ih-mr-0 ih-text-center ih-cursor-pointer ih-bg-n-13-steel ih-py-1.5 ih-px-3 ih-rounded-3 ih-border ih-border-solid ih-text-n-90-dark-snow ih-border-n-90-dark-snow ih-text-11 ih-font-bold ih-leading-12"},activeClasses:{[STYLE_VARIANT.DEFAULT_VARIANT]:"ih-bg-n-28-cloud-burst ih-rounded-5 ih-cursor-default",[STYLE_VARIANT.UNDERLINE_VARIANT]:"",[STYLE_VARIANT.BUTTON_VARIANT]:"!ih-text-n-17-black-pearl ih-bg-n-90-dark-snow"},toggleableClasses:{[STYLE_VARIANT.DEFAULT_VARIANT]:"",[STYLE_VARIANT.UNDERLINE_VARIANT]:"",[STYLE_VARIANT.BUTTON_VARIANT]:"ih-cursor-default"}}),_sfc_main$2=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"TabButton",props:{id:{},name:{},isActive:{type:Boolean},styleVariant:{},isToggleable:{type:Boolean},typographyVariant:{},activeTextClasses:{}},emits:["click"],setup(e,{emit:t}){const r=e,i=t,n=()=>{i("click",r.id)},{variantClasses:s,activeClasses:o,toggleableClasses:a}=getTabButtonStyles();return(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",{class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(s)[e.styleVariant],e.isActive&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(o)[e.styleVariant],e.isActive&&!e.isToggleable&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(a)[e.styleVariant]]),onClick:n},[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$b,{class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)([e.isActive&&e.activeTextClasses]),variant:e.typographyVariant},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createTextVNode)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.name),1)])),_:1},8,["class","variant"])],2))}}),_hoisted_1={if:"tabs",class:"ih-bg-n-13-steel ih-p-[10px] ih-h-full ih-overflow-hidden"},_hoisted_2={class:"ih-h-full ih-sticky ih-top-0"},_hoisted_3={key:0,class:"ih-text-white ih-overflow-x-hidden scrollable ih-bg-n-13-steel"},_sfc_main$1=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"Tabs",props:{tabs:{},matchId:{},lang:{},theme:{},isTabActive:{type:Function},typographyVariant:{},setActiveTabId:{type:Function},activeTabComponent:{type:[Object,Function,null]}},setup:e=>(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",_hoisted_1,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",_hoisted_2,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$3,{class:"ih-w-full ih-mb-4"},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(!0),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment,null,Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderList)(e.tabs,(({id:t,name:r})=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(SwiperSlide),{class:"!ih-w-auto",key:t},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(_sfc_main$2,{id:t,name:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(Translate)(r),isActive:e.isTabActive(t).value,isToggleable:!1,styleVariant:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(STYLE_VARIANT).DEFAULT_VARIANT,typographyVariant:e.typographyVariant,onClick:e.setActiveTabId},null,8,["id","name","isActive","styleVariant","typographyVariant","onClick"])])),_:2},1024)))),128))])),_:1}),e.activeTabComponent?(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",_hoisted_3,[(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveDynamicComponent)(e.activeTabComponent),{theme:e.theme,matchId:e.matchId,lang:e.lang},null,8,["theme","matchId","lang"]))])):Object(vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)("",!0)])]))}),_export_sfc=(e,t)=>{const r=e.__vccOpts||e;for(const[e,i]of t)r[e]=i;return r},Tabs=_export_sfc(_sfc_main$1,[["__scopeId","data-v-f348ee4f"]]),STANDINGS_QUERY_KEY="standings",LAST_MATCHES_TO_SHOW_COUNT=5,isValidHexColor=e=>null!=e&&"string"==typeof e&&/^#([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/.test(e),formatStandingsResponse=e=>{const t=["#FEF1F4","#FAA05A","#BCA9FF","#6DB9FF","#EE96FF","#A2C774"];let r=0;return e&&nr(Vt({},e),{data:nr(Vt({},e.data),{phases:e.data.phases.map((e=>nr(Vt({},e),{groups:e.groups.map((e=>nr(Vt({},e),{standings:e.standings.map((e=>nr(Vt({},e),{last_matches_results:e.last_matches_results.splice(0,LAST_MATCHES_TO_SHOW_COUNT)})))}))),rank_statuses:e.rank_statuses.map((e=>{const{color_light:i,color_dark:n}=e;let s=i,o=n;return(!isValidHexColor(n)||!isValidHexColor(i))&&(s=t[r],o=t[r],r=(r+1)%t.length),nr(Vt({},e),{color_dark:o,color_light:s})}))})))})})},useStandingsData=(e,t,r={})=>useQuery(Vt(Vt({queryKey:[STATISTICS_QUERY_KEY,STANDINGS_QUERY_KEY,e,t],queryFn:()=>Yt(void 0,null,(function*(){const{data:r}=yield api.standings.get(e,t);return formatStandingsResponse(r)}))},VQ_QueryConfig),r));var isVue2=!1;function set(e,t,r){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,r),r):(e[t]=r,r)}function del(e,t){Array.isArray(e)?e.splice(t,1):delete e[t]}let activePinia;const setActivePinia=e=>activePinia=e,piniaSymbol=Symbol();function isPlainObject(e){return e&&"object"==typeof e&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}var MutationType;!function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"}(MutationType||(MutationType={}));const IS_CLIENT="undefined"!=typeof window,USE_DEVTOOLS=!1,_global="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:"object"==typeof globalThis?globalThis:{HTMLElement:null};function bom(e,{autoBom:t=!1}={}){return t&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}function download(e,t,r){const i=new XMLHttpRequest;i.open("GET",e),i.responseType="blob",i.onload=function(){saveAs(i.response,t,r)},i.onerror=function(){console.error("could not download file")},i.send()}function corsEnabled(e){const t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function click(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){const r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(r)}}const _navigator="object"==typeof navigator?navigator:{userAgent:""},isMacOSWebView=/Macintosh/.test(_navigator.userAgent)&&/AppleWebKit/.test(_navigator.userAgent)&&!/Safari/.test(_navigator.userAgent),saveAs=IS_CLIENT?"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype&&!isMacOSWebView?downloadSaveAs:"msSaveOrOpenBlob"in _navigator?msSaveAs:fileSaverSaveAs:()=>{};function downloadSaveAs(e,t="download",r){const i=document.createElement("a");i.download=t,i.rel="noopener","string"==typeof e?(i.href=e,i.origin!==location.origin?corsEnabled(i.href)?download(e,t,r):(i.target="_blank",click(i)):click(i)):(i.href=URL.createObjectURL(e),setTimeout((function(){URL.revokeObjectURL(i.href)}),4e4),setTimeout((function(){click(i)}),0))}function msSaveAs(e,t="download",r){if("string"==typeof e)if(corsEnabled(e))download(e,t,r);else{const t=document.createElement("a");t.href=e,t.target="_blank",setTimeout((function(){click(t)}))}else navigator.msSaveOrOpenBlob(bom(e,r),t)}function fileSaverSaveAs(e,t,r,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return download(e,t,r);const n="application/octet-stream"===e.type,s=/constructor/i.test(String(_global.HTMLElement))||"safari"in _global,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||n&&s||isMacOSWebView)&&"undefined"!=typeof FileReader){const t=new FileReader;t.onloadend=function(){let e=t.result;if("string"!=typeof e)throw i=null,new Error("Wrong reader.result type");e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location.assign(e),i=null},t.readAsDataURL(e)}else{const t=URL.createObjectURL(e);i?i.location.assign(t):location.href=t,i=null,setTimeout((function(){URL.revokeObjectURL(t)}),4e4)}}function toastMessage(e,t){const r=" "+e;"function"==typeof __VUE_DEVTOOLS_TOAST__?__VUE_DEVTOOLS_TOAST__(r,t):"error"===t?console.error(r):"warn"===t?console.warn(r):console.log(r)}function isPinia(e){return"_a"in e&&"install"in e}function checkClipboardAccess(){if(!("clipboard"in navigator))return toastMessage("Your browser doesn't support the Clipboard API","error"),!0}function checkNotFocusedError(e){return!!(e instanceof Error&&e.message.toLowerCase().includes("document is not focused"))&&(toastMessage('You need to activate the "Emulate a focused page" setting in the "Rendering" panel of devtools.',"warn"),!0)}function actionGlobalCopyState(e){return Yt(this,null,(function*(){if(!checkClipboardAccess())try{yield navigator.clipboard.writeText(JSON.stringify(e.state.value)),toastMessage("Global state copied to clipboard.")}catch(e){if(checkNotFocusedError(e))return;toastMessage("Failed to serialize the state. Check the console for more details.","error"),console.error(e)}}))}function actionGlobalPasteState(e){return Yt(this,null,(function*(){if(!checkClipboardAccess())try{loadStoresState(e,JSON.parse(yield navigator.clipboard.readText())),toastMessage("Global state pasted from clipboard.")}catch(e){if(checkNotFocusedError(e))return;toastMessage("Failed to deserialize the state from clipboard. Check the console for more details.","error"),console.error(e)}}))}function actionGlobalSaveState(e){return Yt(this,null,(function*(){try{saveAs(new Blob([JSON.stringify(e.state.value)],{type:"text/plain;charset=utf-8"}),"pinia-state.json")}catch(e){toastMessage("Failed to export the state as JSON. Check the console for more details.","error"),console.error(e)}}))}let fileInput;function getFileOpener(){return fileInput||(fileInput=document.createElement("input"),fileInput.type="file",fileInput.accept=".json"),function(){return new Promise(((e,t)=>{fileInput.onchange=()=>Yt(this,null,(function*(){const t=fileInput.files;if(!t)return e(null);const r=t.item(0);return e(r?{text:yield r.text(),file:r}:null)})),fileInput.oncancel=()=>e(null),fileInput.onerror=t,fileInput.click()}))}}function actionGlobalOpenStateFile(e){return Yt(this,null,(function*(){try{const t=yield getFileOpener()();if(!t)return;const{text:r,file:i}=t;loadStoresState(e,JSON.parse(r)),toastMessage(`Global state imported from "${i.name}".`)}catch(e){toastMessage("Failed to import the state from JSON. Check the console for more details.","error"),console.error(e)}}))}function loadStoresState(e,t){for(const r in t){const i=e.state.value[r];i?Object.assign(i,t[r]):e.state.value[r]=t[r]}}function formatDisplay(e){return{_custom:{display:e}}}const PINIA_ROOT_LABEL=" Pinia (root)",PINIA_ROOT_ID="_root";function formatStoreForInspectorTree(e){return isPinia(e)?{id:PINIA_ROOT_ID,label:PINIA_ROOT_LABEL}:{id:e.$id,label:e.$id}}function formatStoreForInspectorState(e){if(isPinia(e)){const t=Array.from(e._s.keys()),r=e._s;return{state:t.map((t=>({editable:!0,key:t,value:e.state.value[t]}))),getters:t.filter((e=>r.get(e)._getters)).map((e=>{const t=r.get(e);return{editable:!1,key:e,value:t._getters.reduce(((e,r)=>(e[r]=t[r],e)),{})}}))}}const t={state:Object.keys(e.$state).map((t=>({editable:!0,key:t,value:e.$state[t]})))};return e._getters&&e._getters.length&&(t.getters=e._getters.map((t=>({editable:!1,key:t,value:e[t]})))),e._customProperties.size&&(t.customProperties=Array.from(e._customProperties).map((t=>({editable:!0,key:t,value:e[t]})))),t}function formatEventData(e){return e?Array.isArray(e)?e.reduce(((e,t)=>(e.keys.push(t.key),e.operations.push(t.type),e.oldValue[t.key]=t.oldValue,e.newValue[t.key]=t.newValue,e)),{oldValue:{},keys:[],operations:[],newValue:{}}):{operation:formatDisplay(e.type),key:formatDisplay(e.key),oldValue:e.oldValue,newValue:e.newValue}:{}}function formatMutationType(e){switch(e){case MutationType.direct:return"mutation";case MutationType.patchFunction:case MutationType.patchObject:return"$patch";default:return"unknown"}}let isTimelineActive=!0;const componentStateTypes=[],MUTATIONS_LAYER_ID="pinia:mutations",INSPECTOR_ID="pinia",{assign:assign$1}=Object,getStoreType=e=>" "+e;function registerPiniaDevtools(e,t){setupDevtoolsPlugin({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:componentStateTypes,app:e},(r=>{"function"!=typeof r.now&&toastMessage("You seem to be using an outdated version of Vue Devtools. Are you still using the Beta release instead of the stable one? You can find the links at https://devtools.vuejs.org/guide/installation.html."),r.addTimelineLayer({id:MUTATIONS_LAYER_ID,label:"Pinia ",color:15064968}),r.addInspector({id:INSPECTOR_ID,label:"Pinia ",icon:"storage",treeFilterPlaceholder:"Search stores",actions:[{icon:"content_copy",action:()=>{actionGlobalCopyState(t)},tooltip:"Serialize and copy the state"},{icon:"content_paste",action:()=>Yt(this,null,(function*(){yield actionGlobalPasteState(t),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)})),tooltip:"Replace the state with the content of your clipboard"},{icon:"save",action:()=>{actionGlobalSaveState(t)},tooltip:"Save the state as a JSON file"},{icon:"folder_open",action:()=>Yt(this,null,(function*(){yield actionGlobalOpenStateFile(t),r.sendInspectorTree(INSPECTOR_ID),r.sendInspectorState(INSPECTOR_ID)})),tooltip:"Import the state from a JSON file"}],nodeActions:[{icon:"restore",tooltip:'Reset the state (with "$reset")',action:e=>{const r=t._s.get(e);r?"function"!=typeof r.$reset?toastMessage(`Cannot reset "${e}" store because it doesn't have a "$reset" method implemented.`,"warn"):(r.$reset(),toastMessage(`Store "${e}" reset.`)):toastMessage(`Cannot reset "${e}" store because it wasn't found.`,"warn")}}]}),r.on.inspectComponent(((e,t)=>{const r=e.componentInstance&&e.componentInstance.proxy;if(r&&r._pStores){const t=e.componentInstance.proxy._pStores;Object.values(t).forEach((t=>{e.instanceData.state.push({type:getStoreType(t.$id),key:"state",editable:!0,value:t._isOptionsAPI?{_custom:{value:Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRaw)(t.$state),actions:[{icon:"restore",tooltip:"Reset the state of this store",action:()=>t.$reset()}]}}:Object.keys(t.$state).reduce(((e,r)=>(e[r]=t.$state[r],e)),{})}),t._getters&&t._getters.length&&e.instanceData.state.push({type:getStoreType(t.$id),key:"getters",editable:!1,value:t._getters.reduce(((e,r)=>{try{e[r]=t[r]}catch(t){e[r]=t}return e}),{})})}))}})),r.on.getInspectorTree((r=>{if(r.app===e&&r.inspectorId===INSPECTOR_ID){let e=[t];e=e.concat(Array.from(t._s.values())),r.rootNodes=(r.filter?e.filter((e=>"$id"in e?e.$id.toLowerCase().includes(r.filter.toLowerCase()):PINIA_ROOT_LABEL.toLowerCase().includes(r.filter.toLowerCase()))):e).map(formatStoreForInspectorTree)}})),r.on.getInspectorState((r=>{if(r.app===e&&r.inspectorId===INSPECTOR_ID){const e=r.nodeId===PINIA_ROOT_ID?t:t._s.get(r.nodeId);if(!e)return;e&&(r.state=formatStoreForInspectorState(e))}})),r.on.editInspectorState(((r,i)=>{if(r.app===e&&r.inspectorId===INSPECTOR_ID){const e=r.nodeId===PINIA_ROOT_ID?t:t._s.get(r.nodeId);if(!e)return toastMessage(`store "${r.nodeId}" not found`,"error");const{path:i}=r;isPinia(e)?i.unshift("state"):(1!==i.length||!e._customProperties.has(i[0])||i[0]in e.$state)&&i.unshift("$state"),isTimelineActive=!1,r.set(e,i,r.state.value),isTimelineActive=!0}})),r.on.editComponentState((e=>{if(e.type.startsWith("")){const r=e.type.replace(/^\s*/,""),i=t._s.get(r);if(!i)return toastMessage(`store "${r}" not found`,"error");const{path:n}=e;if("state"!==n[0])return toastMessage(`Invalid path for store "${r}":\n${n}\nOnly state can be modified.`);n[0]="$state",isTimelineActive=!1,e.set(i,n,e.state.value),isTimelineActive=!0}}))}))}function addStoreToDevtools(e,t){componentStateTypes.includes(getStoreType(t.$id))||componentStateTypes.push(getStoreType(t.$id)),setupDevtoolsPlugin({id:"dev.esm.pinia",label:"Pinia ",logo:"https://pinia.vuejs.org/logo.svg",packageName:"pinia",homepage:"https://pinia.vuejs.org",componentStateTypes:componentStateTypes,app:e,settings:{logStoreChanges:{label:"Notify about new/deleted stores",type:"boolean",defaultValue:!0}}},(e=>{const r="function"==typeof e.now?e.now.bind(e):Date.now;t.$onAction((({after:i,onError:n,name:s,args:o})=>{const a=runningActionId++;e.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:r(),title:" "+s,subtitle:"start",data:{store:formatDisplay(t.$id),action:formatDisplay(s),args:o},groupId:a}}),i((i=>{activeAction=void 0,e.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:r(),title:" "+s,subtitle:"end",data:{store:formatDisplay(t.$id),action:formatDisplay(s),args:o,result:i},groupId:a}})})),n((i=>{activeAction=void 0,e.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:r(),logType:"error",title:" "+s,subtitle:"end",data:{store:formatDisplay(t.$id),action:formatDisplay(s),args:o,error:i},groupId:a}})}))}),!0),t._customProperties.forEach((i=>{Object(vue__WEBPACK_IMPORTED_MODULE_0__.watch)((()=>Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(t[i])),((t,n)=>{e.notifyComponentUpdate(),e.sendInspectorState(INSPECTOR_ID),isTimelineActive&&e.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:r(),title:"Change",subtitle:i,data:{newValue:t,oldValue:n},groupId:activeAction}})}),{deep:!0})})),t.$subscribe((({events:i,type:n},s)=>{if(e.notifyComponentUpdate(),e.sendInspectorState(INSPECTOR_ID),!isTimelineActive)return;const o={time:r(),title:formatMutationType(n),data:assign$1({store:formatDisplay(t.$id)},formatEventData(i)),groupId:activeAction};n===MutationType.patchFunction?o.subtitle="":n===MutationType.patchObject?o.subtitle="":i&&!Array.isArray(i)&&(o.subtitle=i.type),i&&(o.data["rawEvent(s)"]={_custom:{display:"DebuggerEvent",type:"object",tooltip:"raw DebuggerEvent[]",value:i}}),e.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:o})}),{detached:!0,flush:"sync"});const i=t._hotUpdate;t._hotUpdate=Object(vue__WEBPACK_IMPORTED_MODULE_0__.markRaw)((n=>{i(n),e.addTimelineEvent({layerId:MUTATIONS_LAYER_ID,event:{time:r(),title:" "+t.$id,subtitle:"HMR update",data:{store:formatDisplay(t.$id),info:formatDisplay("HMR update")}}}),e.notifyComponentUpdate(),e.sendInspectorTree(INSPECTOR_ID),e.sendInspectorState(INSPECTOR_ID)}));const{$dispose:n}=t;t.$dispose=()=>{n(),e.notifyComponentUpdate(),e.sendInspectorTree(INSPECTOR_ID),e.sendInspectorState(INSPECTOR_ID),e.getSettings().logStoreChanges&&toastMessage(`Disposed "${t.$id}" store `)},e.notifyComponentUpdate(),e.sendInspectorTree(INSPECTOR_ID),e.sendInspectorState(INSPECTOR_ID),e.getSettings().logStoreChanges&&toastMessage(`"${t.$id}" store installed `)}))}let runningActionId=0,activeAction;function patchActionForGrouping(e,t,r){const i=t.reduce(((t,r)=>(t[r]=Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRaw)(e)[r],t)),{});for(const t in i)e[t]=function(){const n=runningActionId,s=r?new Proxy(e,{get:(...e)=>(activeAction=n,Reflect.get(...e)),set:(...e)=>(activeAction=n,Reflect.set(...e))}):e;activeAction=n;const o=i[t].apply(s,arguments);return activeAction=void 0,o}}function devtoolsPlugin({app:e,store:t,options:r}){if(t.$id.startsWith("__hot:"))return;t._isOptionsAPI=!!r.state,patchActionForGrouping(t,Object.keys(r.actions),t._isOptionsAPI);const i=t._hotUpdate;Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRaw)(t)._hotUpdate=function(e){i.apply(this,arguments),patchActionForGrouping(t,Object.keys(e._hmrPayload.actions),!!t._isOptionsAPI)},addStoreToDevtools(e,t)}function createPinia(){const e=Object(vue__WEBPACK_IMPORTED_MODULE_0__.effectScope)(!0),t=e.run((()=>Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)({})));let r=[],i=[];const n=Object(vue__WEBPACK_IMPORTED_MODULE_0__.markRaw)({install(e){setActivePinia(n),n._a=e,e.provide(piniaSymbol,n),e.config.globalProperties.$pinia=n,USE_DEVTOOLS&&registerPiniaDevtools(e,n),i.forEach((e=>r.push(e))),i=[]},use(e){return this._a||isVue2?r.push(e):i.push(e),this},_p:r,_a:null,_e:e,_s:new Map,state:t});return USE_DEVTOOLS&&"undefined"!=typeof Proxy&&n.use(devtoolsPlugin),n}function patchObject(e,t){for(const r in t){const i=t[r];if(!(r in e))continue;const n=e[r];isPlainObject(n)&&isPlainObject(i)&&!Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(i)&&!Object(vue__WEBPACK_IMPORTED_MODULE_0__.isReactive)(i)?e[r]=patchObject(n,i):e[r]=i}return e}const noop=()=>{};function addSubscription(e,t,r,i=noop){e.push(t);const n=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),i())};return!r&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.getCurrentScope)()&&Object(vue__WEBPACK_IMPORTED_MODULE_0__.onScopeDispose)(n),n}function triggerSubscriptions(e,...t){e.slice().forEach((e=>{e(...t)}))}const fallbackRunWithContext=e=>e();function mergeReactiveObjects(e,t){e instanceof Map&&t instanceof Map&&t.forEach(((t,r)=>e.set(r,t))),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const r in t){if(!t.hasOwnProperty(r))continue;const i=t[r],n=e[r];isPlainObject(n)&&isPlainObject(i)&&e.hasOwnProperty(r)&&!Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(i)&&!Object(vue__WEBPACK_IMPORTED_MODULE_0__.isReactive)(i)?e[r]=mergeReactiveObjects(n,i):e[r]=i}return e}const skipHydrateSymbol=Symbol();function shouldHydrate(e){return!isPlainObject(e)||!e.hasOwnProperty(skipHydrateSymbol)}const{assign:assign}=Object;function isComputed(e){return!(!Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(e)||!e.effect)}function createOptionsStore(e,t,r,i){const{state:n,actions:s,getters:o}=t,a=r.state.value[e];let l;return l=createSetupStore(e,(function(){!a&&(r.state.value[e]=n?n():{});const t=Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRefs)(r.state.value[e]);return assign(t,s,Object.keys(o||{}).reduce(((t,i)=>(t[i]=Object(vue__WEBPACK_IMPORTED_MODULE_0__.markRaw)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>{setActivePinia(r);const t=r._s.get(e);return o[i].call(t,t)}))),t)),{}))}),t,r,i,!0),l}function createSetupStore(e,t,r={},i,n,s){let o;const a=assign({actions:{}},r);const l={deep:!0};let h,c,u,d=[],p=[];const f=i.state.value[e];!s&&!f&&(i.state.value[e]={});const _=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)({});let m;function g(t){let r;h=c=!1,"function"==typeof t?(t(i.state.value[e]),r={type:MutationType.patchFunction,storeId:e,events:u}):(mergeReactiveObjects(i.state.value[e],t),r={type:MutationType.patchObject,payload:t,storeId:e,events:u});const n=m=Symbol();Object(vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)().then((()=>{m===n&&(h=!0)})),c=!0,triggerSubscriptions(d,r,i.state.value[e])}const y=s?function(){const{state:e}=r,t=e?e():{};this.$patch((e=>{assign(e,t)}))}:noop;function v(t,r){return function(){setActivePinia(i);const n=Array.from(arguments),s=[],o=[];let a;triggerSubscriptions(p,{args:n,name:t,store:b,after:function(e){s.push(e)},onError:function(e){o.push(e)}});try{a=r.apply(this&&this.$id===e?this:b,n)}catch(e){throw triggerSubscriptions(o,e),e}return a instanceof Promise?a.then((e=>(triggerSubscriptions(s,e),e))).catch((e=>(triggerSubscriptions(o,e),Promise.reject(e)))):(triggerSubscriptions(s,a),a)}}const E=Object(vue__WEBPACK_IMPORTED_MODULE_0__.markRaw)({actions:{},getters:{},state:[],hotState:_}),T={_p:i,$id:e,$onAction:addSubscription.bind(null,p),$patch:g,$reset:y,$subscribe(t,r={}){const n=addSubscription(d,t,r.detached,(()=>s())),s=o.run((()=>Object(vue__WEBPACK_IMPORTED_MODULE_0__.watch)((()=>i.state.value[e]),(i=>{("sync"===r.flush?c:h)&&t({storeId:e,type:MutationType.direct,events:u},i)}),assign({},l,r))));return n},$dispose:function(){o.stop(),d=[],p=[],i._s.delete(e)}},b=Object(vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(USE_DEVTOOLS?assign({_hmrPayload:E,_customProperties:Object(vue__WEBPACK_IMPORTED_MODULE_0__.markRaw)(new Set)},T):T);i._s.set(e,b);const S=(i._a&&i._a.runWithContext||fallbackRunWithContext)((()=>i._e.run((()=>(o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.effectScope)()).run(t)))));for(const t in S){const r=S[t];if(Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(r)&&!isComputed(r)||Object(vue__WEBPACK_IMPORTED_MODULE_0__.isReactive)(r))s||(f&&shouldHydrate(r)&&(Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(r)?r.value=f[t]:mergeReactiveObjects(r,f[t])),i.state.value[e][t]=r);else if("function"==typeof r){const e=v(t,r);S[t]=e,a.actions[t]=r}}if(assign(b,S),assign(Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRaw)(b),S),Object.defineProperty(b,"$state",{get:()=>i.state.value[e],set:e=>{g((t=>{assign(t,e)}))}}),USE_DEVTOOLS){const e={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach((t=>{Object.defineProperty(b,t,assign({value:b[t]},e))}))}return i._p.forEach((e=>{if(USE_DEVTOOLS){const t=o.run((()=>e({store:b,app:i._a,pinia:i,options:a})));Object.keys(t||{}).forEach((e=>b._customProperties.add(e))),assign(b,t)}else assign(b,o.run((()=>e({store:b,app:i._a,pinia:i,options:a}))))})),f&&s&&r.hydrate&&r.hydrate(b.$state,f),h=!0,c=!0,b}function defineStore(e,t,r){let i,n;const s="function"==typeof t;function o(e,r){const o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.hasInjectionContext)();(e=e||(o?Object(vue__WEBPACK_IMPORTED_MODULE_0__.inject)(piniaSymbol,null):null))&&setActivePinia(e),(e=activePinia)._s.has(i)||(s?createSetupStore(i,t,n,e):createOptionsStore(i,n,e));return e._s.get(i)}return"string"==typeof e?(i=e,n=s?r:t):(n=e,i=e.id),o.$id=i,o}function storeToRefs(e){{e=Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRaw)(e);const t={};for(const r in e){const i=e[r];(Object(vue__WEBPACK_IMPORTED_MODULE_0__.isRef)(i)||Object(vue__WEBPACK_IMPORTED_MODULE_0__.isReactive)(i))&&(t[r]=Object(vue__WEBPACK_IMPORTED_MODULE_0__.toRef)(e,r))}return t}}const getInitialState=()=>({stats:{static:[STATS_ALL]},standings:{static:[ALL]},h2h:{static:[FORM],link:[H2H_FILTER]}}),useFiltersStore=defineStore("filters",(()=>{const e=Object(vue__WEBPACK_IMPORTED_MODULE_0__.reactive)(getInitialState());return{activeFilterIds:e,setActiveFilterId:({tabId:t,type:r,filterId:i})=>{e[t]||(e[t]={}),e[t][r]=[i]},getActiveFilterIds:(t,r)=>e[t]&&e[t][r]||[],getTabActiveFilters:t=>e[t]||{},removeFilterType:(t,r)=>{e[t]&&e[t][r]&&delete e[t][r]},setActiveFilterIds:({tabId:t,type:r,filterIds:i})=>{e[t]||(e[t]={}),e[t][r]=i},resetFilters:()=>{const t=getInitialState();for(const t in e)delete e[t];Object.assign(e,t)}}})),getTabs=e=>e?tabsWithStandings:defaultTabs,AsyncDetailedStats=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineAsyncComponent)((()=>Promise.all([__webpack_require__.e(7),__webpack_require__.e(90)]).then(__webpack_require__.bind(null,2662)))),AsyncIncidents=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineAsyncComponent)((()=>__webpack_require__.e(148).then(__webpack_require__.bind(null,2663)))),AsyncLineups=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineAsyncComponent)((()=>Promise.all([__webpack_require__.e(7),__webpack_require__.e(99)]).then(__webpack_require__.bind(null,2664)))),AsyncPlayerStats=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineAsyncComponent)((()=>Promise.all([__webpack_require__.e(7),__webpack_require__.e(89)]).then(__webpack_require__.bind(null,2665)))),AsyncStandings=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineAsyncComponent)((()=>Promise.all([__webpack_require__.e(7),__webpack_require__.e(85)]).then(__webpack_require__.bind(null,2666)))),AsyncH2H=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineAsyncComponent)((()=>__webpack_require__.e(94).then(__webpack_require__.bind(null,2667)))),staticStatisticsTabs=Object.freeze({[STATS]:AsyncDetailedStats,[INCIDENTS]:AsyncIncidents,[LINEUPS]:AsyncLineups,[PLAYER_STATS]:AsyncPlayerStats,[STANDINGS]:AsyncStandings,[H2H_TAB]:AsyncH2H}),useTabsStore=defineStore("tabs",(()=>{const e=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(""),t=Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>Object.keys(staticStatisticsTabs).includes(e.value)?staticStatisticsTabs[e.value]:null));return{activeTabId:e,setActiveTabId:t=>{e.value=t},activeTabComponent:t}})),useTabs=()=>{const e=useTabsStore(),{activeTabId:t,activeTabComponent:r}=storeToRefs(e);return{activeTabId:t,setActiveTabId:t=>e.setActiveTabId(t),activeTabComponent:r,isTabActive:e=>Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>e===t.value)),typographyVariant:"12XSRegular"}},useTabsData=(e,t)=>{const{data:r}=useStandingsData(e,t,{refetchInterval:!1}),{activeTabId:i,setActiveTabId:n,activeTabComponent:s,isTabActive:o,typographyVariant:a}=useTabs(),l=useFiltersStore();return{activeTabId:i,setActiveTabId:n,activeTabComponent:s,isTabActive:o,typographyVariant:a,resetActiveFilters:()=>{l.resetFilters()},tabs:Object(vue__WEBPACK_IMPORTED_MODULE_0__.computed)((()=>getTabs(!!r.value)||[]))}},_sfc_main=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({__name:"TabsDataProvider",props:{matchId:{},lang:{},theme:{}},setup(e){const t=e,{activeTabId:r,setActiveTabId:i,activeTabComponent:n,isTabActive:s,typographyVariant:o,resetActiveFilters:a,tabs:l}=useTabsData(t.matchId,t.lang);return Object(vue__WEBPACK_IMPORTED_MODULE_0__.onMounted)((()=>{r.value||i(defaultTabs[0].id),ChangeLanguage(t.lang)})),Object(vue__WEBPACK_IMPORTED_MODULE_0__.onUnmounted)((()=>{i(""),!r.value&&a()})),(e,t)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(Tabs,{id:"DETAILED_TABS",tabs:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(l),matchId:e.matchId,lang:e.lang,theme:e.theme,isTabActive:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(s),typographyVariant:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(o),setActiveTabId:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(i),activeTabComponent:Object(vue__WEBPACK_IMPORTED_MODULE_0__.unref)(n)},null,8,["tabs","matchId","lang","theme","isTabActive","typographyVariant","setActiveTabId","activeTabComponent"]))}}),sides=["top","right","bottom","left"],alignments=["start","end"],placements=sides.reduce(((e,t)=>e.concat(t,t+"-"+alignments[0],t+"-"+alignments[1])),[]),min=Math.min,max=Math.max,oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(e,t,r){return max(e,min(t,r))}function evaluate(e,t){return"function"==typeof e?e(t):e}function getSide(e){return e.split("-")[0]}function getAlignment(e){return e.split("-")[1]}function getOppositeAxis(e){return"x"===e?"y":"x"}function getAxisLength(e){return"y"===e?"height":"width"}function getSideAxis(e){return["top","bottom"].includes(getSide(e))?"y":"x"}function getAlignmentAxis(e){return getOppositeAxis(getSideAxis(e))}function getAlignmentSides(e,t,r){void 0===r&&(r=!1);const i=getAlignment(e),n=getAlignmentAxis(e),s=getAxisLength(n);let o="x"===n?i===(r?"end":"start")?"right":"left":"start"===i?"bottom":"top";return t.reference[s]>t.floating[s]&&(o=getOppositePlacement(o)),[o,getOppositePlacement(o)]}function getExpandedPlacements(e){const t=getOppositePlacement(e);return[getOppositeAlignmentPlacement(e),t,getOppositeAlignmentPlacement(t)]}function getOppositeAlignmentPlacement(e){return e.replace(/start|end/g,(e=>oppositeAlignmentMap[e]))}function getSideList(e,t,r){const i=["left","right"],n=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(e){case"top":case"bottom":return r?t?n:i:t?i:n;case"left":case"right":return t?s:o;default:return[]}}function getOppositeAxisPlacements(e,t,r,i){const n=getAlignment(e);let s=getSideList(getSide(e),"start"===r,i);return n&&(s=s.map((e=>e+"-"+n)),t&&(s=s.concat(s.map(getOppositeAlignmentPlacement)))),s}function getOppositePlacement(e){return e.replace(/left|right|bottom|top/g,(e=>oppositeSideMap[e]))}function expandPaddingObject(e){return Vt({top:0,right:0,bottom:0,left:0},e)}function getPaddingObject(e){return"number"!=typeof e?expandPaddingObject(e):{top:e,right:e,bottom:e,left:e}}function rectToClientRect(e){return nr(Vt({},e),{top:e.y,left:e.x,right:e.x+e.width,bottom:e.y+e.height})}function computeCoordsFromPlacement(e,t,r){let{reference:i,floating:n}=e;const s=getSideAxis(t),o=getAlignmentAxis(t),a=getAxisLength(o),l=getSide(t),h="y"===s,c=i.x+i.width/2-n.width/2,u=i.y+i.height/2-n.height/2,d=i[a]/2-n[a]/2;let p;switch(l){case"top":p={x:c,y:i.y-n.height};break;case"bottom":p={x:c,y:i.y+i.height};break;case"right":p={x:i.x+i.width,y:u};break;case"left":p={x:i.x-n.width,y:u};break;default:p={x:i.x,y:i.y}}switch(getAlignment(t)){case"start":p[o]-=d*(r&&h?-1:1);break;case"end":p[o]+=d*(r&&h?-1:1)}return p}const computePosition=(e,t,r)=>Yt(void 0,null,(function*(){const{placement:i="bottom",strategy:n="absolute",middleware:s=[],platform:o}=r,a=s.filter(Boolean),l=yield null==o.isRTL?void 0:o.isRTL(t);let h=yield o.getElementRects({reference:e,floating:t,strategy:n}),{x:c,y:u}=computeCoordsFromPlacement(h,i,l),d=i,p={},f=0;for(let r=0;r<a.length;r++){const{name:s,fn:_}=a[r],{x:m,y:g,data:y,reset:v}=yield _({x:c,y:u,initialPlacement:i,placement:d,strategy:n,middlewareData:p,rects:h,platform:o,elements:{reference:e,floating:t}});c=null!=m?m:c,u=null!=g?g:u,p=nr(Vt({},p),{[s]:Vt(Vt({},p[s]),y)}),v&&f<=50&&(f++,"object"==typeof v&&(v.placement&&(d=v.placement),v.rects&&(h=!0===v.rects?yield o.getElementRects({reference:e,floating:t,strategy:n}):v.rects),({x:c,y:u}=computeCoordsFromPlacement(h,d,l))),r=-1)}return{x:c,y:u,placement:d,strategy:n,middlewareData:p}}));function detectOverflow(e,t){return Yt(this,null,(function*(){var r;void 0===t&&(t={});const{x:i,y:n,platform:s,rects:o,elements:a,strategy:l}=e,{boundary:h="clippingAncestors",rootBoundary:c="viewport",elementContext:u="floating",altBoundary:d=!1,padding:p=0}=evaluate(t,e),f=getPaddingObject(p),_=a[d?"floating"===u?"reference":"floating":u],m=rectToClientRect(yield s.getClippingRect({element:null==(r=yield null==s.isElement?void 0:s.isElement(_))||r?_:_.contextElement||(yield null==s.getDocumentElement?void 0:s.getDocumentElement(a.floating)),boundary:h,rootBoundary:c,strategy:l})),g="floating"===u?nr(Vt({},o.floating),{x:i,y:n}):o.reference,y=yield null==s.getOffsetParent?void 0:s.getOffsetParent(a.floating),v=(yield null==s.isElement?void 0:s.isElement(y))&&(yield null==s.getScale?void 0:s.getScale(y))||{x:1,y:1},E=rectToClientRect(s.convertOffsetParentRelativeRectToViewportRelativeRect?yield s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:g,offsetParent:y,strategy:l}):g);return{top:(m.top-E.top+f.top)/v.y,bottom:(E.bottom-m.bottom+f.bottom)/v.y,left:(m.left-E.left+f.left)/v.x,right:(E.right-m.right+f.right)/v.x}}))}const arrow=e=>({name:"arrow",options:e,fn(t){return Yt(this,null,(function*(){const{x:r,y:i,placement:n,rects:s,platform:o,elements:a,middlewareData:l}=t,{element:h,padding:c=0}=evaluate(e,t)||{};if(null==h)return{};const u=getPaddingObject(c),d={x:r,y:i},p=getAlignmentAxis(n),f=getAxisLength(p),_=yield o.getDimensions(h),m="y"===p,g=m?"top":"left",y=m?"bottom":"right",v=m?"clientHeight":"clientWidth",E=s.reference[f]+s.reference[p]-d[p]-s.floating[f],T=d[p]-s.reference[p],b=yield null==o.getOffsetParent?void 0:o.getOffsetParent(h);let S=b?b[v]:0;(!S||!(yield null==o.isElement?void 0:o.isElement(b)))&&(S=a.floating[v]||s.floating[f]);const x=E/2-T/2,A=S/2-_[f]/2-1,P=min(u[g],A),R=min(u[y],A),O=P,w=S-_[f]-R,I=S/2-_[f]/2+x,C=clamp(O,I,w),M=!l.arrow&&null!=getAlignment(n)&&I!==C&&s.reference[f]/2-(I<O?P:R)-_[f]/2<0,D=M?I<O?I-O:I-w:0;return{[p]:d[p]+D,data:Vt({[p]:C,centerOffset:I-C-D},M&&{alignmentOffset:D}),reset:M}}))}});function getPlacementList(e,t,r){return(e?[...r.filter((t=>getAlignment(t)===e)),...r.filter((t=>getAlignment(t)!==e))]:r.filter((e=>getSide(e)===e))).filter((r=>!e||getAlignment(r)===e||!!t&&getOppositeAlignmentPlacement(r)!==r))}const autoPlacement=function(e){return void 0===e&&(e={}),{name:"autoPlacement",options:e,fn(t){return Yt(this,null,(function*(){var r,i,n;const{rects:s,middlewareData:o,placement:a,platform:l,elements:h}=t,c=evaluate(e,t),{crossAxis:u=!1,alignment:d,allowedPlacements:p=placements,autoAlignment:f=!0}=c,_=Vr(c,["crossAxis","alignment","allowedPlacements","autoAlignment"]),m=void 0!==d||p===placements?getPlacementList(d||null,f,p):p,g=yield detectOverflow(t,_),y=(null==(r=o.autoPlacement)?void 0:r.index)||0,v=m[y];if(null==v)return{};const E=getAlignmentSides(v,s,yield null==l.isRTL?void 0:l.isRTL(h.floating));if(a!==v)return{reset:{placement:m[0]}};const T=[g[getSide(v)],g[E[0]],g[E[1]]],b=[...(null==(i=o.autoPlacement)?void 0:i.overflows)||[],{placement:v,overflows:T}],S=m[y+1];if(S)return{data:{index:y+1,overflows:b},reset:{placement:S}};const x=b.map((e=>{const t=getAlignment(e.placement);return[e.placement,t&&u?e.overflows.slice(0,2).reduce(((e,t)=>e+t),0):e.overflows[0],e.overflows]})).sort(((e,t)=>e[1]-t[1])),A=(null==(n=x.filter((e=>e[2].slice(0,getAlignment(e[0])?2:3).every((e=>e<=0))))[0])?void 0:n[0])||x[0][0];return A!==a?{data:{index:y+1,overflows:b},reset:{placement:A}}:{}}))}}},flip=function(e){return void 0===e&&(e={}),{name:"flip",options:e,fn(t){return Yt(this,null,(function*(){var r,i;const{placement:n,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:h}=t,c=evaluate(e,t),{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:p,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:_="none",flipAlignment:m=!0}=c,g=Vr(c,["mainAxis","crossAxis","fallbackPlacements","fallbackStrategy","fallbackAxisSideDirection","flipAlignment"]);if(null!=(r=s.arrow)&&r.alignmentOffset)return{};const y=getSide(n),v=getSide(a)===a,E=yield null==l.isRTL?void 0:l.isRTL(h.floating),T=p||(v||!m?[getOppositePlacement(a)]:getExpandedPlacements(a));!p&&"none"!==_&&T.push(...getOppositeAxisPlacements(a,m,_,E));const b=[a,...T],S=yield detectOverflow(t,g),x=[];let A=(null==(i=s.flip)?void 0:i.overflows)||[];if(u&&x.push(S[y]),d){const e=getAlignmentSides(n,o,E);x.push(S[e[0]],S[e[1]])}if(A=[...A,{placement:n,overflows:x}],!x.every((e=>e<=0))){var P,R;const e=((null==(P=s.flip)?void 0:P.index)||0)+1,t=b[e];if(t)return{data:{index:e,overflows:A},reset:{placement:t}};let r=null==(R=A.filter((e=>e.overflows[0]<=0)).sort(((e,t)=>e.overflows[1]-t.overflows[1]))[0])?void 0:R.placement;if(!r)switch(f){case"bestFit":{var O;const e=null==(O=A.map((e=>[e.placement,e.overflows.filter((e=>e>0)).reduce(((e,t)=>e+t),0)])).sort(((e,t)=>e[1]-t[1]))[0])?void 0:O[0];e&&(r=e);break}case"initialPlacement":r=a}if(n!==r)return{reset:{placement:r}}}return{}}))}}};function convertValueToCoords(e,t){return Yt(this,null,(function*(){const{placement:r,platform:i,elements:n}=e,s=yield null==i.isRTL?void 0:i.isRTL(n.floating),o=getSide(r),a=getAlignment(r),l="y"===getSideAxis(r),h=["left","top"].includes(o)?-1:1,c=s&&l?-1:1,u=evaluate(t,e);let{mainAxis:d,crossAxis:p,alignmentAxis:f}="number"==typeof u?{mainAxis:u,crossAxis:0,alignmentAxis:null}:Vt({mainAxis:0,crossAxis:0,alignmentAxis:null},u);return a&&"number"==typeof f&&(p="end"===a?-1*f:f),l?{x:p*c,y:d*h}:{x:d*h,y:p*c}}))}const offset=function(e){return void 0===e&&(e=0),{name:"offset",options:e,fn(t){return Yt(this,null,(function*(){var r,i;const{x:n,y:s,placement:o,middlewareData:a}=t,l=yield convertValueToCoords(t,e);return o===(null==(r=a.offset)?void 0:r.placement)&&null!=(i=a.arrow)&&i.alignmentOffset?{}:{x:n+l.x,y:s+l.y,data:nr(Vt({},l),{placement:o})}}))}}},shift=function(e){return void 0===e&&(e={}),{name:"shift",options:e,fn(t){return Yt(this,null,(function*(){const{x:r,y:i,placement:n}=t,s=evaluate(e,t),{mainAxis:o=!0,crossAxis:a=!1,limiter:l={fn:e=>{let{x:t,y:r}=e;return{x:t,y:r}}}}=s,h=Vr(s,["mainAxis","crossAxis","limiter"]),c={x:r,y:i},u=yield detectOverflow(t,h),d=getSideAxis(getSide(n)),p=getOppositeAxis(d);let f=c[p],_=c[d];if(o){const e="y"===p?"bottom":"right";f=clamp(f+u["y"===p?"top":"left"],f,f-u[e])}if(a){const e="y"===d?"bottom":"right";_=clamp(_+u["y"===d?"top":"left"],_,_-u[e])}const m=l.fn(nr(Vt({},t),{[p]:f,[d]:_}));return nr(Vt({},m),{data:{x:m.x-r,y:m.y-i}})}))}}},size=function(e){return void 0===e&&(e={}),{name:"size",options:e,fn(t){return Yt(this,null,(function*(){const{placement:r,rects:i,platform:n,elements:s}=t,o=evaluate(e,t),{apply:a=(()=>{})}=o,l=Vr(o,["apply"]),h=yield detectOverflow(t,l),c=getSide(r),u=getAlignment(r),d="y"===getSideAxis(r),{width:p,height:f}=i.floating;let _,m;"top"===c||"bottom"===c?(_=c,m=u===((yield null==n.isRTL?void 0:n.isRTL(s.floating))?"start":"end")?"left":"right"):(m=c,_="end"===u?"top":"bottom");const g=f-h[_],y=p-h[m],v=!t.middlewareData.shift;let E=g,T=y;if(d){const e=p-h.left-h.right;T=u||v?min(y,e):e}else{const e=f-h.top-h.bottom;E=u||v?min(g,e):e}if(v&&!u){const e=max(h.left,0),t=max(h.right,0),r=max(h.top,0),i=max(h.bottom,0);d?T=p-2*(0!==e||0!==t?e+t:max(h.left,h.right)):E=f-2*(0!==r||0!==i?r+i:max(h.top,h.bottom))}yield a(nr(Vt({},t),{availableWidth:T,availableHeight:E}));const b=yield n.getDimensions(s.floating);return p!==b.width||f!==b.height?{reset:{rects:!0}}:{}}))}}};function n$1(e){var t;return(null==(t=e.ownerDocument)?void 0:t.defaultView)||window}function o(e){return n$1(e).getComputedStyle(e)}const i=Math.min,r=Math.max,l=Math.round;function c$1(e){const t=o(e);let r=parseFloat(t.width),i=parseFloat(t.height);const n=e.offsetWidth,s=e.offsetHeight,a=l(r)!==n||l(i)!==s;return a&&(r=n,i=s),{width:r,height:i,fallback:a}}function s(e){return h(e)?(e.nodeName||"").toLowerCase():""}let f;function u$1(){if(f)return f;const e=navigator.userAgentData;return e&&Array.isArray(e.brands)?(f=e.brands.map((e=>e.brand+"/"+e.version)).join(" "),f):navigator.userAgent}function a(e){return e instanceof n$1(e).HTMLElement}function d$1(e){return e instanceof n$1(e).Element}function h(e){return e instanceof n$1(e).Node}function p(e){return"undefined"!=typeof ShadowRoot&&(e instanceof n$1(e).ShadowRoot||e instanceof ShadowRoot)}function g$1(e){const{overflow:t,overflowX:r,overflowY:i,display:n}=o(e);return/auto|scroll|overlay|hidden|clip/.test(t+i+r)&&!["inline","contents"].includes(n)}function m$1(e){return["table","td","th"].includes(s(e))}function y$1(e){const t=/firefox/i.test(u$1()),r=o(e),i=r.backdropFilter||r.WebkitBackdropFilter;return"none"!==r.transform||"none"!==r.perspective||!!i&&"none"!==i||t&&"filter"===r.willChange||t&&!!r.filter&&"none"!==r.filter||["transform","perspective"].some((e=>r.willChange.includes(e)))||["paint","layout","strict","content"].some((e=>{const t=r.contain;return null!=t&&t.includes(e)}))}function x(){return!/^((?!chrome|android).)*safari/i.test(u$1())}function w$1(e){return["html","body","#document"].includes(s(e))}function v(e){return d$1(e)?e:e.contextElement}const b$1={x:1,y:1};function L(e){const t=v(e);if(!a(t))return b$1;const r=t.getBoundingClientRect(),{width:i,height:n,fallback:s}=c$1(t);let o=(s?l(r.width):r.width)/i,h=(s?l(r.height):r.height)/n;return o&&Number.isFinite(o)||(o=1),h&&Number.isFinite(h)||(h=1),{x:o,y:h}}function E(e,t,r,i){var n,s;void 0===t&&(t=!1),void 0===r&&(r=!1);const o=e.getBoundingClientRect(),a=v(e);let l=b$1;t&&(i?d$1(i)&&(l=L(i)):l=L(e));const h=a?n$1(a):window,c=!x()&&r;let u=(o.left+(c&&(null==(n=h.visualViewport)?void 0:n.offsetLeft)||0))/l.x,d=(o.top+(c&&(null==(s=h.visualViewport)?void 0:s.offsetTop)||0))/l.y,p=o.width/l.x,f=o.height/l.y;if(a){const e=n$1(a),t=i&&d$1(i)?n$1(i):i;let r=e.frameElement;for(;r&&i&&t!==e;){const e=L(r),t=r.getBoundingClientRect(),i=getComputedStyle(r);t.x+=(r.clientLeft+parseFloat(i.paddingLeft))*e.x,t.y+=(r.clientTop+parseFloat(i.paddingTop))*e.y,u*=e.x,d*=e.y,p*=e.x,f*=e.y,u+=t.x,d+=t.y,r=n$1(r).frameElement}}return{width:p,height:f,top:d,right:u+p,bottom:d+f,left:u,x:u,y:d}}function R(e){return((h(e)?e.ownerDocument:e.document)||window.document).documentElement}function T(e){return d$1(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.pageXOffset,scrollTop:e.pageYOffset}}function C$1(e){return E(R(e)).left+T(e).scrollLeft}function F(e){if("html"===s(e))return e;const t=e.assignedSlot||e.parentNode||p(e)&&e.host||R(e);return p(t)?t.host:t}function W$1(e){const t=F(e);return w$1(t)?t.ownerDocument.body:a(t)&&g$1(t)?t:W$1(t)}function D(e,t){var r;void 0===t&&(t=[]);const i=W$1(e),n=i===(null==(r=e.ownerDocument)?void 0:r.body),s=n$1(i);return n?t.concat(s,s.visualViewport||[],g$1(i)?i:[]):t.concat(i,D(i))}function S$1(e,t,i){return"viewport"===t?rectToClientRect(function(e,t){const r=n$1(e),i=R(e),n=r.visualViewport;let s=i.clientWidth,o=i.clientHeight,a=0,l=0;if(n){s=n.width,o=n.height;const e=x();(e||!e&&"fixed"===t)&&(a=n.offsetLeft,l=n.offsetTop)}return{width:s,height:o,x:a,y:l}}(e,i)):d$1(t)?rectToClientRect(function(e,t){const r=E(e,!0,"fixed"===t),i=r.top+e.clientTop,n=r.left+e.clientLeft,s=a(e)?L(e):{x:1,y:1};return{width:e.clientWidth*s.x,height:e.clientHeight*s.y,x:n*s.x,y:i*s.y}}(t,i)):rectToClientRect(function(e){const t=R(e),i=T(e),n=e.ownerDocument.body,s=r(t.scrollWidth,t.clientWidth,n.scrollWidth,n.clientWidth),a=r(t.scrollHeight,t.clientHeight,n.scrollHeight,n.clientHeight);let l=-i.scrollLeft+C$1(e);const h=-i.scrollTop;return"rtl"===o(n).direction&&(l+=r(t.clientWidth,n.clientWidth)-s),{width:s,height:a,x:l,y:h}}(R(e)))}function A(e){return a(e)&&"fixed"!==o(e).position?e.offsetParent:null}function H(e){const t=n$1(e);let r=A(e);for(;r&&m$1(r)&&"static"===o(r).position;)r=A(r);return r&&("html"===s(r)||"body"===s(r)&&"static"===o(r).position&&!y$1(r))?t:r||function(e){let t=F(e);for(;a(t)&&!w$1(t);){if(y$1(t))return t;t=F(t)}return null}(e)||t}function O(e,t,r){const i=a(t),n=R(t),o=E(e,!0,"fixed"===r,t);let l={scrollLeft:0,scrollTop:0};const h={x:0,y:0};if(i||!i&&"fixed"!==r)if(("body"!==s(t)||g$1(n))&&(l=T(t)),a(t)){const e=E(t,!0);h.x=e.x+t.clientLeft,h.y=e.y+t.clientTop}else n&&(h.x=C$1(n));return{x:o.left+l.scrollLeft-h.x,y:o.top+l.scrollTop-h.y,width:o.width,height:o.height}}const P={getClippingRect:function(e){let{element:t,boundary:n,rootBoundary:a,strategy:l}=e;const h=[..."clippingAncestors"===n?function(e,t){const r=t.get(e);if(r)return r;let i=D(e).filter((e=>d$1(e)&&"body"!==s(e))),n=null;const a="fixed"===o(e).position;let l=a?F(e):e;for(;d$1(l)&&!w$1(l);){const e=o(l),t=y$1(l);(a?t||n:t||"static"!==e.position||!n||!["absolute","fixed"].includes(n.position))?n=e:i=i.filter((e=>e!==l)),l=F(l)}return t.set(e,i),i}(t,this._c):[].concat(n),a],c=h[0],u=h.reduce(((e,n)=>{const s=S$1(t,n,l);return e.top=r(s.top,e.top),e.right=i(s.right,e.right),e.bottom=i(s.bottom,e.bottom),e.left=r(s.left,e.left),e}),S$1(t,c,l));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}},convertOffsetParentRelativeRectToViewportRelativeRect:function(e){let{rect:t,offsetParent:r,strategy:i}=e;const n=a(r),o=R(r);if(r===o)return t;let l={scrollLeft:0,scrollTop:0},h={x:1,y:1};const c={x:0,y:0};if((n||!n&&"fixed"!==i)&&(("body"!==s(r)||g$1(o))&&(l=T(r)),a(r))){const e=E(r);h=L(r),c.x=e.x+r.clientLeft,c.y=e.y+r.clientTop}return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-l.scrollLeft*h.x+c.x,y:t.y*h.y-l.scrollTop*h.y+c.y}},isElement:d$1,getDimensions:function(e){return a(e)?c$1(e):e.getBoundingClientRect()},getOffsetParent:H,getDocumentElement:R,getScale:L,getElementRects(e){return Yt(this,null,(function*(){let{reference:t,floating:r,strategy:i}=e;const n=this.getOffsetParent||H,s=this.getDimensions;return{reference:O(t,yield n(r),i),floating:Vt({x:0,y:0},yield s(r))}}))},getClientRects:e=>Array.from(e.getClientRects()),isRTL:e=>"rtl"===o(e).direction},B$1=(e,t,r)=>{const i=new Map,n=Vt({platform:P},r),s=nr(Vt({},n.platform),{_c:i});return computePosition(e,t,nr(Vt({},n),{platform:s}))};function $e(e,t){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&("object"==typeof t[r]&&e[r]?$e(e[r],t[r]):e[r]=t[r])}const u={disabled:!1,distance:5,skidding:0,container:"body",boundary:void 0,instantMove:!1,disposeTimeout:0,popperTriggers:[],strategy:"absolute",preventOverflow:!0,flip:!0,shift:!0,overflowPadding:0,arrowPadding:0,arrowOverflow:!0,themes:{tooltip:{placement:"top",triggers:["hover","focus","touch"],hideTriggers:e=>[...e,"click"],delay:{show:200,hide:0},handleResize:!1,html:!1,loadingContent:"..."},dropdown:{placement:"bottom",triggers:["click"],delay:0,handleResize:!0,autoHide:!0},menu:{$extend:"dropdown",triggers:["hover","focus"],popperTriggers:["hover","focus"],delay:{show:0,hide:400}}}};function S(e,t){let r,i=u.themes[e]||{};do{r=i[t],typeof r>"u"?i.$extend?i=u.themes[i.$extend]||{}:(i=null,r=u[t]):i=null}while(i);return r}function Je(e){const t=[e];let r=u.themes[e]||{};do{r.$extend&&!r.$resetCss?(t.push(r.$extend),r=u.themes[r.$extend]||{}):r=null}while(r);return t.map((e=>`v-popper--theme-${e}`))}function se(e){const t=[e];let r=u.themes[e]||{};do{r.$extend?(t.push(r.$extend),r=u.themes[r.$extend]||{}):r=null}while(r);return t}let w=!1;if(typeof window<"u"){w=!1;try{const e=Object.defineProperty({},"passive",{get(){w=!0}});window.addEventListener("test",null,e)}catch(e){}}let we=!1;typeof window<"u"&&typeof navigator<"u"&&(we=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream);const ve=["auto","top","bottom","left","right"].reduce(((e,t)=>e.concat([t,`${t}-start`,`${t}-end`])),[]),ne={hover:"mouseenter",focus:"focus",click:"click",touch:"touchstart",pointer:"pointerdown"},re={hover:"mouseleave",focus:"blur",click:"click",touch:"touchend",pointer:"pointerup"};function pe(e,t){const r=e.indexOf(t);-1!==r&&e.splice(r,1)}function W(){return new Promise((e=>requestAnimationFrame((()=>{requestAnimationFrame(e)}))))}const d=[];let g=null;const ae={};function de(e){let t=ae[e];return t||(t=ae[e]=[]),t}let Y=function(){};function n(e){return function(t){return S(t.theme,e)}}typeof window<"u"&&(Y=window.Element);const G="__floating-vue__popper",K=()=>Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({name:"VPopper",provide(){return{[G]:{parentPopper:this}}},inject:{[G]:{default:null}},props:{theme:{type:String,required:!0},targetNodes:{type:Function,required:!0},referenceNode:{type:Function,default:null},popperNode:{type:Function,required:!0},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:n("disabled")},positioningDisabled:{type:Boolean,default:n("positioningDisabled")},placement:{type:String,default:n("placement"),validator:e=>ve.includes(e)},delay:{type:[String,Number,Object],default:n("delay")},distance:{type:[Number,String],default:n("distance")},skidding:{type:[Number,String],default:n("skidding")},triggers:{type:Array,default:n("triggers")},showTriggers:{type:[Array,Function],default:n("showTriggers")},hideTriggers:{type:[Array,Function],default:n("hideTriggers")},popperTriggers:{type:Array,default:n("popperTriggers")},popperShowTriggers:{type:[Array,Function],default:n("popperShowTriggers")},popperHideTriggers:{type:[Array,Function],default:n("popperHideTriggers")},container:{type:[String,Object,Y,Boolean],default:n("container")},boundary:{type:[String,Y],default:n("boundary")},strategy:{type:String,validator:e=>["absolute","fixed"].includes(e),default:n("strategy")},autoHide:{type:[Boolean,Function],default:n("autoHide")},handleResize:{type:Boolean,default:n("handleResize")},instantMove:{type:Boolean,default:n("instantMove")},eagerMount:{type:Boolean,default:n("eagerMount")},popperClass:{type:[String,Array,Object],default:n("popperClass")},computeTransformOrigin:{type:Boolean,default:n("computeTransformOrigin")},autoMinSize:{type:Boolean,default:n("autoMinSize")},autoSize:{type:[Boolean,String],default:n("autoSize")},autoMaxSize:{type:Boolean,default:n("autoMaxSize")},autoBoundaryMaxSize:{type:Boolean,default:n("autoBoundaryMaxSize")},preventOverflow:{type:Boolean,default:n("preventOverflow")},overflowPadding:{type:[Number,String],default:n("overflowPadding")},arrowPadding:{type:[Number,String],default:n("arrowPadding")},arrowOverflow:{type:Boolean,default:n("arrowOverflow")},flip:{type:Boolean,default:n("flip")},shift:{type:Boolean,default:n("shift")},shiftCrossAxis:{type:Boolean,default:n("shiftCrossAxis")},noAutoFocus:{type:Boolean,default:n("noAutoFocus")},disposeTimeout:{type:Number,default:n("disposeTimeout")}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},data(){return{isShown:!1,isMounted:!1,skipTransition:!1,classes:{showFrom:!1,showTo:!1,hideFrom:!1,hideTo:!0},result:{x:0,y:0,placement:"",strategy:this.strategy,arrow:{x:0,y:0,centerOffset:0},transformOrigin:null},shownChildren:new Set,lastAutoHide:!0}},computed:{popperId(){return null!=this.ariaId?this.ariaId:this.randomId},shouldMountContent(){return this.eagerMount||this.isMounted},slotData(){return{popperId:this.popperId,isShown:this.isShown,shouldMountContent:this.shouldMountContent,skipTransition:this.skipTransition,autoHide:"function"==typeof this.autoHide?this.lastAutoHide:this.autoHide,show:this.show,hide:this.hide,handleResize:this.handleResize,onResize:this.onResize,classes:nr(Vt({},this.classes),{popperClass:this.popperClass}),result:this.positioningDisabled?null:this.result,attrs:this.$attrs}},parentPopper(){var e;return null==(e=this[G])?void 0:e.parentPopper},hasPopperShowTriggerHover(){var e,t;return(null==(e=this.popperTriggers)?void 0:e.includes("hover"))||(null==(t=this.popperShowTriggers)?void 0:t.includes("hover"))}},watch:Vt(Vt({shown:"$_autoShowHide",disabled(e){e?this.dispose():this.init()},container(){return Yt(this,null,(function*(){this.isShown&&(this.$_ensureTeleport(),yield this.$_computePosition())}))}},["triggers","positioningDisabled"].reduce(((e,t)=>(e[t]="$_refreshListeners",e)),{})),["placement","distance","skidding","boundary","strategy","overflowPadding","arrowPadding","preventOverflow","shift","shiftCrossAxis","flip"].reduce(((e,t)=>(e[t]="$_computePosition",e)),{})),created(){this.$_isDisposed=!0,this.randomId=`popper_${[Math.random(),Date.now()].map((e=>e.toString(36).substring(2,10))).join("_")}`,this.autoMinSize&&console.warn('[floating-vue] `autoMinSize` option is deprecated. Use `autoSize="min"` instead.'),this.autoMaxSize&&console.warn("[floating-vue] `autoMaxSize` option is deprecated. Use `autoBoundaryMaxSize` instead.")},mounted(){this.init(),this.$_detachPopperNode()},activated(){this.$_autoShowHide()},deactivated(){this.hide()},beforeUnmount(){this.dispose()},methods:{show({event:e=null,skipDelay:t=!1,force:r=!1}={}){var i,n;null!=(i=this.parentPopper)&&i.lockedChild&&this.parentPopper.lockedChild!==this||(this.$_pendingHide=!1,(r||!this.disabled)&&((null==(n=this.parentPopper)?void 0:n.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_scheduleShow(e,t),this.$emit("show"),this.$_showFrameLocked=!0,requestAnimationFrame((()=>{this.$_showFrameLocked=!1}))),this.$emit("update:shown",!0))},hide({event:e=null,skipDelay:t=!1}={}){var r;if(!this.$_hideInProgress){if(this.shownChildren.size>0)return void(this.$_pendingHide=!0);if(this.hasPopperShowTriggerHover&&this.$_isAimingPopper())return void(this.parentPopper&&(this.parentPopper.lockedChild=this,clearTimeout(this.parentPopper.lockedChildTimer),this.parentPopper.lockedChildTimer=setTimeout((()=>{this.parentPopper.lockedChild===this&&(this.parentPopper.lockedChild.hide({skipDelay:t}),this.parentPopper.lockedChild=null)}),1e3)));(null==(r=this.parentPopper)?void 0:r.lockedChild)===this&&(this.parentPopper.lockedChild=null),this.$_pendingHide=!1,this.$_scheduleHide(e,t),this.$emit("hide"),this.$emit("update:shown",!1)}},init(){var e,t;this.$_isDisposed&&(this.$_isDisposed=!1,this.isMounted=!1,this.$_events=[],this.$_preventShow=!1,this.$_referenceNode=null!=(e=null==(t=this.referenceNode)?void 0:t.call(this))?e:this.$el,this.$_targetNodes=this.targetNodes().filter((e=>e.nodeType===e.ELEMENT_NODE)),this.$_popperNode=this.popperNode(),this.$_innerNode=this.$_popperNode.querySelector(".v-popper__inner"),this.$_arrowNode=this.$_popperNode.querySelector(".v-popper__arrow-container"),this.$_swapTargetAttrs("title","data-original-title"),this.$_detachPopperNode(),this.triggers.length&&this.$_addEventListeners(),this.shown&&this.show())},dispose(){this.$_isDisposed||(this.$_isDisposed=!0,this.$_removeEventListeners(),this.hide({skipDelay:!0}),this.$_detachPopperNode(),this.isMounted=!1,this.isShown=!1,this.$_updateParentShownChildren(!1),this.$_swapTargetAttrs("data-original-title","title"))},onResize(){return Yt(this,null,(function*(){this.isShown&&(yield this.$_computePosition(),this.$emit("resize"))}))},$_computePosition(){return Yt(this,null,(function*(){var e;if(this.$_isDisposed||this.positioningDisabled)return;const t={strategy:this.strategy,middleware:[]};(this.distance||this.skidding)&&t.middleware.push(offset({mainAxis:this.distance,crossAxis:this.skidding}));const r=this.placement.startsWith("auto");if(r?t.middleware.push(autoPlacement({alignment:null!=(e=this.placement.split("-")[1])?e:""})):t.placement=this.placement,this.preventOverflow&&(this.shift&&t.middleware.push(shift({padding:this.overflowPadding,boundary:this.boundary,crossAxis:this.shiftCrossAxis})),!r&&this.flip&&t.middleware.push(flip({padding:this.overflowPadding,boundary:this.boundary}))),t.middleware.push(arrow({element:this.$_arrowNode,padding:this.arrowPadding})),this.arrowOverflow&&t.middleware.push({name:"arrowOverflow",fn:({placement:e,rects:t,middlewareData:r})=>{let i;const{centerOffset:n}=r.arrow;return i=e.startsWith("top")||e.startsWith("bottom")?Math.abs(n)>t.reference.width/2:Math.abs(n)>t.reference.height/2,{data:{overflow:i}}}}),this.autoMinSize||this.autoSize){const e=this.autoSize?this.autoSize:this.autoMinSize?"min":null;t.middleware.push({name:"autoSize",fn:({rects:t,placement:r,middlewareData:i})=>{var n;if(null!=(n=i.autoSize)&&n.skip)return{};let s,o;return r.startsWith("top")||r.startsWith("bottom")?s=t.reference.width:o=t.reference.height,this.$_innerNode.style["min"===e?"minWidth":"max"===e?"maxWidth":"width"]=null!=s?`${s}px`:null,this.$_innerNode.style["min"===e?"minHeight":"max"===e?"maxHeight":"height"]=null!=o?`${o}px`:null,{data:{skip:!0},reset:{rects:!0}}}})}(this.autoMaxSize||this.autoBoundaryMaxSize)&&(this.$_innerNode.style.maxWidth=null,this.$_innerNode.style.maxHeight=null,t.middleware.push(size({boundary:this.boundary,padding:this.overflowPadding,apply:({availableWidth:e,availableHeight:t})=>{this.$_innerNode.style.maxWidth=null!=e?`${e}px`:null,this.$_innerNode.style.maxHeight=null!=t?`${t}px`:null}})));const i=yield B$1(this.$_referenceNode,this.$_popperNode,t);Object.assign(this.result,{x:i.x,y:i.y,placement:i.placement,strategy:i.strategy,arrow:Vt(Vt({},i.middlewareData.arrow),i.middlewareData.arrowOverflow)})}))},$_scheduleShow(e=null,t=!1){if(this.$_updateParentShownChildren(!0),this.$_hideInProgress=!1,clearTimeout(this.$_scheduleTimer),g&&this.instantMove&&g.instantMove&&g!==this.parentPopper)return g.$_applyHide(!0),void this.$_applyShow(!0);t?this.$_applyShow():this.$_scheduleTimer=setTimeout(this.$_applyShow.bind(this),this.$_computeDelay("show"))},$_scheduleHide(e=null,t=!1){this.shownChildren.size>0?this.$_pendingHide=!0:(this.$_updateParentShownChildren(!1),this.$_hideInProgress=!0,clearTimeout(this.$_scheduleTimer),this.isShown&&(g=this),t?this.$_applyHide():this.$_scheduleTimer=setTimeout(this.$_applyHide.bind(this),this.$_computeDelay("hide")))},$_computeDelay(e){const t=this.delay;return parseInt(t&&t[e]||t||0)},$_applyShow(e=!1){return Yt(this,null,(function*(){clearTimeout(this.$_disposeTimer),clearTimeout(this.$_scheduleTimer),this.skipTransition=e,!this.isShown&&(this.$_ensureTeleport(),yield W(),yield this.$_computePosition(),yield this.$_applyShowEffect(),this.positioningDisabled||this.$_registerEventListeners([...D(this.$_referenceNode),...D(this.$_popperNode)],"scroll",(()=>{this.$_computePosition()})))}))},$_applyShowEffect(){return Yt(this,null,(function*(){if(this.$_hideInProgress)return;if(this.computeTransformOrigin){const e=this.$_referenceNode.getBoundingClientRect(),t=this.$_popperNode.querySelector(".v-popper__wrapper"),r=t.parentNode.getBoundingClientRect(),i=e.x+e.width/2-(r.left+t.offsetLeft),n=e.y+e.height/2-(r.top+t.offsetTop);this.result.transformOrigin=`${i}px ${n}px`}this.isShown=!0,this.$_applyAttrsToTarget({"aria-describedby":this.popperId,"data-popper-shown":""});const e=this.showGroup;if(e){let t;for(let r=0;r<d.length;r++)t=d[r],t.showGroup!==e&&(t.hide(),t.$emit("close-group"))}d.push(this),document.body.classList.add("v-popper--some-open");for(const e of se(this.theme))de(e).push(this),document.body.classList.add(`v-popper--some-open--${e}`);this.$emit("apply-show"),this.classes.showFrom=!0,this.classes.showTo=!1,this.classes.hideFrom=!1,this.classes.hideTo=!1,yield W(),this.classes.showFrom=!1,this.classes.showTo=!0,this.noAutoFocus||this.$_popperNode.focus()}))},$_applyHide(e=!1){return Yt(this,null,(function*(){if(this.shownChildren.size>0)return this.$_pendingHide=!0,void(this.$_hideInProgress=!1);if(clearTimeout(this.$_scheduleTimer),!this.isShown)return;this.skipTransition=e,pe(d,this),0===d.length&&document.body.classList.remove("v-popper--some-open");for(const e of se(this.theme)){const t=de(e);pe(t,this),0===t.length&&document.body.classList.remove(`v-popper--some-open--${e}`)}g===this&&(g=null),this.isShown=!1,this.$_applyAttrsToTarget({"aria-describedby":void 0,"data-popper-shown":void 0}),clearTimeout(this.$_disposeTimer);const t=this.disposeTimeout;null!==t&&(this.$_disposeTimer=setTimeout((()=>{this.$_popperNode&&(this.$_detachPopperNode(),this.isMounted=!1)}),t)),this.$_removeEventListeners("scroll"),this.$emit("apply-hide"),this.classes.showFrom=!1,this.classes.showTo=!1,this.classes.hideFrom=!0,this.classes.hideTo=!1,yield W(),this.classes.hideFrom=!1,this.classes.hideTo=!0}))},$_autoShowHide(){this.shown?this.show():this.hide()},$_ensureTeleport(){if(this.$_isDisposed)return;let e=this.container;if("string"==typeof e?e=window.document.querySelector(e):!1===e&&(e=this.$_targetNodes[0].parentNode),!e)throw new Error("No container for popover: "+this.container);e.appendChild(this.$_popperNode),this.isMounted=!0},$_addEventListeners(){const e=e=>{this.isShown&&!this.$_hideInProgress||(e.usedByTooltip=!0,!this.$_preventShow&&this.show({event:e}))};this.$_registerTriggerListeners(this.$_targetNodes,ne,this.triggers,this.showTriggers,e),this.$_registerTriggerListeners([this.$_popperNode],ne,this.popperTriggers,this.popperShowTriggers,e);const t=e=>{e.usedByTooltip||this.hide({event:e})};this.$_registerTriggerListeners(this.$_targetNodes,re,this.triggers,this.hideTriggers,t),this.$_registerTriggerListeners([this.$_popperNode],re,this.popperTriggers,this.popperHideTriggers,t)},$_registerEventListeners(e,t,r){this.$_events.push({targetNodes:e,eventType:t,handler:r}),e.forEach((e=>e.addEventListener(t,r,w?{passive:!0}:void 0)))},$_registerTriggerListeners(e,t,r,i,n){let s=r;null!=i&&(s="function"==typeof i?i(s):i),s.forEach((r=>{const i=t[r];i&&this.$_registerEventListeners(e,i,n)}))},$_removeEventListeners(e){const t=[];this.$_events.forEach((r=>{const{targetNodes:i,eventType:n,handler:s}=r;e&&e!==n?t.push(r):i.forEach((e=>e.removeEventListener(n,s)))})),this.$_events=t},$_refreshListeners(){this.$_isDisposed||(this.$_removeEventListeners(),this.$_addEventListeners())},$_handleGlobalClose(e,t=!1){this.$_showFrameLocked||(this.hide({event:e}),e.closePopover?this.$emit("close-directive"):this.$emit("auto-hide"),t&&(this.$_preventShow=!0,setTimeout((()=>{this.$_preventShow=!1}),300)))},$_detachPopperNode(){this.$_popperNode.parentNode&&this.$_popperNode.parentNode.removeChild(this.$_popperNode)},$_swapTargetAttrs(e,t){for(const r of this.$_targetNodes){const i=r.getAttribute(e);i&&(r.removeAttribute(e),r.setAttribute(t,i))}},$_applyAttrsToTarget(e){for(const t of this.$_targetNodes)for(const r in e){const i=e[r];null==i?t.removeAttribute(r):t.setAttribute(r,i)}},$_updateParentShownChildren(e){let t=this.parentPopper;for(;t;)e?t.shownChildren.add(this.randomId):(t.shownChildren.delete(this.randomId),t.$_pendingHide&&t.hide()),t=t.parentPopper},$_isAimingPopper(){const e=this.$_referenceNode.getBoundingClientRect();if(y>=e.left&&y<=e.right&&_>=e.top&&_<=e.bottom){const e=this.$_popperNode.getBoundingClientRect(),t=y-c,r=_-m,i=e.left+e.width/2-c+(e.top+e.height/2)-m+e.width+e.height,n=c+t*i,s=m+r*i;return C(c,m,n,s,e.left,e.top,e.left,e.bottom)||C(c,m,n,s,e.left,e.top,e.right,e.top)||C(c,m,n,s,e.right,e.top,e.right,e.bottom)||C(c,m,n,s,e.left,e.bottom,e.right,e.bottom)}return!1}},render(){return this.$slots.default(this.slotData)}});function le(e){for(let t=0;t<d.length;t++){const r=d[t];try{const t=r.popperNode();r.$_mouseDownContains=t.contains(e.target)}catch(e){}}}function Qe(e){ye(e)}function Ze(e){ye(e,!0)}function ye(e,t=!1){const r={};for(let i=d.length-1;i>=0;i--){const n=d[i];try{const i=n.$_containsGlobalTarget=et(n,e);n.$_pendingHide=!1,requestAnimationFrame((()=>{if(n.$_pendingHide=!1,!r[n.randomId]&&he(n,i,e)){if(n.$_handleGlobalClose(e,t),!e.closeAllPopover&&e.closePopover&&i){let e=n.parentPopper;for(;e;)r[e.randomId]=!0,e=e.parentPopper;return}let s=n.parentPopper;for(;s&&he(s,s.$_containsGlobalTarget,e);)s.$_handleGlobalClose(e,t),s=s.parentPopper}}))}catch(e){}}}function et(e,t){const r=e.popperNode();return e.$_mouseDownContains||r.contains(t.target)}function he(e,t,r){return r.closeAllPopover||r.closePopover&&t||tt(e,r)&&!t}function tt(e,t){if("function"==typeof e.autoHide){const r=e.autoHide(t);return e.lastAutoHide=r,r}return e.autoHide}function ot(e){for(let t=0;t<d.length;t++)d[t].$_computePosition(e)}typeof document<"u"&&typeof window<"u"&&(we?(document.addEventListener("touchstart",le,!w||{passive:!0,capture:!0}),document.addEventListener("touchend",Ze,!w||{passive:!0,capture:!0})):(window.addEventListener("mousedown",le,!0),window.addEventListener("click",Qe,!0)),window.addEventListener("resize",ot));let c=0,m=0,y=0,_=0;function C(e,t,r,i,n,s,o,a){const l=((o-n)*(t-s)-(a-s)*(e-n))/((a-s)*(r-e)-(o-n)*(i-t)),h=((r-e)*(t-s)-(i-t)*(e-n))/((a-s)*(r-e)-(o-n)*(i-t));return l>=0&&l<=1&&h>=0&&h<=1}typeof window<"u"&&window.addEventListener("mousemove",(e=>{c=y,m=_,y=e.clientX,_=e.clientY}),w?{passive:!0}:void 0);const it={extends:K()},M=(e,t)=>{const r=e.__vccOpts||e;for(const[e,i]of t)r[e]=i;return r};function st(e,t,r,i,n,s){return Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",{ref:"reference",class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)(["v-popper",{"v-popper--shown":e.slotData.isShown}])},[Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots,"default",Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeProps)(Object(vue__WEBPACK_IMPORTED_MODULE_0__.guardReactiveProps)(e.slotData)))],2)}const nt=M(it,[["render",st]]);function rt(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var i=e.indexOf("Edge/");return i>0?parseInt(e.substring(i+5,e.indexOf(".",i)),10):-1}let z;function U(){U.init||(U.init=!0,z=-1!==rt())}var B={name:"ResizeObserver",props:{emitOnMount:{type:Boolean,default:!1},ignoreWidth:{type:Boolean,default:!1},ignoreHeight:{type:Boolean,default:!1}},emits:["notify"],mounted(){U(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.nextTick)((()=>{this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitOnMount&&this.emitSize()}));const e=document.createElement("object");this._resizeObject=e,e.setAttribute("aria-hidden","true"),e.setAttribute("tabindex",-1),e.onload=this.addResizeHandlers,e.type="text/html",z&&this.$el.appendChild(e),e.data="about:blank",z||this.$el.appendChild(e)},beforeUnmount(){this.removeResizeHandlers()},methods:{compareAndNotify(){(!this.ignoreWidth&&this._w!==this.$el.offsetWidth||!this.ignoreHeight&&this._h!==this.$el.offsetHeight)&&(this._w=this.$el.offsetWidth,this._h=this.$el.offsetHeight,this.emitSize())},emitSize(){this.$emit("notify",{width:this._w,height:this._h})},addResizeHandlers(){this._resizeObject.contentDocument.defaultView.addEventListener("resize",this.compareAndNotify),this.compareAndNotify()},removeResizeHandlers(){this._resizeObject&&this._resizeObject.onload&&(!z&&this._resizeObject.contentDocument&&this._resizeObject.contentDocument.defaultView.removeEventListener("resize",this.compareAndNotify),this.$el.removeChild(this._resizeObject),this._resizeObject.onload=null,this._resizeObject=null)}}};const pt=Object(vue__WEBPACK_IMPORTED_MODULE_0__.withScopeId)("data-v-b329ee4c");Object(vue__WEBPACK_IMPORTED_MODULE_0__.pushScopeId)("data-v-b329ee4c");const at={class:"resize-observer",tabindex:"-1"};Object(vue__WEBPACK_IMPORTED_MODULE_0__.popScopeId)();const dt=pt(((e,t,r,i,n,s)=>(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)("div",at))));B.render=dt,B.__scopeId="data-v-b329ee4c",B.__file="src/components/ResizeObserver.vue";const J=(e="theme")=>({computed:{themeClass(){return Je(this[e])}}}),lt=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({name:"VPopperContent",components:{ResizeObserver:B},mixins:[J()],props:{popperId:String,theme:String,shown:Boolean,mounted:Boolean,skipTransition:Boolean,autoHide:Boolean,handleResize:Boolean,classes:Object,result:Object},emits:["hide","resize"],methods:{toPx:e=>null==e||isNaN(e)?null:`${e}px`}}),ht=["id","aria-hidden","tabindex","data-popper-placement"],ut={ref:"inner",class:"v-popper__inner"},ft=Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{class:"v-popper__arrow-outer"},null,-1),ct=Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{class:"v-popper__arrow-inner"},null,-1),mt=[ft,ct];function gt(e,t,r,i,n,s){const o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)("ResizeObserver");return Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",{id:e.popperId,ref:"popover",class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)(["v-popper__popper",[e.themeClass,e.classes.popperClass,{"v-popper__popper--shown":e.shown,"v-popper__popper--hidden":!e.shown,"v-popper__popper--show-from":e.classes.showFrom,"v-popper__popper--show-to":e.classes.showTo,"v-popper__popper--hide-from":e.classes.hideFrom,"v-popper__popper--hide-to":e.classes.hideTo,"v-popper__popper--skip-transition":e.skipTransition,"v-popper__popper--arrow-overflow":e.result&&e.result.arrow.overflow,"v-popper__popper--no-positioning":!e.result}]]),style:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)(e.result?{position:e.result.strategy,transform:`translate3d(${Math.round(e.result.x)}px,${Math.round(e.result.y)}px,0)`}:void 0),"aria-hidden":e.shown?"false":"true",tabindex:e.autoHide?0:void 0,"data-popper-placement":e.result?e.result.placement:void 0,onKeyup:t[2]||(t[2]=Object(vue__WEBPACK_IMPORTED_MODULE_0__.withKeys)((t=>e.autoHide&&e.$emit("hide")),["esc"]))},[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{class:"v-popper__backdrop",onClick:t[0]||(t[0]=t=>e.autoHide&&e.$emit("hide"))}),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{class:"v-popper__wrapper",style:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)(e.result?{transformOrigin:e.result.transformOrigin}:void 0)},[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",ut,[e.mounted?(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)(vue__WEBPACK_IMPORTED_MODULE_0__.Fragment,{key:0},[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",null,[Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots,"default")]),e.handleResize?(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(o,{key:0,onNotify:t[1]||(t[1]=t=>e.$emit("resize",t))})):Object(vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)("",!0)],64)):Object(vue__WEBPACK_IMPORTED_MODULE_0__.createCommentVNode)("",!0)],512),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementVNode)("div",{ref:"arrow",class:"v-popper__arrow-container",style:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeStyle)(e.result?{left:e.toPx(e.result.arrow.x),top:e.toPx(e.result.arrow.y)}:void 0)},mt,4)],4)],46,ht)}const Q=M(lt,[["render",gt]]),Z={methods:{show(...e){return this.$refs.popper.show(...e)},hide(...e){return this.$refs.popper.hide(...e)},dispose(...e){return this.$refs.popper.dispose(...e)},onResize(...e){return this.$refs.popper.onResize(...e)}}},$t=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({name:"VPopperWrapper",components:{Popper:nt,PopperContent:Q},mixins:[Z,J("finalTheme")],props:{theme:{type:String,default:null},referenceNode:{type:Function,default:null},shown:{type:Boolean,default:!1},showGroup:{type:String,default:null},ariaId:{default:null},disabled:{type:Boolean,default:void 0},positioningDisabled:{type:Boolean,default:void 0},placement:{type:String,default:void 0},delay:{type:[String,Number,Object],default:void 0},distance:{type:[Number,String],default:void 0},skidding:{type:[Number,String],default:void 0},triggers:{type:Array,default:void 0},showTriggers:{type:[Array,Function],default:void 0},hideTriggers:{type:[Array,Function],default:void 0},popperTriggers:{type:Array,default:void 0},popperShowTriggers:{type:[Array,Function],default:void 0},popperHideTriggers:{type:[Array,Function],default:void 0},container:{type:[String,Object,Element,Boolean],default:void 0},boundary:{type:[String,Element],default:void 0},strategy:{type:String,default:void 0},autoHide:{type:[Boolean,Function],default:void 0},handleResize:{type:Boolean,default:void 0},instantMove:{type:Boolean,default:void 0},eagerMount:{type:Boolean,default:void 0},popperClass:{type:[String,Array,Object],default:void 0},computeTransformOrigin:{type:Boolean,default:void 0},autoMinSize:{type:Boolean,default:void 0},autoSize:{type:[Boolean,String],default:void 0},autoMaxSize:{type:Boolean,default:void 0},autoBoundaryMaxSize:{type:Boolean,default:void 0},preventOverflow:{type:Boolean,default:void 0},overflowPadding:{type:[Number,String],default:void 0},arrowPadding:{type:[Number,String],default:void 0},arrowOverflow:{type:Boolean,default:void 0},flip:{type:Boolean,default:void 0},shift:{type:Boolean,default:void 0},shiftCrossAxis:{type:Boolean,default:void 0},noAutoFocus:{type:Boolean,default:void 0},disposeTimeout:{type:Number,default:void 0}},emits:{show:()=>!0,hide:()=>!0,"update:shown":e=>!0,"apply-show":()=>!0,"apply-hide":()=>!0,"close-group":()=>!0,"close-directive":()=>!0,"auto-hide":()=>!0,resize:()=>!0},computed:{finalTheme(){var e;return null!=(e=this.theme)?e:this.$options.vPopperTheme}},methods:{getTargetNodes(){return Array.from(this.$el.children).filter((e=>e!==this.$refs.popperContent.$el))}}});function wt(e,t,r,i,n,s){const o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)("PopperContent"),a=Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)("Popper");return Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(a,Object(vue__WEBPACK_IMPORTED_MODULE_0__.mergeProps)({ref:"popper"},e.$props,{theme:e.finalTheme,"target-nodes":e.getTargetNodes,"popper-node":()=>e.$refs.popperContent.$el,class:[e.themeClass],onShow:t[0]||(t[0]=()=>e.$emit("show")),onHide:t[1]||(t[1]=()=>e.$emit("hide")),"onUpdate:shown":t[2]||(t[2]=t=>e.$emit("update:shown",t)),onApplyShow:t[3]||(t[3]=()=>e.$emit("apply-show")),onApplyHide:t[4]||(t[4]=()=>e.$emit("apply-hide")),onCloseGroup:t[5]||(t[5]=()=>e.$emit("close-group")),onCloseDirective:t[6]||(t[6]=()=>e.$emit("close-directive")),onAutoHide:t[7]||(t[7]=()=>e.$emit("auto-hide")),onResize:t[8]||(t[8]=()=>e.$emit("resize"))}),{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((({popperId:t,isShown:r,shouldMountContent:i,skipTransition:n,autoHide:s,show:a,hide:l,handleResize:h,onResize:c,classes:u,result:d})=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots,"default",{shown:r,show:a,hide:l}),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(o,{ref:"popperContent","popper-id":t,theme:e.finalTheme,shown:r,mounted:i,"skip-transition":n,"auto-hide":s,"handle-resize":h,classes:u,result:d,onHide:l,onResize:c},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.renderSlot)(e.$slots,"popper",{shown:r,hide:l})])),_:2},1032,["popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])])),_:3},16,["theme","target-nodes","popper-node","class"])}const k=M($t,[["render",wt]]),_e=nr(Vt({},k),{name:"VDropdown",vPopperTheme:"dropdown"}),Te=nr(Vt({},k),{name:"VMenu",vPopperTheme:"menu"}),Pe=nr(Vt({},k),{name:"VTooltip",vPopperTheme:"tooltip"}),vt=Object(vue__WEBPACK_IMPORTED_MODULE_0__.defineComponent)({name:"VTooltipDirective",components:{Popper:K(),PopperContent:Q},mixins:[Z],inheritAttrs:!1,props:{theme:{type:String,default:"tooltip"},html:{type:Boolean,default:e=>S(e.theme,"html")},content:{type:[String,Number,Function],default:null},loadingContent:{type:String,default:e=>S(e.theme,"loadingContent")},targetNodes:{type:Function,required:!0}},data:()=>({asyncContent:null}),computed:{isContentAsync(){return"function"==typeof this.content},loading(){return this.isContentAsync&&null==this.asyncContent},finalContent(){return this.isContentAsync?this.loading?this.loadingContent:this.asyncContent:this.content}},watch:{content:{handler(){this.fetchContent(!0)},immediate:!0},finalContent(){return Yt(this,null,(function*(){yield this.$nextTick(),this.$refs.popper.onResize()}))}},created(){this.$_fetchId=0},methods:{fetchContent(e){if("function"==typeof this.content&&this.$_isShown&&(e||!this.$_loading&&null==this.asyncContent)){this.asyncContent=null,this.$_loading=!0;const e=++this.$_fetchId,t=this.content(this);t.then?t.then((t=>this.onResult(e,t))):this.onResult(e,t)}},onResult(e,t){e===this.$_fetchId&&(this.$_loading=!1,this.asyncContent=t)},onShow(){this.$_isShown=!0,this.fetchContent()},onHide(){this.$_isShown=!1}}}),yt=["innerHTML"],_t=["textContent"];function Tt(e,t,r,i,n,s){const o=Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)("PopperContent"),a=Object(vue__WEBPACK_IMPORTED_MODULE_0__.resolveComponent)("Popper");return Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createBlock)(a,Object(vue__WEBPACK_IMPORTED_MODULE_0__.mergeProps)({ref:"popper"},e.$attrs,{theme:e.theme,"target-nodes":e.targetNodes,"popper-node":()=>e.$refs.popperContent.$el,onApplyShow:e.onShow,onApplyHide:e.onHide}),{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((({popperId:t,isShown:r,shouldMountContent:i,skipTransition:n,autoHide:s,hide:a,handleResize:l,onResize:h,classes:c,result:u})=>[Object(vue__WEBPACK_IMPORTED_MODULE_0__.createVNode)(o,{ref:"popperContent",class:Object(vue__WEBPACK_IMPORTED_MODULE_0__.normalizeClass)({"v-popper--tooltip-loading":e.loading}),"popper-id":t,theme:e.theme,shown:r,mounted:i,"skip-transition":n,"auto-hide":s,"handle-resize":l,classes:c,result:u,onHide:a,onResize:h},{default:Object(vue__WEBPACK_IMPORTED_MODULE_0__.withCtx)((()=>[e.html?(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",{key:0,innerHTML:e.finalContent},null,8,yt)):(Object(vue__WEBPACK_IMPORTED_MODULE_0__.openBlock)(),Object(vue__WEBPACK_IMPORTED_MODULE_0__.createElementBlock)("div",{key:1,textContent:Object(vue__WEBPACK_IMPORTED_MODULE_0__.toDisplayString)(e.finalContent)},null,8,_t))])),_:2},1032,["class","popper-id","theme","shown","mounted","skip-transition","auto-hide","handle-resize","classes","result","onHide","onResize"])])),_:1},16,["theme","target-nodes","popper-node","onApplyShow","onApplyHide"])}const Se=M(vt,[["render",Tt]]),be="v-popper--has-tooltip";function Pt(e,t){let r=e.placement;if(!r&&t)for(const e of ve)t[e]&&(r=e);return r||(r=S(e.theme||"tooltip","placement")),r}function Ce(e,t,r){let i;const n=typeof t;return i="string"===n?{content:t}:t&&"object"===n?t:{content:!1},i.placement=Pt(i,r),i.targetNodes=()=>[e],i.referenceNode=()=>e,i}let q,b,St=0;function bt(){if(q)return;b=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)([]),q=Object(vue__WEBPACK_IMPORTED_MODULE_0__.createApp)({name:"VTooltipDirectiveApp",setup:()=>({directives:b}),render(){return this.directives.map((e=>Object(vue__WEBPACK_IMPORTED_MODULE_0__.h)(Se,nr(Vt({},e.options),{shown:e.shown||e.options.shown,key:e.id}))))},devtools:{hide:!0}});const e=document.createElement("div");document.body.appendChild(e),q.mount(e)}function Ct(e,t,r){bt();const i=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(Ce(e,t,r)),n=Object(vue__WEBPACK_IMPORTED_MODULE_0__.ref)(!1),s={id:St++,options:i,shown:n};return b.value.push(s),e.classList&&e.classList.add(be),e.$_popper={options:i,item:s,show(){n.value=!0},hide(){n.value=!1}}}function ze(e){if(e.$_popper){const t=b.value.indexOf(e.$_popper.item);-1!==t&&b.value.splice(t,1),delete e.$_popper,delete e.$_popperOldShown,delete e.$_popperMountTarget}e.classList&&e.classList.remove(be)}function ue(e,{value:t,modifiers:r}){const i=Ce(e,t,r);if(!i.content||S(i.theme||"tooltip","disabled"))ze(e);else{let n;e.$_popper?(n=e.$_popper,n.options.value=i):n=Ct(e,t,r),typeof t.shown<"u"&&t.shown!==e.$_popperOldShown&&(e.$_popperOldShown=t.shown,t.shown?n.show():n.hide())}}const ee={beforeMount:ue,updated:ue,beforeUnmount(e){ze(e)}};function fe(e){e.addEventListener("click",Ae),e.addEventListener("touchstart",Ne,!!w&&{passive:!0})}function ce(e){e.removeEventListener("click",Ae),e.removeEventListener("touchstart",Ne),e.removeEventListener("touchend",He),e.removeEventListener("touchcancel",Oe)}function Ae(e){const t=e.currentTarget;e.closePopover=!t.$_vclosepopover_touch,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}function Ne(e){if(1===e.changedTouches.length){const t=e.currentTarget;t.$_vclosepopover_touch=!0;const r=e.changedTouches[0];t.$_vclosepopover_touchPoint=r,t.addEventListener("touchend",He),t.addEventListener("touchcancel",Oe)}}function He(e){const t=e.currentTarget;if(t.$_vclosepopover_touch=!1,1===e.changedTouches.length){const r=e.changedTouches[0],i=t.$_vclosepopover_touchPoint;e.closePopover=Math.abs(r.screenY-i.screenY)<20&&Math.abs(r.screenX-i.screenX)<20,e.closeAllPopover=t.$_closePopoverModifiers&&!!t.$_closePopoverModifiers.all}}function Oe(e){e.currentTarget.$_vclosepopover_touch=!1}const te={beforeMount(e,{value:t,modifiers:r}){e.$_closePopoverModifiers=r,(typeof t>"u"||t)&&fe(e)},updated(e,{value:t,oldValue:r,modifiers:i}){e.$_closePopoverModifiers=i,t!==r&&(typeof t>"u"||t?fe(e):ce(e))},beforeUnmount(e){ce(e)}};function zt(e,t={}){e.$_vTooltipInstalled||(e.$_vTooltipInstalled=!0,$e(u,t),e.directive("tooltip",ee),e.directive("close-popper",te),e.component("VTooltip",Pe),e.component("VDropdown",_e),e.component("VMenu",Te))}const qt={version:"2.0.0",install:zt,options:u},createPlugin=e=>{const t=createPinia();return reporting.enabled=(null==e?void 0:e.isReportingEnabled)||IS_REPORTING_ENABLED_DEFAULT_VALUE,{install(e){e.use(t),e.use(VueQueryPlugin),e.use(qt)}}}}).call(this,__webpack_require__(1970).setImmediate,__webpack_require__(133),__webpack_require__(368),__webpack_require__(541).Buffer)}}]);
//# sourceMappingURL=chunk-vendors~7b3c9d15.8c8a3551fe5eacff86d6.js.map